(function(e){"use strict";var t=function(e){if(!("default"in e))return e;var t=e.default;if(typeof t==="object"||typeof t==="function"){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&o!=="default"&&(t[o]=e[o])}return t};var o=function(){var o={};var r={exports:o};(function e(t,n){if(typeof o==="object"&&typeof r==="object")r.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else if(typeof o==="object")o["layoutBase"]=n();else t["layoutBase"]=n()})(this,function(){return function(e){var t={};function o(r){if(t[r]){return t[r].exports}var n=t[r]={i:r,l:!1,exports:{}};e[r].call(n.exports,n,n.exports,o);n.l=!0;return n.exports}o.m=e;o.c=t;o.i=function(e){return e};o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})};o.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};o.d(t,"a",t);return t};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";return o(o.s=26)}([function(e,t,o){"use strict";function r(){}r.QUALITY=1;r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1;r.DEFAULT_INCREMENTAL=!1;r.DEFAULT_ANIMATION_ON_LAYOUT=!0;r.DEFAULT_ANIMATION_DURING_LAYOUT=!1;r.DEFAULT_ANIMATION_PERIOD=50;r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1;r.DEFAULT_GRAPH_MARGIN=15;r.NODE_DIMENSIONS_INCLUDE_LABELS=!1;r.SIMPLE_NODE_SIZE=40;r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2;r.EMPTY_COMPOUND_NODE_SIZE=40;r.MIN_EDGE_LENGTH=1;r.WORLD_BOUNDARY=1e6;r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3;r.WORLD_CENTER_X=1200;r.WORLD_CENTER_Y=900;e.exports=r},function(e,t,o){"use strict";var r=o(2);var n=o(8);var i=o(9);function a(e,t,o){r.call(this,o);this.isOverlapingSourceAndTarget=!1;this.vGraphObject=o;this.bendpoints=[];this.source=e;this.target=t}a.prototype=Object.create(r.prototype);for(var s in r){a[s]=r[s]}a.prototype.getSource=function(){return this.source};a.prototype.getTarget=function(){return this.target};a.prototype.isInterGraph=function(){return this.isInterGraph};a.prototype.getLength=function(){return this.length};a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget};a.prototype.getBendpoints=function(){return this.bendpoints};a.prototype.getLca=function(){return this.lca};a.prototype.getSourceInLca=function(){return this.sourceInLca};a.prototype.getTargetInLca=function(){return this.targetInLca};a.prototype.getOtherEnd=function(e){if(this.source===e){return this.target}else if(this.target===e){return this.source}else{throw"Node is not incident with this edge"}};a.prototype.getOtherEndInGraph=function(e,t){var o=this.getOtherEnd(e);var r=t.getGraphManager().getRoot();while(!0){if(o.getOwner()==t){return o}if(o.getOwner()==r){break}o=o.getOwner().getParent()}return null};a.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=n.getIntersection(this.target.getRect(),this.source.getRect(),e);if(!this.isOverlapingSourceAndTarget){this.lengthX=e[0]-e[2];this.lengthY=e[1]-e[3];Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX));Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}};a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX();this.lengthY=this.target.getCenterY()-this.source.getCenterY();Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX));Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)};e.exports=a},function(e,t,o){"use strict";function r(e){this.vGraphObject=e}e.exports=r},function(e,t,o){"use strict";var r=o(2);var n=o(10);var i=o(13);var a=o(0);var s=o(16);var d=o(4);function h(e,t,o,a){o==null&&a==null&&(a=t);r.call(this,a);e.graphManager!=null&&(e=e.graphManager);this.estimatedSize=n.MIN_VALUE;this.inclusionTreeDepth=n.MAX_VALUE;this.vGraphObject=a;this.edges=[];this.graphManager=e;if(o!=null&&t!=null)this.rect=new i(t.x,t.y,o.width,o.height);else this.rect=new i}h.prototype=Object.create(r.prototype);for(var u in r){h[u]=r[u]}h.prototype.getEdges=function(){return this.edges};h.prototype.getChild=function(){return this.child};h.prototype.getOwner=function(){return this.owner};h.prototype.getWidth=function(){return this.rect.width};h.prototype.setWidth=function(e){this.rect.width=e};h.prototype.getHeight=function(){return this.rect.height};h.prototype.setHeight=function(e){this.rect.height=e};h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2};h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2};h.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)};h.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)};h.prototype.getRect=function(){return this.rect};h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)};h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2};h.prototype.setRect=function(e,t){this.rect.x=e.x;this.rect.y=e.y;this.rect.width=t.width;this.rect.height=t.height};h.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2;this.rect.y=t-this.rect.height/2};h.prototype.setLocation=function(e,t){this.rect.x=e;this.rect.y=t};h.prototype.moveBy=function(e,t){this.rect.x+=e;this.rect.y+=t};h.prototype.getEdgeListToNode=function(e){var t=[];var o=this;o.edges.forEach(function(r){if(r.target==e){if(r.source!=o)throw"Incorrect edge source!";t.push(r)}});return t};h.prototype.getEdgesBetween=function(e){var t=[];var o=this;o.edges.forEach(function(r){if(!(r.source==o||r.target==o))throw"Incorrect edge source and/or target";(r.target==e||r.source==e)&&t.push(r)});return t};h.prototype.getNeighborsList=function(){var e=new Set;var t=this;t.edges.forEach(function(o){if(o.source==t){e.add(o.target)}else{if(o.target!=t){throw"Incorrect incidency!"}e.add(o.source)}});return e};h.prototype.withChildren=function(){var e=new Set;var t;var o;e.add(this);if(this.child!=null){var r=this.child.getNodes();for(var n=0;n<r.length;n++){t=r[n];o=t.withChildren();o.forEach(function(t){e.add(t)})}}return e};h.prototype.getNoOfChildren=function(){var e=0;var t;if(this.child==null){e=1}else{var o=this.child.getNodes();for(var r=0;r<o.length;r++){t=o[r];e+=t.getNoOfChildren()}}e==0&&(e=1);return e};h.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE){throw"assert failed"}return this.estimatedSize};h.prototype.calcEstimatedSize=function(){if(this.child==null){return this.estimatedSize=(this.rect.width+this.rect.height)/2}else{this.estimatedSize=this.child.calcEstimatedSize();this.rect.width=this.estimatedSize;this.rect.height=this.estimatedSize;return this.estimatedSize}};h.prototype.scatter=function(){var e;var t;var o=-a.INITIAL_WORLD_BOUNDARY;var r=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_X+s.nextDouble()*(r-o)+o;var n=-a.INITIAL_WORLD_BOUNDARY;var i=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_Y+s.nextDouble()*(i-n)+n;this.rect.x=e;this.rect.y=t};h.prototype.updateBounds=function(){if(this.getChild()==null){throw"assert failed"}if(this.getChild().getNodes().length!=0){var e=this.getChild();e.updateBounds(!0);this.rect.x=e.getLeft();this.rect.y=e.getTop();this.setWidth(e.getRight()-e.getLeft());this.setHeight(e.getBottom()-e.getTop());if(a.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),o=e.getBottom()-e.getTop();if(this.labelWidth>t){this.rect.x-=(this.labelWidth-t)/2;this.setWidth(this.labelWidth)}if(this.labelHeight>o){if(this.labelPos=="center"){this.rect.y-=(this.labelHeight-o)/2}else this.labelPos=="top"&&(this.rect.y-=this.labelHeight-o);this.setHeight(this.labelHeight)}}}};h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==n.MAX_VALUE){throw"assert failed"}return this.inclusionTreeDepth};h.prototype.transform=function(e){var t=this.rect.x;if(t>a.WORLD_BOUNDARY){t=a.WORLD_BOUNDARY}else t<-a.WORLD_BOUNDARY&&(t=-a.WORLD_BOUNDARY);var o=this.rect.y;if(o>a.WORLD_BOUNDARY){o=a.WORLD_BOUNDARY}else o<-a.WORLD_BOUNDARY&&(o=-a.WORLD_BOUNDARY);var r=new d(t,o);var n=e.inverseTransformPoint(r);this.setLocation(n.x,n.y)};h.prototype.getLeft=function(){return this.rect.x};h.prototype.getRight=function(){return this.rect.x+this.rect.width};h.prototype.getTop=function(){return this.rect.y};h.prototype.getBottom=function(){return this.rect.y+this.rect.height};h.prototype.getParent=function(){if(this.owner==null){return null}return this.owner.getParent()};e.exports=h},function(e,t,o){"use strict";function r(e,t){if(e==null&&t==null){this.x=0;this.y=0}else{this.x=e;this.y=t}}r.prototype.getX=function(){return this.x};r.prototype.getY=function(){return this.y};r.prototype.setX=function(e){this.x=e};r.prototype.setY=function(e){this.y=e};r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)};r.prototype.getCopy=function(){return new r(this.x,this.y)};r.prototype.translate=function(e){this.x+=e.width;this.y+=e.height;return this};e.exports=r},function(t,o,r){"use strict";var n=r(2);var i=r(10);var a=r(0);var s=r(6);var d=r(3);var h=r(1);var u=r(13);var l=r(12);var p=r(11);function g(e,t,o){n.call(this,o);this.estimatedSize=i.MIN_VALUE;this.margin=a.DEFAULT_GRAPH_MARGIN;this.edges=[];this.nodes=[];this.isConnected=!1;this.parent=e;if(t!=null&&t instanceof s){this.graphManager=t}else t!=null&&t instanceof Layout&&(this.graphManager=t.graphManager)}g.prototype=Object.create(n.prototype);for(var c in n){g[c]=n[c]}g.prototype.getNodes=function(){return this.nodes};g.prototype.getEdges=function(){return this.edges};g.prototype.getGraphManager=function(){return this.graphManager};g.prototype.getParent=function(){return this.parent};g.prototype.getLeft=function(){return this.left};g.prototype.getRight=function(){return this.right};g.prototype.getTop=function(){return this.top};g.prototype.getBottom=function(){return this.bottom};g.prototype.isConnected=function(){return this.isConnected};g.prototype.add=function(e,t,o){if(t==null&&o==null){var r=e;if(this.graphManager==null){throw"Graph has no graph mgr!"}if(this.getNodes().indexOf(r)>-1){throw"Node already in graph!"}r.owner=this;this.getNodes().push(r);return r}else{var n=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(o)>-1)){throw"Source or target not in graph!"}if(!(t.owner==o.owner&&t.owner==this)){throw"Both owners must be this graph!"}if(t.owner!=o.owner){return null}n.source=t;n.target=o;n.isInterGraph=!1;this.getEdges().push(n);t.edges.push(n);o!=t&&o.edges.push(n);return n}};g.prototype.remove=function(e){if(e instanceof d){if(e==null){throw"Node is null!"}if(!(e.owner!=null&&e.owner==this)){throw"Owner graph is invalid!"}if(this.graphManager==null){throw"Owner graph manager is invalid!"}var t=e.edges.slice(),o,r=t.length;for(var n=0;n<r;n++){o=t[n];if(o.isInterGraph){this.graphManager.remove(o)}else{o.source.owner.remove(o)}}var i=this.nodes.indexOf(e);if(i==-1){throw"Node not in owner node list!"}this.nodes.splice(i,1)}else if(e instanceof h){var o=e;if(o==null){throw"Edge is null!"}if(!(o.source!=null&&o.target!=null)){throw"Source and/or target is null!"}if(!(o.source.owner!=null&&o.target.owner!=null&&o.source.owner==this&&o.target.owner==this)){throw"Source and/or target owner is invalid!"}var a=o.source.edges.indexOf(o),s=o.target.edges.indexOf(o);if(!(a>-1&&s>-1)){throw"Source and/or target doesn't know this edge!"}o.source.edges.splice(a,1);o.target!=o.source&&o.target.edges.splice(s,1);var i=o.source.owner.getEdges().indexOf(o);if(i==-1){throw"Not in owner's edge list!"}o.source.owner.getEdges().splice(i,1)}};g.prototype.updateLeftTop=function(){var t=i.MAX_VALUE;var o=i.MAX_VALUE;var r;var n;var a;var s=this.getNodes();var d=s.length;for(var h=0;h<d;h++){var u=s[h];r=u.getTop();n=u.getLeft();t>r&&(t=r);o>n&&(o=n)}if(t==i.MAX_VALUE){return null}if(s[0].getParent().paddingLeft!=e){a=s[0].getParent().paddingLeft}else{a=this.margin}this.left=o-a;this.top=t-a;return new l(this.left,this.top)};g.prototype.updateBounds=function(t){var o=i.MAX_VALUE;var r=-i.MAX_VALUE;var n=i.MAX_VALUE;var a=-i.MAX_VALUE;var s;var d;var h;var l;var p;var g=this.nodes;var c=g.length;for(var f=0;f<c;f++){var _=g[f];t&&_.child!=null&&_.updateBounds();s=_.getLeft();d=_.getRight();h=_.getTop();l=_.getBottom();o>s&&(o=s);r<d&&(r=d);n>h&&(n=h);a<l&&(a=l)}var y=new u(o,n,r-o,a-n);if(o==i.MAX_VALUE){this.left=this.parent.getLeft();this.right=this.parent.getRight();this.top=this.parent.getTop();this.bottom=this.parent.getBottom()}if(g[0].getParent().paddingLeft!=e){p=g[0].getParent().paddingLeft}else{p=this.margin}this.left=y.x-p;this.right=y.x+y.width+p;this.top=y.y-p;this.bottom=y.y+y.height+p};g.calculateBounds=function(e){var t=i.MAX_VALUE;var o=-i.MAX_VALUE;var r=i.MAX_VALUE;var n=-i.MAX_VALUE;var a;var s;var d;var h;var l=e.length;for(var p=0;p<l;p++){var g=e[p];a=g.getLeft();s=g.getRight();d=g.getTop();h=g.getBottom();t>a&&(t=a);o<s&&(o=s);r>d&&(r=d);n<h&&(n=h)}var c=new u(t,r,o-t,n-r);return c};g.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot()){return 1}else{return this.parent.getInclusionTreeDepth()}};g.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE){throw"assert failed"}return this.estimatedSize};g.prototype.calcEstimatedSize=function(){var e=0;var t=this.nodes;var o=t.length;for(var r=0;r<o;r++){var n=t[r];e+=n.calcEstimatedSize()}if(e==0){this.estimatedSize=a.EMPTY_COMPOUND_NODE_SIZE}else{this.estimatedSize=e/Math.sqrt(this.nodes.length)}return this.estimatedSize};g.prototype.updateConnected=function(){var e=this;if(this.nodes.length==0){this.isConnected=!0;return}var t=new p;var o=new Set;var r=this.nodes[0];var n;var i;var a=r.withChildren();a.forEach(function(e){t.push(e);o.add(e)});while(t.length!==0){r=t.shift();n=r.getEdges();var s=n.length;for(var d=0;d<s;d++){var h=n[d];i=h.getOtherEndInGraph(r,this);if(i!=null&&!o.has(i)){var u=i.withChildren();u.forEach(function(e){t.push(e);o.add(e)})}}}this.isConnected=!1;if(o.size>=this.nodes.length){var l=0;o.forEach(function(t){t.owner==e&&l++});l==this.nodes.length&&(this.isConnected=!0)}};t.exports=g},function(e,t,o){"use strict";var r;var n=o(1);function i(e){r=o(5);this.layout=e;this.graphs=[];this.edges=[]}i.prototype.addRoot=function(){var e=this.layout.newGraph();var t=this.layout.newNode(null);var o=this.add(e,t);this.setRootGraph(o);return this.rootGraph};i.prototype.add=function(e,t,o,r,n){if(o==null&&r==null&&n==null){if(e==null){throw"Graph is null!"}if(t==null){throw"Parent node is null!"}if(this.graphs.indexOf(e)>-1){throw"Graph already in this graph mgr!"}this.graphs.push(e);if(e.parent!=null){throw"Already has a parent!"}if(t.child!=null){throw"Already has a child!"}e.parent=t;t.child=e;return e}else{n=o;r=t;o=e;var i=r.getOwner(),a=n.getOwner();if(!(i!=null&&i.getGraphManager()==this)){throw"Source not in this graph mgr!"}if(!(a!=null&&a.getGraphManager()==this)){throw"Target not in this graph mgr!"}if(i==a){o.isInterGraph=!1;return i.add(o,r,n)}else{o.isInterGraph=!0;o.source=r;o.target=n;if(this.edges.indexOf(o)>-1){throw"Edge already in inter-graph edge list!"}this.edges.push(o);if(!(o.source!=null&&o.target!=null)){throw"Edge source and/or target is null!"}if(!(o.source.edges.indexOf(o)==-1&&o.target.edges.indexOf(o)==-1)){throw"Edge already in source and/or target incidency list!"}o.source.edges.push(o);o.target.edges.push(o);return o}}};i.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this){throw"Graph not in this graph mgr"}if(!(t==this.rootGraph||t.parent!=null&&t.parent.graphManager==this)){throw"Invalid parent node!"}var o=[];o=o.concat(t.getEdges());var i,a=o.length;for(var s=0;s<a;s++){i=o[s];t.remove(i)}var d=[];d=d.concat(t.getNodes());var h;a=d.length;for(var s=0;s<a;s++){h=d[s];t.remove(h)}t==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(t);this.graphs.splice(u,1);t.parent=null}else if(e instanceof n){i=e;if(i==null){throw"Edge is null!"}if(!i.isInterGraph){throw"Not an inter-graph edge!"}if(!(i.source!=null&&i.target!=null)){throw"Source and/or target is null!"}if(!(i.source.edges.indexOf(i)!=-1&&i.target.edges.indexOf(i)!=-1)){throw"Source and/or target doesn't know this edge!"}var u=i.source.edges.indexOf(i);i.source.edges.splice(u,1);u=i.target.edges.indexOf(i);i.target.edges.splice(u,1);if(!(i.source.owner!=null&&i.source.owner.getGraphManager()!=null)){throw"Edge owner graph or owner graph manager is null!"}if(i.source.owner.getGraphManager().edges.indexOf(i)==-1){throw"Not in owner graph manager's edge list!"}var u=i.source.owner.getGraphManager().edges.indexOf(i);i.source.owner.getGraphManager().edges.splice(u,1)}};i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)};i.prototype.getGraphs=function(){return this.graphs};i.prototype.getAllNodes=function(){if(this.allNodes==null){var e=[],t=this.getGraphs(),o=t.length;for(var r=0;r<o;r++){e=e.concat(t[r].getNodes())}this.allNodes=e}return this.allNodes};i.prototype.resetAllNodes=function(){this.allNodes=null};i.prototype.resetAllEdges=function(){this.allEdges=null};i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null};i.prototype.getAllEdges=function(){if(this.allEdges==null){var e=[],t=this.getGraphs(),o=t.length;for(var r=0;r<t.length;r++){e=e.concat(t[r].getEdges())}e=e.concat(this.edges);this.allEdges=e}return this.allEdges};i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation};i.prototype.setAllNodesToApplyGravitation=function(e){if(this.allNodesToApplyGravitation!=null){throw"assert failed"}this.allNodesToApplyGravitation=e};i.prototype.getRoot=function(){return this.rootGraph};i.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this){throw"Root not in this graph mgr!"}this.rootGraph=e;e.parent==null&&(e.parent=this.layout.newNode("Root node"))};i.prototype.getLayout=function(){return this.layout};i.prototype.isOneAncestorOfOther=function(e,t){if(!(e!=null&&t!=null)){throw"assert failed"}if(e==t){return!0}var o=e.getOwner();var r;do{r=o.getParent();if(r==null){break}if(r==t){return!0}o=r.getOwner();if(o==null){break}}while(!0);o=t.getOwner();do{r=o.getParent();if(r==null){break}if(r==e){return!0}o=r.getOwner();if(o==null){break}}while(!0);return!1};i.prototype.calcLowestCommonAncestors=function(){var e;var t;var o;var r;var n;var i=this.getAllEdges();var a=i.length;for(var s=0;s<a;s++){e=i[s];t=e.source;o=e.target;e.lca=null;e.sourceInLca=t;e.targetInLca=o;if(t==o){e.lca=t.getOwner();continue}r=t.getOwner();while(e.lca==null){e.targetInLca=o;n=o.getOwner();while(e.lca==null){if(n==r){e.lca=n;break}if(n==this.rootGraph){break}if(e.lca!=null){throw"assert failed"}e.targetInLca=n.getParent();n=e.targetInLca.getOwner()}if(r==this.rootGraph){break}if(e.lca==null){e.sourceInLca=r.getParent();r=e.sourceInLca.getOwner()}}if(e.lca==null){throw"assert failed"}}};i.prototype.calcLowestCommonAncestor=function(e,t){if(e==t){return e.getOwner()}var o=e.getOwner();do{if(o==null){break}var r=t.getOwner();do{if(r==null){break}if(r==o){return r}r=r.getParent().getOwner()}while(!0);o=o.getParent().getOwner()}while(!0);return o};i.prototype.calcInclusionTreeDepths=function(e,t){if(e==null&&t==null){e=this.rootGraph;t=1}var o;var r=e.getNodes();var n=r.length;for(var i=0;i<n;i++){o=r[i];o.inclusionTreeDepth=t;o.child!=null&&this.calcInclusionTreeDepths(o.child,t+1)}};i.prototype.includesInvalidEdge=function(){var e;var t=this.edges.length;for(var o=0;o<t;o++){e=this.edges[o];if(this.isOneAncestorOfOther(e.source,e.target)){return!0}}return!1};e.exports=i},function(e,t,o){"use strict";var r=o(0);function n(){}for(var i in r){n[i]=r[i]}n.MAX_ITERATIONS=2500;n.DEFAULT_EDGE_LENGTH=50;n.DEFAULT_SPRING_STRENGTH=.45;n.DEFAULT_REPULSION_STRENGTH=4500;n.DEFAULT_GRAVITY_STRENGTH=.4;n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1;n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8;n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5;n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0;n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0;n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3;n.COOLING_ADAPTATION_FACTOR=.33;n.ADAPTATION_LOWER_NODE_LIMIT=1e3;n.ADAPTATION_UPPER_NODE_LIMIT=5e3;n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100;n.MAX_NODE_DISPLACEMENT=n.MAX_NODE_DISPLACEMENT_INCREMENTAL*3;n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10;n.CONVERGENCE_CHECK_PERIOD=100;n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1;n.MIN_EDGE_LENGTH=1;n.GRID_CALCULATION_CHECK_PERIOD=10;e.exports=n},function(e,t,o){"use strict";var r=o(12);function n(){}n.calcSeparationAmount=function(e,t,o,r){if(!e.intersects(t)){throw"assert failed"}var n=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,n);o[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x);o[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y);if(e.getX()<=t.getX()&&e.getRight()>=t.getRight()){o[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())}else t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(o[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()));if(e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()){o[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom())}else t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(o[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var i=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(i=1);var a=i*o[0];var s=o[1]/i;if(o[0]<s){s=o[0]}else{a=o[1]}o[0]=-1*n[0]*(s/2+r);o[1]=-1*n[1]*(a/2+r)};n.decideDirectionsForOverlappingNodes=function(e,t,o){if(e.getCenterX()<t.getCenterX()){o[0]=-1}else{o[0]=1}if(e.getCenterY()<t.getCenterY()){o[1]=-1}else{o[1]=1}};n.getIntersection2=function(e,t,o){var r=e.getCenterX();var n=e.getCenterY();var i=t.getCenterX();var a=t.getCenterY();if(e.intersects(t)){o[0]=r;o[1]=n;o[2]=i;o[3]=a;return!0}var s=e.getX();var d=e.getY();var h=e.getRight();var u=e.getX();var l=e.getBottom();var p=e.getRight();var g=e.getWidthHalf();var c=e.getHeightHalf();var f=t.getX();var _=t.getY();var y=t.getRight();var m=t.getX();var v=t.getBottom();var L=t.getRight();var N=t.getWidthHalf();var E=t.getHeightHalf();var C=!1;var A=!1;if(r===i){if(n>a){o[0]=r;o[1]=d;o[2]=i;o[3]=v;return!1}else if(n<a){o[0]=r;o[1]=l;o[2]=i;o[3]=_;return!1}else{}}else if(n===a){if(r>i){o[0]=s;o[1]=n;o[2]=y;o[3]=a;return!1}else if(r<i){o[0]=h;o[1]=n;o[2]=f;o[3]=a;return!1}else{}}else{var w=e.height/e.width,D=t.height/t.width,x=(a-n)/(i-r),b=void 0,T=void 0,G=void 0,I=void 0,O=void 0,F=void 0;if(-w===x){if(r>i){o[0]=u;o[1]=l;C=!0}else{o[0]=h;o[1]=d;C=!0}}else if(w===x){if(r>i){o[0]=s;o[1]=d;C=!0}else{o[0]=p;o[1]=l;C=!0}}if(-D===x){if(i>r){o[2]=m;o[3]=v;A=!0}else{o[2]=y;o[3]=_;A=!0}}else if(D===x){if(i>r){o[2]=f;o[3]=_;A=!0}else{o[2]=L;o[3]=v;A=!0}}if(C&&A){return!1}if(r>i){if(n>a){b=this.getCardinalDirection(w,x,4);T=this.getCardinalDirection(D,x,2)}else{b=this.getCardinalDirection(-w,x,3);T=this.getCardinalDirection(-D,x,1)}}else{if(n>a){b=this.getCardinalDirection(-w,x,1);T=this.getCardinalDirection(-D,x,3)}else{b=this.getCardinalDirection(w,x,2);T=this.getCardinalDirection(D,x,4)}}if(!C){switch(b){case 1:I=d;G=r+-c/x;o[0]=G;o[1]=I;break;case 2:G=p;I=n+g*x;o[0]=G;o[1]=I;break;case 3:I=l;G=r+c/x;o[0]=G;o[1]=I;break;case 4:G=u;I=n+-g*x;o[0]=G;o[1]=I;break}}if(!A){switch(T){case 1:F=_;O=i+-E/x;o[2]=O;o[3]=F;break;case 2:O=L;F=a+N*x;o[2]=O;o[3]=F;break;case 3:F=v;O=i+E/x;o[2]=O;o[3]=F;break;case 4:O=m;F=a+-N*x;o[2]=O;o[3]=F;break}}}return!1};n.getCardinalDirection=function(e,t,o){if(e>t){return o}else{return 1+o%4}};n.getIntersection=function(e,t,o,n){if(n==null){return this.getIntersection2(e,t,o)}var i=e.x;var a=e.y;var s=t.x;var d=t.y;var h=o.x;var u=o.y;var l=n.x;var p=n.y;var g=void 0,c=void 0;var f=void 0,_=void 0,y=void 0,m=void 0,v=void 0,L=void 0;var N=void 0;f=d-a;y=i-s;v=s*a-i*d;_=p-u;m=h-l;L=l*u-h*p;N=f*m-_*y;if(N===0){return null}g=(y*L-m*v)/N;c=(_*v-f*L)/N;return new r(g,c)};n.angleOfVector=function(e,t,o,r){var n=void 0;if(e!==o){n=Math.atan((r-t)/(o-e));if(o<e){n+=Math.PI}else r<t&&(n+=this.TWO_PI)}else if(r<t){n=this.ONE_AND_HALF_PI}else{n=this.HALF_PI}return n};n.doIntersect=function(e,t,o,r){var n=e.x;var i=e.y;var a=t.x;var s=t.y;var d=o.x;var h=o.y;var u=r.x;var l=r.y;var p=(a-n)*(l-h)-(u-d)*(s-i);if(p===0){return!1}else{var g=((l-h)*(u-n)+(d-u)*(l-i))/p,c=((i-s)*(u-n)+(a-n)*(l-i))/p;return 0<g&&g<1&&0<c&&c<1}};n.HALF_PI=.5*Math.PI;n.ONE_AND_HALF_PI=1.5*Math.PI;n.TWO_PI=2*Math.PI;n.THREE_PI=3*Math.PI;e.exports=n},function(e,t,o){"use strict";function r(){}r.sign=function(e){if(e>0){return 1}else if(e<0){return-1}else{return 0}};r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)};r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)};e.exports=r},function(e,t,o){"use strict";function r(){}r.MAX_VALUE=2147483647;r.MIN_VALUE=-2147483648;e.exports=r},function(e,t,o){"use strict";var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,o,r){o&&e(t.prototype,o);r&&e(t,r);return t}}();function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t){return{value:t,next:null,prev:null}};var a=function e(t,o,r,n){if(t!==null){t.next=o}else{n.head=o}if(r!==null){r.prev=o}else{n.tail=o}o.prev=t;o.next=r;n.length++;return o};var s=function e(t,o){var r=t.prev,n=t.next;if(r!==null){r.next=n}else{o.head=n}if(n!==null){n.prev=r}else{o.tail=r}t.prev=t.next=null;o.length--;return t};var d=function(){function e(t){var o=this;n(this,e);this.length=0;this.head=null;this.tail=null;t!=null&&t.forEach(function(e){return o.push(e)})}r(e,[{key:"size",value:function e(){return this.length}},{key:"insertBefore",value:function e(t,o){return a(o.prev,i(t),o,this)}},{key:"insertAfter",value:function e(t,o){return a(o,i(t),o.next,this)}},{key:"insertNodeBefore",value:function e(t,o){return a(o.prev,t,o,this)}},{key:"insertNodeAfter",value:function e(t,o){return a(o,t,o.next,this)}},{key:"push",value:function e(t){return a(this.tail,i(t),null,this)}},{key:"unshift",value:function e(t){return a(null,i(t),this.head,this)}},{key:"remove",value:function e(t){return s(t,this)}},{key:"pop",value:function e(){return s(this.tail,this).value}},{key:"popNode",value:function e(){return s(this.tail,this)}},{key:"shift",value:function e(){return s(this.head,this).value}},{key:"shiftNode",value:function e(){return s(this.head,this)}},{key:"get_object_at",value:function e(t){if(t<=this.length()){var o=1,r=this.head;while(o<t){r=r.next;o++}return r.value}}},{key:"set_object_at",value:function e(t,o){if(t<=this.length()){var r=1,n=this.head;while(r<t){n=n.next;r++}n.value=o}}}]);return e}();e.exports=d},function(e,t,o){"use strict";function r(e,t,o){this.x=null;this.y=null;if(e==null&&t==null&&o==null){this.x=0;this.y=0}else if(typeof e=="number"&&typeof t=="number"&&o==null){this.x=e;this.y=t}else if(e.constructor.name=="Point"&&t==null&&o==null){o=e;this.x=o.x;this.y=o.y}}r.prototype.getX=function(){return this.x};r.prototype.getY=function(){return this.y};r.prototype.getLocation=function(){return new r(this.x,this.y)};r.prototype.setLocation=function(e,t,o){if(e.constructor.name=="Point"&&t==null&&o==null){o=e;this.setLocation(o.x,o.y)}else if(typeof e=="number"&&typeof t=="number"&&o==null){if(parseInt(e)==e&&parseInt(t)==t){this.move(e,t)}else{this.x=Math.floor(e+.5);this.y=Math.floor(t+.5)}}};r.prototype.move=function(e,t){this.x=e;this.y=t};r.prototype.translate=function(e,t){this.x+=e;this.y+=t};r.prototype.equals=function(e){if(e.constructor.name=="Point"){var t=e;return this.x==t.x&&this.y==t.y}return this==e};r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"};e.exports=r},function(e,t,o){"use strict";function r(e,t,o,r){this.x=0;this.y=0;this.width=0;this.height=0;if(e!=null&&t!=null&&o!=null&&r!=null){this.x=e;this.y=t;this.width=o;this.height=r}}r.prototype.getX=function(){return this.x};r.prototype.setX=function(e){this.x=e};r.prototype.getY=function(){return this.y};r.prototype.setY=function(e){this.y=e};r.prototype.getWidth=function(){return this.width};r.prototype.setWidth=function(e){this.width=e};r.prototype.getHeight=function(){return this.height};r.prototype.setHeight=function(e){this.height=e};r.prototype.getRight=function(){return this.x+this.width};r.prototype.getBottom=function(){return this.y+this.height};r.prototype.intersects=function(e){if(this.getRight()<e.x){return!1}if(this.getBottom()<e.y){return!1}if(e.getRight()<this.x){return!1}if(e.getBottom()<this.y){return!1}return!0};r.prototype.getCenterX=function(){return this.x+this.width/2};r.prototype.getMinX=function(){return this.getX()};r.prototype.getMaxX=function(){return this.getX()+this.width};r.prototype.getCenterY=function(){return this.y+this.height/2};r.prototype.getMinY=function(){return this.getY()};r.prototype.getMaxY=function(){return this.getY()+this.height};r.prototype.getWidthHalf=function(){return this.width/2};r.prototype.getHeightHalf=function(){return this.height/2};e.exports=r},function(e,t,o){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(){}n.lastID=0;n.createID=function(e){if(n.isPrimitive(e)){return e}if(e.uniqueID!=null){return e.uniqueID}e.uniqueID=n.getString();n.lastID++;return e.uniqueID};n.getString=function(e){e==null&&(e=n.lastID);return"Object#"+e+""};n.isPrimitive=function(e){var t=typeof e==="undefined"?"undefined":r(e);return e==null||t!="object"&&t!="function"};e.exports=n},function(t,o,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var i=r(0);var a=r(6);var s=r(3);var d=r(1);var h=r(5);var u=r(4);var l=r(17);var p=r(27);function g(e){p.call(this);this.layoutQuality=i.QUALITY;this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED;this.incremental=i.DEFAULT_INCREMENTAL;this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT;this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD;this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES;this.edgeToDummyNodes=new Map;this.graphManager=new a(this);this.isLayoutFinished=!1;this.isSubLayout=!1;this.isRemoteUse=!1;e!=null&&(this.isRemoteUse=e)}g.RANDOM_SEED=1;g.prototype=Object.create(p.prototype);g.prototype.getGraphManager=function(){return this.graphManager};g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()};g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()};g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()};g.prototype.newGraphManager=function(){var e=new a(this);this.graphManager=e;return e};g.prototype.newGraph=function(e){return new h(null,this.graphManager,e)};g.prototype.newNode=function(e){return new s(this.graphManager,e)};g.prototype.newEdge=function(e){return new d(null,null,e)};g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()};g.prototype.runLayout=function(){this.isLayoutFinished=!1;this.tilingPreLayout&&this.tilingPreLayout();this.initParameters();var e;if(this.checkLayoutSuccess()){e=!1}else{e=this.layout()}if(i.ANIMATE==="during"){return!1}e&&(this.isSubLayout||this.doPostLayout());this.tilingPostLayout&&this.tilingPostLayout();this.isLayoutFinished=!0;return e};g.prototype.doPostLayout=function(){this.incremental||this.transform();this.update()};g.prototype.update2=function(){if(this.createBendsAsNeeded){this.createBendpointsFromDummyNodes()
this.graphManager.resetAllEdges()}if(!this.isRemoteUse){var e=this.graphManager.getAllEdges();for(var t=0;t<e.length;t++){e[t]}var o=this.graphManager.getRoot().getNodes();for(var t=0;t<o.length;t++){o[t]}this.update(this.graphManager.getRoot())}};g.prototype.update=function(e){if(e==null){this.update2()}else if(e instanceof s){var t=e;if(t.getChild()!=null){var o=t.getChild().getNodes();for(var r=0;r<o.length;r++){update(o[r])}}if(t.vGraphObject!=null){var n=t.vGraphObject;n.update(t)}}else if(e instanceof d){var i=e;if(i.vGraphObject!=null){var a=i.vGraphObject;a.update(i)}}else if(e instanceof h){var u=e;if(u.vGraphObject!=null){var l=u.vGraphObject;l.update(u)}}};g.prototype.initParameters=function(){if(!this.isSubLayout){this.layoutQuality=i.QUALITY;this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD;this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT;this.incremental=i.DEFAULT_INCREMENTAL;this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED;this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES}this.animationDuringLayout&&(this.animationOnLayout=!1)};g.prototype.transform=function(t){if(t==e){this.transform(new u(0,0))}else{var o=new l,r=this.graphManager.getRoot().updateLeftTop();if(r!=null){o.setWorldOrgX(t.x);o.setWorldOrgY(t.y);o.setDeviceOrgX(r.x);o.setDeviceOrgY(r.y);var n=this.getAllNodes(),i;for(var a=0;a<n.length;a++){i=n[a];i.transform(o)}}}};g.prototype.positionNodesRandomly=function(t){if(t==e){this.positionNodesRandomly(this.getGraphManager().getRoot());this.getGraphManager().getRoot().updateBounds(!0)}else{var o,r,n=t.getNodes();for(var i=0;i<n.length;i++){o=n[i];r=o.getChild();if(r==null){o.scatter()}else if(r.getNodes().length==0){o.scatter()}else{this.positionNodesRandomly(r);o.updateBounds()}}}};g.prototype.getFlatForest=function(){var e=[];var t=!0;var o=this.graphManager.getRoot().getNodes();var r=!0;for(var i=0;i<o.length;i++){o[i].getChild()!=null&&(r=!1)}if(!r){return e}var a=new Set;var s=[];var d=new Map;var h=[];h=h.concat(o);while(h.length>0&&t){s.push(h[0]);while(s.length>0&&t){var u=s[0];s.splice(0,1);a.add(u);var l=u.getEdges();for(var i=0;i<l.length;i++){var p=l[i].getOtherEnd(u);if(d.get(u)!=p){if(!a.has(p)){s.push(p);d.set(p,u)}else{t=!1;break}}}}if(!t){e=[]}else{var g=[].concat(n(a));e.push(g);for(var i=0;i<g.length;i++){var c=g[i],f=h.indexOf(c);f>-1&&h.splice(f,1)}a=new Set;d=new Map}}return e};g.prototype.createDummyNodesForBendpoints=function(e){var t=[];var o=e.source;var r=this.graphManager.calcLowestCommonAncestor(e.source,e.target);for(var n=0;n<e.bendpoints.length;n++){var i=this.newNode(null);i.setRect(new Point(0,0),new Dimension(1,1));r.add(i);var a=this.newEdge(null);this.graphManager.add(a,o,i);t.add(i);o=i}var a=this.newEdge(null);this.graphManager.add(a,o,e.target);this.edgeToDummyNodes.set(e,t);if(e.isInterGraph()){this.graphManager.remove(e)}else{r.remove(e)}return t};g.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());e=[].concat(n(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var o=e[t];if(o.bendpoints.length>0){var r=this.edgeToDummyNodes.get(o);for(var i=0;i<r.length;i++){var a=r[i],s=new u(a.getCenterX(),a.getCenterY()),d=o.bendpoints.get(i);d.x=s.x;d.y=s.y;a.getOwner().remove(a)}this.graphManager.add(o,o.source,o.target)}}};g.transform=function(t,o,r,n){if(r!=e&&n!=e){var i=o;if(t<=50){var a=o/r;i-=(o-a)/50*(50-t)}else{var s=o*n;i+=(s-o)/50*(t-50)}return i}else{var d,h;if(t<=50){d=9*o/500;h=o/10}else{d=9*o/50;h=-8*o}return d*t+h}};g.findCenterOfTree=function(e){var t=[];t=t.concat(e);var o=[];var r=new Map;var n=!1;var i=null;if(t.length==1||t.length==2){n=!0;i=t[0]}for(var a=0;a<t.length;a++){var s=t[a],d=s.getNeighborsList().size;r.set(s,s.getNeighborsList().size);d==1&&o.push(s)}var h=[];h=h.concat(o);while(!n){var u=[];u=u.concat(h);h=[];for(var a=0;a<t.length;a++){var s=t[a],l=t.indexOf(s);l>=0&&t.splice(l,1);var p=s.getNeighborsList();p.forEach(function(e){if(o.indexOf(e)<0){var t=r.get(e),n=t-1;n==1&&h.push(e);r.set(e,n)}})}o=o.concat(h);if(t.length==1||t.length==2){n=!0;i=t[0]}}return i};g.prototype.setGraphManager=function(e){this.graphManager=e};t.exports=g},function(e,t,o){"use strict";function r(){}r.seed=1;r.x=0;r.nextDouble=function(){r.x=Math.sin(r.seed++)*1e4;return r.x-Math.floor(r.x)};e.exports=r},function(e,t,o){"use strict";var r=o(4);function n(e,t){this.lworldOrgX=0;this.lworldOrgY=0;this.ldeviceOrgX=0;this.ldeviceOrgY=0;this.lworldExtX=1;this.lworldExtY=1;this.ldeviceExtX=1;this.ldeviceExtY=1}n.prototype.getWorldOrgX=function(){return this.lworldOrgX};n.prototype.setWorldOrgX=function(e){this.lworldOrgX=e};n.prototype.getWorldOrgY=function(){return this.lworldOrgY};n.prototype.setWorldOrgY=function(e){this.lworldOrgY=e};n.prototype.getWorldExtX=function(){return this.lworldExtX};n.prototype.setWorldExtX=function(e){this.lworldExtX=e};n.prototype.getWorldExtY=function(){return this.lworldExtY};n.prototype.setWorldExtY=function(e){this.lworldExtY=e};n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX};n.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e};n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY};n.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e};n.prototype.getDeviceExtX=function(){return this.ldeviceExtX};n.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e};n.prototype.getDeviceExtY=function(){return this.ldeviceExtY};n.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e};n.prototype.transformX=function(e){var t=0;var o=this.lworldExtX;o!=0&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/o);return t};n.prototype.transformY=function(e){var t=0;var o=this.lworldExtY;o!=0&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/o);return t};n.prototype.inverseTransformX=function(e){var t=0;var o=this.ldeviceExtX;o!=0&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/o);return t};n.prototype.inverseTransformY=function(e){var t=0;var o=this.ldeviceExtY;o!=0&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/o);return t};n.prototype.inverseTransformPoint=function(e){var t=new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y));return t};e.exports=n},function(t,o,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var i=r(15);var a=r(7);var s=r(0);var d=r(8);var h=r(9);function u(){i.call(this);this.useSmartIdealEdgeLengthCalculation=a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.idealEdgeLength=a.DEFAULT_EDGE_LENGTH;this.springConstant=a.DEFAULT_SPRING_STRENGTH;this.repulsionConstant=a.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=a.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=a.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100;this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.initialCoolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.totalDisplacement=0;this.oldTotalDisplacement=0;this.maxIterations=a.MAX_ITERATIONS}u.prototype=Object.create(i.prototype);for(var l in i){u[l]=i[l]}u.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments);this.totalIterations=0;this.notAnimatedIterations=0;this.useFRGridVariant=a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;this.grid=[]};u.prototype.calcIdealEdgeLengths=function(){var e;var t;var o;var r;var n;var i;var d=this.getGraphManager().getAllEdges();for(var h=0;h<d.length;h++){e=d[h];e.idealLength=this.idealEdgeLength;if(e.isInterGraph){o=e.getSource();r=e.getTarget();n=e.getSourceInLca().getEstimatedSize();i=e.getTargetInLca().getEstimatedSize();this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=n+i-2*s.SIMPLE_NODE_SIZE);t=e.getLca().getInclusionTreeDepth();e.idealLength+=a.DEFAULT_EDGE_LENGTH*a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(o.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*t)}}};u.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;if(this.incremental){e>a.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*a.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-a.ADAPTATION_LOWER_NODE_LIMIT)/(a.ADAPTATION_UPPER_NODE_LIMIT-a.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-a.COOLING_ADAPTATION_FACTOR)));this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(e>a.ADAPTATION_LOWER_NODE_LIMIT){this.coolingFactor=Math.max(a.COOLING_ADAPTATION_FACTOR,1-(e-a.ADAPTATION_LOWER_NODE_LIMIT)/(a.ADAPTATION_UPPER_NODE_LIMIT-a.ADAPTATION_LOWER_NODE_LIMIT)*(1-a.COOLING_ADAPTATION_FACTOR))}else{this.coolingFactor=1}this.initialCoolingFactor=this.coolingFactor;this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations);this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length;this.repulsionRange=this.calcRepulsionRange()};u.prototype.calcSpringForces=function(){var e=this.getAllEdges();var t;for(var o=0;o<e.length;o++){t=e[o];this.calcSpringForce(t,t.idealLength)}};u.prototype.calcRepulsionForces=function(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:!0;var o=arguments.length>1&&arguments[1]!==e?arguments[1]:!1;var r,n;var i,s;var d=this.getAllNodes();var h;if(this.useFRGridVariant){this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&t&&this.updateGrid();h=new Set;for(r=0;r<d.length;r++){i=d[r];this.calculateRepulsionForceOfANode(i,h,t,o);h.add(i)}}else{for(r=0;r<d.length;r++){i=d[r];for(n=r+1;n<d.length;n++){s=d[n];if(i.getOwner()!=s.getOwner()){continue}this.calcRepulsionForce(i,s)}}}};u.prototype.calcGravitationalForces=function(){var e;var t=this.getAllNodesToApplyGravitation();for(var o=0;o<t.length;o++){e=t[o];this.calcGravitationalForce(e)}};u.prototype.moveNodes=function(){var e=this.getAllNodes();var t;for(var o=0;o<e.length;o++){t=e[o];t.move()}};u.prototype.calcSpringForce=function(e,t){var o=e.getSource();var r=e.getTarget();var n;var i;var a;var s;if(this.uniformLeafNodeSizes&&o.getChild()==null&&r.getChild()==null){e.updateLengthSimple()}else{e.updateLength();if(e.isOverlapingSourceAndTarget){return}}n=e.getLength();if(n==0)return;i=this.springConstant*(n-t);a=i*(e.lengthX/n);s=i*(e.lengthY/n);o.springForceX+=a;o.springForceY+=s;r.springForceX-=a;r.springForceY-=s};u.prototype.calcRepulsionForce=function(e,t){var o=e.getRect();var r=t.getRect();var n=new Array(2);var i=new Array(4);var s;var u;var l;var p;var g;var c;var f;if(o.intersects(r)){d.calcSeparationAmount(o,r,n,a.DEFAULT_EDGE_LENGTH/2);c=2*n[0];f=2*n[1];var _=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=_*c;e.repulsionForceY-=_*f;t.repulsionForceX+=_*c;t.repulsionForceY+=_*f}else{if(this.uniformLeafNodeSizes&&e.getChild()==null&&t.getChild()==null){s=r.getCenterX()-o.getCenterX();u=r.getCenterY()-o.getCenterY()}else{d.getIntersection(o,r,i);s=i[2]-i[0];u=i[3]-i[1]}Math.abs(s)<a.MIN_REPULSION_DIST&&(s=h.sign(s)*a.MIN_REPULSION_DIST);Math.abs(u)<a.MIN_REPULSION_DIST&&(u=h.sign(u)*a.MIN_REPULSION_DIST);l=s*s+u*u;p=Math.sqrt(l);g=this.repulsionConstant*e.noOfChildren*t.noOfChildren/l;c=g*s/p;f=g*u/p;e.repulsionForceX-=c;e.repulsionForceY-=f;t.repulsionForceX+=c;t.repulsionForceY+=f}};u.prototype.calcGravitationalForce=function(e){var t;var o;var r;var n;var i;var a;var s;var d;t=e.getOwner();o=(t.getRight()+t.getLeft())/2;r=(t.getTop()+t.getBottom())/2;n=e.getCenterX()-o;i=e.getCenterY()-r;a=Math.abs(n)+e.getWidth()/2;s=Math.abs(i)+e.getHeight()/2;if(e.getOwner()==this.graphManager.getRoot()){d=t.getEstimatedSize()*this.gravityRangeFactor;if(a>d||s>d){e.gravitationForceX=-this.gravityConstant*n;e.gravitationForceY=-this.gravityConstant*i}}else{d=t.getEstimatedSize()*this.compoundGravityRangeFactor;if(a>d||s>d){e.gravitationForceX=-this.gravityConstant*n*this.compoundGravityConstant;e.gravitationForceY=-this.gravityConstant*i*this.compoundGravityConstant}}};u.prototype.isConverged=function(){var e;var t=!1;this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2);e=this.totalDisplacement<this.totalDisplacementThreshold;this.oldTotalDisplacement=this.totalDisplacement;return e||t};u.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout){if(this.notAnimatedIterations==this.animationPeriod){this.update();this.notAnimatedIterations=0}else{this.notAnimatedIterations++}}};u.prototype.calcNoOfChildrenForAllNodes=function(){var e;var t=this.graphManager.getAllNodes();for(var o=0;o<t.length;o++){e=t[o];e.noOfChildren=e.getNoOfChildren()}};u.prototype.calcGrid=function(e){var t=0;var o=0;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange));o=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));var r=new Array(t);for(var n=0;n<t;n++){r[n]=new Array(o)}for(var n=0;n<t;n++){for(var i=0;i<o;i++){r[n][i]=new Array}}return r};u.prototype.addNodeToGrid=function(e,t,o){var r=0;var n=0;var i=0;var a=0;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange));n=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange));i=parseInt(Math.floor((e.getRect().y-o)/this.repulsionRange));a=parseInt(Math.floor((e.getRect().height+e.getRect().y-o)/this.repulsionRange));for(var s=r;s<=n;s++){for(var d=i;d<=a;d++){this.grid[s][d].push(e);e.setGridCoordinates(r,n,i,a)}}};u.prototype.updateGrid=function(){var e;var t;var o=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(e=0;e<o.length;e++){t=o[e];this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())}};u.prototype.calculateRepulsionForceOfANode=function(e,t,o,r){if(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&o||r){var i=new Set;e.surrounding=new Array;var s,d=this.grid;for(var h=e.startX-1;h<e.finishX+2;h++){for(var u=e.startY-1;u<e.finishY+2;u++){if(!(h<0||u<0||h>=d.length||u>=d[0].length)){for(var l=0;l<d[h][u].length;l++){s=d[h][u][l];if(e.getOwner()!=s.getOwner()||e==s){continue}if(!t.has(s)&&!i.has(s)){var p=Math.abs(e.getCenterX()-s.getCenterX())-(e.getWidth()/2+s.getWidth()/2),g=Math.abs(e.getCenterY()-s.getCenterY())-(e.getHeight()/2+s.getHeight()/2);p<=this.repulsionRange&&g<=this.repulsionRange&&i.add(s)}}}}}e.surrounding=[].concat(n(i))}for(h=0;h<e.surrounding.length;h++){this.calcRepulsionForce(e,e.surrounding[h])}};u.prototype.calcRepulsionRange=function(){return 0};t.exports=u},function(e,t,o){"use strict";var r=o(1);var n=o(7);function i(e,t,o){r.call(this,e,t,o);this.idealLength=n.DEFAULT_EDGE_LENGTH}i.prototype=Object.create(r.prototype);for(var a in r){i[a]=r[a]}e.exports=i},function(e,t,o){"use strict";var r=o(3);function n(e,t,o,n){r.call(this,e,t,o,n);this.springForceX=0;this.springForceY=0;this.repulsionForceX=0;this.repulsionForceY=0;this.gravitationForceX=0;this.gravitationForceY=0;this.displacementX=0;this.displacementY=0;this.startX=0;this.finishX=0;this.startY=0;this.finishY=0;this.surrounding=[]}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}n.prototype.setGridCoordinates=function(e,t,o,r){this.startX=e;this.finishX=t;this.startY=o;this.finishY=r};e.exports=n},function(e,t,o){"use strict";function r(e,t){this.width=0;this.height=0;if(e!==null&&t!==null){this.height=t;this.width=e}}r.prototype.getWidth=function(){return this.width};r.prototype.setWidth=function(e){this.width=e};r.prototype.getHeight=function(){return this.height};r.prototype.setHeight=function(e){this.height=e};e.exports=r},function(e,t,o){"use strict";var r=o(14);function n(){this.map={};this.keys=[]}n.prototype.put=function(e,t){var o=r.createID(e);if(!this.contains(o)){this.map[o]=t;this.keys.push(e)}};n.prototype.contains=function(e){r.createID(e);return this.map[e]!=null};n.prototype.get=function(e){var t=r.createID(e);return this.map[t]};n.prototype.keySet=function(){return this.keys};e.exports=n},function(e,t,o){"use strict";var r=o(14);function n(){this.set={}}n.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)};n.prototype.remove=function(e){delete this.set[r.createID(e)]};n.prototype.clear=function(){this.set={}};n.prototype.contains=function(e){return this.set[r.createID(e)]==e};n.prototype.isEmpty=function(){return this.size()===0};n.prototype.size=function(){return Object.keys(this.set).length};n.prototype.addAllTo=function(e){var t=Object.keys(this.set);var o=t.length;for(var r=0;r<o;r++){e.push(this.set[t[r]])}};n.prototype.size=function(){return Object.keys(this.set).length};n.prototype.addAll=function(e){var t=e.length;for(var o=0;o<t;o++){var r=e[o];this.add(r)}};e.exports=n},function(t,o,r){"use strict";var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,o,r){o&&e(t.prototype,o);r&&e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(11);var s=function(){function t(o,r){i(this,t);(r!==null||r!==e)&&(this.compareFunction=this._defaultCompareFunction);var n=void 0;if(o instanceof a)n=o.size();else n=o.length;this._quicksort(o,0,n-1)}n(t,[{key:"_quicksort",value:function e(t,o,r){if(o<r){var n=this._partition(t,o,r);this._quicksort(t,o,n);this._quicksort(t,n+1,r)}}},{key:"_partition",value:function e(t,o,r){var n=this._get(t,o);var i=o;var a=r;while(!0){while(this.compareFunction(n,this._get(t,a))){a--}while(this.compareFunction(this._get(t,i),n)){i++}if(i<a){this._swap(t,i,a);i++;a--}else return a}}},{key:"_get",value:function e(t,o){if(t instanceof a)return t.get_object_at(o);else return t[o]}},{key:"_set",value:function e(t,o,r){if(t instanceof a)t.set_object_at(o,r);else t[o]=r}},{key:"_swap",value:function e(t,o,r){var n=this._get(t,o);this._set(t,o,this._get(t,r));this._set(t,r,n)}},{key:"_defaultCompareFunction",value:function e(t,o){return o>t}}]);return t}();t.exports=s},function(t,o,r){"use strict";var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}return function(t,o,r){o&&e(t.prototype,o);r&&e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(o,r){var n=arguments.length>2&&arguments[2]!==e?arguments[2]:1;var a=arguments.length>3&&arguments[3]!==e?arguments[3]:-1;var s=arguments.length>4&&arguments[4]!==e?arguments[4]:-1;i(this,t);this.sequence1=o;this.sequence2=r;this.match_score=n;this.mismatch_penalty=a;this.gap_penalty=s;this.iMax=o.length+1;this.jMax=r.length+1;this.grid=new Array(this.iMax);for(var d=0;d<this.iMax;d++){this.grid[d]=new Array(this.jMax);for(var h=0;h<this.jMax;h++){this.grid[d][h]=0}}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var l=0;l<this.jMax;l++){this.tracebackGrid[u][l]=[null,null,null]}}this.alignments=[];this.score=-1;this.computeGrids()}n(t,[{key:"getScore",value:function e(){return this.score}},{key:"getAlignments",value:function e(){return this.alignments}},{key:"computeGrids",value:function e(){for(var t=1;t<this.jMax;t++){this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty;this.tracebackGrid[0][t]=[!1,!1,!0]}for(var o=1;o<this.iMax;o++){this.grid[o][0]=this.grid[o-1][0]+this.gap_penalty;this.tracebackGrid[o][0]=[!1,!0,!1]}for(var r=1;r<this.iMax;r++){for(var n=1;n<this.jMax;n++){var i=void 0;if(this.sequence1[r-1]===this.sequence2[n-1])i=this.grid[r-1][n-1]+this.match_score;else i=this.grid[r-1][n-1]+this.mismatch_penalty;var a=this.grid[r-1][n]+this.gap_penalty,s=this.grid[r][n-1]+this.gap_penalty,d=[i,a,s],h=this.arrayAllMaxIndexes(d);this.grid[r][n]=d[h[0]];this.tracebackGrid[r][n]=[h.includes(0),h.includes(1),h.includes(2)]}}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function e(){var t=[];t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(t[0]){var o=t[0],r=this.tracebackGrid[o.pos[0]][o.pos[1]];r[0]&&t.push({pos:[o.pos[0]-1,o.pos[1]-1],seq1:this.sequence1[o.pos[0]-1]+o.seq1,seq2:this.sequence2[o.pos[1]-1]+o.seq2});r[1]&&t.push({pos:[o.pos[0]-1,o.pos[1]],seq1:this.sequence1[o.pos[0]-1]+o.seq1,seq2:"-"+o.seq2});r[2]&&t.push({pos:[o.pos[0],o.pos[1]-1],seq1:"-"+o.seq1,seq2:this.sequence2[o.pos[1]-1]+o.seq2});o.pos[0]===0&&o.pos[1]===0&&this.alignments.push({sequence1:o.seq1,sequence2:o.seq2});t.shift()}return this.alignments}},{key:"getAllIndexes",value:function e(t,o){var r=[],n=-1;while((n=t.indexOf(o,n+1))!==-1){r.push(n)}return r}},{key:"arrayAllMaxIndexes",value:function e(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]);return t}();t.exports=a},function(e,t,o){"use strict";var r=function e(){return};r.FDLayout=o(18);r.FDLayoutConstants=o(7);r.FDLayoutEdge=o(19);r.FDLayoutNode=o(20);r.DimensionD=o(21);r.HashMap=o(22);r.HashSet=o(23);r.IGeometry=o(8);r.IMath=o(9);r.Integer=o(10);r.Point=o(12);r.PointD=o(4);r.RandomSeed=o(16);r.RectangleD=o(13);r.Transform=o(17);r.UniqueIDGeneretor=o(14);r.Quicksort=o(24);r.LinkedList=o(11);r.LGraphObject=o(2);r.LGraph=o(5);r.LEdge=o(1);r.LGraphManager=o(6);r.LNode=o(3);r.Layout=o(15);r.LayoutConstants=o(0);r.NeedlemanWunsch=o(25);e.exports=r},function(e,t,o){"use strict";function r(){this.listeners=[]}var n=r.prototype;n.addListener=function(e,t){this.listeners.push({event:e,callback:t})};n.removeListener=function(e,t){for(var o=this.listeners.length;o>=0;o--){var r=this.listeners[o];r.event===e&&r.callback===t&&this.listeners.splice(o,1)}};n.emit=function(e,t){for(var o=0;o<this.listeners.length;o++){var r=this.listeners[o];e===r.event&&r.callback(t)}};e.exports=r}])});return t(r.exports)}.call(window);(function(){var r={};var n={exports:r};(function e(t,i){if(typeof r==="object"&&typeof n==="object")n.exports=i(o);else if(typeof define==="function"&&define.amd)define(["layout-base"],i);else if(typeof r==="object")r["coseBase"]=i(o);else t["coseBase"]=i(t["layoutBase"])})(this,function(t){return function(e){var t={};function o(r){if(t[r]){return t[r].exports}var n=t[r]={i:r,l:!1,exports:{}};e[r].call(n.exports,n,n.exports,o);n.l=!0;return n.exports}o.m=e;o.c=t;o.i=function(e){return e};o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})};o.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};o.d(t,"a",t);return t};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";return o(o.s=7)}([function(e,o){e.exports=t},function(e,t,o){"use strict";var r=o(0).FDLayoutConstants;function n(){}for(var i in r){n[i]=r[i]}n.DEFAULT_USE_MULTI_LEVEL_SCALING=!1;n.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH;n.DEFAULT_COMPONENT_SEPERATION=60;n.TILE=!0;n.TILING_PADDING_VERTICAL=10;n.TILING_PADDING_HORIZONTAL=10;n.TREE_REDUCTION_ON_INCREMENTAL=!1;e.exports=n},function(e,t,o){"use strict";var r=o(0).FDLayoutEdge;function n(e,t,o){r.call(this,e,t,o)}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}e.exports=n},function(e,t,o){"use strict";var r=o(0).LGraph;function n(e,t,o){r.call(this,e,t,o)}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}e.exports=n},function(e,t,o){"use strict";var r=o(0).LGraphManager;function n(e){r.call(this,e)}n.prototype=Object.create(r.prototype);for(var i in r){n[i]=r[i]}e.exports=n},function(e,t,o){"use strict";var r=o(0).FDLayoutNode;var n=o(0).IMath;function i(e,t,o,n){r.call(this,e,t,o,n)}i.prototype=Object.create(r.prototype);for(var a in r){i[a]=r[a]}i.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren;this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren;Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*n.sign(this.displacementX));Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*n.sign(this.displacementY));if(this.child==null){this.moveBy(this.displacementX,this.displacementY)}else if(this.child.getNodes().length==0){this.moveBy(this.displacementX,this.displacementY)}else{this.propogateDisplacementToChildren(this.displacementX,this.displacementY)}e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.springForceX=0;this.springForceY=0;this.repulsionForceX=0;this.repulsionForceY=0;this.gravitationForceX=0;this.gravitationForceY=0;this.displacementX=0;this.displacementY=0};i.prototype.propogateDisplacementToChildren=function(e,t){var o=this.getChild().getNodes();var r;for(var n=0;n<o.length;n++){r=o[n];if(r.getChild()==null){r.moveBy(e,t);r.displacementX+=e;r.displacementY+=t}else{r.propogateDisplacementToChildren(e,t)}}};i.prototype.setPred1=function(e){this.pred1=e};i.prototype.getPred1=function(){return pred1};i.prototype.getPred2=function(){return pred2};i.prototype.setNext=function(e){this.next=e};i.prototype.getNext=function(){return next};i.prototype.setProcessed=function(e){this.processed=e};i.prototype.isProcessed=function(){return processed};e.exports=i},function(t,o,r){"use strict";var n=r(0).FDLayout;var i=r(4);var a=r(3);var s=r(5);var d=r(2);var h=r(1);var u=r(0).FDLayoutConstants;var l=r(0).LayoutConstants;var p=r(0).Point;var g=r(0).PointD;var c=r(0).Layout;var f=r(0).Integer;var _=r(0).IGeometry;var y=r(0).LGraph;var m=r(0).Transform;function v(){n.call(this);this.toBeTiled={}}v.prototype=Object.create(n.prototype);for(var L in n){v[L]=n[L]}v.prototype.newGraphManager=function(){var e=new i(this);this.graphManager=e;return e};v.prototype.newGraph=function(e){return new a(null,this.graphManager,e)};v.prototype.newNode=function(e){return new s(this.graphManager,e)};v.prototype.newEdge=function(e){return new d(null,null,e)};v.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments);if(!this.isSubLayout){if(h.DEFAULT_EDGE_LENGTH<10){this.idealEdgeLength=10}else{this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH}this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.springConstant=u.DEFAULT_SPRING_STRENGTH;this.repulsionConstant=u.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.prunedNodesAll=[];this.growTreeIterations=0;this.afterGrowthIterations=0;this.isTreeGrowing=!1;this.isGrowthFinished=!1;this.coolingCycle=0;this.maxCoolingCycle=this.maxIterations/u.CONVERGENCE_CHECK_PERIOD;this.finalTemperature=u.CONVERGENCE_CHECK_PERIOD/this.maxIterations;this.coolingAdjuster=1}};v.prototype.layout=function(){var e=l.DEFAULT_CREATE_BENDS_AS_NEEDED;if(e){this.createBendpoints();this.graphManager.resetAllEdges()}this.level=0;return this.classicLayout()};v.prototype.classicLayout=function(){this.nodesWithGravity=this.calculateNodesToApplyGravitationTo();this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity);this.calcNoOfChildrenForAllNodes();this.graphManager.calcLowestCommonAncestors();this.graphManager.calcInclusionTreeDepths();this.graphManager.getRoot().calcEstimatedSize();this.calcIdealEdgeLengths();if(!this.incremental){var e=this.getFlatForest();if(e.length>0){this.positionNodesRadially(e)}else{this.reduceTrees();this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),o=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(o);this.positionNodesRandomly()}}else{if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees();this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),o=this.nodesWithGravity.filter(function(e){return t.has(e)});this.graphManager.setAllNodesToApplyGravitation(o)}}this.initSpringEmbedder();this.runSpringEmbedder();return!0};v.prototype.tick=function(){this.totalIterations++;if(this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.prunedNodesAll.length>0){this.isTreeGrowing=!0}else{return!0}}if(this.totalIterations%u.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(this.prunedNodesAll.length>0){this.isTreeGrowing=!0}else{return!0}}this.coolingCycle++;if(this.layoutQuality==0){this.coolingAdjuster=this.coolingCycle}else this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3);this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature);this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0){if(this.prunedNodesAll.length>0){this.graphManager.updateBounds();this.updateGrid();this.growTree(this.prunedNodesAll);this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t);this.graphManager.updateBounds();this.updateGrid();this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL}else{this.isTreeGrowing=!1;this.isGrowthFinished=!0}}this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged()){return!0}if(this.afterGrowthIterations%10==0){this.graphManager.updateBounds();this.updateGrid()}this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100);this.afterGrowthIterations++}var o=!this.isTreeGrowing&&!this.isGrowthFinished;var r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;this.totalDisplacement=0;this.graphManager.updateBounds();this.calcSpringForces();this.calcRepulsionForces(o,r);this.calcGravitationalForces();this.moveNodes();this.animate();return!1};v.prototype.getPositionsData=function(){var e=this.graphManager.getAllNodes();var t={};for(var o=0;o<e.length;o++){var r=e[o].rect,n=e[o].id;t[n]={id:n,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t};v.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25;this.animationPeriod=this.initialAnimationPeriod;var e=!1;if(u.ANIMATE==="during"){this.emit("layoutstarted")}else{while(!e){e=this.tick()}this.graphManager.updateBounds()}};v.prototype.calculateNodesToApplyGravitationTo=function(){var e=[];var t;var o=this.graphManager.getGraphs();var r=o.length;var n;for(n=0;n<r;n++){t=o[n];t.updateConnected();t.isConnected||(e=e.concat(t.getNodes()))}return e};v.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t=new Set;var o;for(o=0;o<e.length;o++){var r=e[o];if(!t.has(r)){var n=r.getSource(),i=r.getTarget();if(n==i){r.getBendpoints().push(new g);r.getBendpoints().push(new g);this.createDummyNodesForBendpoints(r);t.add(r)}else{var a=[];a=a.concat(n.getEdgeListToNode(i));a=a.concat(i.getEdgeListToNode(n));if(!t.has(a[0])){if(a.length>1){var s;for(s=0;s<a.length;s++){var d=a[s];d.getBendpoints().push(new g);this.createDummyNodesForBendpoints(d)}}a.forEach(function(e){t.add(e)})}}}if(t.size==e.length){break}}};v.prototype.positionNodesRadially=function(e){var t=new p(0,0);var o=Math.ceil(Math.sqrt(e.length));var r=0;var n=0;var i=0;var a=new g(0,0);for(var s=0;s<e.length;s++){if(s%o==0){i=0;n=r;s!=0&&(n+=h.DEFAULT_COMPONENT_SEPERATION);r=0}var d=e[s],u=c.findCenterOfTree(d)
t.x=i;t.y=n;a=v.radialLayout(d,u,t);a.y>r&&(r=Math.floor(a.y));i=Math.floor(a.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new g(l.WORLD_CENTER_X-a.x/2,l.WORLD_CENTER_Y-a.y/2))};v.radialLayout=function(e,t,o){var r=Math.max(this.maxDiagonalInTree(e),h.DEFAULT_RADIAL_SEPARATION);v.branchRadialLayout(t,null,0,359,0,r);var n=y.calculateBounds(e);var i=new m;i.setDeviceOrgX(n.getMinX());i.setDeviceOrgY(n.getMinY());i.setWorldOrgX(o.x);i.setWorldOrgY(o.y);for(var a=0;a<e.length;a++){var s=e[a];s.transform(i)}var d=new g(n.getMaxX(),n.getMaxY());return i.inverseTransformPoint(d)};v.branchRadialLayout=function(e,t,o,r,n,i){var a=(r-o+1)/2;a<0&&(a+=180);var s=(a+o)%360;var d=s*_.TWO_PI/360;var h=n*Math.cos(d);var u=n*Math.sin(d);e.setCenter(h,u);var l=[];l=l.concat(e.getEdges());var p=l.length;t!=null&&p--;var g=0;var c=l.length;var f;var y=e.getEdgesBetween(t);while(y.length>1){var m=y[0];y.splice(0,1);var L=l.indexOf(m);L>=0&&l.splice(L,1);c--;p--}if(t!=null){f=(l.indexOf(y[0])+1)%c}else{f=0}var N=Math.abs(r-o)/p;for(var E=f;g!=p;E=++E%c){var C=l[E].getOtherEnd(e);if(C==t){continue}var A=(o+g*N)%360,w=(A+N)%360;v.branchRadialLayout(C,e,A,w,n+i,i);g++}};v.maxDiagonalInTree=function(e){var t=f.MIN_VALUE;for(var o=0;o<e.length;o++){var r=e[o],n=r.getDiagonal();n>t&&(t=n)}return t};v.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength};v.prototype.groupZeroDegreeMembers=function(){var t=this;var o={};this.memberGroups={};this.idToDummyNode={};var r=[];var n=this.graphManager.getAllNodes();for(var i=0;i<n.length;i++){var a=n[i],d=a.getParent();this.getNodeDegreeWithChildren(a)===0&&(d.id==e||!this.getToBeTiled(d))&&r.push(a)}for(var i=0;i<r.length;i++){var a=r[i],h=a.getParent().id;typeof o[h]==="undefined"&&(o[h]=[]);o[h]=o[h].concat(a)}Object.keys(o).forEach(function(e){if(o[e].length>1){var r="DummyCompound_"+e;t.memberGroups[r]=o[e];var n=o[e][0].getParent(),i=new s(t.graphManager);i.id=r;i.paddingLeft=n.paddingLeft||0;i.paddingRight=n.paddingRight||0;i.paddingBottom=n.paddingBottom||0;i.paddingTop=n.paddingTop||0;t.idToDummyNode[r]=i;var a=t.getGraphManager().add(t.newGraph(),i),d=n.getChild();d.add(i);for(var h=0;h<o[e].length;h++){var u=o[e][h];d.remove(u);a.add(u)}}})};v.prototype.clearCompounds=function(){var e={};var t={};this.performDFSOnCompounds();for(var o=0;o<this.compoundOrder.length;o++){t[this.compoundOrder[o].id]=this.compoundOrder[o];e[this.compoundOrder[o].id]=[].concat(this.compoundOrder[o].getChild().getNodes());this.graphManager.remove(this.compoundOrder[o].getChild());this.compoundOrder[o].child=null}this.graphManager.resetAllNodes();this.tileCompoundMembers(e,t)};v.prototype.clearZeroDegreeMembers=function(){var e=this;var t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(o){var r=e.idToDummyNode[o];t[o]=e.tileNodes(e.memberGroups[o],r.paddingLeft+r.paddingRight);r.rect.width=t[o].width;r.rect.height=t[o].height})};v.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],o=t.id,r=t.paddingLeft,n=t.paddingTop;this.adjustLocations(this.tiledMemberPack[o],t.rect.x,t.rect.y,r,n)}};v.prototype.repopulateZeroDegreeMembers=function(){var e=this;var t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(o){var r=e.idToDummyNode[o];var n=r.paddingLeft;var i=r.paddingTop;e.adjustLocations(t[o],r.rect.x,r.rect.y,n,i)})};v.prototype.getToBeTiled=function(e){var t=e.id;if(this.toBeTiled[t]!=null){return this.toBeTiled[t]}var o=e.getChild();if(o==null){this.toBeTiled[t]=!1;return!1}var r=o.getNodes();for(var n=0;n<r.length;n++){var i=r[n];if(this.getNodeDegree(i)>0){this.toBeTiled[t]=!1;return!1}if(i.getChild()==null){this.toBeTiled[i.id]=!1;continue}if(!this.getToBeTiled(i)){this.toBeTiled[t]=!1;return!1}}this.toBeTiled[t]=!0;return!0};v.prototype.getNodeDegree=function(e){e.id;var t=e.getEdges();var o=0;for(var r=0;r<t.length;r++){var n=t[r];n.getSource().id!==n.getTarget().id&&(o=o+1)}return o};v.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(e.getChild()==null){return t}var o=e.getChild().getNodes();for(var r=0;r<o.length;r++){var n=o[r];t+=this.getNodeDegreeWithChildren(n)}return t};v.prototype.performDFSOnCompounds=function(){this.compoundOrder=[];this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())};v.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var o=e[t];o.getChild()!=null&&this.fillCompexOrderByDFS(o.getChild().getNodes());this.getToBeTiled(o)&&this.compoundOrder.push(o)}};v.prototype.adjustLocations=function(e,t,o,r,n){t+=r;o+=n;var i=t;for(var a=0;a<e.rows.length;a++){var s=e.rows[a];t=i;var d=0;for(var h=0;h<s.length;h++){var u=s[h];u.rect.x=t;u.rect.y=o;t+=u.rect.width+e.horizontalPadding;u.rect.height>d&&(d=u.rect.height)}o+=d+e.verticalPadding}};v.prototype.tileCompoundMembers=function(e,t){var o=this;this.tiledMemberPack=[];Object.keys(e).forEach(function(r){var n=t[r];o.tiledMemberPack[r]=o.tileNodes(e[r],n.paddingLeft+n.paddingRight);n.rect.width=o.tiledMemberPack[r].width;n.rect.height=o.tiledMemberPack[r].height})};v.prototype.tileNodes=function(e,t){var o=h.TILING_PADDING_VERTICAL;var r=h.TILING_PADDING_HORIZONTAL;var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:o,horizontalPadding:r};e.sort(function(e,t){if(e.rect.width*e.rect.height>t.rect.width*t.rect.height)return-1;if(e.rect.width*e.rect.height<t.rect.width*t.rect.height)return 1;return 0});for(var i=0;i<e.length;i++){var a=e[i];if(n.rows.length==0){this.insertNodeToRow(n,a,0,t)}else if(this.canAddHorizontal(n,a.rect.width,a.rect.height)){this.insertNodeToRow(n,a,this.getShortestRowIndex(n),t)}else{this.insertNodeToRow(n,a,n.rows.length,t)}this.shiftToLastRow(n)}return n};v.prototype.insertNodeToRow=function(e,t,o,r){if(o==e.rows.length){var n=[];e.rows.push(n);e.rowWidth.push(r);e.rowHeight.push(0)}var i=e.rowWidth[o]+t.rect.width;e.rows[o].length>0&&(i+=e.horizontalPadding);e.rowWidth[o]=i;e.width<i&&(e.width=i);var a=t.rect.height;o>0&&(a+=e.verticalPadding);var s=0;if(a>e.rowHeight[o]){s=e.rowHeight[o];e.rowHeight[o]=a;s=e.rowHeight[o]-s}e.height+=s;e.rows[o].push(t)};v.prototype.getShortestRowIndex=function(e){var t=-1;var o=Number.MAX_VALUE;for(var r=0;r<e.rows.length;r++){if(e.rowWidth[r]<o){t=r;o=e.rowWidth[r]}}return t};v.prototype.getLongestRowIndex=function(e){var t=-1;var o=Number.MIN_VALUE;for(var r=0;r<e.rows.length;r++){if(e.rowWidth[r]>o){t=r;o=e.rowWidth[r]}}return t};v.prototype.canAddHorizontal=function(e,t,o){var r=this.getShortestRowIndex(e);if(r<0){return!0}var n=e.rowWidth[r];if(n+e.horizontalPadding+t<=e.width)return!0;var i=0;e.rowHeight[r]<o&&(r>0&&(i=o+e.verticalPadding-e.rowHeight[r]));var a;if(e.width-n>=t+e.horizontalPadding){a=(e.height+i)/(n+t+e.horizontalPadding)}else{a=(e.height+i)/e.width}i=o+e.verticalPadding;var s;if(e.width<t){s=(e.height+i)/t}else{s=(e.height+i)/e.width}s<1&&(s=1/s);a<1&&(a=1/a);return a<s};v.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e);var o=e.rowWidth.length-1;var r=e.rows[t];var n=r[r.length-1];var i=n.width+e.horizontalPadding;if(e.width-e.rowWidth[o]>i&&t!=o){r.splice(-1,1);e.rows[o].push(n);e.rowWidth[t]=e.rowWidth[t]-i;e.rowWidth[o]=e.rowWidth[o]+i;e.width=e.rowWidth[instance.getLongestRowIndex(e)];var a=Number.MIN_VALUE;for(var s=0;s<r.length;s++){r[s].height>a&&(a=r[s].height)}t>0&&(a+=e.verticalPadding);var d=e.rowHeight[t]+e.rowHeight[o];e.rowHeight[t]=a;e.rowHeight[o]<n.height+e.verticalPadding&&(e.rowHeight[o]=n.height+e.verticalPadding);var h=e.rowHeight[t]+e.rowHeight[o];e.height+=h-d;this.shiftToLastRow(e)}};v.prototype.tilingPreLayout=function(){if(h.TILE){this.groupZeroDegreeMembers();this.clearCompounds();this.clearZeroDegreeMembers()}};v.prototype.tilingPostLayout=function(){if(h.TILE){this.repopulateZeroDegreeMembers();this.repopulateCompounds()}};v.prototype.reduceTrees=function(){var e=[];var t=!0;var o;while(t){var r=this.graphManager.getAllNodes(),n=[];t=!1;for(var i=0;i<r.length;i++){o=r[i];if(o.getEdges().length==1&&!o.getEdges()[0].isInterGraph&&o.getChild()==null){n.push([o,o.getEdges()[0],o.getOwner()]);t=!0}}if(t==!0){var a=[];for(var s=0;s<n.length;s++){if(n[s][0].getEdges().length==1){a.push(n[s]);n[s][0].getOwner().remove(n[s][0])}}e.push(a);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()}}this.prunedNodesAll=e};v.prototype.growTree=function(e){var t=e.length;var o=e[t-1];var r;for(var n=0;n<o.length;n++){r=o[n];this.findPlaceforPrunedNode(r);r[2].add(r[0]);r[2].add(r[1],r[1].source,r[1].target)}e.splice(e.length-1,1);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()};v.prototype.findPlaceforPrunedNode=function(e){var t;var o;var r=e[0];if(r==e[1].source){o=e[1].target}else{o=e[1].source}var n=o.startX;var i=o.finishX;var a=o.startY;var s=o.finishY;var d=0;var h=0;var l=0;var p=0;var g=[d,l,h,p];if(a>0){for(var c=n;c<=i;c++){g[0]+=this.grid[c][a-1].length+this.grid[c][a].length-1}}if(i<this.grid.length-1){for(var c=a;c<=s;c++){g[1]+=this.grid[i+1][c].length+this.grid[i][c].length-1}}if(s<this.grid[0].length-1){for(var c=n;c<=i;c++){g[2]+=this.grid[c][s+1].length+this.grid[c][s].length-1}}if(n>0){for(var c=a;c<=s;c++){g[3]+=this.grid[n-1][c].length+this.grid[n][c].length-1}}var _=f.MAX_VALUE;var y;var m;for(var v=0;v<g.length;v++){if(g[v]<_){_=g[v];y=1;m=v}else g[v]==_&&y++}if(y==3&&_==0){if(g[0]==0&&g[1]==0&&g[2]==0){t=1}else if(g[0]==0&&g[1]==0&&g[3]==0){t=0}else if(g[0]==0&&g[2]==0&&g[3]==0){t=3}else g[1]==0&&g[2]==0&&g[3]==0&&(t=2)}else if(y==2&&_==0){var L=Math.floor(Math.random()*2);if(g[0]==0&&g[1]==0){if(L==0){t=0}else{t=1}}else if(g[0]==0&&g[2]==0){if(L==0){t=0}else{t=2}}else if(g[0]==0&&g[3]==0){if(L==0){t=0}else{t=3}}else if(g[1]==0&&g[2]==0){if(L==0){t=1}else{t=2}}else if(g[1]==0&&g[3]==0){if(L==0){t=1}else{t=3}}else{if(L==0){t=2}else{t=3}}}else if(y==4&&_==0){var L=Math.floor(Math.random()*4);t=L}else{t=m}if(t==0){r.setCenter(o.getCenterX(),o.getCenterY()-o.getHeight()/2-u.DEFAULT_EDGE_LENGTH-r.getHeight()/2)}else if(t==1){r.setCenter(o.getCenterX()+o.getWidth()/2+u.DEFAULT_EDGE_LENGTH+r.getWidth()/2,o.getCenterY())}else if(t==2){r.setCenter(o.getCenterX(),o.getCenterY()+o.getHeight()/2+u.DEFAULT_EDGE_LENGTH+r.getHeight()/2)}else{r.setCenter(o.getCenterX()-o.getWidth()/2-u.DEFAULT_EDGE_LENGTH-r.getWidth()/2,o.getCenterY())}};t.exports=v},function(e,t,o){"use strict";var r={};r.layoutBase=o(0);r.CoSEConstants=o(1);r.CoSEEdge=o(2);r.CoSEGraph=o(3);r.CoSEGraphManager=o(4);r.CoSELayout=o(6);r.CoSENode=o(5);e.exports=r}])});return t(n.exports)}).call(window);__bbb.me=r;__bbb.N=undefined}).call(this)