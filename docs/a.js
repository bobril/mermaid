var __bbb={};(function(e){"use strict";var t=window;var n=function(e){if(!("default"in e))return e;var t=e.default;if(typeof t==="object"||typeof t==="function"){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&n!=="default"&&(t[n]=e[n])}return t};var a=function(e,t,n){typeof t==="symbol"&&(t=t.description?"[".concat(t.description,"]"):"");return Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})};var r=function(t,n){var a=__bbb;var r=a[n];if(r!==e){if(r instanceof Promise)return r;return Promise.resolve(r)}r=new Promise(function(i,o){var s=document.createElement("script");var l=setTimeout(d,12e4);function d(){s.onload=s.onerror=e;clearTimeout(l);if(a[n]===r){a[n]=e;o(new Error("Fail to load "+t))}else i(a[n])}s.charset="utf-8";s.onload=s.onerror=d;s.src=t;document.head.appendChild(s)});return a[n]=r};function i(e){return typeof e=="number"}function o(e){return typeof e=="string"}function s(e){return typeof e=="boolean"}function l(e){return typeof e=="function"}function d(e){return typeof e==="object"}function c(e){return e&&l(e.then)}var h=Array.isArray;(()=>{var e=[];function t(){var t=e;e=[];for(var n=0,a=t.length;n<a;n++){t[n]()}}return n=>{e.push(n);e.length===1&&Promise.resolve().then(t)}})();function u(){return e}function p(){return Object.create(null)}var _=Object.is;var f=Object.prototype.hasOwnProperty;function g(e){return document.createTextNode(e)}var m=u;var y=u;var x=u;function b(e){var t=y;y=e;return t}function v(e){var t=x;x=e;return t}var k;const S=1;const w=2;const C=4;const T=8;const E=16;const A=32;class BobrilCtx{constructor(t,n){this.data=t;this.me=n;this.cfg=e;this.refs=e;this.disposables=e;this.$hookFlags=0;this.$hooks=e;this.$bobxCtx=e}}const N={};function P(e){return document.createElement(e)}var L=Object.assign;var M=!1;var D=!1;var I=[];var B=[];var R=[];const O=/^input$|^select$|^textarea$|^button$/;const F="tabindex";function j(t,n){if(t==e)return!1;if(t==="input"&&n&&n["disabled"])return!1;if(O.test(t))return!0;if(t==="a"&&n!=null&&n.href!=null)return!0;return!1}function H(t,n,a,r,i){var o,s,d,c,h;let u=!1;if(a!=null)for(o in a){s=a[o];d=r[o];if(i&&o===F){s=-1;u=!0}else if(o===sn&&!M){if(l(s)){r[an]=s;s=s()}c=d;h=s;r[o]=s;continue}if(d!==s){r[o]=s;if(M){if(o==="href")n.setAttributeNS("http://www.w3.org/1999/xlink","href",s);else n.setAttribute(o,s)}else if(o in n&&!(o==="list"||o==="form")){n[o]=s}else n.setAttribute(o,s)}}if(i&&!u&&j(t.tag,a)){n.setAttribute(F,"-1");r[F]=-1}if(a==e){for(o in r){if(r[o]!==e){if(i&&o===F)continue;if(o===an)continue;r[o]=e;n.removeAttribute(o)}}}else{for(o in r){if(r[o]!==e&&!(o in a)){if(i&&o===F)continue;if(o===an)continue;r[o]=e;n.removeAttribute(o)}}}h!==e&&$(n,t,h,c);return r}function $(t,n,a,r){var i=t.tagName;var o=i==="SELECT";var s=i==="INPUT"||i==="TEXTAREA";if(!s&&!o){a!==r&&(t[sn]=a);return}if(n.ctx===e){n.ctx=new BobrilCtx(e,n);n.component=N}r===e&&(n.ctx[an]=a);var l=o&&t.multiple;var d=!1;if(l){var c=t.options,h=hn(c);if(!dn(a,h)){if(r===e||dn(h,r)||!dn(a,n.ctx[an])){for(var u=0;u<c.length;u++){c[u].selected=cn(a,c[u].value)}h=hn(c);dn(h,a)&&(d=!0)}else{d=!0}}}else if(s||o){if(s&&ln(t)){var p=t.checked;if(a!==p){if(r===e||p===r||a!==n.ctx[an]){t.checked=a}else{d=!0}}}else{var _=o&&t.size<2,f=t[sn];if(a!==f){if(r===e||f===r||a!==n.ctx[an]){if(o){if(a===""){t.selectedIndex=_?0:-1}else{t[sn]=a}if(a!==""||_){f=t[sn];a!==f&&(d=!0)}}else{t[sn]=a}}else{d=!0}}}}if(d){un(e,t,n)}else{n.ctx[an]=a}}function W(e){var t=e.component;if(t){let n=t[Un];if(n){I.push(n);B.push(e)}let a=z(e);if(a&S){I.push(sa);B.push(e)}a&A&&R.push(e)}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&S){I.push(sa);B.push(e)}t&A&&R.push(e)}}}function z(t){let n=t.ctx.$hookFlags|0;t.ctxStyle!=e&&(n=t.ctxStyle.$hookFlags|n);return n}function q(e){var t=e.component;if(t){let n=t[Yn];if(n){I.push(n);B.push(e)}let a=z(e);if(a&w){I.push(la);B.push(e)}n=t[Gn];if(n){I.push(n);B.push(e)}if(a&C){I.push(da);B.push(e)}a&A&&R.push(e)}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&w){I.push(la);B.push(e)}if(t&C){I.push(da);B.push(e)}t&A&&R.push(e)}}}function U(e){var t=e.component;if(t){let n=t[Gn];if(n){I.push(n);B.push(e)}let a=z(e);if(a&C){I.push(da);B.push(e)}a&A&&R.push(e)}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&C){I.push(da);B.push(e)}t&A&&R.push(e)}}}function Y(e){var t=e.component;if(t){let n=t[Gn];if(n){I.push(n);B.push(e)}if(z(e)&C){I.push(da);B.push(e)}}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&C){I.push(da);B.push(e)}}}}function G(t){var n;while(t){n=t.cfg;if(n!==e)break;if(t.ctx!==e&&t.component!==N){n=t.ctx.cfg;break}t=t.parent}return n}function V(t,n){if(t===e)return;if("current"in t){t.current=n}else if(l(t)){t(n)}else if(h(t)){let a=t[0],r=a.refs;if(r===e){r=p();a.refs=r}r[t[1]]=n}}function X(t,n){if(t===e)return;if("current"in t){t.current==n&&(t.current=e)}else if(l(t)){t(e,n)}else if(h(t)){let a=t[0],r=a.refs;if(r===e){r=p();a.refs=r}r[t[1]]==n&&(r[t[1]]=e)}}let K=[];let Q=null;let Z;let J;let ee;function te(e,t,n){Z=e;J=t;ee=n}let ne;let ae=-1;function re(){return ne}function ie(t,n,a,r){var i=[e];oe(t,i,0,n,a,r);return i[0]}function oe(t,n,a,r,s,l){var d={tag:t.tag,key:t.key,ref:t.ref,className:t.className,style:t.style,attrs:t.attrs,children:t.children,component:t.component,data:t.data,cfg:e,parent:r,element:e,ctx:e,orig:t};n[a]=d;var c=M;var h=D;var u=d.component;var p;try{V(d.ref,d);if(u){var _;if(u.ctxClass){_=new u.ctxClass(d.data||{},d);_.data===e&&(_.data=d.data||{});_.me===e&&(_.me=d)}else{_=new BobrilCtx(d.data||{},d)}_.cfg=t.cfg===e?G(r):t.cfg;d.ctx=_;ne=_;try{if(u.init){try{u.init(_,d)}catch(e){se(e,_,!0)}finally{}}if(u.render){ae=0;try{u.render(_,d)}catch(e){se(e,_,!0)}finally{ae=-1}}}catch(e){ae=-1;se(e,_,!0)}finally{ne=e}}else{}var f=d.tag;if(f==="-"){d.tag=e;d.children=e;return}else if(f==="@"){s=d.data;l=null;f=e}var m=d.children,y=!1;if(i(m)){m=""+m;d.children=m}if(f===e){if(o(m)){p=g(m);d.element=p;be.set(p,d);s.insertBefore(p,l)}else{try{_e(d,s,l)}catch(e){se(e,d.ctx,!0)}}if(u){if(u.postRender){try{u.postRender(d.ctx,d)}catch(e){se(e,d.ctx,!0)}finally{}}W(d)}return}if(f==="/"){var x=m;if(x===""){}else if(l==e){var b=s.lastChild;s.insertAdjacentHTML("beforeend",x);d.element=[];if(b){b=b.nextSibling}else{b=s.firstChild}while(b){be.set(b,d);d.element.push(b);b=b.nextSibling}}else{p=l;var v=l.previousSibling,k=!1,S=s;if(!p.insertAdjacentHTML){p=S.insertBefore(P("i"),p);k=!0}p.insertAdjacentHTML("beforebegin",x);if(v){v=v.nextSibling}else{v=S.firstChild}var w=[];while(v!==p){be.set(v,d);w.push(v);v=v.nextSibling}d.element=w;k&&S.removeChild(p)}if(u){u.postRender&&u.postRender(d.ctx,d);W(d)}return}if(M||f==="svg"){p=document.createElementNS("http://www.w3.org/2000/svg",f);y=f==="foreignObject";M=!y}else{p=P(f)}s.insertBefore(p,l);be.set(p,d);d.element=p;try{_e(d,p,null)}catch(e){se(e,d.ctx,!0)}u&&(u.postRender&&u.postRender(d.ctx,d));D&&Q===d&&(D=!1);y&&(M=!0);let[n,a,C]=he(d,d);(C||D)&&(d.attrs=H(d,p,C,{},D));Z(p,a,n,d,M);M=c;D=h;W(d)}finally{}}function se(t,n,a){if(Qt==e||n==e||!ra(Qt,n).handle(t,n,a))throw t}function le(t,n){var a=n.ctxStyle;var r=ne;if(a===e){a=new BobrilCtx(t,n);n.ctxStyle=a;ne=a}else{ne=a}ae=0;try{var i=t()}catch(e){ae=-1;ne=r;se(e,a,!0)}ae=-1;ne=r;try{return ee({},i)}catch(e){se(e,a,!0)}return{}}function de(t){let n=t.ctxStyle;if(n!==e){ne=n;let t=n.disposables;if(h(t)){for(let e=t.length;e-- >0;){let a=t[e];if(l(a))a(n);else a.dispose()}}ne=e}}function ce(t){if(l(t)){he=t}else if(t){he=((t,n)=>{var a="";do{var r=t.key;r&&(a=" "+r+a);t=t.parent}while(t!=e&&t.element==e);if(!a.length)a=n.className;else{if(n.className)a=n.className+a;else a=a.slice(1)}return[a,n.style,n.attrs]})}else{he=((e,t)=>[t.className,t.style,t.attrs])}}let he;ce();const ue={render(e,t){t.children=e.data()}};function pe(t){if(t===!1||t===!0||t===null)return e;if(o(t)){return{children:t}}if(i(t)){return{children:""+t}}if(l(t)){return{component:ue,data:t}}return t}function _e(e,t,n){var a=e.children;if(o(a)){t.textContent=a;return}let r=[];Re(r,a);for(let a=0;a<r.length;a++){try{r[a]=ie(r[a],e,t,n)}catch(t){se(t,e.ctx,!0)}}e.children=r}function fe(t){X(t.ref,t);let n=t.children;if(h(n)){for(let e=0,t=n.length;e<t;e++){fe(n[e])}}let a=t.component;if(a){let n=t.ctx;ne=n;a.destroy&&a.destroy(n,t,t.element);let r=n.disposables;if(h(r)){for(let e=r.length;e-- >0;){let t=r[e];if(l(t))t(n);else t.dispose()}}ne=e}de(t);t.tag==="@"&&me(t)}function ge(t,n){let a=t.disposables;if(a==e){a=[];t.disposables=a}a.push(n)}function me(e){var t=e.element;if(h(t)){var n=t[0].parentNode;if(n){for(let e=0;e<t.length;e++){n.removeChild(t[e])}}}else if(t!=null){let e=t.parentNode;e&&e.removeChild(t)}else{var a=e.children;if(h(a)){for(var r=0,i=a.length;r<i;r++){me(a[r])}}}}function ye(e){fe(e);me(e)}var xe=p();var be=new WeakMap;function ve(t){var n=[];while(t!=e){var a=be.get(t);if(a!==e){do{n.push(a);a=a.parent}while(a!==e);n.reverse();return n}t=t.parentNode}return n}function ke(t){while(t!=e){var n=be.get(t);if(n!==e){return n}t=t.parentNode}return e}function Se(t,n,a){if(a){if(a.postRender){ne=n.ctx;a.postRender(ne,t,n);ne=e}}n.data=t.data;q(n)}function we(t,n,a){ne=e;if(h(t.children)){let e=M,r=D;if(t.tag==="svg"){M=!0}else M&&t.tag==="foreignObject"&&(M=!1);D&&Q===t&&(D=!1);ct(t.children,t.element||n,t.element!=null?null:a);M=e;D=r}U(t)}function Ce(t,n,a,r,s,l,d){var c=n[a];if(c==e){throw Error("updateNode for non created node")}if(t==e){throw Error("updateNode for undefined node in "+Fe(c))}var p=t.component;var _=!1;var f=c.ctx;try{if(p!=null&&f!=null){let n=!1;if(f[Ge]>=Je){l=Math.max(l,f[Ve]);n=!0;f[Ge]=Je}if(p.id!==c.component.id){_=!0}else{ne=f;if(t.cfg!==e)f.cfg=t.cfg;else f.cfg=G(c.parent);if(p.shouldChange)if(!bt&&!n){let e=p.shouldChange(f,t,c);if(!e){we(c,r,s);return}}f.data=t.data||{};c.component=p;m!==u&&(d?2:1);if(p.render){c.orig=t;t=L({},t);c.cfg=e;t.cfg!==e&&(t.cfg=e);ae=0;try{p.render(f,t,c)}catch(e){se(e,f,!0)}finally{ae=-1}if(t.cfg!==e){if(c.cfg===e)c.cfg=t.cfg;else L(c.cfg,t.cfg)}}ne=e}}else{if(c.orig===t&&!bt){we(c,r,s);return}c.orig=t}var g=t.children,y=c.children,x=t.tag;if(x==="-"){we(c,r,s);return}let C=M,T=D;i(g)&&(g=""+g);if(_||p!=e&&f==e||p==e&&f!=e&&f.me.component!==N){}else if(x==="/"){if(c.tag==="/"&&y===g){Se(t,c,p);return}}else if(x===c.tag){if(x==="@"){if(t.data!==c.data){oe(t,n,a,c.parent,t.data,null);ye(c);return}r=t.data;s=Ee(c);s!=null&&(s=s.nextSibling);x=e}if(x===e){if(o(g)&&o(y)){if(g!==y){var b=c.element;b.textContent=g;c.children=g}}else{D&&Q===c&&(D=!1);if(l<=0){h(y)&&ct(c.children,r,s)}else{Oe(r,g,y,c,s,l-1)}M=C;D=T}Se(t,c,p);return}else{var v=!1;if(x==="svg"){M=!0}else if(M&&x==="foreignObject"){v=!0;M=!1}D&&Q===c&&(D=!1);var b=c.element;if(b==e){throw Error("updateNode for undefined element for "+x+" in "+Fe(c))}if(o(g)&&!h(y)){if(g!==y){b.textContent=g;c.children=g}}else{if(l<=0){h(y)&&ct(c.children,b,null)}else{Oe(b,g,y,c,null,l-1)}}v&&(M=!0);Se(t,c,p);let[n,a,r]=he(c,t);(c.attrs||r||D)&&(c.attrs=H(c,b,r,c.attrs||{},D));J(b,a,n,c,M);M=C;D=T;return}}var k=Te(c),S=c.element;h(S)&&(S=S[0]);S!=e&&(S=S.parentNode);if(S==e){S=r;k!=e&&k.parentNode!=S&&(k=s)}k==e&&(k=s);var w=ie(t,c.parent,S,k);ye(c);n[a]=w}finally{}}function Te(t){if(t===e||t.tag=="@")return null;var n=t.element;if(n!=null){if(h(n))return n[0];return n}var a=t.children;if(!h(a))return null;for(var r=0;r<a.length;r++){n=Te(a[r]);if(n)return n}return null}function Ee(t){if(t===e)return null;var n=t.element;if(n!=null){if(h(n))return n[n.length-1];return n}var a=t.children;if(!h(a))return null;for(var r=a.length;r-- >0;){n=Ee(a[r]);if(n)return n}return null}function Ae(t,n,a,r){while(++n<a){var i=t[n];if(i==e)continue;var o=Te(i);if(o!=null)return o}return r}function Ne(){var t=B.length;for(var n=0;n<t;n++){var a=B[n];ne=a.ctx;if(ne){try{I[n].call(a.component,ne,a,a.element)}catch(e){se(e,ne,!1)}finally{}}ne=a.ctxStyle;if(ne){try{I[n].call(a.component,ne,a,a.element)}catch(e){se(e,ne,!1)}finally{}}}ne=e;I=[];B=[]}function Pe(){var t=R.length;for(var n=0;n<t;n++){var a=R[n];ne=a.ctx;if(ne){try{let t=ne.$hooks,n=t.length;for(let a=0;a<n;a++){let n=t[a],r=n.useEffect;r!==e&&r.call(n,ne)}}catch(e){se(e,ne,!1)}finally{ne=e}}ne=a.ctxStyle;if(ne){try{let t=ne.$hooks,n=t.length;for(let a=0;a<n;a++){let n=t[a],r=n.useEffect;r!==e&&r.call(n,ne)}}catch(e){se(e,ne,!1)}finally{ne=e}}}R=[]}function Le(e,t,n,a,r,i,o){Ce(e,t,n,i,Ae(t,n,a,r),o)}function Me(e,t,n){var a=e.element;if(a!=null){if(h(a)){for(var r=0;r<a.length;r++){t.insertBefore(a[r],n)}}else t.insertBefore(a,n);return}var i=e.children;if(!h(i))return;for(var r=0;r<i.length;r++){Me(i[r],t,n)}}function De(e,t,n,a,r){var i=Ae(e,t,n,a);var o=e[t];var s=Te(o);s!=null&&s!==i&&Me(o,r,i)}function Ie(e,t,n,a,r,i,o){var s=Ae(t,n,a,r);var l=t[n];var d=Te(l);d!=null&&d!==s&&Me(l,i,s);Ce(e,t,n,i,s,o)}function Be(t,n){if(n==e)return;if(h(n)){for(let e=0;e<n.length;e++){Be(t,n[e])}}else{let a=pe(n);a!==e&&t.push(a)}}function Re(e,t){Be(e,t)}function Oe(t,n,a,r,i,o){if(a==e){a=[];r&&(r.children=a)}else if(!h(a)){t.firstChild&&t.removeChild(t.firstChild);a=[];r&&(r.children=a)}let s=[];Re(s,n);je(t,s,a,r,i,o)}function Fe(t){var n;if(t==e)return"";return Fe(t.parent)+">"+(t.tag!=e?t.tag+":":"")+t.key+"@"+((n=t.component)===null||n===void 0?void 0:n.id)}function je(t,n,a,r,i,o){let s=n.length;var l=a.length;let d=l;let c=0;let h=0;while(c<s&&h<d){if(n[c].key===a[h].key){Le(n[c],a,h,l,i,t,o);c++;h++;continue}while(!0){if(n[s-1].key===a[d-1].key){s--;d--;Le(n[s],a,d,l,i,t,o);if(c<s&&h<d)continue}break}if(c<s&&h<d){if(n[c].key===a[d-1].key&&n[s-1].key===a[h].key){var u=a[h];a[h]=a[d-1];a[d-1]=u;Ie(n[c],a,h,l,i,t,o);c++;h++;s--;d--;Ie(n[s],a,d,l,i,t,o);continue}}break}if(h===d){if(c===s){return a}while(c<s){a.splice(h,0,e);l++;oe(n[c],a,h,r,t,Ae(a,h,l,i));h++;d++;c++}return a}if(c===s){while(h<d){d--;ye(a[d]);a.splice(d,1)}return a}var p=new Map;var _=new Map;var f;var g;var m=c;var y=h;var x=0;for(;h<d;h++){g=a[h];f=g.key;if(f!=e){if(p.has(f)){throw new Error("Duplicate cached node key "+f+" "+Fe(r))}p.set(f,h)}else x--}var b=-x-x;for(;c<s;c++){g=n[c];f=g.key;if(f!=e){if(_.has(f)){throw new Error("Duplicate new node key "+f+" "+Fe(r))}_.set(f,c)}else x++}b+=x;var v=0;c=m;h=y;var k;while(h<d&&c<s){if(a[h]===null){a.splice(h,1);d--;l--;v--;continue}k=a[h].key;if(k==e){h++;continue}f=n[c].key;if(f==e){c++;while(c<s){f=n[c].key;if(f!=e)break;c++}if(f==e)break}var S=p.get(f);if(S===e){a.splice(h,0,e);l++;try{oe(n[c],a,h,r,t,Ae(a,h,l,i))}catch(e){se(e,r.ctx,!0)}v++;c++;h++;d++;continue}if(!_.has(k)){ye(a[h]);a.splice(h,1);v--;d--;l--;continue}if(h===S+v){Le(n[c],a,h,l,i,t,o);c++;h++}else{a.splice(h,0,a[S+v]);v++;a[S+v]=null;Ie(n[c],a,h,l,i,t,o);h++;d++;l++;c++}}while(h<d){if(a[h]===null){a.splice(h,1);d--;l--;continue}if(a[h].key!=null){ye(a[h]);a.splice(h,1);d--;l--;continue}h++}while(c<s){f=n[c].key;if(f!=null){a.splice(h,0,e);l++;oe(n[c],a,h,r,t,Ae(a,h,l,i));d++;v++;h++}c++}if(!b)return a;b=b-Math.abs(x)>>1;c=m;h=y;while(c<s){if(h<d){k=a[h].key;if(k!=null){h++;continue}}f=n[c].key;if(c<d&&f===a[c].key){if(f!=null){c++;continue}Le(n[c],a,c,l,i,t,o);b--;c++;h=c;continue}if(f!=null){if(b===0&&x<0){while(!0){ye(a[h]);a.splice(h,1);d--;l--;x++;if(a[h].key!=null)break}continue}while(a[h].key==e)h++;a[h].key;a.splice(c,0,a[h]);a.splice(h+1,1);De(a,c,l,i,t);c++;h=c;continue}if(h<d){a.splice(c,0,a[h]);a.splice(h+1,1);Ie(n[c],a,c,l,i,t,o);b--;c++;h++}else{a.splice(c,0,e);l++;oe(n[c],a,c,r,t,Ae(a,c,l,i));d++;c++;h++}}while(d>c){d--;ye(a[d]);a.splice(d,1)}return a}var He=!1;var $e=window.requestAnimationFrame;$e&&$e(e=>{e===+e&&(He=!0)});const We=window.setTimeout;var ze=Date.now||(()=>(new Date).getTime());var qe=ze();var Ue=0;function Ye(e){if(He){$e(e)}else{var t=50/3+Ue-ze();t<0&&(t=0);We(()=>{Ue=ze();e(Ue-qe)},t)}}var Ge="$invalidated";var Ve="$deepness";var Xe=!0;var Ke=!1;let Qe=!0;var Ze=0;var Je=0;var tt=p();var nt;function at(t,n,a){nt==e&&(nt=p());var r=nt[t]||[];r.push({priority:n,callback:a});nt[t]=r}function rt(e,t,n,a){var r=tt[e];if(r)for(var i=0;i<r.length;i++){if(r[i](t,n,a))return!0}return!1}var it=0;function lt(e,t,n){if(t[0]=="!")return;var a=t[0]=="^";var r=t;if(t[0]=="@"){if(n)return;r=t.slice(1);e=document}if(a){if(n)return;r=t.slice(1)}function i(n){var a=n.target||e;var r=ke(a);it++;rt(t,n,a,r);it--;it==0&&ut&&pt()}n||"on"+r in window&&(e=window);e.addEventListener(r,i,{capture:a,passive:!1})}function dt(){if(nt===e)return;var t=Object.keys(nt);for(var n=0;n<t.length;n++){var a=t[n],r=nt[a];r=r.sort((e,t)=>e.priority-t.priority);tt[a]=r.map(e=>e.callback)}nt=e;var i=document.body;for(var o=0;o<t.length;o++){lt(i,t[o],!1)}}function ct(t,n,a){var r=t.length;for(var i=0;i<r;i++){var o=t[i],s=o.ctx;if(s!=null&&s[Ge]>=Je){try{Ce(o.orig,t,i,n,Ae(t,i,r,a),s[Ve],!0)}catch(e){se(e,s,!0)}}else{s=o.ctxStyle;s!=null&&s[Ge]>=Je&&J(o.element,s.data,e,o,M);if(h(o.children)){var l=M,d=D;D&&Q===o&&(D=!1);if(o.tag==="svg")M=!0;else M&&o.tag==="foreignObject"&&(M=!1);var c=o.element;try{if(c!=e){ct(o.children,c,null)}else{ct(o.children,n,Ae(t,i,r,a))}}catch(e){se(e,o.ctx,!0)}finally{Y(o);M=l;D=d}}}}}function ht(t,n,a){while(n!=null){if(t===n)return!0;let o=n.parent;if(o==e){for(var r=0;r<a.length;r++){var i=xe[a[r]];if(!i)continue;if(i.n===n){o=i.p;break}}}n=o}return!1}var ut=!1;function pt(){ut=!1;yt(ze()-qe)}function _t(){if(it>0){ut=!0;return}pt()}function ft(e){Ke=!1;yt(e)}var gt;const mt=Dn({render(t,n){const a=t.data;let r=a.f(a);if(r===e){n.tag="-"}else{n.children=r}}});function yt(t){ze();dt();Je++;bt=xt;xt=!1;Ze=t;y();it++;try{for(let t=0;t<100;t++){let t=!1;if(Xe){Xe=!1;t=!0}ut=!1;Q=K.length===0?null:K[K.length-1];D=!1;gt=Object.keys(xe);for(var n=0;n<gt.length;n++){var a=xe[gt[n]];if(!a)continue;var r=a.n,i=null;for(var o=n+1;o<gt.length;o++){let t=xe[gt[o]];if(t===e)continue;i=Te(t.n);if(i!=null)break}Q&&(D=!ht(Q,a.p,gt));a.e===e&&(a.e=document.body);if(r){if(t||r.ctx[Ge]>=Je){let e=mt(a),n=[r];try{Ce(e,n,0,a.e,i,t?1e6:r.ctx[Ve]);r=n[0]}catch(e){r=n[0];se(e,r.ctx,!0)}}else{h(a.c)&&ct(a.c,a.e,i)}}else{let t=mt(a),n=[r];try{oe(t,n,0,e,a.e,i)}catch(e){r=n[0];se(e,r.ctx,!0)}r=n[0];a.n=r}a.c=r.children}Ne();ut||Pe();if(!ut)break}}finally{it--;gt=e;let t=xe["0"];x(t?t.c:null);ze()}}var xt=!1;var bt=!1;function vt(){xt=!0;k()}function kt(e){let t=k;k=e;return t}var St=(t,n,a)=>{if(t!=null){n==e&&(n=1e6);if(t[Ge]!==Je+1){t[Ge]=Je+1;t[Ve]=n}else{n>t[Ve]&&(t[Ve]=n)}}else{Xe=!0}if(a){ut=!0;return}if(Ke||Qe)return;Ke=!0;Ye(ft)};k=St;var wt;var Ct=0;function Tt(t,n,a){Ct++;var r=""+Ct;xe[r]={f:t,e:n!==null&&n!==void 0?n:wt,c:[],p:a,n:e};if(gt!=null){gt.push(r)}else{Lt()}return r}function Et(e){var t=xe[e];if(!t)return;t.n&&ye(t.n);delete xe[e]}function At(){return xe}function Nt(){Qe=!1;k()}var Pt=Nt;function Lt(){Qe=!0;Pt();Pt=Nt}function Mt(t,n){Et("0");xe["0"]={f:t,e:n,c:[],p:e,n:e};Lt()}function Dt(e){let t=Pt;Pt=(()=>{e(t)})}let It;document.addEventListener("DOMContentLoaded",()=>{l(It)&&It();It=!0});Dt(e=>{if(It===!0){e()}else{It=e}});let Bt;function Rt(e,t){var n=Bt;Bt=t;try{return e()}finally{Bt=n}}function Ot(t,n,a){if(a==e){a={target:t}}else d(a)&&a.target==e&&(a.target=t);En(a);$t(n,a);if(a.propagationStopped)return a._ctx;const r=Bt;while(t){var i=t.component,o=t.ctxStyle;if(o){Bt=o;if(((o.$hookFlags|0)&T)===T){var s=o.$hooks;for(var l=0,c=s.length;l<c;l++){var h=s[l];if(h instanceof EventsHook){var u=h.events[n];if(u!==e){Ft(a,u.call(o,a));if(a.immediatePropagationStopped){Bt=r;return a._ctx}}}}}}if(i){o=t.ctx;Bt=o;if(((o.$hookFlags|0)&T)===T){var s=o.$hooks;for(var l=0,c=s.length;l<c;l++){var h=s[l];if(h instanceof EventsHook){var u=h.events[n];if(u!==e){Ft(a,u.call(o,a));if(a.immediatePropagationStopped){Bt=r;return a._ctx}}}}}var u=i[n];if(u){Ft(a,u.call(i,o,a));if(a.immediatePropagationStopped){Bt=r;return a._ctx}}u=i.handleGenericEvent;if(u){Ft(a,u.call(i,o,n,a));if(a.immediatePropagationStopped){Bt=r;return a._ctx}}u=i.shouldStopBubble;if(u){if(u.call(i,o,n,a)){a.stopPropagation();break}}}t=t.parent;if(a.propagationStopped)break}Bt=r;return a._ctx}function Ft(e,t){t=+t;if(t==1){e.preventDefault();e.stopImmediatePropagation()}else if(t==2){e.stopImmediatePropagation()}else t==3&&e.preventDefault()}function jt(t,n,a){if(!t)return e;var r=t.component;if(r){var i=t.ctx,o=Bt;Bt=i;if(((i.$hookFlags|0)&T)===T){var s=i.$hooks;for(var l=0,d=s.length;l<d;l++){var c=s[l];if(c instanceof EventsHook){var u=c.events[n];if(u!==e){Ft(a,u.call(i,a));if(a.immediatePropagationStopped){Bt=o;return a._ctx}}}}}var u=r[n];if(u){Ft(a,u.call(r,i,a));if(a.immediatePropagationStopped){Bt=o;return a._ctx}}u=r.shouldStopBroadcast;if(u){if(u.call(r,i,n,a)){Bt=o;return a._ctx}}Bt=o;if(a.propagationStopped)return a._ctx}var p=t.children;if(h(p)){for(var l=0;l<p.length;l++){jt(p[l],n,a);if(a.propagationStopped)return a._ctx}}return a._ctx}function Ht(t,n,a){if(!t)return e;var r=t.component;var i=t.ctxStyle;if(i){if((i.$hookFlags&E)===E){var o=i.$hooks,s=Bt;Bt=i;for(var l=0,d=o.length;l<d;l++){var c=o[l];if(c instanceof CaptureEventsHook){var u=c.events[n];if(u!==e){Ft(a,u.call(i,a));if(a.immediatePropagationStopped){Bt=s;return a._ctx}}}}Bt=s}}if(r){i=t.ctx;if((i.$hookFlags&E)===E){var o=i.$hooks,s=Bt;Bt=i;for(var l=0,d=o.length;l<d;l++){var c=o[l];if(c instanceof CaptureEventsHook){var u=c.events[n];if(u!==e){Ft(a,u.call(i,a));if(a.immediatePropagationStopped){Bt=s;return a._ctx}}}}Bt=s}}if(a.propagationStopped)return a._ctx;var p=t.children;if(h(p)){for(var l=0,d=p.length;l<d;l++){Ht(p[l],n,a);if(a.propagationStopped)return a._ctx}}return a._ctx}function $t(e,t){En(t);var n=Object.keys(xe);for(var a=0;a<n.length;a++){var r=xe[n[a]].n;if(r!=null){Ht(r,e,t);if(t.propagationStopped)return t._ctx}}return t._ctx}function Wt(e,t){$t(e,t);if(t.propagationStopped)return t._ctx;var n=Object.keys(xe);for(var a=0;a<n.length;a++){var r=xe[n[a]].n;if(r!=null){jt(r,e,t);if(t.propagationStopped)return t._ctx}}return t._ctx}let zt=0;function qt(){return zt++}function Ut(e){e.preventDefault();e.stopPropagation()}function Yt(e){e=e.slice(0);for(var t=0;t<e.length;t++){var n=e[t];if(h(n)){e[t]=Yt(n)}else if(l(n)){e[t]=n}else d(n)&&(e[t]=Gt(n))}return e}function Gt(e){var t=L({},e);t.attrs&&(t.attrs=L({},t.attrs));var n=t.style;d(n)&&!l(n)&&(t.style=L({},n));var a=t.children;if(a){if(h(a)){t.children=Yt(a)}else if(l(a)){t.children=a}else d(a)&&(t.children=Gt(a))}return t}function Vt(){return Je}function Xt(){throw new NotReadyError}class NotReadyError extends Error{constructor(){super("NotReady")}}const Kt=new WeakMap;var Qt;function Zt(){Qt===e&&(Qt=na({handle:(e,t,n)=>{if(e instanceof NotReadyError){return!0}return!1},ctx:e,resume:()=>{k()}},"__b#e"));return Qt}var Jt={};(function(e){e[e["First"]=0]="First";e[e["Fallback"]=1]="Fallback";e[e["RealContent"]=2]="RealContent";e[e["Destroyed"]=3]="Destroyed"})(Jt);function en(e){const t=ta(2);const n=ta(Ze);oa(()=>{t(3)});let a=Zt();let r=aa(a);switch(t()){default:return null;case 1:return Ln(jn({children:e.fallback}),"f");case 2:ia(a,{handle:(a,i,o)=>{var s;if(a instanceof NotReadyError){if(t()==2){let a=Ze-n()-((s=e.expectedLoadTimeMs)!==null&&s!==void 0?s:200);if(a<0){t(0);We(()=>{t()==Jt.First&&t(1)},-a)}else{t(1)}_t()}return!0}return r.handle(a,i,o)},ctx:ne,resume:()=>{t()!=Jt.RealContent&&t(2)}});return Ln(jn({children:e.children}),"r")}}function tn(t){if(c(t)){var n=aa(Zt());let a=Kt.get(t);if(a){if(a[0]==e){a[2].has(n.ctx)||a[2].set(n.ctx,()=>n.resume());Xt()}if(a[0])return a[1];throw a[1]}Kt.set(t,[e,new NotReadyError,new Map([[n.ctx,()=>n.resume()]])]);t.then(e=>{var n=Kt.get(t);n[0]=!0;n[1]=e;for(let[e,t]of n[2]){t()}},e=>{var n=Kt.get(t);n[0]=!1;n[1]=e;for(let[e,t]of n[2]){t()}});Xt()}return aa(t)}class UnwindError extends Error{constructor(){super("Unwind")}}function nn(t){const n=ta(e);let a=Zt();let r=aa(a);let i=ne;if(n()!=e){return Ln(jn(l(t.fallback)&&t.fallback.length>=1?{children:t.fallback(n(),()=>n(e))}:{children:t.fallback}),"f")}ia(a,{handle:(e,t,a)=>{if(e instanceof NotReadyError){return r.handle(e,t,a)}if(e instanceof UnwindError){if(i!=t)throw e;return!0}n(e);_t();if(a&&i!=t)throw new UnwindError;return!0},ctx:r.ctx,resume:r.resume});return Ln(jn({children:t.children}),"r")}var an="b$value";var rn="b$selStart";var on="b$selEnd";var sn="value";function ln(e){var t=e.type;return t==="checkbox"||t==="radio"}function dn(t,n){if(t===n)return!0;if(t==e||n==e)return!1;var a=t.length;if(a!==n.length)return!1;for(var r=0;r<a;r++){if(t[r]!==n[r])return!1}return!0}function cn(t,n){if(t==e)return!1;for(var a=0;a<t.length;a++){if(t[a]===n)return!0}return!1}function hn(e){var t=[];for(var n=0;n<e.length;n++){e[n].selected&&t.push(e[n].value)}return t}function un(t,n,a){if(n&&n.nodeName==="OPTION"){n=document.activeElement;a=ke(n)}if(!a){return!1}if(a.ctx===e){a.ctx=new BobrilCtx(e,a);a.component=N}var r=a.ctx;var i=n.tagName;var o=i==="SELECT";var s=o&&n.multiple;if(s){var l=hn(n.options);if(!dn(r[an],l)){r[an]=l;pn(a,l,t)}}else if(ln(n)){if(t&&t.type==="change"){We(()=>{un(e,n,a)},10);return!1}if(n.type==="radio"){var d=document.getElementsByName(n.name);for(var c=0;c<d.length;c++){var h=d[c],u=ke(h);if(!u)continue;var p=u.ctx,_=h.checked;if(p[an]!==_){p[an]=_;pn(u,_,t)}}}else{var f=n.checked;if(r[an]!==f){r[an]=f;pn(a,f,t)}}}else{var g=n.value;if(r[an]!==g){r[an]=g;pn(a,g,t)}let i=n.selectionStart,o=n.selectionEnd,s=n.selectionDirection,l=!1,d=r[rn];if(s==e){o===d&&(l=!0)}else s==="backward"&&(l=!0);if(l){let e=i;i=o;o=e}_n(a,i,o,t)}return!1}function pn(e,t,n){var a=Bt;var r=e.ctx;var i=e.component;Bt=r;const o=e.attrs&&e.attrs[an];l(o)&&o(t);const s=i&&i.onChange;l(s)&&s(r,t);Bt=a;Ot(e,"onInput",{target:e,value:t,originalEvent:n})}function _n(e,t,n,a){let r=e.component;let i=e.ctx;if(r&&(i[rn]!==t||i[on]!==n)){i[rn]=t;i[on]=n;Ot(e,"onSelectionChange",{target:e,originalEvent:a,startPosition:t,endPosition:n})}}function fn(e,t,n){let a=Tn();a&&un(e,a.element,a);return!1}var gn=["input","cut","paste","keydown","keypress","keyup","click","change"];for(var mn=0;mn<gn.length;mn++)at(gn[mn],10,un);var yn=["!PointerDown","!PointerMove","!PointerUp","!PointerCancel"];for(var mn=0;mn<yn.length;mn++)at(yn[mn],2,fn);let xn=e;let bn=e;let vn=[];let kn=!1;const Sn=new Set;function wn(t){if(kn)return!1;kn=!0;while(!0){let s=document.hasFocus()||t?document.activeElement:e;if(s===xn)break;xn=s;var n=ve(xn),a=0;while(a<vn.length&&a<n.length&&vn[a]===n[a])a++;var r=vn.length-1,i,o;if(r>=a){i=vn[r];Ot(i,"onBlur");r--}while(r>=a){i=vn[r];o=i.component;o&&o.onFocusOut&&o.onFocusOut(i.ctx);r--}r=a;while(r+1<n.length){i=n[r];o=i.component;o&&o.onFocusIn&&o.onFocusIn(i.ctx);r++}if(r<n.length){i=n[r];Ot(i,"onFocus")}vn=n;bn=vn.length==0?e:vn[vn.length-1];Sn.forEach(e=>e.update(n))}kn=!1;return!1}function Cn(){We(()=>wn(!1),10);return!1}at("^focus",50,()=>wn(!0));at("^blur",50,Cn);function Tn(){return bn}function En(t){if(t.propagationStopped!=e)return;t.defaultPrevented=!1;t.preventDefault=(()=>{t.defaultPrevented=!0;t._ctx=Bt});t.propagationStopped=!1;t.immediatePropagationStopped=!1;t.stopPropagation=(()=>{t.propagationStopped=!0});t.stopImmediatePropagation=(()=>{t.immediatePropagationStopped=!0;t.stopPropagation()})}function An(t){if(t.propagationStopped==e)return;t.defaultPrevented=!1;t.propagationStopped=!1;t.immediatePropagationStopped=!1;t._ctx=e}var Nn=[];function Pn(e,t,n){let a={node:n,target:n,originalEvent:e};En(a);for(var r=0;r<Nn.length;r++){Nn[r](a)}$t("onScroll",a);return!1}at("^scroll",10,Pn);class CSSMatrix{constructor(e){this.data=e}static fromString(e){var t=e.match(/matrix3?d?\(([^\)]+)\)/i)[1].split(",");t.length===6&&(t=[t[0],t[1],"0","0",t[2],t[3],"0","0","0","0","1","0",t[4],t[5],"0","1"]);return new CSSMatrix([parseFloat(t[0]),parseFloat(t[4]),parseFloat(t[8]),parseFloat(t[12]),parseFloat(t[1]),parseFloat(t[5]),parseFloat(t[9]),parseFloat(t[13]),parseFloat(t[2]),parseFloat(t[6]),parseFloat(t[10]),parseFloat(t[14]),parseFloat(t[3]),parseFloat(t[7]),parseFloat(t[11]),parseFloat(t[15])])}static identity(){return new CSSMatrix([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}multiply(e){var t=this.data;var n=e.data;return new CSSMatrix([t[0]*n[0]+t[1]*n[4]+t[2]*n[8]+t[3]*n[12],t[0]*n[1]+t[1]*n[5]+t[2]*n[9]+t[3]*n[13],t[0]*n[2]+t[1]*n[6]+t[2]*n[10]+t[3]*n[14],t[0]*n[3]+t[1]*n[7]+t[2]*n[11]+t[3]*n[15],t[4]*n[0]+t[5]*n[4]+t[6]*n[8]+t[7]*n[12],t[4]*n[1]+t[5]*n[5]+t[6]*n[9]+t[7]*n[13],t[4]*n[2]+t[5]*n[6]+t[6]*n[10]+t[7]*n[14],t[4]*n[3]+t[5]*n[7]+t[6]*n[11]+t[7]*n[15],t[8]*n[0]+t[9]*n[4]+t[10]*n[8]+t[11]*n[12],t[8]*n[1]+t[9]*n[5]+t[10]*n[9]+t[11]*n[13],t[8]*n[2]+t[9]*n[6]+t[10]*n[10]+t[11]*n[14],t[8]*n[3]+t[9]*n[7]+t[10]*n[11]+t[11]*n[15],t[12]*n[0]+t[13]*n[4]+t[14]*n[8]+t[15]*n[12],t[12]*n[1]+t[13]*n[5]+t[14]*n[9]+t[15]*n[13],t[12]*n[2]+t[13]*n[6]+t[14]*n[10]+t[15]*n[14],t[12]*n[3]+t[13]*n[7]+t[14]*n[11]+t[15]*n[15]])}translate(e,t,n){var a=new CSSMatrix([1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1]);return this.multiply(a)}inverse(){var e=this.data;var t=e[0];var n=e[1];var a=e[2];var r=e[4];var i=e[5];var o=e[6];var s=e[8];var l=e[9];var d=e[10];var c=i*d-o*l;var h=o*s-r*d;var u=r*l-i*s;var p=a*l-n*d;var _=t*d-a*s;var f=n*s-t*l;var g=n*o-a*i;var m=a*r-t*o;var y=t*i-n*r;var x=t*c+n*h+a*u;var b=new CSSMatrix([c/x,p/x,g/x,0,h/x,_/x,m/x,0,u/x,f/x,y/x,0,0,0,0,1]);var v=new CSSMatrix([1,0,0,-e[3],0,1,0,-e[7],0,0,1,-e[11],0,0,0,1]);return b.multiply(v)}transformPoint(e,t){var n=this.data;return[n[0]*e+n[1]*t+n[3],n[4]*e+n[5]*t+n[7]]}}function Ln(e,t){if(d(e)&&!l(e)&&!h(e)){e.key=t;return e}return{key:t,children:e}}function Mn(t,n,a){var r=t.me.cfg;if(r!==e){r[n]=a}else{r=Object.assign({},t.cfg);r[n]=a;t.me.cfg=r}}function Dn(t){return(n,a)=>{if(a!==e){n==e&&(n={});n.children=a}return{data:n,component:t}}}const In=new Map;function Bn(e){var t=new Map;do{Object.getOwnPropertyNames(e).forEach(function(t){this.has(t)||this.set(t,Object.getOwnPropertyDescriptor(e,t))},t)}while(e=Object.getPrototypeOf(e));return t}const Rn=new Set("key className component data children".split(" "));function On(t,n){let a;const r=arguments.length-2;if(r===0){}else if(r===1){a=arguments[2]}else{a=new Array(r);for(let e=0;e<r;e++){a[e]=arguments[e+2]}}if(o(t)){var i=r===0?{tag:t}:{tag:t,children:a};if(n==e){return i}var s,d;for(var c in n){if(!f.call(n,c))continue;var h=n[c];if(Rn.has(c)){i[c]=h}else if(c==="style"){if(l(h)){i[c]=h}else{ee(i,h)}}else if(c==="ref"){if(o(h)){re();i.ref=[re(),h]}else i.ref=h}else if(c.startsWith("on")&&l(h)){if(d==e){d=p();i.component=d}d[c]=h.call.bind(h);continue}else{if(s==e){s=p();i.attrs=s}s[c]=h}}return i}else{let i,o=In.get(t);if(o===e){o=Qn(t);In.set(t,o)}if(r==0){i=o(n)}else{if(o.length==1){if(n==e)n={children:a};else n.children=a;i=o(n)}else{i=o(n,a)}}if(i==e)return i;if(n!=e){if(n.ref!==e){i.ref=n.ref;delete n.ref}if(n.key!==e){i.key=n.key;delete n.key}}return i}}var Fn={tag:"-"};function jn(e){return{children:e.children}}class Component extends BobrilCtx{constructor(e,t){super(e,t)}}function Hn(t){return(n,a,r)=>{var i,o;var s=t.call(n,n.data);if(s===Fn){a.tag="-";return}var l=(i=s===null||s===void 0?void 0:s.component)===null||i===void 0?void 0:i.src;l===jn&&s.key===e&&(s=(o=s.data)===null||o===void 0?void 0:o.children);a.children=s}}function $n(e){return t=>{e.call(t,t.data)}}function Wn(e){return(t,n,a)=>e.call(t,n.data,a.data)}function zn(e){return e.call.bind(e)}function qn(t,n,a){const r=t[n];if(r!=e){t[n]=((e,t)=>{r(e,t);a.call(e,t)})}else{t[n]=zn(a)}}const Un="postInitDom";const Yn="postUpdateDom";const Gn="postUpdateDomEverytime";const Vn=["destroy",Un,Yn,Gn];function Xn(t,n){const a={};if(t.prototype instanceof Component){let r=t.prototype,i=r.constructor;a.id=Kn(n,i);let o=Bn(r);o.forEach((t,n)=>{const r=t.value;if(r==e)return;let i=e;if(n==="render"){i=Hn(r)}else if(n==="init"){i=$n(r)}else if(n==="shouldChange"){i=Wn(r)}else if(Vn.indexOf(n)>=0){qn(a,n,r)}else if(n==="postRenderDom"){qn(a,Vn[1],r);qn(a,Vn[2],r)}else l(r)&&/^(?:canDeactivate$|on[A-Z])/.test(n)&&(i=zn(r));i!==e&&(a[n]=i)});a.ctxClass=t;a.canActivate=i.canActivate}else{a.id=Kn(n,t);a.render=Hn(t)}a.src=t;return e=>({data:e,component:a})}function Kn(e,t){return e||t.id||t.name+"_"+qt()}
function Qn(e){if(e.prototype instanceof Component){return Xn(e)}else if(e.length==2){return e}else{return Xn(e)}}function Zn(){let t=ne.$hooks;if(t===e){t=[];ne.$hooks=t}return t}function Jn(e){l(e)&&(e=e(this[0]));if(!_(e,this[0])){this[0]=e;k(this[2])}}function ea(){var e=0;var t=this;return{next:function(){return{value:t[e++],done:!1}}}}function ta(t){const n=ae++;const a=Zn();const r=ne;let i=a[n];if(i===e){l(t)&&(t=t());i=((...e)=>{if(e.length==1&&!_(e[0],i[0])){i[0]=e[0];k(i[2])}return i[0]});i[0]=t;i[1]=Jn.bind(i);i[2]=r;i[Symbol.iterator]=ea;a[n]=i}return i}function na(t,n){n===e&&(n="__b#"+qt());return{id:n,dv:t}}function aa(t){if(ne==e)throw new Error("use like hooks could be used only from component context");const n=ne.me.cfg||ne.cfg;if(o(t)){if(n==e)return e;return n[t]}else{if(n==e||!(t.id in n))return t.dv;return n[t.id]}}function ra(t,n){const a=n.me.cfg||n.cfg;if(a==e||!(t.id in a))return t.dv;return a[t.id]}function ia(e,t){Mn(ne,o(e)?e:e.id,t)}function oa(t){const n=ae++;const a=Zn();let r=a[n];if(r===e){r={dispose(){l(t)?t(ne):t.dispose()},disposer:t};a[n]=r;ge(ne,r)}else{r.disposer=t}}function sa(t){const n=t.$hooks;const a=n.length;for(let r=0;r<a;r++){let a=n[r],i=a[Un];i!==e&&i.call(a,t)}}function la(t){const n=t.$hooks;const a=n.length;for(let r=0;r<a;r++){let a=n[r],i=a[Yn];i!==e&&i.call(a,t)}}function da(t){const n=t.$hooks;const a=n.length;for(let r=0;r<a;r++){let a=n[r],i=a[Gn];i!==e&&i.call(a,t)}}class DepsChangeDetector{detectChange(t){let n=!1;if(t!=e){let a=this.deps;if(a==e){n=!0}else{let e=t.length;if(e!=a.length)n=!0;else{for(let r=0;r<e;r++){if(!_(t[r],a[r])){n=!0;break}}}}}else n=!0;this.deps=t;return n}}class CommonEffectHook extends DepsChangeDetector{constructor(){super(...arguments);this.shouldRun=!1}update(e,t){this.callback=e;this.detectChange(t)&&this.doRun()}doRun(){this.shouldRun=!0}run(){const t=this.callback;if(t!=e){this.dispose();this.lastDisposer=t()}}dispose(){this.callback=e;l(this.lastDisposer)&&this.lastDisposer();this.lastDisposer=e}}class LayoutEffectHook extends CommonEffectHook{postInitDom(e){this[Gn].call(this,e)}postUpdateDomEverytime(e){if(this.shouldRun){this.shouldRun=!1;this.run();e[Ge]>Je&&_t()}}}function ca(t,n){const a=ae++;const r=Zn();let i=r[a];if(i===e){ne.$hookFlags|=S|C;i=new LayoutEffectHook;ge(ne,i);r[a]=i}i.update(t,n)}class EventsHook{}class CaptureEventsHook{}const ha={Up:"ArrowUp",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Del:"Delete",Crsel:"CrSel",Exsel:"ExSel",Esc:"Escape",Apps:"ContextMenu",OS:"Meta",Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Nonconvert:"NonConvert",Decimal:".",Separator:",",Multiply:"*",Add:"+",Divide:"/",Subtract:"-",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",MediaFastForward:"FastFwd",Live:"TV",Zoom:"ZoomToggle",SelectMedia:"LaunchMediaPlayer",MediaSelect:"LaunchMediaPlayer",VolumeUp:"AudioVolumeUp",VolumeDown:"AudioVolumeDown",VolumeMute:"AudioVolumeMute"};function ua(t){return{target:e,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,meta:t.metaKey||!1,which:t.which||t.keyCode,key:ha[t.key]||t.key,repeat:t.repeat,originalEvent:t}}function pa(e,t,n){if(!n)return!1;var a=ua(e);if(Ot(n,"onKeyDown",a)){Ut(e);return!0}return!1}function _a(e,t,n){if(!n)return!1;var a=ua(e);if(Ot(n,"onKeyUp",a)){Ut(e);return!0}return!1}function fa(e,t,n){if(!n)return!1;if(e.which===0||e.altKey)return!1;var a={charCode:e.which||e.keyCode,key:ha[e.key]||e.key,originalEvent:e};if(Ot(n,"onKeyPress",a)){Ut(e);return!0}return!1}at("keydown",50,pa);at("keyup",50,_a);at("keypress",50,fa);var ga;const ma=13;const ya=750;const xa=500;const ba=50;let va=null;const ka="onClick";const Sa="onDoubleClick";function wa(t,n){En(n);if(va==e){return!1}var a=va.me.component;var r=a[t];if(!r){return!1}var i=Rt(()=>r.call(a,va,n),va);return i}function Ca(e,t){at(e,5,t)}var Ta=["PointerDown","PointerMove","PointerUp","PointerCancel"];var Ea;function Aa(e){if(e==="mouse"||e===4)return 0;if(e==="pen"||e===3)return 2;return 1}function Na(e){return function t(n,a,r){a=n.target;r=ke(a);let i=n.button+1;let o=Aa(n.pointerType);let s=n.buttons;if(i===0&&o===0&&s){i=1;while(!(s&1)){s=s>>1;i++}}var l={target:r,id:n.pointerId,cancelable:lr(n),type:o,x:n.clientX,y:n.clientY,button:i,shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail};if(rt("!"+e,l,a,r)){Ut(n);return!0}return!1}}function Pa(e){return function t(n,a,r){var i=!1;for(var o=0;o<n.changedTouches.length;o++){var s=n.changedTouches[o];a=s.target;r=ke(a);var l={target:r,id:s.identifier+2,cancelable:lr(n),type:1,x:s.clientX,y:s.clientY,button:1,shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail,originalEvent:n};rt("!"+e,l,a,r)&&(i=!0)}if(i){Ut(n);return!0}return!1}}function La(e){return function t(n,a,r){a=n.target;r=ke(a);var i={target:r,id:1,type:0,cancelable:lr(n),x:n.clientX,y:n.clientY,button:sr(n),shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail,originalEvent:n};if(rt("!"+e,i,a,r)){Ut(n);return!0}return!1}}function Ma(){Ca("mousedown",La(Ta[0]));Ca("mousemove",La(Ta[1]));Ca("mouseup",La(Ta[2]))}if(window.ontouchstart!==e){Ca("touchstart",Pa(Ta[0]));Ca("touchmove",Pa(Ta[1]));Ca("touchend",Pa(Ta[2]));Ca("touchcancel",Pa(Ta[3]));Ma()}else if(window.onpointerdown!==e){for(Ea=0;Ea<4;Ea++){var Da=Ta[Ea];Ca(Da.toLowerCase(),Na(Da))}}else{Ma()}for(var Ia=0;Ia<4;Ia++){(t=>{var n="on"+t;at("!"+t,50,(t,a,r)=>wa(n,t)||Ot(r,n,t)!=e)})(Ta[Ia])}var Ba=p();var Ra=[];var Oa=-1;var Fa=0;var ja=0;var Ha=0;var $a=!1;function Wa(e,t,n){return Math.abs(e-t)<n}var za=[];var qa="!PointerRevalidate";at(qa,3,Ga);function Ua(t){var n=[];while(t!=e){n.push(t);t=t.parent}return n.reverse()}const Ya=new Set;function Ga(e){var t=e.target;var n=Ua(t);Ya.forEach(e=>e.update(n));Ot(t,"onMouseOver",e);An(e);var a=0;while(a<za.length&&a<n.length&&za[a]===n[a])a++;var r;var i;var o=za.length;if(o>0&&(o>a||o!=n.length)){r=za[o-1];if(r){i=r.component;i&&i.onMouseOut&&i.onMouseOut(r.ctx,e)}}while(o>a){o--;r=za[o];if(r){i=r.component;i&&i.onMouseLeave&&i.onMouseLeave(r.ctx,e)}}while(o<n.length){r=n[o];if(r){i=r.component;i&&i.onMouseEnter&&i.onMouseEnter(r.ctx,e)}o++}za=n;if(o>0&&(o>a||o!=za.length)){r=za[o-1];if(r){i=r.component;i&&i.onMouseIn&&i.onMouseIn(r.ctx,e)}}return!1}function Va(){return Object.keys(Ba).length===0}function Xa(e,t,n){if(Oa===-1&&Va()){Oa=e.id;Fa=ze();ja=e.x;Ha=e.y;$a=!1;Ga(e)}Ba[e.id]=e.type;Oa!==e.id&&($a=!0);return!1}function Ka(e,t,n){if(e.type===0&&e.button===0&&Ba[e.id]!=null){e.button=1;rt("!PointerUp",e,t,n);e.button=0}if(Oa===e.id){Ga(e);(!Wa(ja,e.x,ma)||!Wa(Ha,e.y,ma))&&($a=!0)}else Va()&&Ga(e);return!1}let Qa=0;let Za=0;function Ja(e){if(Za==0)return!1;let t=ze();if(t<Qa+1e3&&e>=Za){Qa=t;Za=e;return!0}Za=0;return!1}function er(e,t,n){delete Ba[e.id];if(Oa==e.id){Ga(e);Oa=-1;if(e.type==1&&!$a){if(ze()-Fa<ya){rt("!PointerCancel",e,t,n);Ja(1);var a=wa(ka,e)||Ot(n,ka,e)!=null;Ra.push([e.x,e.y,ze()+xa,a?1:0]);return a}}else $a&&ga(e.x,e.y)}return!1}function tr(e,t,n){delete Ba[e.id];Oa==e.id&&(Oa=-1);return!1}function nr(e,t,n){var a=ze();for(var r=0;r<Ra.length;r++){var i=Ra[r];if(i[2]<a){Ra.splice(r,1);r--;continue}if(Wa(i[0],e.clientX,ba)&&Wa(i[1],e.clientY,ba)){Ra.splice(r,1);i[3]&&Ut(e);return!0}}return!1}var ar=["!PointerDown","!PointerMove","!PointerUp","!PointerCancel","click"];var rr=[Xa,Ka,er,tr,nr];for(var Ea=0;Ea<5;Ea++){at(ar[Ea],3,rr[Ea])}function ir(e){return(t,n,a)=>{if(Oa!=t.id&&!Va())return!1;if(wa(e,t)||Ot(a,e,t)){return!0}return!1}}var or=["Down","Move","Up","Up"];for(var Ea=0;Ea<4;Ea++){at(ar[Ea],80,ir("onMouse"+or[Ea]))}function sr(e){return e.which||e.button}function lr(e){var t=e.cancelable;return!s(t)||t}function dr(e,t){return(n,a,r)=>{let i=sr(n)||1;if(!t&&i!==1)return!1;let o={target:r,x:n.clientX,y:n.clientY,button:i,cancelable:lr(n),shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail||1,originalEvent:n};e==Sa&&(o.count=2);if(Ja(o.count)||wa(e,o)||Ot(r,e,o)){Ut(n);return!0}return!1}}function cr(e,t){return ke(document.elementFromPoint(e,t))}Ca("click",dr(ka));Ca("dblclick",dr(Sa));Ca("contextmenu",dr("onContextMenu",!0));function hr(e,t,n){let a=e.button+1;let r=e.buttons;if(a===0&&r){a=1;while(!(r&1)){r=r>>1;a++}}let i=e.deltaX;let o=e.deltaY;var s={target:n,dx:i,dy:o,x:e.clientX,y:e.clientY,cancelable:lr(e),button:a,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey||!1,count:e.detail,originalEvent:e};if(wa("onMouseWheel",s)||Ot(n,"onMouseWheel",s)){Ut(e);return!0}return!1}Ca("wheel",hr);const ur=(e,t)=>{Ra.push([e,t,ze()+xa,1])};ga=ur;at(ar[0],2,()=>!1);at("keydown",2,e=>{!e.metaKey&&!e.altKey&&e.ctrlKey;return!1});var pr=null;var _r=[[414,800,900],[736,1280,1440]];function fr(){pr=null;k();return!1}var gr=["resize","orientationchange"];for(var mr=0;mr<gr.length;mr++)at(gr[mr],10,fr);var yr=window.document.documentElement;var xr=/Android/i.test(navigator.userAgent);var br;function vr(){if(pr==e){var t=yr.clientWidth,n=yr.clientHeight,a=window.orientation,r=n>=t;if(a==e)a=r?0:90;else a=+a;if(xr){let t=Math.abs(a)%180===90;if(br==e){br=t===r}else{r=t===br}}var i=0;while(t>_r[+!r][i])i++;pr={width:t,height:n,orientation:a,deviceCategory:i,portrait:r,dppx:window.devicePixelRatio}}return pr}const kr=["Webkit","Moz","O"];const Sr=document.createElement("div").style;function wr(e){return o(Sr[e])}var Cr=new Map;var Tr=new Set("boxFlex boxFlexGroup columnCount flex flexGrow flexNegative flexPositive flexShrink fontWeight lineClamp lineHeight opacity order orphans strokeDashoffset widows zIndex zoom".split(" "));function Er(t){return(n,a,r)=>{n[t]=a;n[r]=e}}function Ar(t){return(n,a,r)=>{if(i(a)){n[t]=a+"px"}else{n[t]=a}n[r]=e}}function Nr(e,t,n){i(t)&&(e[n]=t+"px")}function Pr(t){var n=Object.keys(t);for(var a=0,r=n.length;a<r;a++){var i=n[a],o=Cr.get(i),s=t[i];if(s===e)continue;if(o===e){if(wr(i)){o=Tr.has(i)?u:Nr}else{var l=i.replace(/^\w/,e=>e.toUpperCase());for(var d=0;d<kr.length;d++){if(wr(kr[d]+l)){o=(Tr.has(i)?Er:Ar)(kr[d]+l);break}}o===e&&(o=Tr.has(i)?u:Nr)}Cr.set(i,o)}o(t,s,i)}}function Lr(e,t){e.removeProperty(ai(t))}function Mr(e,t,n){let a=n.length;if(a>11&&n.substr(a-11,11)===" !important"){e.setProperty(ai(t),n.substr(0,a-11),"important");return}e.setProperty(ai(t),n)}function Dr(e,t,n){if(n)e.setAttribute("class",t);else e.className=t}function Ir(t,n,a){var r=t.style;if(n!==e){Pr(n);var i;if(a!==e){for(i in a){if(a[i]===e)continue;n[i]===e&&Lr(r,i)}for(i in n){var o=n[i];o!==e&&a[i]!==o&&Mr(r,i,o)}}else{for(i in n){var o=n[i];o!==e&&Mr(r,i,o)}}}else{if(a!==e){for(i in a){Lr(r,i)}}}}function Br(t,n,a,r,i){if(l(n)){var o=le(n,r);n=o.style;a=o.className}n&&Ir(t,n,e);a&&Dr(t,a,i)}function Rr(e,t,n,a,r){if(l(t)){var i=le(t,a);t=i.style;n=i.className}else{de(a)}Ir(e,t,a.style);a.style=t;if(n!==a.className){Dr(e,n||"",r);a.className=n}}var Or=p();var Fr=p();var jr=p();var Hr=[];var $r=new Map;var Wr=p();var zr="";var qr=!1;var Ur=null;var Yr=0;var Gr=v(Zr);const Vr=/\:|\ |\>/;function Xr(e){let t=Vr.exec(e);if(!t)return Or[e].name;let n=t.index;return Or[e.substring(0,n)].name+e.substring(n)}function Kr(e,t){let n="";if(e){if(h(e)){for(let a=0;a<e.length;a++){a>0&&(n+=",");n+="."+Xr(e[a])+"."+t}}else{n="."+Xr(e)+"."+t}}else{n="."+t}return n}function Qr(t,n,a,r){if(o(a)){if($r.has(a)){$r.get(a).used=!0;$r.delete(a);oi()}let r=Or[a];if(r===e){throw new Error("Unknown style "+a)}Qr(t,n,r.style,r.pseudo)}else if(l(a)){a(t,n)}else if(h(a)){for(let r=0;r<a.length;r++){Qr(t,n,a[r],e)}}else if(d(a)){for(let e in a){if(!f.call(a,e))continue;let n=a[e];l(n)&&(n=n(t,e));t[e]=n}}if(r!=e&&n!=e){for(let t in r){let a=n[t];if(a===e){a=p();n[t]=a}Qr(a,e,r[t],e)}}}function Zr(t){vr().dppx;if(qr){qr=!1;var n,n;for(let t=0;t<Hr.length;t++){let a=Hr[t],r=Wr[a.url];if(r==e)continue;let i=a.color();if(i!==a.lastColor){a.lastColor=i;a.width==e&&(a.width=r.width);a.height==e&&(a.height=r.height);let t=di(r,i,a.width,a.height,a.left,a.top);var n=Or[a.styleId];n.style={backgroundImage:`url(${t})`,width:a.width,height:a.height,backgroundPosition:0}}}var a=zr;for(var r in Fr){var i=Fr[r];a+="@keyframes "+i.name+" {";for(var s in i.def){let t=i.def[s],n=p();Qr(n,e,t,e);Pr(n);a+=s+(s=="from"||s=="to"?"":"%")+" {"+ri(n)+"}\n"}a+="}\n"}for(var r in Or){var d=Or[r];let t=d.parent,n=d.name,i=d.pseudo,c=d.style;l(c)&&c.length===0&&([c,i]=c());if(o(c)&&i==e){d.realName=c;continue}d.realName=n;let h=p(),u=p();Qr(e,u,e,i);Qr(h,u,c,e);Pr(h);let _=ri(h);_.length>0&&(a+=(n==e?t:Kr(t,n))+" {"+_+"}\n");for(var s in u){let r=u[s];Pr(r);a+=(n==e?t+Jr(s):Kr(t,n+Jr(s)))+" {"+ri(r)+"}\n"}}for(var r in jr){var c=jr[r];a+="@media "+r+"{";for(var h of c){for(var s in h){let t=h[s],n=p();Qr(n,e,t,e);Pr(n);a+="."+s+" {"+ri(n)+"}\n"}}a+="}\n"}if(a.length>0){var u=document.createElement("style");u.appendChild(g(a));var _=document.head;if(Ur!=null){_.replaceChild(u,Ur)}else{_.appendChild(u)}Ur=u}}Gr(t)}function Jr(e){var t=e.charCodeAt(0);if(t==32||t==91||t==46)return e;return":"+e}function ei(t,...n){let a=t.className;let r=t.style;let i=null;let s=0;let d=n;while(!0){if(d.length===s){if(i===null||i.length===0)break;d=i.pop();s=i.pop()+1;continue}let t=d[s];if(t==e||t===!0||t===!1||t===""||t===0){}else if(o(t)){if($r.has(t)){$r.get(t).used=!0;$r.delete(t);qr=!0}var c=Or[t];c!=e&&(t=c.realName);if(a==e)a=t;else a+=" "+t}else if(h(t)){if(d.length>s+1){i==e&&(i=[]);i.push(s);i.push(d)}d=t;s=0;continue}else{r==e&&(r=p());for(let e in t){if(f.call(t,e)){let n=t[e];l(n)&&(n=n());r[e]=n}}}s++}t.className=a;t.style=r;return t}const ti=/([A-Z])/g;const ni=new Map([["cssFloat","float"]]);function ai(t){var n=ni.get(t);if(n===e){n=t.replace(ti,"-$1").toLowerCase();ni.set(t,n)}return n}function ri(t){var n="";for(var a in t){var r=t[a];if(r===e)continue;n+=ai(a)+":"+(r===""?'""':r)+";"}n=n.slice(0,-1);return n}function ii(e,t,n){Or["b-"+Yr++]={name:null,realName:null,parent:e,style:t,pseudo:n};qr=!0}function oi(){qr=!0;k()}const si=/\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d+|\d*\.\d+)\s*\)\s*/;function li(e,t){var n=document.createElement("canvas");n.width=e;n.height=t;return[n,n.getContext("2d")]}function di(e,t,n,a,r,i){let[o,s]=li(n,a);let l=s.createImageData(n,a);let d=l.data;let c=si.exec(t);let h,u,p,_;if(c){h=parseInt(c[1],10);u=parseInt(c[2],10);p=parseInt(c[3],10);_=Math.round(parseFloat(c[4])*255)}else{h=parseInt(t.slice(1,3),16);u=parseInt(t.slice(3,5),16);p=parseInt(t.slice(5,7),16);_=t.length==9?parseInt(t.slice(7,9),16):255}let f=0;let g=4*n;let m=e.data;let y=4*e.width;let x=r*4+i*y;for(let e=0;e<a;e++){d.subarray(f,f+g).set(m.subarray(x,x+g));f+=g;x+=y}if(_===255){for(let e=0;e<d.length;e+=4){let t=d[e];if(t===d[e+1]&&t===d[e+2]&&(t===128||d[e+3]<255&&t>112)){d[e]=h;d[e+1]=u;d[e+2]=p}}}else{for(let e=0;e<d.length;e+=4){let t=d[e],n=d[e+3];if(t===d[e+1]&&t===d[e+2]&&(t===128||n<255&&t>112)){if(n===255){d[e]=h;d[e+1]=u;d[e+2]=p;d[e+3]=_}else{n=n*(1/255);d[e]=Math.round(h*n);d[e+1]=Math.round(u*n);d[e+2]=Math.round(p*n);d[e+3]=Math.round(_*n)}}}}s.putImageData(l,0,0);return o.toDataURL()}function ci(e,t){Cr.set(e,t)}ci("float",Er("cssFloat"));te(Br,Rr,ei);var hi=-1;function ui(){hi>=0&&clearTimeout(hi);hi=-1;k();return!1}at("hashchange",10,ui);let pi=0;at("popstate",5,t=>{var n;let a=(n=t.state)===null||n===void 0?void 0:n.historyDeepness;if(a!=e){t.state.state;a!=pi&&k();pi=a}return!1});const _i=["none","link","copy","move"];var fi=["none","link","copy","copyLink","move","linkMove","copyMove","all"];var gi=0;var mi=[];var yi=null;var xi=null;var bi=function(t){this.id=++gi;this.pointerid=t;this.enabledOperations=7;this.operation=0;this.started=!1;this.beforeDrag=!0;this.local=!0;this.system=!1;this.ended=!1;this.cursor=null;this.overNode=e;this.targetCtx=null;this.dragView=e;this.startX=0;this.startY=0;this.distanceToStart=10;this.x=0;this.y=0;this.deltaX=0;this.deltaY=0;this.totalX=0;this.totalY=0;this.lastX=0;this.lastY=0;this.shift=!1;this.ctrl=!1;this.alt=!1;this.meta=!1;this.data=p();t>=0&&(Ni[t]=this);mi.push(this)};const vi="b-dragging";let ki=!0;function Si(){if(xi==e){if(ki){ii("html."+vi+" *",{cursor:"inherit !important",userSelect:"none !important"});ki=!1}var t=document.documentElement;t.classList.add(vi);xi=Tt(Ei)}}var wi={render(e,t){var n=e.data;t.tag="div";t.style={position:"absolute",left:n.x,top:n.y};t.children=n.dragView(n)}};function Ci(){let e="no-drop";if(mi.length!==0){let t=mi[0];if(t.beforeDrag)return"";if(t.cursor!=null)return t.cursor;if(t.system)return"";switch(t.operation){case 3:e="move";break;case 1:e="alias";break;case 2:e="copy";break}}return e}var Ti={render(e,t){var n=[];for(var a=0;a<mi.length;a++){var r=mi[a];if(r.beforeDrag)continue;r.dragView!=null&&(r.x!=0||r.y!=0)&&n.push({key:""+r.id,data:r,component:wi})}t.tag="div";t.style={position:"fixed",zIndex:1e9,pointerEvents:"none",userSelect:"none",left:0,top:0,right:0,bottom:0};let i=document.documentElement.style;let o=Ci();if(o){i.cursor!==o&&i.setProperty("cursor",o,"important")}else{i.setProperty("cursor","")}t.children=n},onDrag(e){k(e);return!1}};function Ei(){return{component:Ti}}var Ai=bi.prototype;Ai.setOperation=function(e){this.operation=e};Ai.setDragNodeView=function(e){this.dragView=e};Ai.addData=function(e,t){this.data[e]=t;return!0};Ai.listData=function(){return Object.keys(this.data)};Ai.hasData=function(t){return this.data[t]!==e};Ai.getData=function(e){return this.data[e]};Ai.setEnabledOps=function(e){this.enabledOperations=e};Ai.cancelDnd=function(){Li(e,this);this.destroy()};Ai.destroy=function(){this.ended=!0;An(this);this.started&&Wt("onDragEnd",this);An(this);delete Ni[this.pointerid];for(var e=0;e<mi.length;e++){if(mi[e]===this){mi.splice(e,1);break}}yi===this&&(yi=null);if(mi.length===0&&xi!=null){Et(xi);xi=null;var t=document.documentElement;t.classList.remove(vi);t.style.setProperty("cursor","")}};var Ni=p();function Pi(t,n,a){var r=Ni[t.id];r&&r.cancelDnd();if(t.button<=1){r=new bi(t.id);r.startX=t.x;r.startY=t.y;r.lastX=t.x;r.lastY=t.y;r.overNode=a;Mi(r,t);var i=Ot(a,"onDragStart",r);An(r);if(i){var o=Te(i.me);if(o==e){r.destroy();return!1}r.started=!0;var s=o.getBoundingClientRect;if(s){var l=s.call(o);r.deltaX=l.left-t.x;r.deltaY=l.top-t.y}if(r.distanceToStart<=0){r.beforeDrag=!1;Li(a,r)}Si()}else{r.destroy()}}return!1}function Li(t,n){n.overNode=t;An(n);n.targetCtx=Ot(t,"onDragOver",n);n.targetCtx==e&&(n.operation=0);An(n);Wt("onDrag",n);An(n)}function Mi(e,t){e.shift=t.shift;e.ctrl=t.ctrl;e.alt=t.alt;e.meta=t.meta;e.x=t.x;e.y=t.y}function Di(e,t,n){var a=Ni[e.id];if(!a)return!1;a.totalX+=Math.abs(e.x-a.lastX);a.totalY+=Math.abs(e.y-a.lastY);if(a.beforeDrag){if(a.totalX+a.totalY<=a.distanceToStart){a.lastX=e.x;a.lastY=e.y;return!1}a.beforeDrag=!1}Mi(a,e);Li(n,a);a.lastX=e.x;a.lastY=e.y;return!0}function Ii(e,t,n){var a=Ni[e.id];if(!a)return!1;if(!a.beforeDrag){Mi(a,e);Li(n,a);var r=a.targetCtx;if(r&&Ot(r.me,"onDrop",a)){a.destroy()}else{a.cancelDnd()}An(a);ga(e.x,e.y);return!0}a.destroy();return!1}function Bi(e,t,n){var a=Ni[e.id];if(!a)return!1;if(a.system)return!1;if(!a.beforeDrag){a.cancelDnd()}else{a.destroy()}return!1}function Ri(e,t){e.shift=t.shiftKey;e.ctrl=t.ctrlKey;e.alt=t.altKey;e.meta=t.metaKey;e.x=t.clientX;e.y=t.clientY;e.totalX+=Math.abs(e.x-e.lastX);e.totalY+=Math.abs(e.y-e.lastY);var n=cr(e.x,e.y);Li(n,e);e.lastX=e.x;e.lastY=e.y;e.originalEvent=t}function Oi(t,n,a){var r=yi;r!=null&&r.destroy();var i=Object.keys(Ni);if(i.length>0){r=Ni[i[0]];r.system=!0;yi=r}else{var s=t.clientX,l=t.clientY;r=new bi(-1);r.system=!0;yi=r;r.x=s;r.y=l;r.lastX=s;r.lastY=l;r.startX=s;r.startY=l;var d=Ot(a,"onDragStart",r);An(r);if(d){var c=Te(d.me);if(c==e){r.destroy();return!1}r.started=!0;var h=c.getBoundingClientRect;if(h){var u=h.call(c);r.deltaX=u.left-s;r.deltaY=u.top-l}Si()}else{r.destroy();return!1}}r.beforeDrag=!1;var p=fi[r.enabledOperations];var _=t.dataTransfer;if(_!=e){_.effectAllowed=p;var f=document.createElement("div");f.style.pointerEvents="none";_.setDragImage(f,0,0);var g=r.data,m=Object.keys(g);for(var y=0;y<m.length;y++){try{var x=m[y],b=g[x];o(b)||(b=JSON.stringify(b));_.setData(x,b)}catch(e){}}}Ri(r,t);return!1}function Fi(t,n){var a=t.dataTransfer;if(a==e)return;a.dropEffect=_i[n]}function ji(t,n,a){var r=yi;if(r==e){r=new bi(-1);r.system=!0;yi=r;r.x=t.clientX;r.y=t.clientY;r.startX=r.x;r.startY=r.y;r.local=!1;var i=t.dataTransfer,o=0;if(i!=e){var s=e;try{s=i.effectAllowed}catch(e){}for(;o<7;o++){if(fi[o]===s)break}var l=i.types;if(l){for(var d=0;d<l.length;d++){var c=l[d];if(c==="text/plain")c="Text";else c==="text/uri-list"&&(c="Url");r.data[c]=null}}else{i.getData("Text")!==e&&(r.data["Text"]=null)}}r.enabledOperations=o}Ri(r,t);Fi(t,r.operation);if(r.operation!=0){Ut(t);return!0}return!1}function Hi(e,t,n){var a=e.clientX;var r=e.clientY;var i=vr();if(yi!=null&&(a===0&&r===0||a<0||r<0||a>=i.width||r>=i.height)){yi.x=0;yi.y=0;yi.operation=0;Wt("onDrag",yi);An(yi)}return!0}function $i(e,t,n){yi!=null&&yi.destroy();return!1}function Wi(t,n,a){var r=yi;if(r==e)return!1;r.x=t.clientX;r.y=t.clientY;if(!r.local){var i=Object.keys(r.data),o=t.dataTransfer;if(o!=e){for(let e=0;e<i.length;e++){var s=i[e],l;if(s==="Files"){l=[].slice.call(o.files,0)}else{l=o.getData(s)}r.data[s]=l}}}Ri(r,t);var d=r.targetCtx;if(d&&Ot(d.me,"onDrop",r)){An(r);Fi(t,r.operation);r.destroy();Ut(t)}else{An(r);r.cancelDnd()}return!0}function zi(e,t,n){Ut(e);return!0}function qi(e,t,n){if(mi.length===0)return!1;Ut(e);return!0}at("!PointerDown",4,Pi);at("!PointerMove",4,Di);at(qa,4,Di);at("!PointerUp",4,Ii);at("!PointerCancel",4,Bi);at("selectstart",4,qi);at("dragstart",5,Oi);at("dragover",5,ji);at("dragend",5,$i);at("drag",5,Hi);at("drop",5,Wi);at("dragenter",5,zi);at("dragleave",5,zi);const Ui=()=>mi;window.b||(window.b={deref:ke,getRoots:At,setInvalidate:kt,invalidateStyles:oi,ignoreShouldChange:vt,setAfterFrame:v,setBeforeFrame:b,getDnds:Ui,setBeforeInit:Dt,setKeysInClassNames:ce});var Yi={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}};var Gi=function(){var e={};var t={exports:e};!function(n,a){"object"==typeof e&&"undefined"!=typeof t?t.exports=a():"function"==typeof define&&define.amd?define(a):(n="undefined"!=typeof globalThis?globalThis:n||self).dayjs=a()}(this,function(){"use strict";var e=1e3,t=6e4,n=36e5,a="millisecond",r="second",i="minute",o="hour",s="day",l="week",d="month",c="quarter",h="year",u="date",p="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},m=function(e,t,n){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(n)+e},y={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),a=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+m(a,2,"0")+":"+m(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var a=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(a,d),i=n-r<0,o=t.clone().add(a+(i?-1:1),d);return+(-(a+(n-r)/(i?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:h,w:l,d:s,D:u,h:o,m:i,s:r,ms:a,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",b={};b[x]=g;var v="$isDayjsObject",k=function(e){return e instanceof C||!(!e||!e[v])},S=function e(t,n,a){var r;if(!t)return x;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(r=i),n&&(b[i]=n,r=i);var o=t.split("-");if(!r&&o.length>1)return e(o[0])}else{var s=t.name;b[s]=t,r=s}return!a&&r&&(x=r),r||!a&&x},w=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)};y.l=S,y.i=k,y.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[v]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(_);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return y},m.isValid=function(){return!(this.$d.toString()===p)},m.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return w(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<w(e)},m.$g=function(e,t,n){return y.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,a=!!y.u(t)||t,c=y.p(e),p=function(e,t){var r=y.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return a?r:r.endOf(s)},_=function(e,t){return y.w(n.toDate()[e].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,g=this.$M,m=this.$D,x="set"+(this.$u?"UTC":"");switch(c){case h:return a?p(1,0):p(31,11);case d:return a?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,v=(f<b?f+7:f)-b;return p(a?m-v:m+(6-v),g);case s:case u:return _(x+"Hours",0);case o:return _(x+"Minutes",1);case i:return _(x+"Seconds",2);case r:return _(x+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var n,l=y.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[s]=c+"Date",n[u]=c+"Date",n[d]=c+"Month",n[h]=c+"FullYear",n[o]=c+"Hours",n[i]=c+"Minutes",n[r]=c+"Seconds",n[a]=c+"Milliseconds",n)[l],_=l===s?this.$D+(t-this.$W):t;if(l===d||l===h){var f=this.clone().set(u,1);f.$d[p](_),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](_);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[y.p(e)]()},m.add=function(a,c){var u,p=this;a=Number(a);var _=y.p(c),f=function(e){var t=w(p);return y.w(t.date(t.date()+Math.round(e*a)),p)};if(_===d)return this.set(d,this.$M+a);if(_===h)return this.set(h,this.$y+a);if(_===s)return f(1);if(_===l)return f(7);var g=(u={},u[i]=t,u[o]=n,u[r]=e,u)[_]||1,m=this.$d.getTime()+a*g;return y.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var a=e||"YYYY-MM-DDTHH:mm:ssZ",r=y.z(this),i=this.$H,o=this.$m,s=this.$M,l=n.weekdays,d=n.months,c=n.meridiem,h=function(e,n,r,i){return e&&(e[n]||e(t,a))||r[n].slice(0,i)},u=function(e){return y.s(i%12||12,e,"0")},_=c||function(e,t,n){var a=e<12?"AM":"PM";return n?a.toLowerCase():a};return a.replace(f,function(e,a){return a||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return y.s(t.$y,4,"0");case"M":return s+1;case"MM":return y.s(s+1,2,"0");case"MMM":return h(n.monthsShort,s,d,3);case"MMMM":return h(d,s);case"D":return t.$D;case"DD":return y.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return y.s(i,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return _(i,o,!0);case"A":return _(i,o,!1);case"m":return String(o);case"mm":return y.s(o,2,"0");case"s":return String(t.$s);case"ss":return y.s(t.$s,2,"0");case"SSS":return y.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(a,u,p){var _,f=this,g=y.p(u),m=w(a),x=(m.utcOffset()-this.utcOffset())*t,b=this-m,v=function(){return y.m(f,m)};switch(g){case h:_=v()/12;break;case d:_=v();break;case c:_=v()/3;break;case l:_=(b-x)/6048e5
break;case s:_=(b-x)/864e5;break;case o:_=b/n;break;case i:_=b/t;break;case r:_=b/e;break;default:_=b}return p?_:y.a(_)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),a=S(e,t,!0);return a&&(n.$L=a),n},m.clone=function(){return y.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),T=C.prototype;return w.prototype=T,[["$ms",a],["$s",r],["$m",i],["$H",o],["$W",s],["$M",d],["$y",h],["$D",u]].forEach(function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),w.extend=function(e,t){return e.$i||(e(t,C,w),e.$i=!0),w},w.locale=S,w.isDayjs=k,w.unix=function(e){return w(1e3*e)},w.en=b[x],w.Ls=b,w.p={},w});return n(t.exports)}.call(window);var Vi=Object.defineProperty;var Xi=(e,t)=>Vi(e,"name",{value:t,configurable:!0});var Ki=(e,t)=>{for(var n in t)Vi(e,n,{get:t[n],enumerable:!0})};var Qi={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};var Zi={trace:Xi((...e)=>{},"trace"),debug:Xi((...e)=>{},"debug"),info:Xi((...e)=>{},"info"),warn:Xi((...e)=>{},"warn"),error:Xi((...e)=>{},"error"),fatal:Xi((...e)=>{},"fatal")};var Ji=Xi(function(e="fatal"){let t=Qi.fatal;if(typeof e==="string"){e.toLowerCase()in Qi&&(t=Qi[e])}else typeof e==="number"&&(t=e);Zi.trace=(()=>{});Zi.debug=(()=>{});Zi.info=(()=>{});Zi.warn=(()=>{});Zi.error=(()=>{});Zi.fatal=(()=>{});t<=Qi.fatal&&(Zi.fatal=console.error?console.error.bind(console,eo("FATAL"),"color: orange"):console.log.bind(console,"\x1b[35m",eo("FATAL")));t<=Qi.error&&(Zi.error=console.error?console.error.bind(console,eo("ERROR"),"color: orange"):console.log.bind(console,"\x1b[31m",eo("ERROR")));t<=Qi.warn&&(Zi.warn=console.warn?console.warn.bind(console,eo("WARN"),"color: orange"):console.log.bind(console,`\x1b[33m`,eo("WARN")));t<=Qi.info&&(Zi.info=console.info?console.info.bind(console,eo("INFO"),"color: lightblue"):console.log.bind(console,"\x1b[34m",eo("INFO")));t<=Qi.debug&&(Zi.debug=console.debug?console.debug.bind(console,eo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",eo("DEBUG")));t<=Qi.trace&&(Zi.trace=console.debug?console.debug.bind(console,eo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",eo("TRACE")))},"setLogLevel");var eo=Xi(e=>{const t=Gi().format("ss.SSS");return`%c${t} : ${e} : `},"format");const to={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>{n<0&&(n+=1);n>1&&(n-=1);if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e},hsl2rgb:({h:e,s:t,l:n},a)=>{if(!t)return n*2.55;e/=360;t/=100;n/=100;const r=n<.5?n*(1+t):n+t-n*t;const i=2*n-r;switch(a){case"r":return to.hue2rgb(i,r,e+1/3)*255;case"g":return to.hue2rgb(i,r,e)*255;case"b":return to.hue2rgb(i,r,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},a)=>{e/=255;t/=255;n/=255;const r=Math.max(e,t,n);const i=Math.min(e,t,n);const o=(r+i)/2;if(a==="l")return o*100;if(r===i)return 0;const s=r-i;const l=o>.5?s/(2-r-i):s/(r+i);if(a==="s")return l*100;switch(r){case e:return((t-n)/s+(t<n?6:0))*60;case t:return((n-e)/s+2)*60;case n:return((e-t)/s+4)*60;default:return-1}}};const no={clamp:(e,t,n)=>{if(t>n)return Math.min(t,Math.max(n,e));return Math.min(n,Math.max(t,e))},round:e=>Math.round(e*1e10)/1e10};const ao={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}};const ro={channel:to,lang:no,unit:ao};const io={};for(let e=0;e<=255;e++)io[e]=ro.unit.dec2hex(e);const oo={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=oo.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=oo.ALL}is(e){return this.type===e}}class Channels{constructor(e,t){this.color=t;this.changed=!1;this.data=e;this.type=new Type}set(e,t){this.color=t;this.changed=!1;this.data=e;this.type.type=oo.ALL;return this}_ensureHSL(){const t=this.data;const{h:n,s:a,l:r}=t;n===e&&(t.h=ro.channel.rgb2hsl(t,"h"));a===e&&(t.s=ro.channel.rgb2hsl(t,"s"));r===e&&(t.l=ro.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data;const{r:n,g:a,b:r}=t;n===e&&(t.r=ro.channel.hsl2rgb(t,"r"));a===e&&(t.g=ro.channel.hsl2rgb(t,"g"));r===e&&(t.b=ro.channel.hsl2rgb(t,"b"))}get r(){const t=this.data;const n=t.r;if(!this.type.is(oo.HSL)&&n!==e)return n;this._ensureHSL();return ro.channel.hsl2rgb(t,"r")}get g(){const t=this.data;const n=t.g;if(!this.type.is(oo.HSL)&&n!==e)return n;this._ensureHSL();return ro.channel.hsl2rgb(t,"g")}get b(){const t=this.data;const n=t.b;if(!this.type.is(oo.HSL)&&n!==e)return n;this._ensureHSL();return ro.channel.hsl2rgb(t,"b")}get h(){const t=this.data;const n=t.h;if(!this.type.is(oo.RGB)&&n!==e)return n;this._ensureRGB();return ro.channel.rgb2hsl(t,"h")}get s(){const t=this.data;const n=t.s;if(!this.type.is(oo.RGB)&&n!==e)return n;this._ensureRGB();return ro.channel.rgb2hsl(t,"s")}get l(){const t=this.data;const n=t.l;if(!this.type.is(oo.RGB)&&n!==e)return n;this._ensureRGB();return ro.channel.rgb2hsl(t,"l")}get a(){return this.data.a}set r(e){this.type.set(oo.RGB);this.changed=!0;this.data.r=e}set g(e){this.type.set(oo.RGB);this.changed=!0;this.data.g=e}set b(e){this.type.set(oo.RGB);this.changed=!0;this.data.b=e}set h(e){this.type.set(oo.HSL);this.changed=!0;this.data.h=e}set s(e){this.type.set(oo.HSL);this.changed=!0;this.data.s=e}set l(e){this.type.set(oo.HSL);this.changed=!0;this.data.l=e}set a(e){this.changed=!0;this.data.a=e}}const so=new Channels({r:0,g:0,b:0,a:0},"transparent");const lo={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(lo.re);if(!t)return;const n=t[1];const a=parseInt(n,16);const r=n.length;const i=r%4===0;const o=r>4;const s=o?1:17;const l=o?8:4;const d=i?0:-1;const c=o?255:15;return so.set({r:(a>>l*(d+3)&c)*s,g:(a>>l*(d+2)&c)*s,b:(a>>l*(d+1)&c)*s,a:i?(a&c)*s/255:1},e)},stringify:e=>{const{r:t,g:n,b:a,a:r}=e;if(r<1){return`#${io[Math.round(t)]}${io[Math.round(n)]}${io[Math.round(a)]}${io[Math.round(r*255)]}`}else{return`#${io[Math.round(t)]}${io[Math.round(n)]}${io[Math.round(a)]}`}}};const co={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(co.hueRe);if(t){let[,e,n]=t;switch(n){case"grad":return ro.channel.clamp.h(parseFloat(e)*.9);case"rad":return ro.channel.clamp.h(parseFloat(e)*180/Math.PI);case"turn":return ro.channel.clamp.h(parseFloat(e)*360)}}return ro.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(co.re);if(!n)return;const[,a,r,i,o,s]=n;return so.set({h:co._hue2deg(a),s:ro.channel.clamp.s(parseFloat(r)),l:ro.channel.clamp.l(parseFloat(i)),a:o?ro.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:n,l:a,a:r}=e;if(r<1){return`hsla(${ro.lang.round(t)}, ${ro.lang.round(n)}%, ${ro.lang.round(a)}%, ${r})`}else{return`hsl(${ro.lang.round(t)}, ${ro.lang.round(n)}%, ${ro.lang.round(a)}%)`}}};const ho={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=ho.colors[e];if(!t)return;return lo.parse(t)},stringify:e=>{const t=lo.stringify(e);for(const e in ho.colors){if(ho.colors[e]===t)return e}return}};const uo={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(uo.re);if(!n)return;const[,a,r,i,o,s,l,d,c]=n;return so.set({r:ro.channel.clamp.r(r?parseFloat(a)*2.55:parseFloat(a)),g:ro.channel.clamp.g(o?parseFloat(i)*2.55:parseFloat(i)),b:ro.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:d?ro.channel.clamp.a(c?parseFloat(d)/100:parseFloat(d)):1},e)},stringify:e=>{const{r:t,g:n,b:a,a:r}=e;if(r<1){return`rgba(${ro.lang.round(t)}, ${ro.lang.round(n)}, ${ro.lang.round(a)}, ${ro.lang.round(r)})`}else{return`rgb(${ro.lang.round(t)}, ${ro.lang.round(n)}, ${ro.lang.round(a)})`}}};const po={format:{keyword:ho,hex:lo,rgb:uo,rgba:uo,hsl:co,hsla:co},parse:e=>{if(typeof e!=="string")return e;const t=lo.parse(e)||uo.parse(e)||co.parse(e)||ho.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:t=>{if(!t.changed&&t.color)return t.color;if(t.type.is(oo.HSL)||t.data.r===e){return co.stringify(t)}else if(t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)){return uo.stringify(t)}else{return lo.stringify(t)}}};const _o=(e,t)=>{const n=po.parse(e);for(const e in t){n[e]=ro.channel.clamp[e](t[e])}return po.stringify(n)};const fo=(e,t,n=0,a=1)=>{if(typeof e!=="number")return _o(e,{a:t});const r=so.set({r:ro.channel.clamp.r(e),g:ro.channel.clamp.g(t),b:ro.channel.clamp.b(n),a:ro.channel.clamp.a(a)});return po.stringify(r)};const go=(e,t)=>ro.lang.round(po.parse(e)[t]);const mo=e=>{const{r:t,g:n,b:a}=po.parse(e);const r=.2126*ro.channel.toLinear(t)+.7152*ro.channel.toLinear(n)+.0722*ro.channel.toLinear(a);return ro.lang.round(r)};const yo=e=>mo(e)>=.5;const xo=e=>!yo(e);const bo=(e,t,n)=>{const a=po.parse(e);const r=a[t];const i=ro.channel.clamp[t](r+n);r!==i&&(a[t]=i);return po.stringify(a)};const vo=(e,t)=>bo(e,"l",t);const ko=(e,t)=>bo(e,"l",-t);const So=(e,t)=>{const n=po.parse(e);const a={};for(const e in t){if(!t[e])continue;a[e]=n[e]+t[e]}return _o(e,a)};const wo=(e,t,n=50)=>{const{r:a,g:r,b:i,a:o}=po.parse(e);const{r:s,g:l,b:d,a:c}=po.parse(t);const h=n/100;const u=h*2-1;const p=o-c;const _=u*p===-1?u:(u+p)/(1+u*p);const f=(_+1)/2;const g=1-f;const m=a*f+s*g;const y=r*f+l*g;const x=i*f+d*g;const b=o*h+c*(1-h);return fo(m,y,x,b)};const Co=(e,t=100)=>{const n=po.parse(e);n.r=255-n.r;n.g=255-n.g;n.b=255-n.b;return wo(n,e,t)};var To=fo;var Eo=xo;var Ao=vo;var No=ko;var Po=So;var Lo=Co;var Mo=function(){var t={};var a={exports:t};(function(e,n){typeof t==="object"&&typeof a!=="undefined"?a.exports=n():typeof define==="function"&&define.amd?define(n):(e=typeof globalThis!=="undefined"?globalThis:e||self,e.DOMPurify=n())})(this,function(){"use strict";const{entries:t,setPrototypeOf:n,isFrozen:a,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:s,create:l}=Object;let{apply:d,construct:c}=typeof Reflect!=="undefined"&&Reflect;o||(o=function e(t){return t});s||(s=function e(t){return t});d||(d=function e(t,n){for(var a=arguments.length,r=new Array(a>2?a-2:0),i=2;i<a;i++){r[i-2]=arguments[i]}return t.apply(n,r)});c||(c=function e(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++){a[r-1]=arguments[r]}return new t(...a)});const h=C(Array.prototype.forEach);const u=C(Array.prototype.lastIndexOf);const p=C(Array.prototype.pop);const _=C(Array.prototype.push);const f=C(Array.prototype.splice);const g=C(String.prototype.toLowerCase);const m=C(String.prototype.toString);const y=C(String.prototype.match);const x=C(String.prototype.replace);const b=C(String.prototype.indexOf);const v=C(String.prototype.trim);const k=C(Object.prototype.hasOwnProperty);const S=C(RegExp.prototype.test);const w=T(TypeError);function C(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++){a[r-1]=arguments[r]}return d(e,t,a)}}function T(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++){n[a]=arguments[a]}return c(e,n)}}function E(t,r){let i=arguments.length>2&&arguments[2]!==e?arguments[2]:g;n&&n(t,null);let o=r.length;while(o--){let e=r[o];if(typeof e==="string"){let t=i(e);if(t!==e){a(r)||(r[o]=t);e=t}}t[e]=!0}return t}function A(e){for(let t=0;t<e.length;t++){let n=k(e,t);n||(e[t]=null)}return e}function N(e){const n=l(null);for(const[a,r]of t(e)){let t=k(e,a);if(t){if(Array.isArray(r)){n[a]=A(r)}else if(r&&typeof r==="object"&&r.constructor===Object){n[a]=N(r)}else{n[a]=r}}}return n}function P(e,t){while(e!==null){let n=i(e,t);if(n){if(n.get){return C(n.get)}if(typeof n.value==="function"){return C(n.value)}}e=r(e)}function n(){return null}return n}const L=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);const M=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);const D=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);const I=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);const B=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]);const R=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);const O=o(["#text"]);const F=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]);const j=o(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);const H=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);const $=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);const W=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm);const z=s(/<%[\w\W]*|[\w\W]*%>/gm);const q=s(/\$\{[\w\W]*/gm);const U=s(/^data-[\-\w.\u00B7-\uFFFF]+$/);const Y=s(/^aria-[\-\w]+$/);const G=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);const V=s(/^(?:\w+script|data):/i);const X=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);const K=s(/^html$/i);const Q=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z=Object.freeze({__proto__:null,ARIA_ATTR:Y,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:Q,DATA_ATTR:U,DOCTYPE_NAME:K,ERB_EXPR:z,IS_ALLOWED_URI:G,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:W,TMPLIT_EXPR:q});const J={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};const ee=function e(){return typeof window==="undefined"?null:window};const te=function e(t,n){if(typeof t!=="object"||typeof t.createPolicy!=="function"){return null}let a=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(a=n.getAttribute(r));const i="dompurify"+(a?"#"+a:"");try{return t.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){console.warn("TrustedTypes policy "+i+" could not be created.");return null}};const ne=function e(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ae(){let n=arguments.length>0&&arguments[0]!==e?arguments[0]:ee();const a=e=>ae(e);a.version="3.3.1";a.removed=[];if(!n||!n.document||n.document.nodeType!==J.document||!n.Element){a.isSupported=!1;return a}let{document:r}=n;const i=r;const s=i.currentScript;const{DocumentFragment:d,HTMLTemplateElement:c,Node:C,Element:T,NodeFilter:A,NamedNodeMap:W=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:z,DOMParser:q,trustedTypes:U}=n;const Y=T.prototype;const V=P(Y,"cloneNode");const X=P(Y,"remove");const Q=P(Y,"nextSibling");const re=P(Y,"childNodes");const ie=P(Y,"parentNode");if(typeof c==="function"){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let oe;let se="";const{implementation:le,createNodeIterator:de,createDocumentFragment:ce,getElementsByTagName:he}=r;const{importNode:ue}=i;let pe=ne();a.isSupported=typeof t==="function"&&typeof ie==="function"&&le&&le.createHTMLDocument!==e;const{MUSTACHE_EXPR:_e,ERB_EXPR:fe,TMPLIT_EXPR:ge,DATA_ATTR:me,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:xe,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:ve}=Z;let{IS_ALLOWED_URI:ke}=Z;let Se=null;const we=E({},[...L,...M,...D,...B,...O]);let Ce=null;const Te=E({},[...F,...j,...H,...$]);let Ee=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}}));let Ae=null;let Ne=null;const Pe=Object.seal(l(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Le=!0;let Me=!0;let De=!1;let Ie=!0;let Be=!1;let Re=!0;let Oe=!1;let Fe=!1;let je=!1;let He=!1;let $e=!1;let We=!1;let ze=!0;let qe=!1;const Ue="user-content-";let Ye=!0;let Ge=!1;let Ve={};let Xe=null;const Ke=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qe=null;const Ze=E({},["audio","video","img","source","image","track"]);let Je=null;const et=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);const tt="http://www.w3.org/1998/Math/MathML";const nt="http://www.w3.org/2000/svg";const at="http://www.w3.org/1999/xhtml";let rt=at;let it=!1;let ot=null;const st=E({},[tt,nt,at],m);let lt=E({},["mi","mo","mn","ms","mtext"]);let dt=E({},["annotation-xml"]);const ct=E({},["title","style","font","a","script"]);let ht=null;const ut=["application/xhtml+xml","text/html"];const pt="text/html";let _t=null;let ft=null;const gt=r.createElement("form");const mt=function e(t){return t instanceof RegExp||t instanceof Function};const yt=function t(){let n=arguments.length>0&&arguments[0]!==e?arguments[0]:{};if(ft&&ft===n){return}(!n||typeof n!=="object")&&(n={});n=N(n);ht=ut.indexOf(n.PARSER_MEDIA_TYPE)===-1?pt:n.PARSER_MEDIA_TYPE;_t=ht==="application/xhtml+xml"?m:g;Se=k(n,"ALLOWED_TAGS")?E({},n.ALLOWED_TAGS,_t):we;Ce=k(n,"ALLOWED_ATTR")?E({},n.ALLOWED_ATTR,_t):Te;ot=k(n,"ALLOWED_NAMESPACES")?E({},n.ALLOWED_NAMESPACES,m):st;Je=k(n,"ADD_URI_SAFE_ATTR")?E(N(et),n.ADD_URI_SAFE_ATTR,_t):et;Qe=k(n,"ADD_DATA_URI_TAGS")?E(N(Ze),n.ADD_DATA_URI_TAGS,_t):Ze;Xe=k(n,"FORBID_CONTENTS")?E({},n.FORBID_CONTENTS,_t):Ke;Ae=k(n,"FORBID_TAGS")?E({},n.FORBID_TAGS,_t):N({});Ne=k(n,"FORBID_ATTR")?E({},n.FORBID_ATTR,_t):N({});Ve=k(n,"USE_PROFILES")?n.USE_PROFILES:!1;Le=n.ALLOW_ARIA_ATTR!==!1;Me=n.ALLOW_DATA_ATTR!==!1;De=n.ALLOW_UNKNOWN_PROTOCOLS||!1;Ie=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1;Be=n.SAFE_FOR_TEMPLATES||!1;Re=n.SAFE_FOR_XML!==!1;Oe=n.WHOLE_DOCUMENT||!1;He=n.RETURN_DOM||!1;$e=n.RETURN_DOM_FRAGMENT||!1;We=n.RETURN_TRUSTED_TYPE||!1;je=n.FORCE_BODY||!1;ze=n.SANITIZE_DOM!==!1;qe=n.SANITIZE_NAMED_PROPS||!1;Ye=n.KEEP_CONTENT!==!1;Ge=n.IN_PLACE||!1;ke=n.ALLOWED_URI_REGEXP||G;rt=n.NAMESPACE||at;lt=n.MATHML_TEXT_INTEGRATION_POINTS||lt;dt=n.HTML_INTEGRATION_POINTS||dt;Ee=n.CUSTOM_ELEMENT_HANDLING||{};n.CUSTOM_ELEMENT_HANDLING&&mt(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck);n.CUSTOM_ELEMENT_HANDLING&&mt(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck);n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"&&(Ee.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements);Be&&(Me=!1);$e&&(He=!0);if(Ve){Se=E({},O);Ce=[];if(Ve.html===!0){E(Se,L);E(Ce,F)}if(Ve.svg===!0){E(Se,M);E(Ce,j);E(Ce,$)}if(Ve.svgFilters===!0){E(Se,D);E(Ce,j);E(Ce,$)}if(Ve.mathMl===!0){E(Se,B);E(Ce,H);E(Ce,$)}}if(n.ADD_TAGS){if(typeof n.ADD_TAGS==="function"){Pe.tagCheck=n.ADD_TAGS}else{Se===we&&(Se=N(Se));E(Se,n.ADD_TAGS,_t)}}if(n.ADD_ATTR){if(typeof n.ADD_ATTR==="function"){Pe.attributeCheck=n.ADD_ATTR}else{Ce===Te&&(Ce=N(Ce));E(Ce,n.ADD_ATTR,_t)}}n.ADD_URI_SAFE_ATTR&&E(Je,n.ADD_URI_SAFE_ATTR,_t);if(n.FORBID_CONTENTS){Xe===Ke&&(Xe=N(Xe));E(Xe,n.FORBID_CONTENTS,_t)}if(n.ADD_FORBID_CONTENTS){Xe===Ke&&(Xe=N(Xe));E(Xe,n.ADD_FORBID_CONTENTS,_t)}Ye&&(Se["#text"]=!0);Oe&&E(Se,["html","head","body"]);if(Se.table){E(Se,["tbody"]);delete Ae.tbody}if(n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!=="function"){throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.')}if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!=="function"){throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.')}oe=n.TRUSTED_TYPES_POLICY;se=oe.createHTML("")}else{oe===e&&(oe=te(U,s));oe!==null&&typeof se==="string"&&(se=oe.createHTML(""))}o&&o(n);ft=n};const xt=E({},[...M,...D,...I]);const bt=E({},[...B,...R]);const vt=function e(t){let n=ie(t);(!n||!n.tagName)&&(n={namespaceURI:rt,tagName:"template"});const a=g(t.tagName);const r=g(n.tagName);if(!ot[t.namespaceURI]){return!1}if(t.namespaceURI===nt){if(n.namespaceURI===at){return a==="svg"}if(n.namespaceURI===tt){return a==="svg"&&(r==="annotation-xml"||lt[r])}return Boolean(xt[a])}if(t.namespaceURI===tt){if(n.namespaceURI===at){return a==="math"}if(n.namespaceURI===nt){return a==="math"&&dt[r]}return Boolean(bt[a])}if(t.namespaceURI===at){if(n.namespaceURI===nt&&!dt[r]){return!1}if(n.namespaceURI===tt&&!lt[r]){return!1}return!bt[a]&&(ct[a]||!xt[a])}if(ht==="application/xhtml+xml"&&ot[t.namespaceURI]){return!0}return!1};const kt=function e(t){_(a.removed,{element:t});try{ie(t).removeChild(t)}catch(e){X(t)}};const St=function e(t,n){try{_(a.removed,{attribute:n.getAttributeNode(t),from:n})}catch(e){_(a.removed,{attribute:null,from:n})}n.removeAttribute(t);if(t==="is"){if(He||$e){try{kt(n)}catch(e){}}else{try{n.setAttribute(t,"")}catch(e){}}}};const wt=function e(t){let n=null;let a=null;if(je){t="<remove></remove>"+t}else{let e=y(t,/^[\r\n\t ]+/);a=e&&e[0]}ht==="application/xhtml+xml"&&rt===at&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const i=oe?oe.createHTML(t):t;if(rt===at){try{n=(new q).parseFromString(i,ht)}catch(e){}}if(!n||!n.documentElement){n=le.createDocument(rt,"template",null);try{n.documentElement.innerHTML=it?se:i}catch(e){}}const o=n.body||n.documentElement;t&&a&&o.insertBefore(r.createTextNode(a),o.childNodes[0]||null);if(rt===at){return he.call(n,Oe?"html":"body")[0]}return Oe?n.documentElement:o};const Ct=function e(t){return de.call(t.ownerDocument||t,t,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)};const Tt=function e(t){return t instanceof z&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof W)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function"||typeof t.hasChildNodes!=="function")};const Et=function e(t){return typeof C==="function"&&t instanceof C};function At(e,t,n){h(e,e=>{e.call(a,t,n,ft)})}const Nt=function e(t){let n=null;At(pe.beforeSanitizeElements,t,null);if(Tt(t)){kt(t);return!0}const r=_t(t.nodeName);At(pe.uponSanitizeElement,t,{tagName:r,
allowedTags:Se});if(Re&&t.hasChildNodes()&&!Et(t.firstElementChild)&&S(/<[/\w!]/g,t.innerHTML)&&S(/<[/\w!]/g,t.textContent)){kt(t);return!0}if(t.nodeType===J.progressingInstruction){kt(t);return!0}if(Re&&t.nodeType===J.comment&&S(/<[/\w]/g,t.data)){kt(t);return!0}if(!(Pe.tagCheck instanceof Function&&Pe.tagCheck(r))&&(!Se[r]||Ae[r])){if(!Ae[r]&&Lt(r)){if(Ee.tagNameCheck instanceof RegExp&&S(Ee.tagNameCheck,r)){return!1}if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(r)){return!1}}if(Ye&&!Xe[r]){let e=ie(t)||t.parentNode,n=re(t)||t.childNodes;if(n&&e){let a=n.length;for(let r=a-1;r>=0;--r){let a=V(n[r],!0);a.__removalCount=(t.__removalCount||0)+1;e.insertBefore(a,Q(t))}}}kt(t);return!0}if(t instanceof T&&!vt(t)){kt(t);return!0}if((r==="noscript"||r==="noembed"||r==="noframes")&&S(/<\/no(script|embed|frames)/i,t.innerHTML)){kt(t);return!0}if(Be&&t.nodeType===J.text){n=t.textContent;h([_e,fe,ge],e=>{n=x(n,e," ")});if(t.textContent!==n){_(a.removed,{element:t.cloneNode()});t.textContent=n}}At(pe.afterSanitizeElements,t,null);return!1};const Pt=function e(t,n,a){if(ze&&(n==="id"||n==="name")&&(a in r||a in gt)){return!1}if(Me&&!Ne[n]&&S(me,n));else if(Le&&S(ye,n));else if(Pe.attributeCheck instanceof Function&&Pe.attributeCheck(n,t));else if(!Ce[n]||Ne[n]){if(Lt(t)&&(Ee.tagNameCheck instanceof RegExp&&S(Ee.tagNameCheck,t)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(t))&&(Ee.attributeNameCheck instanceof RegExp&&S(Ee.attributeNameCheck,n)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(n,t))||n==="is"&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&S(Ee.tagNameCheck,a)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(a)));else{return!1}}else if(Je[n]);else if(S(ke,x(a,be,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&t!=="script"&&b(a,"data:")===0&&Qe[t]);else if(De&&!S(xe,x(a,be,"")));else if(a){return!1}else;return!0};const Lt=function e(t){return t!=="annotation-xml"&&y(t,ve)};const Mt=function t(n){At(pe.beforeSanitizeAttributes,n,null);const{attributes:r}=n;if(!r||Tt(n)){return}const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce,forceKeepAttr:e};let o=r.length;while(o--){let t=r[o],{name:s,namespaceURI:l,value:d}=t,c=_t(s),u=d,_=s==="value"?u:v(u);i.attrName=c;i.attrValue=_;i.keepAttr=!0;i.forceKeepAttr=e;At(pe.uponSanitizeAttribute,n,i);_=i.attrValue;if(qe&&(c==="id"||c==="name")){St(s,n);_=Ue+_}if(Re&&S(/((--!?|])>)|<\/(style|title|textarea)/i,_)){St(s,n);continue}if(c==="attributename"&&y(_,"href")){St(s,n);continue}if(i.forceKeepAttr){continue}if(!i.keepAttr){St(s,n);continue}if(!Ie&&S(/\/>/i,_)){St(s,n);continue}Be&&h([_e,fe,ge],e=>{_=x(_,e," ")});let f=_t(n.nodeName);if(!Pt(f,c,_)){St(s,n);continue}if(oe&&typeof U==="object"&&typeof U.getAttributeType==="function"){if(l);else{switch(U.getAttributeType(f,c)){case"TrustedHTML":_=oe.createHTML(_);break;case"TrustedScriptURL":_=oe.createScriptURL(_);break}}}if(_!==u){try{if(l){n.setAttributeNS(l,s,_)}else{n.setAttribute(s,_)}if(Tt(n)){kt(n)}else{p(a.removed)}}catch(e){St(s,n)}}}At(pe.afterSanitizeAttributes,n,null)};const Dt=function e(t){let n=null;const a=Ct(t);At(pe.beforeSanitizeShadowDOM,t,null);while(n=a.nextNode()){At(pe.uponSanitizeShadowNode,n,null);Nt(n);Mt(n);n.content instanceof d&&e(n.content)}At(pe.afterSanitizeShadowDOM,t,null)};a.sanitize=function(t){let n=arguments.length>1&&arguments[1]!==e?arguments[1]:{};let r=null;let o=null;let s=null;let l=null;it=!t;it&&(t="\x3c!--\x3e");if(typeof t!=="string"&&!Et(t)){if(typeof t.toString==="function"){t=t.toString();if(typeof t!=="string"){throw w("dirty is not a string, aborting")}}else{throw w("toString is not a function")}}if(!a.isSupported){return t}Fe||yt(n);a.removed=[];typeof t==="string"&&(Ge=!1);if(Ge){if(t.nodeName){let e=_t(t.nodeName);if(!Se[e]||Ae[e]){throw w("root node is forbidden and cannot be sanitized in-place")}}}else if(t instanceof C){r=wt("\x3c!----\x3e");o=r.ownerDocument.importNode(t,!0);if(o.nodeType===J.element&&o.nodeName==="BODY"){r=o}else if(o.nodeName==="HTML"){r=o}else{r.appendChild(o)}}else{if(!He&&!Be&&!Oe&&t.indexOf("<")===-1){return oe&&We?oe.createHTML(t):t}r=wt(t);if(!r){return He?null:We?se:""}}r&&je&&kt(r.firstChild);const c=Ct(Ge?t:r);while(s=c.nextNode()){Nt(s);Mt(s);s.content instanceof d&&Dt(s.content)}if(Ge){return t}if(He){if($e){l=ce.call(r.ownerDocument);while(r.firstChild){l.appendChild(r.firstChild)}}else{l=r}(Ce.shadowroot||Ce.shadowrootmode)&&(l=ue.call(i,l,!0));return l}let u=Oe?r.outerHTML:r.innerHTML;Oe&&Se["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&S(K,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u);Be&&h([_e,fe,ge],e=>{u=x(u,e," ")});return oe&&We?oe.createHTML(u):u};a.setConfig=function(){let t=arguments.length>0&&arguments[0]!==e?arguments[0]:{};yt(t);Fe=!0};a.clearConfig=function(){ft=null;Fe=!1};a.isValidAttribute=function(e,t,n){ft||yt({});const a=_t(e);const r=_t(t);return Pt(a,r,n)};a.addHook=function(e,t){if(typeof t!=="function"){return}_(pe[e],t)};a.removeHook=function(t,n){if(n!==e){let a=u(pe[t],n);return a===-1?e:f(pe[t],a,1)[0]}return p(pe[t])};a.removeHooks=function(e){pe[e]=[]};a.removeAllHooks=function(){pe=ne()};return a}var re=ae();return re});return n(a.exports)}.call(window);var Do,Io,Bo,Ro,Oo,Fo,jo;var Ho=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;var $o=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi;var Wo=/\s*%%.*\n/gm;var zo=(Do=class extends Error{constructor(e){super(e);this.name="UnknownDiagramError"}},a(Do,"UnknownDiagramError"),(()=>{Xi(Do,"UnknownDiagramError")})(),Do);var qo={};var Uo=Xi(function(e,t){e=e.replace(Ho,"").replace($o,"").replace(Wo,"\n");for(const[n,{detector:a}]of Object.entries(qo)){let r=a(e,t);if(r){return n}}throw new zo(`No diagram type detected matching given configuration for text: ${e}`)},"detectType");var Yo=Xi((...e)=>{for(const{id:t,detector:n,loader:a}of e){Go(t,n,a)}},"registerLazyLoadedDiagrams");var Go=Xi((e,t,n)=>{qo[e]&&Zi.warn(`Detector with key ${e} already exists. Overwriting.`);qo[e]={detector:t,loader:n};Zi.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector");var Vo=Xi(e=>qo[e].loader,"getDiagramLoader");var Xo=Xi((e,t,{depth:n=2,clobber:a=!1}={})=>{const r={depth:n,clobber:a};if(Array.isArray(t)&&!Array.isArray(e)){t.forEach(t=>Xo(e,t,r));return e}else if(Array.isArray(t)&&Array.isArray(e)){t.forEach(t=>{e.includes(t)||e.push(t)});return e}if(e===void 0||n<=0){if(e!==void 0&&e!==null&&typeof e==="object"&&typeof t==="object"){return Object.assign(e,t)}else{return t}}t!==void 0&&typeof e==="object"&&typeof t==="object"&&Object.keys(t).forEach(r=>{if(typeof t[r]==="object"&&(e[r]===void 0||typeof e[r]==="object")){e[r]===void 0&&(e[r]=Array.isArray(t[r])?[]:{});e[r]=Xo(e[r],t[r],{depth:n-1,clobber:a})}else(a||typeof e[r]!=="object"&&typeof t[r]!=="object")&&(e[r]=t[r])});return e},"assignWithDepth");var Ko="#ffffff";var Qo="#f2f2f2";var Zo=Xi((e,t)=>t?So(e,{s:-40,l:10}):So(e,{s:-40,l:-10}),"mkBorder");var Jo=(Io=class{constructor(){this.background="#f4f4f4";this.primaryColor="#fff4dd";this.noteBkgColor="#fff5ad";this.noteTextColor="#333";this.THEME_COLOR_LIMIT=12;this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px"}updateColors(){var e,t,n,a,r,i,o,s,l,d,c,h,u,p,_,f,g,m,y,x,b;this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333");this.secondaryColor=this.secondaryColor||Po(this.primaryColor,{h:-120});this.tertiaryColor=this.tertiaryColor||Po(this.primaryColor,{h:180,l:5});this.primaryBorderColor=this.primaryBorderColor||Zo(this.primaryColor,this.darkMode);this.secondaryBorderColor=this.secondaryBorderColor||Zo(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=this.tertiaryBorderColor||Zo(this.tertiaryColor,this.darkMode);this.noteBorderColor=this.noteBorderColor||Zo(this.noteBkgColor,this.darkMode);this.noteBkgColor=this.noteBkgColor||"#fff5ad";this.noteTextColor=this.noteTextColor||"#333";this.secondaryTextColor=this.secondaryTextColor||Lo(this.secondaryColor);this.tertiaryTextColor=this.tertiaryTextColor||Lo(this.tertiaryColor);this.lineColor=this.lineColor||Lo(this.background);this.arrowheadColor=this.arrowheadColor||Lo(this.background);this.textColor=this.textColor||this.primaryTextColor;this.border2=this.border2||this.tertiaryBorderColor;this.nodeBkg=this.nodeBkg||this.primaryColor;this.mainBkg=this.mainBkg||this.primaryColor;this.nodeBorder=this.nodeBorder||this.primaryBorderColor;this.clusterBkg=this.clusterBkg||this.tertiaryColor;this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor;this.defaultLinkColor=this.defaultLinkColor||this.lineColor;this.titleColor=this.titleColor||this.tertiaryTextColor;this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?No(this.secondaryColor,30):this.secondaryColor);this.nodeTextColor=this.nodeTextColor||this.primaryTextColor;this.actorBorder=this.actorBorder||this.primaryBorderColor;this.actorBkg=this.actorBkg||this.mainBkg;this.actorTextColor=this.actorTextColor||this.primaryTextColor;this.actorLineColor=this.actorLineColor||this.actorBorder;this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg;this.signalColor=this.signalColor||this.textColor;this.signalTextColor=this.signalTextColor||this.textColor;this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder;this.labelTextColor=this.labelTextColor||this.actorTextColor;this.loopTextColor=this.loopTextColor||this.actorTextColor;this.activationBorderColor=this.activationBorderColor||No(this.secondaryColor,10);this.activationBkgColor=this.activationBkgColor||this.secondaryColor;this.sequenceNumberColor=this.sequenceNumberColor||Lo(this.lineColor);this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor;this.altSectionBkgColor=this.altSectionBkgColor||"white";this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor;this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor;this.excludeBkgColor=this.excludeBkgColor||"#eeeeee";this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor;this.taskBkgColor=this.taskBkgColor||this.primaryColor;this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor;this.activeTaskBkgColor=this.activeTaskBkgColor||Ao(this.primaryColor,23);this.gridColor=this.gridColor||"lightgrey";this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey";this.doneTaskBorderColor=this.doneTaskBorderColor||"grey";this.critBorderColor=this.critBorderColor||"#ff8888";this.critBkgColor=this.critBkgColor||"red";this.todayLineColor=this.todayLineColor||"red";this.vertLineColor=this.vertLineColor||"navy";this.taskTextColor=this.taskTextColor||this.textColor;this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor;this.taskTextLightColor=this.taskTextLightColor||this.textColor;this.taskTextColor=this.taskTextColor||this.primaryTextColor;this.taskTextDarkColor=this.taskTextDarkColor||this.textColor;this.taskTextClickableColor=this.taskTextClickableColor||"#003163";this.personBorder=this.personBorder||this.primaryBorderColor;this.personBkg=this.personBkg||this.mainBkg;if(this.darkMode){this.rowOdd=this.rowOdd||No(this.mainBkg,5)||"#ffffff";this.rowEven=this.rowEven||No(this.mainBkg,10)}else{this.rowOdd=this.rowOdd||Ao(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||Ao(this.mainBkg,5)}this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||this.tertiaryColor;this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.nodeBorder;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.specialStateColor=this.lineColor;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||Po(this.primaryColor,{h:30});this.cScale4=this.cScale4||Po(this.primaryColor,{h:60});this.cScale5=this.cScale5||Po(this.primaryColor,{h:90});this.cScale6=this.cScale6||Po(this.primaryColor,{h:120});this.cScale7=this.cScale7||Po(this.primaryColor,{h:150});this.cScale8=this.cScale8||Po(this.primaryColor,{h:210,l:150});this.cScale9=this.cScale9||Po(this.primaryColor,{h:270});this.cScale10=this.cScale10||Po(this.primaryColor,{h:300});this.cScale11=this.cScale11||Po(this.primaryColor,{h:330});if(this.darkMode){for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=No(this["cScale"+e],75)}}else{for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=No(this["cScale"+e],25)}}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Lo(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){if(this.darkMode){this["cScalePeer"+e]=this["cScalePeer"+e]||Ao(this["cScale"+e],10)}else{this["cScalePeer"+e]=this["cScalePeer"+e]||No(this["cScale"+e],10)}}this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}const v=this.darkMode?-4:-1;for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||Po(this.mainBkg,{h:180,s:-15,l:v*(5+e*3)});this["surfacePeer"+e]=this["surfacePeer"+e]||Po(this.mainBkg,{h:180,s:-15,l:v*(8+e*3)})}this.classText=this.classText||this.textColor;this.fillType0=this.fillType0||this.primaryColor;this.fillType1=this.fillType1||this.secondaryColor;this.fillType2=this.fillType2||Po(this.primaryColor,{h:64});this.fillType3=this.fillType3||Po(this.secondaryColor,{h:64});this.fillType4=this.fillType4||Po(this.primaryColor,{h:-64});this.fillType5=this.fillType5||Po(this.secondaryColor,{h:-64});this.fillType6=this.fillType6||Po(this.primaryColor,{h:128});this.fillType7=this.fillType7||Po(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||this.tertiaryColor;this.pie4=this.pie4||Po(this.primaryColor,{l:-10});this.pie5=this.pie5||Po(this.secondaryColor,{l:-10});this.pie6=this.pie6||Po(this.tertiaryColor,{l:-10});this.pie7=this.pie7||Po(this.primaryColor,{h:60,l:-10});this.pie8=this.pie8||Po(this.primaryColor,{h:-60,l:-10});this.pie9=this.pie9||Po(this.primaryColor,{h:120,l:0});this.pie10=this.pie10||Po(this.primaryColor,{h:60,l:-20});this.pie11=this.pie11||Po(this.primaryColor,{h:-60,l:-20});this.pie12=this.pie12||Po(this.primaryColor,{h:120,l:-10});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.radar={axisColor:((e=this.radar)===null||e===void 0?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((t=this.radar)===null||t===void 0?void 0:t.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)===null||n===void 0?void 0:n.axisLabelFontSize)||12,curveOpacity:((a=this.radar)===null||a===void 0?void 0:a.curveOpacity)||.5,curveStrokeWidth:((r=this.radar)===null||r===void 0?void 0:r.curveStrokeWidth)||2,graticuleColor:((i=this.radar)===null||i===void 0?void 0:i.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)===null||o===void 0?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((s=this.radar)===null||s===void 0?void 0:s.graticuleOpacity)||.3,legendBoxSize:((l=this.radar)===null||l===void 0?void 0:l.legendBoxSize)||12,legendFontSize:((d=this.radar)===null||d===void 0?void 0:d.legendFontSize)||12};this.archEdgeColor=this.archEdgeColor||"#777";this.archEdgeArrowColor=this.archEdgeArrowColor||"#777";this.archEdgeWidth=this.archEdgeWidth||"3";this.archGroupBorderColor=this.archGroupBorderColor||"#000";this.archGroupBorderWidth=this.archGroupBorderWidth||"2px";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||Po(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||Po(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||Po(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||Po(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||Po(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||Po(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||Eo(this.quadrant1Fill)?Ao(this.quadrant1Fill):No(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:((c=this.xyChart)===null||c===void 0?void 0:c.backgroundColor)||this.background,titleColor:((h=this.xyChart)===null||h===void 0?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((u=this.xyChart)===null||u===void 0?void 0:u.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)===null||p===void 0?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)===null||_===void 0?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((f=this.xyChart)===null||f===void 0?void 0:f.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((g=this.xyChart)===null||g===void 0?void 0:g.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((m=this.xyChart)===null||m===void 0?void 0:m.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)===null||y===void 0?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((x=this.xyChart)===null||x===void 0?void 0:x.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)===null||b===void 0?void 0:b.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?No(this.secondaryColor,30):this.secondaryColor);this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||Po(this.primaryColor,{h:-30});this.git4=this.git4||Po(this.primaryColor,{h:-60});this.git5=this.git5||Po(this.primaryColor,{h:-90});this.git6=this.git6||Po(this.primaryColor,{h:60});this.git7=this.git7||Po(this.primaryColor,{h:120});if(this.darkMode){this.git0=Ao(this.git0,25);this.git1=Ao(this.git1,25);this.git2=Ao(this.git2,25);this.git3=Ao(this.git3,25);this.git4=Ao(this.git4,25);this.git5=Ao(this.git5,25);this.git6=Ao(this.git6,25);this.git7=Ao(this.git7,25)}else{this.git0=No(this.git0,25);this.git1=No(this.git1,25);this.git2=No(this.git2,25);this.git3=No(this.git3,25);this.git4=No(this.git4,25);this.git5=No(this.git5,25);this.git6=No(this.git6,25);this.git7=No(this.git7,25)}this.gitInv0=this.gitInv0||Lo(this.git0);this.gitInv1=this.gitInv1||Lo(this.git1);this.gitInv2=this.gitInv2||Lo(this.git2);this.gitInv3=this.gitInv3||Lo(this.git3);this.gitInv4=this.gitInv4||Lo(this.git4);this.gitInv5=this.gitInv5||Lo(this.git5);this.gitInv6=this.gitInv6||Lo(this.git6);this.gitInv7=this.gitInv7||Lo(this.git7);this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor);this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor;this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor;this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor;this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor;this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor;this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor;this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor;this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ko;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Qo}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},a(Io,"Theme"),(()=>{Xi(Io,"Theme")})(),Io);var es=Xi(e=>{const t=new Jo;t.calculate(e);return t},"getThemeVariables");var ts=(Bo=class{constructor(){this.background="#333";this.primaryColor="#1f2020";this.secondaryColor=Ao(this.primaryColor,16);this.tertiaryColor=Po(this.primaryColor,{h:-160});this.primaryBorderColor=Lo(this.background);this.secondaryBorderColor=Zo(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Zo(this.tertiaryColor,this.darkMode);this.primaryTextColor=Lo(this.primaryColor);this.secondaryTextColor=Lo(this.secondaryColor);this.tertiaryTextColor=Lo(this.tertiaryColor);this.lineColor=Lo(this.background);this.textColor=Lo(this.background);this.mainBkg="#1f2020";this.secondBkg="calculated";this.mainContrastColor="lightgrey";this.darkTextColor=Ao(Lo("#323D47"),10);this.lineColor="calculated";this.border1="#ccc";this.border2=To(255,255,255,.25);this.arrowheadColor="calculated";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="#181818";this.textColor="#ccc";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="#F9FFFE";this.edgeLabelBackground="calculated";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="calculated";this.actorLineColor="calculated";this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="calculated";this.activationBkgColor="calculated";this.sequenceNumberColor="black";this.sectionBkgColor=No("#EAE8D9",30);this.altSectionBkgColor="calculated";this.sectionBkgColor2="#EAE8D9";this.excludeBkgColor=No(this.sectionBkgColor,10);this.taskBorderColor=To(255,255,255,70);this.taskBkgColor="calculated";this.taskTextColor="calculated";this.taskTextLightColor="calculated";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor=To(255,255,255,50);this.activeTaskBkgColor="#81B1DB";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="grey";this.critBorderColor="#E83737";this.critBkgColor="#E83737";this.taskTextDarkColor="calculated";this.todayLineColor="#DB5757";this.vertLineColor="#00BFFF";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd=this.rowOdd||Ao(this.mainBkg,5)||"#ffffff";this.rowEven=this.rowEven||No(this.mainBkg,10);this.labelColor="calculated";this.errorBkgColor="#a44141";this.errorTextColor="#ddd"}updateColors(){var e,t,n,a,r,i,o,s,l,d,c,h,u,p,_,f,g,m,y,x,b;this.secondBkg=Ao(this.mainBkg,16);this.lineColor=this.mainContrastColor;this.arrowheadColor=this.mainContrastColor;this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.edgeLabelBackground=Ao(this.labelBackground,25);this.actorBorder=this.border1;this.actorBkg=this.mainBkg;this.actorTextColor=this.mainContrastColor;this.actorLineColor=this.actorBorder;this.signalColor=this.mainContrastColor;this.signalTextColor=this.mainContrastColor;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.mainContrastColor;this.loopTextColor=this.mainContrastColor;this.noteBorderColor=this.secondaryBorderColor;this.noteBkgColor=this.secondBkg;this.noteTextColor=this.secondaryTextColor;this.activationBorderColor=this.border1;this.activationBkgColor=this.secondBkg;this.altSectionBkgColor=this.background;this.taskBkgColor=Ao(this.mainBkg,23);this.taskTextColor=this.darkTextColor;this.taskTextLightColor=this.mainContrastColor;this.taskTextOutsideColor=this.taskTextLightColor;this.gridColor=this.mainContrastColor;this.doneTaskBkgColor=this.mainContrastColor;this.taskTextDarkColor=this.darkTextColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#555";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.primaryBorderColor;this.specialStateColor="#f4f4f4";this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Po(this.primaryColor,{h:64});this.fillType3=Po(this.secondaryColor,{h:64});this.fillType4=Po(this.primaryColor,{h:-64});this.fillType5=Po(this.secondaryColor,{h:-64});this.fillType6=Po(this.primaryColor,{h:128});this.fillType7=Po(this.secondaryColor,{h:128});this.cScale1=this.cScale1||"#0b0000";this.cScale2=this.cScale2||"#4d1037";this.cScale3=this.cScale3||"#3f5258";this.cScale4=this.cScale4||"#4f2f1b";this.cScale5=this.cScale5||"#6e0a0a";this.cScale6=this.cScale6||"#3b0048";this.cScale7=this.cScale7||"#995a01";this.cScale8=this.cScale8||"#154706";this.cScale9=this.cScale9||"#161722";this.cScale10=this.cScale10||"#00296f";this.cScale11=this.cScale11||"#01629c";this.cScale12=this.cScale12||"#010029";this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||Po(this.primaryColor,{h:30});this.cScale4=this.cScale4||Po(this.primaryColor,{h:60});this.cScale5=this.cScale5||Po(this.primaryColor,{h:90});this.cScale6=this.cScale6||Po(this.primaryColor,{h:120});this.cScale7=this.cScale7||Po(this.primaryColor,{h:150});this.cScale8=this.cScale8||Po(this.primaryColor,{h:210});this.cScale9=this.cScale9||Po(this.primaryColor,{h:270});this.cScale10=this.cScale10||Po(this.primaryColor,{h:300});this.cScale11=this.cScale11||Po(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Lo(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScalePeer"+e]=this["cScalePeer"+e]||Ao(this["cScale"+e],10)}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||Po(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)});this["surfacePeer"+e]=this["surfacePeer"+e]||Po(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)})}this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["pie"+e]=this["cScale"+e]}this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||Po(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||Po(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||Po(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||Po(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||Po(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||Po(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||Eo(this.quadrant1Fill)?Ao(this.quadrant1Fill):No(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:((e=this.xyChart)===null||e===void 0?void 0:e.backgroundColor)||this.background,titleColor:((t=this.xyChart)===null||t===void 0?void 0:t.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)===null||n===void 0?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)===null||a===void 0?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((r=this.xyChart)===null||r===void 0?void 0:r.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((i=this.xyChart)===null||i===void 0?void 0:i.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)===null||o===void 0?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((s=this.xyChart)===null||s===void 0?void 0:s.yAxisLabelColor)||this.primaryTextColor,
yAxisTickColor:((l=this.xyChart)===null||l===void 0?void 0:l.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)===null||d===void 0?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((c=this.xyChart)===null||c===void 0?void 0:c.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"};this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background};this.radar={axisColor:((h=this.radar)===null||h===void 0?void 0:h.axisColor)||this.lineColor,axisStrokeWidth:((u=this.radar)===null||u===void 0?void 0:u.axisStrokeWidth)||2,axisLabelFontSize:((p=this.radar)===null||p===void 0?void 0:p.axisLabelFontSize)||12,curveOpacity:((_=this.radar)===null||_===void 0?void 0:_.curveOpacity)||.5,curveStrokeWidth:((f=this.radar)===null||f===void 0?void 0:f.curveStrokeWidth)||2,graticuleColor:((g=this.radar)===null||g===void 0?void 0:g.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((m=this.radar)===null||m===void 0?void 0:m.graticuleStrokeWidth)||1,graticuleOpacity:((y=this.radar)===null||y===void 0?void 0:y.graticuleOpacity)||.3,legendBoxSize:((x=this.radar)===null||x===void 0?void 0:x.legendBoxSize)||12,legendFontSize:((b=this.radar)===null||b===void 0?void 0:b.legendFontSize)||12};this.classText=this.primaryTextColor;this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?No(this.secondaryColor,30):this.secondaryColor);this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=Ao(this.secondaryColor,20);this.git1=Ao(this.pie2||this.secondaryColor,20);this.git2=Ao(this.pie3||this.tertiaryColor,20);this.git3=Ao(this.pie4||Po(this.primaryColor,{h:-30}),20);this.git4=Ao(this.pie5||Po(this.primaryColor,{h:-60}),20);this.git5=Ao(this.pie6||Po(this.primaryColor,{h:-90}),10);this.git6=Ao(this.pie7||Po(this.primaryColor,{h:60}),10);this.git7=Ao(this.pie8||Po(this.primaryColor,{h:120}),20);this.gitInv0=this.gitInv0||Lo(this.git0);this.gitInv1=this.gitInv1||Lo(this.git1);this.gitInv2=this.gitInv2||Lo(this.git2);this.gitInv3=this.gitInv3||Lo(this.git3);this.gitInv4=this.gitInv4||Lo(this.git4);this.gitInv5=this.gitInv5||Lo(this.git5);this.gitInv6=this.gitInv6||Lo(this.git6);this.gitInv7=this.gitInv7||Lo(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||Lo(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||Lo(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ao(this.background,12);this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ao(this.background,2);this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},a(Bo,"Theme2"),(()=>{Xi(Bo,"Theme")})(),Bo);var ns=Xi(e=>{const t=new ts;t.calculate(e);return t},"getThemeVariables");var as=(Ro=class{constructor(){this.background="#f4f4f4";this.primaryColor="#ECECFF";this.secondaryColor=Po(this.primaryColor,{h:120});this.secondaryColor="#ffffde";this.tertiaryColor=Po(this.primaryColor,{h:-160});this.primaryBorderColor=Zo(this.primaryColor,this.darkMode);this.secondaryBorderColor=Zo(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Zo(this.tertiaryColor,this.darkMode);this.primaryTextColor=Lo(this.primaryColor);this.secondaryTextColor=Lo(this.secondaryColor);this.tertiaryTextColor=Lo(this.tertiaryColor);this.lineColor=Lo(this.background);this.textColor=Lo(this.background);this.background="white";this.mainBkg="#ECECFF";this.secondBkg="#ffffde";this.lineColor="#333333";this.border1="#9370DB";this.border2="#aaaa33";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="rgba(232,232,232, 0.8)";this.textColor="#333";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="calculated";this.edgeLabelBackground="calculated";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="black";this.actorLineColor="calculated";this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="calculated";this.sectionBkgColor2="calculated";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="calculated";this.taskTextLightColor="calculated";this.taskTextColor=this.taskTextLightColor;this.taskTextDarkColor="calculated";this.taskTextOutsideColor=this.taskTextDarkColor;this.taskTextClickableColor="calculated";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="calculated";this.critBorderColor="calculated";this.critBkgColor="calculated";this.todayLineColor="calculated";this.vertLineColor="calculated";this.sectionBkgColor=To(102,102,255,.49);this.altSectionBkgColor="white";this.sectionBkgColor2="#fff400";this.taskBorderColor="#534fbc";this.taskBkgColor="#8a90dd";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="#534fbc";this.activeTaskBkgColor="#bfc7ff";this.gridColor="lightgrey";this.doneTaskBkgColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.critBkgColor="red";this.todayLineColor="red";this.vertLineColor="navy";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd="calculated";this.rowEven="calculated";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222";this.updateColors()}updateColors(){var e,t,n,a,r,i,o,s,l,d,c,h,u,p,_,f,g,m,y,x,b;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||Po(this.primaryColor,{h:30});this.cScale4=this.cScale4||Po(this.primaryColor,{h:60});this.cScale5=this.cScale5||Po(this.primaryColor,{h:90});this.cScale6=this.cScale6||Po(this.primaryColor,{h:120});this.cScale7=this.cScale7||Po(this.primaryColor,{h:150});this.cScale8=this.cScale8||Po(this.primaryColor,{h:210});this.cScale9=this.cScale9||Po(this.primaryColor,{h:270});this.cScale10=this.cScale10||Po(this.primaryColor,{h:300});this.cScale11=this.cScale11||Po(this.primaryColor,{h:330});this["cScalePeer1"]=this["cScalePeer1"]||No(this.secondaryColor,45);this["cScalePeer2"]=this["cScalePeer2"]||No(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=No(this["cScale"+e],10);this["cScalePeer"+e]=this["cScalePeer"+e]||No(this["cScale"+e],25)}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Po(this["cScale"+e],{h:180})}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||Po(this.mainBkg,{h:30,l:-(5+e*5)});this["surfacePeer"+e]=this["surfacePeer"+e]||Po(this.mainBkg,{h:30,l:-(7+e*5)})}this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;if(this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Lo(this.labelTextColor);this.cScaleLabel3=this.cScaleLabel3||Lo(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.textColor;this.edgeLabelBackground=this.labelBackground;this.actorBorder=Ao(this.border1,23);this.actorBkg=this.mainBkg;this.labelBoxBkgColor=this.actorBkg;this.signalColor=this.textColor;this.signalTextColor=this.textColor;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.actorTextColor;this.loopTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.actorLineColor=this.actorBorder;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.rowOdd=this.rowOdd||Ao(this.primaryColor,75)||"#ffffff";this.rowEven=this.rowEven||Ao(this.primaryColor,1);this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f0f0f0";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.nodeBorder;this.specialStateColor=this.lineColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Po(this.primaryColor,{h:64});this.fillType3=Po(this.secondaryColor,{h:64});this.fillType4=Po(this.primaryColor,{h:-64});this.fillType5=Po(this.secondaryColor,{h:-64});this.fillType6=Po(this.primaryColor,{h:128});this.fillType7=Po(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||Po(this.tertiaryColor,{l:-40});this.pie4=this.pie4||Po(this.primaryColor,{l:-10});this.pie5=this.pie5||Po(this.secondaryColor,{l:-30});this.pie6=this.pie6||Po(this.tertiaryColor,{l:-20});this.pie7=this.pie7||Po(this.primaryColor,{h:60,l:-20});this.pie8=this.pie8||Po(this.primaryColor,{h:-60,l:-40});this.pie9=this.pie9||Po(this.primaryColor,{h:120,l:-40});this.pie10=this.pie10||Po(this.primaryColor,{h:60,l:-40});this.pie11=this.pie11||Po(this.primaryColor,{h:-90,l:-40});this.pie12=this.pie12||Po(this.primaryColor,{h:120,l:-30});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||Po(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||Po(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||Po(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||Po(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||Po(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||Po(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||Eo(this.quadrant1Fill)?Ao(this.quadrant1Fill):No(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.radar={axisColor:((e=this.radar)===null||e===void 0?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((t=this.radar)===null||t===void 0?void 0:t.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)===null||n===void 0?void 0:n.axisLabelFontSize)||12,curveOpacity:((a=this.radar)===null||a===void 0?void 0:a.curveOpacity)||.5,curveStrokeWidth:((r=this.radar)===null||r===void 0?void 0:r.curveStrokeWidth)||2,graticuleColor:((i=this.radar)===null||i===void 0?void 0:i.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)===null||o===void 0?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((s=this.radar)===null||s===void 0?void 0:s.graticuleOpacity)||.3,legendBoxSize:((l=this.radar)===null||l===void 0?void 0:l.legendBoxSize)||12,legendFontSize:((d=this.radar)===null||d===void 0?void 0:d.legendFontSize)||12};this.xyChart={backgroundColor:((c=this.xyChart)===null||c===void 0?void 0:c.backgroundColor)||this.background,titleColor:((h=this.xyChart)===null||h===void 0?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((u=this.xyChart)===null||u===void 0?void 0:u.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)===null||p===void 0?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)===null||_===void 0?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((f=this.xyChart)===null||f===void 0?void 0:f.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((g=this.xyChart)===null||g===void 0?void 0:g.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((m=this.xyChart)===null||m===void 0?void 0:m.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)===null||y===void 0?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((x=this.xyChart)===null||x===void 0?void 0:x.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)===null||b===void 0?void 0:b.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.labelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||Po(this.primaryColor,{h:-30});this.git4=this.git4||Po(this.primaryColor,{h:-60});this.git5=this.git5||Po(this.primaryColor,{h:-90});this.git6=this.git6||Po(this.primaryColor,{h:60});this.git7=this.git7||Po(this.primaryColor,{h:120});if(this.darkMode){this.git0=Ao(this.git0,25);this.git1=Ao(this.git1,25);this.git2=Ao(this.git2,25);this.git3=Ao(this.git3,25);this.git4=Ao(this.git4,25);this.git5=Ao(this.git5,25);this.git6=Ao(this.git6,25);this.git7=Ao(this.git7,25)}else{this.git0=No(this.git0,25);this.git1=No(this.git1,25);this.git2=No(this.git2,25);this.git3=No(this.git3,25);this.git4=No(this.git4,25);this.git5=No(this.git5,25);this.git6=No(this.git6,25);this.git7=No(this.git7,25)}this.gitInv0=this.gitInv0||No(Lo(this.git0),25);this.gitInv1=this.gitInv1||Lo(this.git1);this.gitInv2=this.gitInv2||Lo(this.git2);this.gitInv3=this.gitInv3||Lo(this.git3);this.gitInv4=this.gitInv4||Lo(this.git4);this.gitInv5=this.gitInv5||Lo(this.git5);this.gitInv6=this.gitInv6||Lo(this.git6);this.gitInv7=this.gitInv7||Lo(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||Lo(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||Lo(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ko;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Qo}calculate(e){Object.keys(this).forEach(e=>{if(this[e]==="calculated"){this[e]=void 0}});if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},a(Ro,"Theme3"),(()=>{Xi(Ro,"Theme")})(),Ro);var rs=Xi(e=>{const t=new as;t.calculate(e);return t},"getThemeVariables");var is=(Oo=class{constructor(){this.background="#f4f4f4";this.primaryColor="#cde498";this.secondaryColor="#cdffb2";this.background="white";this.mainBkg="#cde498";this.secondBkg="#cdffb2";this.lineColor="green";this.border1="#13540c";this.border2="#6eaa49";this.arrowheadColor="green";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.tertiaryColor=Ao("#cde498",10);this.primaryBorderColor=Zo(this.primaryColor,this.darkMode);this.secondaryBorderColor=Zo(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Zo(this.tertiaryColor,this.darkMode);this.primaryTextColor=Lo(this.primaryColor);this.secondaryTextColor=Lo(this.secondaryColor);this.tertiaryTextColor=Lo(this.primaryColor);this.lineColor=Lo(this.background);this.textColor=Lo(this.background);this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="#333";this.edgeLabelBackground="#e8e8e8";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="black";this.actorLineColor="calculated";this.signalColor="#333";this.signalTextColor="#333";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="#326932";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="#6eaa49";this.altSectionBkgColor="white";this.sectionBkgColor2="#6eaa49";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="#487e3a";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="lightgrey";this.doneTaskBkgColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.critBkgColor="red";this.todayLineColor="red";this.vertLineColor="#00BFFF";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222"}updateColors(){var e,t,n,a,r,i,o,s,l,d,c,h,u,p,_,f,g,m,y,x,b;this.actorBorder=No(this.mainBkg,20);this.actorBkg=this.mainBkg;this.labelBoxBkgColor=this.actorBkg;this.labelTextColor=this.actorTextColor;this.loopTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.actorLineColor=this.actorBorder;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||Po(this.primaryColor,{h:30});this.cScale4=this.cScale4||Po(this.primaryColor,{h:60});this.cScale5=this.cScale5||Po(this.primaryColor,{h:90});this.cScale6=this.cScale6||Po(this.primaryColor,{h:120});this.cScale7=this.cScale7||Po(this.primaryColor,{h:150});this.cScale8=this.cScale8||Po(this.primaryColor,{h:210});this.cScale9=this.cScale9||Po(this.primaryColor,{h:270});this.cScale10=this.cScale10||Po(this.primaryColor,{h:300});this.cScale11=this.cScale11||Po(this.primaryColor,{h:330});this["cScalePeer1"]=this["cScalePeer1"]||No(this.secondaryColor,45);this["cScalePeer2"]=this["cScalePeer2"]||No(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=No(this["cScale"+e],10);this["cScalePeer"+e]=this["cScalePeer"+e]||No(this["cScale"+e],25)}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Po(this["cScale"+e],{h:180})}this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||Po(this.mainBkg,{h:30,s:-30,l:-(5+e*5)});this["surfacePeer"+e]=this["surfacePeer"+e]||Po(this.mainBkg,{h:30,s:-30,l:-(8+e*5)})}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.taskBorderColor=this.border1;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.rowOdd=this.rowOdd||Ao(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||Ao(this.mainBkg,20);this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f0f0f0";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.primaryBorderColor;this.specialStateColor=this.lineColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Po(this.primaryColor,{h:64});this.fillType3=Po(this.secondaryColor,{h:64});this.fillType4=Po(this.primaryColor,{h:-64});this.fillType5=Po(this.secondaryColor,{h:-64});this.fillType6=Po(this.primaryColor,{h:128});this.fillType7=Po(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||this.tertiaryColor;this.pie4=this.pie4||Po(this.primaryColor,{l:-30});this.pie5=this.pie5||Po(this.secondaryColor,{l:-30});this.pie6=this.pie6||Po(this.tertiaryColor,{h:40,l:-40});this.pie7=this.pie7||Po(this.primaryColor,{h:60,l:-10});this.pie8=this.pie8||Po(this.primaryColor,{h:-60,l:-10});this.pie9=this.pie9||Po(this.primaryColor,{h:120,l:0});this.pie10=this.pie10||Po(this.primaryColor,{h:60,l:-50});this.pie11=this.pie11||Po(this.primaryColor,{h:-60,l:-50});this.pie12=this.pie12||Po(this.primaryColor,{h:120,l:-50});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||Po(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||Po(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||Po(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||Po(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||Po(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||Po(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||Eo(this.quadrant1Fill)?Ao(this.quadrant1Fill):No(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg};this.radar={axisColor:((e=this.radar)===null||e===void 0?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((t=this.radar)===null||t===void 0?void 0:t.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)===null||n===void 0?void 0:n.axisLabelFontSize)||12,curveOpacity:((a=this.radar)===null||a===void 0?void 0:a.curveOpacity)||.5,curveStrokeWidth:((r=this.radar)===null||r===void 0?void 0:r.curveStrokeWidth)||2,graticuleColor:((i=this.radar)===null||i===void 0?void 0:i.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)===null||o===void 0?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((s=this.radar)===null||s===void 0?void 0:s.graticuleOpacity)||.3,legendBoxSize:((l=this.radar)===null||l===void 0?void 0:l.legendBoxSize)||12,legendFontSize:((d=this.radar)===null||d===void 0?void 0:d.legendFontSize)||12};this.xyChart={backgroundColor:((c=this.xyChart)===null||c===void 0?void 0:c.backgroundColor)||this.background,titleColor:((h=this.xyChart)===null||h===void 0?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((u=this.xyChart)===null||u===void 0?void 0:u.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)===null||p===void 0?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)===null||_===void 0?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((f=this.xyChart)===null||f===void 0?void 0:f.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((g=this.xyChart)===null||g===void 0?void 0:g.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((m=this.xyChart)===null||m===void 0?void 0:m.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)===null||y===void 0?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((x=this.xyChart)===null||x===void 0?void 0:x.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)===null||b===void 0?void 0:b.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||Po(this.primaryColor,{h:-30});this.git4=this.git4||Po(this.primaryColor,{h:-60});this.git5=this.git5||Po(this.primaryColor,{h:-90});this.git6=this.git6||Po(this.primaryColor,{h:60});this.git7=this.git7||Po(this.primaryColor,{h:120});if(this.darkMode){this.git0=Ao(this.git0,25);this.git1=Ao(this.git1,25);this.git2=Ao(this.git2,25);this.git3=Ao(this.git3,25);this.git4=Ao(this.git4,25);this.git5=Ao(this.git5,25);this.git6=Ao(this.git6,25);this.git7=Ao(this.git7,25)}else{this.git0=No(this.git0,25);this.git1=No(this.git1,25);this.git2=No(this.git2,25);this.git3=No(this.git3,25);this.git4=No(this.git4,25);this.git5=No(this.git5,25);this.git6=No(this.git6,25);this.git7=No(this.git7,25)}this.gitInv0=this.gitInv0||Lo(this.git0);this.gitInv1=this.gitInv1||Lo(this.git1);this.gitInv2=this.gitInv2||Lo(this.git2);this.gitInv3=this.gitInv3||Lo(this.git3);this.gitInv4=this.gitInv4||Lo(this.git4);this.gitInv5=this.gitInv5||Lo(this.git5);this.gitInv6=this.gitInv6||Lo(this.git6);this.gitInv7=this.gitInv7||Lo(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||Lo(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||Lo(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor
this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ko;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Qo}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},a(Oo,"Theme4"),(()=>{Xi(Oo,"Theme")})(),Oo);var os=Xi(e=>{const t=new is;t.calculate(e);return t},"getThemeVariables");var ss=(Fo=class{constructor(){this.primaryColor="#eee";this.contrast="#707070";this.secondaryColor=Ao(this.contrast,55);this.background="#ffffff";this.tertiaryColor=Po(this.primaryColor,{h:-160});this.primaryBorderColor=Zo(this.primaryColor,this.darkMode);this.secondaryBorderColor=Zo(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Zo(this.tertiaryColor,this.darkMode);this.primaryTextColor=Lo(this.primaryColor);this.secondaryTextColor=Lo(this.secondaryColor);this.tertiaryTextColor=Lo(this.tertiaryColor);this.lineColor=Lo(this.background);this.textColor=Lo(this.background);this.mainBkg="#eee";this.secondBkg="calculated";this.lineColor="#666";this.border1="#999";this.border2="calculated";this.note="#ffa";this.text="#333";this.critical="#d42";this.done="#bbb";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="calculated";this.edgeLabelBackground="white";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="calculated";this.actorLineColor=this.actorBorder;this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="calculated";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="white";this.sectionBkgColor2="calculated";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="calculated";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="calculated";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="calculated";this.critBkgColor="calculated";this.critBorderColor="calculated";this.todayLineColor="calculated";this.vertLineColor="calculated";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd=this.rowOdd||Ao(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||"#f4f4f4";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222"}updateColors(){var e,t,n,a,r,i,o,s,l,d,c,h,u,p,_,f,g,m,y,x,b;this.secondBkg=Ao(this.contrast,55);this.border2=this.contrast;this.actorBorder=Ao(this.border1,23);this.actorBkg=this.mainBkg;this.actorTextColor=this.text;this.actorLineColor=this.actorBorder;this.signalColor=this.text;this.signalTextColor=this.text;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.text;this.loopTextColor=this.text;this.noteBorderColor="#999";this.noteBkgColor="#666";this.noteTextColor="#fff";this.cScale0=this.cScale0||"#555";this.cScale1=this.cScale1||"#F4F4F4";this.cScale2=this.cScale2||"#555";this.cScale3=this.cScale3||"#BBB";this.cScale4=this.cScale4||"#777";this.cScale5=this.cScale5||"#999";this.cScale6=this.cScale6||"#DDD";this.cScale7=this.cScale7||"#FFF";this.cScale8=this.cScale8||"#DDD";this.cScale9=this.cScale9||"#BBB";this.cScale10=this.cScale10||"#999";this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Lo(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){if(this.darkMode){this["cScalePeer"+e]=this["cScalePeer"+e]||Ao(this["cScale"+e],10)}else{this["cScalePeer"+e]=this["cScalePeer"+e]||No(this["cScale"+e],10)}}this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);this.cScaleLabel0=this.cScaleLabel0||this.cScale1;this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||Po(this.mainBkg,{l:-(5+e*5)});this["surfacePeer"+e]=this["surfacePeer"+e]||Po(this.mainBkg,{l:-(8+e*5)})}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.text;this.sectionBkgColor=Ao(this.contrast,30);this.sectionBkgColor2=Ao(this.contrast,30);this.taskBorderColor=No(this.contrast,10);this.taskBkgColor=this.contrast;this.taskTextColor=this.taskTextLightColor;this.taskTextDarkColor=this.text;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.gridColor=Ao(this.border1,30);this.doneTaskBkgColor=this.done;this.doneTaskBorderColor=this.lineColor;this.critBkgColor=this.critical;this.critBorderColor=No(this.critBkgColor,10);this.todayLineColor=this.critBkgColor;this.vertLineColor=this.critBkgColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.transitionColor=this.transitionColor||"#000";this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f4f4f4";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.stateBorder=this.stateBorder||"#000";this.innerEndBackground=this.primaryBorderColor;this.specialStateColor="#222";this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Po(this.primaryColor,{h:64});this.fillType3=Po(this.secondaryColor,{h:64});this.fillType4=Po(this.primaryColor,{h:-64});this.fillType5=Po(this.secondaryColor,{h:-64});this.fillType6=Po(this.primaryColor,{h:128});this.fillType7=Po(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["pie"+e]=this["cScale"+e]}this.pie12=this.pie0;this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||Po(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||Po(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||Po(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||Po(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||Po(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||Po(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||Eo(this.quadrant1Fill)?Ao(this.quadrant1Fill):No(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:((e=this.xyChart)===null||e===void 0?void 0:e.backgroundColor)||this.background,titleColor:((t=this.xyChart)===null||t===void 0?void 0:t.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)===null||n===void 0?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)===null||a===void 0?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((r=this.xyChart)===null||r===void 0?void 0:r.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((i=this.xyChart)===null||i===void 0?void 0:i.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)===null||o===void 0?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((s=this.xyChart)===null||s===void 0?void 0:s.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((l=this.xyChart)===null||l===void 0?void 0:l.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)===null||d===void 0?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((c=this.xyChart)===null||c===void 0?void 0:c.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"};this.radar={axisColor:((h=this.radar)===null||h===void 0?void 0:h.axisColor)||this.lineColor,axisStrokeWidth:((u=this.radar)===null||u===void 0?void 0:u.axisStrokeWidth)||2,axisLabelFontSize:((p=this.radar)===null||p===void 0?void 0:p.axisLabelFontSize)||12,curveOpacity:((_=this.radar)===null||_===void 0?void 0:_.curveOpacity)||.5,curveStrokeWidth:((f=this.radar)===null||f===void 0?void 0:f.curveStrokeWidth)||2,graticuleColor:((g=this.radar)===null||g===void 0?void 0:g.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((m=this.radar)===null||m===void 0?void 0:m.graticuleStrokeWidth)||1,graticuleOpacity:((y=this.radar)===null||y===void 0?void 0:y.graticuleOpacity)||.3,legendBoxSize:((x=this.radar)===null||x===void 0?void 0:x.legendBoxSize)||12,legendFontSize:((b=this.radar)===null||b===void 0?void 0:b.legendFontSize)||12};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=No(this.pie1,25)||this.primaryColor;this.git1=this.pie2||this.secondaryColor;this.git2=this.pie3||this.tertiaryColor;this.git3=this.pie4||Po(this.primaryColor,{h:-30});this.git4=this.pie5||Po(this.primaryColor,{h:-60});this.git5=this.pie6||Po(this.primaryColor,{h:-90});this.git6=this.pie7||Po(this.primaryColor,{h:60});this.git7=this.pie8||Po(this.primaryColor,{h:120});this.gitInv0=this.gitInv0||Lo(this.git0);this.gitInv1=this.gitInv1||Lo(this.git1);this.gitInv2=this.gitInv2||Lo(this.git2);this.gitInv3=this.gitInv3||Lo(this.git3);this.gitInv4=this.gitInv4||Lo(this.git4);this.gitInv5=this.gitInv5||Lo(this.git5);this.gitInv6=this.gitInv6||Lo(this.git6);this.gitInv7=this.gitInv7||Lo(this.git7);this.branchLabelColor=this.branchLabelColor||this.labelTextColor;this.gitBranchLabel0=this.branchLabelColor;this.gitBranchLabel1="white";this.gitBranchLabel2=this.branchLabelColor;this.gitBranchLabel3="white";this.gitBranchLabel4=this.branchLabelColor;this.gitBranchLabel5=this.branchLabelColor;this.gitBranchLabel6=this.branchLabelColor;this.gitBranchLabel7=this.branchLabelColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ko;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Qo}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},a(Fo,"Theme5"),(()=>{Xi(Fo,"Theme")})(),Fo);var ls=Xi(e=>{const t=new ss;t.calculate(e);return t},"getThemeVariables");var ds={base:{getThemeVariables:es},dark:{getThemeVariables:ns},default:{getThemeVariables:rs},forest:{getThemeVariables:os},neutral:{getThemeVariables:ls}};var cs={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1};var hs={...cs,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:ds.default.getThemeVariables(),sequence:{...cs.sequence,messageFont:Xi(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:Xi(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:Xi(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...cs.gantt,tickInterval:void 0,useWidth:void 0},c4:{...cs.c4,useWidth:void 0,personFont:Xi(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...cs.flowchart,inheritDir:!1},external_personFont:Xi(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:Xi(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:Xi(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:Xi(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:Xi(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:Xi(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:Xi(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:Xi(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:Xi(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:Xi(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:Xi(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:Xi(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:Xi(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:Xi(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:Xi(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:Xi(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:Xi(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:Xi(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:Xi(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:Xi(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:Xi(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...cs.pie,useWidth:984},xyChart:{...cs.xyChart,useWidth:void 0},requirement:{...cs.requirement,useWidth:void 0},packet:{...cs.packet},radar:{...cs.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}};var us=Xi((e,t="")=>Object.keys(e).reduce((n,a)=>{if(Array.isArray(e[a])){return n}else if(typeof e[a]==="object"&&e[a]!==null){return[...n,t+a,...us(e[a],"")]}return[...n,t+a]},[]),"keyify");var ps=new Set(us(hs,""));var _s=Xi(e=>{Zi.debug("sanitizeDirective called with",e);if(typeof e!=="object"||e==null){return}if(Array.isArray(e)){e.forEach(e=>_s(e));return}for(const t of Object.keys(e)){Zi.debug("Checking key",t);if(t.startsWith("__")||t.includes("proto")||t.includes("constr")||!ps.has(t)||e[t]==null){Zi.debug("sanitize deleting key: ",t);delete e[t];continue}if(typeof e[t]==="object"){Zi.debug("sanitizing object",t);_s(e[t]);continue}let n=["themeCSS","fontFamily","altFontFamily"];for(const a of n){if(t.includes(a)){Zi.debug("sanitizing css option",t);e[t]=fs(e[t])}}}if(e.themeVariables){for(const t of Object.keys(e.themeVariables)){let n=e.themeVariables[t];(n===null||n===void 0?void 0:n.match)&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}}Zi.debug("After sanitization",e)},"sanitizeDirective");var fs=Xi(e=>{let t=0;let n=0;for(const a of e){if(t<n){return"{ /* ERROR: Unbalanced CSS */ }"}if(a==="{"){t++}else a==="}"&&n++}if(t!==n){return"{ /* ERROR: Unbalanced CSS */ }"}return e},"sanitizeCss");var gs=Object.freeze(hs);var ms=Xo({},gs);var ys;var xs=[];var bs=Xo({},gs);var vs=Xi((e,t)=>{let n=Xo({},e);let a={};for(const e of t){Ns(e);a=Xo(a,e)}n=Xo(n,a);if(a.theme&&a.theme in ds){let e=Xo({},ys),t=Xo(e.themeVariables||{},a.themeVariables);n.theme&&n.theme in ds&&(n.themeVariables=ds[n.theme].getThemeVariables(t))}bs=n;Bs(bs);return bs},"updateCurrentConfig");var ks=Xi(e=>{ms=Xo({},gs);ms=Xo(ms,e);e.theme&&ds[e.theme]&&(ms.themeVariables=ds[e.theme].getThemeVariables(e.themeVariables));vs(ms,xs);return ms},"setSiteConfig");var Ss=Xi(e=>{ys=Xo({},e)},"saveConfigFromInitialize");var ws=Xi(e=>{ms=Xo(ms,e);vs(ms,xs);return ms},"updateSiteConfig");var Cs=Xi(()=>Xo({},ms),"getSiteConfig");var Ts=Xi(e=>{Bs(e);Xo(bs,e);return Es()},"setConfig");var Es=Xi(()=>Xo({},bs),"getConfig");var As=Es;var Ns=Xi(e=>{var t;if(!e){return}["secure",...(t=ms.secure)!==null&&t!==void 0?t:[]].forEach(t=>{if(Object.hasOwn(e,t)){Zi.debug(`Denied attempt to modify a secure key ${t}`,e[t]);delete e[t]}});Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]});Object.keys(e).forEach(t=>{typeof e[t]==="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t];typeof e[t]==="object"&&Ns(e[t])})},"sanitize");var Ps=Xi(e=>{var t;_s(e);e.fontFamily&&!((t=e.themeVariables)===null||t===void 0?void 0:t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily});xs.push(e);vs(ms,xs)},"addDirective");var Ls=Xi((e=ms)=>{xs=[];vs(e,xs)},"reset");var Ms={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."};var Ds={};var Is=Xi(e=>{if(Ds[e]){return}Zi.warn(Ms[e]);Ds[e]=!0},"issueWarning");var Bs=Xi(e=>{if(!e){return}(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&Is("LAZY_LOAD_DEPRECATED")},"checkConfig");var Rs=Xi(()=>{let e={};ys&&(e=Xo(e,ys));for(const t of xs){e=Xo(e,t)}return e},"getUserDefinedConfig")
var Os=/<br\s*\/?>/gi;var Fs=Xi(e=>{if(!e){return[""]}const t=Vs(e).replace(/\\n/g,"#br#");return t.split("#br#")},"getRows");var js=(()=>{let e=!1;return()=>{if(!e){Hs();e=!0}}})();function Hs(){const e="data-temp-href-target";Mo.addHook("beforeSanitizeAttributes",t=>{var n;t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,(n=t.getAttribute("target"))!==null&&n!==void 0?n:"")});Mo.addHook("afterSanitizeAttributes",t=>{var n;if(t.tagName==="A"&&t.hasAttribute(e)){t.setAttribute("target",(n=t.getAttribute(e))!==null&&n!==void 0?n:"");t.removeAttribute(e);t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener")}})}Xi(Hs,"setupDompurifyHooks");var $s=Xi(e=>{js();const t=Mo.sanitize(e);return t},"removeScript");var Ws=Xi((e,t)=>{var n;if(((n=t.flowchart)===null||n===void 0?void 0:n.htmlLabels)!==!1){let n=t.securityLevel;if(n==="antiscript"||n==="strict"){e=$s(e)}else if(n!=="loose"){e=Vs(e);e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");e=e.replace(/=/g,"&equals;");e=Gs(e)}}return e},"sanitizeMore");var zs=Xi((e,t)=>{if(!e){return e}if(t.dompurifyConfig){e=Mo.sanitize(Ws(e,t),t.dompurifyConfig).toString()}else{e=Mo.sanitize(Ws(e,t),{FORBID_TAGS:["style"]}).toString()}return e},"sanitizeText");var qs=Xi((e,t)=>{if(typeof e==="string"){return zs(e,t)}return e.flat().map(e=>zs(e,t))},"sanitizeTextOrArray");var Us=Xi(e=>Os.test(e),"hasBreaks");var Ys=Xi(e=>e.split(Os),"splitBreaks");var Gs=Xi(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak");var Vs=Xi(e=>e.replace(Os,"#br#"),"breakToPlaceholder");var Xs=Xi(e=>{let t="";if(e){t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;t=CSS.escape(t)}return t},"getUrl");var Ks=Xi(e=>e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())?!1:!0,"evaluate");var Qs=Xi(function(...e){const t=e.filter(e=>!isNaN(e));return Math.max(...t)},"getMax");var Zs=Xi(function(...e){const t=e.filter(e=>!isNaN(e));return Math.min(...t)},"getMin");var Js=Xi(function(e){const t=e.split(/(,)/);const n=[];for(let e=0;e<t.length;e++){let a=t[e];if(a===","&&e>0&&e+1<t.length){let r=t[e-1],i=t[e+1];if(tl(r,i)){a=r+","+i;e++;n.pop()}}n.push(nl(a))}return n.join("")},"parseGenericTypes");var el=Xi((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence");var tl=Xi((e,t)=>{const n=el(e,"~");const a=el(t,"~");return n===1&&a===1},"shouldCombineSets");var nl=Xi(e=>{const t=el(e,"~");let n=!1;if(t<=1){return e}if(t%2!==0&&e.startsWith("~")){e=e.substring(1);n=!0}const a=[...e];let r=a.indexOf("~");let i=a.lastIndexOf("~");while(r!==-1&&i!==-1&&r!==i){a[r]="<";a[i]=">";r=a.indexOf("~");i=a.lastIndexOf("~")}n&&a.unshift("~");return a.join("")},"processSet");var al=Xi(()=>window.MathMLElement!==void 0,"isMathMLSupported");var rl=/\$\$(.*)\$\$/g;var il=Xi(e=>{var t,n;return((n=(t=e.match(rl))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0},"hasKatex");var ol=Xi(async(e,t)=>{const n=document.createElement("div");n.innerHTML=await ll(e,t);n.id="katex-temp";n.style.visibility="hidden";n.style.position="absolute";n.style.top="0";const a=document.querySelector("body");a===null||a===void 0?void 0:a.insertAdjacentElement("beforeend",n);const r={width:n.clientWidth,height:n.clientHeight};n.remove();return r},"calculateMathMLDimensions");var sl=Xi(async(e,t)=>{if(!il(e)){return e}if(!(al()||t.legacyMathML||t.forceLegacyMathML)){return e.replace(rl,"MathML is unsupported in this environment.")}{let{default:n}=await r("b.js","a"),a=t.forceLegacyMathML||!al()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Os).map(e=>il(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`).join("").replace(rl,(e,t)=>n.renderToString(t,{throwOnError:!0,displayMode:!0,output:a}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return e.replace(rl,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized");var ll=Xi(async(e,t)=>zs(await sl(e,t),t),"renderKatexSanitized");var dl=ll;var cl={getRows:Fs,sanitizeText:zs,sanitizeTextOrArray:qs,hasBreaks:Us,splitBreaks:Ys,lineBreakRegex:Os,removeScript:$s,getUrl:Xs,evaluate:Ks,getMax:Qs,getMin:Zs};var hl=Xi(function(e,t){for(let n of t){e.attr(n[0],n[1])}},"d3Attrs");var ul=Xi(function(e,t,n){let a=new Map;if(n){a.set("width","100%");a.set("style",`max-width: ${t}px;`)}else{a.set("height",e);a.set("width",t)}return a},"calculateSvgSizeAttrs");var pl=Xi(function(e,t,n,a){const r=ul(t,n,a);hl(e,r)},"configureSvgSize");var _l=Xi(function(e,t,n,a){const r=t.node().getBBox();const i=r.width;const o=r.height;Zi.info(`SVG bounds: ${i}x${o}`,r);let s=0;let l=0;Zi.info(`Graph bounds: ${s}x${l}`,e);s=i+n*2;l=o+n*2;Zi.info(`Calculated bounds: ${s}x${l}`);pl(t,l,s,a);const d=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;t.attr("viewBox",d)},"setupGraphViewbox");var fl={};var gl=Xi((e,t,n)=>{let a="";if(e in fl&&fl[e]){a=fl[e](n)}else{Zi.warn(`No theme found for ${e}`)}return` & {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n    fill: ${n.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${n.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${n.errorTextColor};\n    stroke: ${n.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${n.lineColor};\n    stroke: ${n.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${n.lineColor};\n  }\n\n  & svg {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${a}\n\n  ${t}\n`},"getStyles");var ml=Xi((e,t)=>{t!==void 0&&(fl[e]=t)},"addStylesForDiagram");var yl={};Ki(yl,{clear:()=>Sl,getAccDescription:()=>Ll,getAccTitle:()=>El,getDiagramTitle:()=>Bl,setAccDescription:()=>Nl,setAccTitle:()=>Cl,setDiagramTitle:()=>Dl});var xl="";var bl="";var vl="";var kl=Xi(e=>zs(e,Es()),"sanitizeText");var Sl=Xi(()=>{xl="";vl="";bl=""},"clear");var wl=Sl;var Cl=Xi(e=>{xl=kl(e).replace(/^\s+/g,"")},"setAccTitle");var Tl=Cl;var El=Xi(()=>xl,"getAccTitle");var Al=El;var Nl=Xi(e=>{vl=kl(e).replace(/\n\s+/g,"\n")},"setAccDescription");var Pl=Nl;var Ll=Xi(()=>vl,"getAccDescription");var Ml=Ll;var Dl=Xi(e=>{bl=kl(e)},"setDiagramTitle");var Il=Dl;var Bl=Xi(()=>bl,"getDiagramTitle");var Rl=Bl;var Ol=Es;var Fl=Xi(e=>zs(e,Ol()),"sanitizeText");var jl=Xi(()=>yl,"getCommonDb");var Hl={};var $l=Xi((e,t,n)=>{var a;Hl[e]&&Zi.warn(`Diagram with id ${e} already registered. Overwriting.`);Hl[e]=t;n&&Go(e,n);ml(e,t.styles);(a=t.injectUtils)===null||a===void 0?void 0:a.call(t,Zi,Ji,Ol,Fl,_l,jl(),()=>{})},"registerDiagram");var Wl=Xi(e=>{if(e in Hl){return Hl[e]}throw new zl(e)},"getDiagram");var zl=(jo=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},a(jo,"DiagramNotFoundError"),(()=>{Xi(jo,"DiagramNotFoundError")})(),jo);function ql(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ul(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yl(e){let t,n,a;if(e.length!==2){t=ql;n=((t,n)=>ql(e(t),n));a=((t,n)=>e(t)-n)}else{t=e===ql||e===Ul?e:Gl;n=e;a=e}function r(e,a,r=0,i=e.length){if(r<i){if(t(a,a)!==0)return i;do{let t=r+i>>>1;if(n(e[t],a)<0)r=t+1;else i=t}while(r<i)}return r}function i(e,a,r=0,i=e.length){if(r<i){if(t(a,a)!==0)return i;do{let t=r+i>>>1;if(n(e[t],a)<=0)r=t+1;else i=t}while(r<i)}return r}function o(e,t,n=0,i=e.length){const o=r(e,t,n,i-1);return o>n&&a(e[o-1],t)>-a(e[o],t)?o-1:o}return{left:r,center:o,right:i}}function Gl(){return 0}function Vl(e){return e===null?NaN:+e}const Xl=Yl(ql);var Kl=Xl.right;Xl.left;Yl(Vl).center;Ql(td);Ql(ed);function Ql(t){return function(n,a,r=a){if(!((a=+a)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==e?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!a&&!r)return n;const l=a&&t(a);const d=r&&t(r);const c=i.slice();if(l&&d){Zl(l,c,i,o,s);Zl(l,i,c,o,s);Zl(l,c,i,o,s);Jl(d,i,c,o,s);Jl(d,c,i,o,s);Jl(d,i,c,o,s)}else if(l){Zl(l,i,c,o,s);Zl(l,c,i,o,s);Zl(l,i,c,o,s)}else if(d){Jl(d,i,c,o,s);Jl(d,c,i,o,s);Jl(d,i,c,o,s)}return n}}function Zl(e,t,n,a,r){for(let i=0,o=a*r;i<o;){e(t,n,i,i+=a,1)}}function Jl(e,t,n,a,r){for(let i=0,o=a*r;i<a;++i){e(t,n,i,i+o,a)}}function ed(e){const t=td(e);return(e,n,a,r,i)=>{a<<=2,r<<=2,i<<=2;t(e,n,a+0,r+0,i);t(e,n,a+1,r+1,i);t(e,n,a+2,r+2,i);t(e,n,a+3,r+3,i)}}function td(e){const t=Math.floor(e);if(t===e)return nd(e);const n=e-t;const a=2*e+1;return(e,r,i,o,s)=>{if(!((o-=s)>=i))return;let l=t*r[i];const d=s*t;const c=d+s;for(let e=i,t=i+d;e<t;e+=s){l+=r[Math.min(o,e)]}for(let t=i,h=o;t<=h;t+=s){l+=r[Math.min(o,t+d)];e[t]=(l+n*(r[Math.max(i,t-c)]+r[Math.min(o,t+c)]))/a;l-=r[Math.max(i,t-d)]}}}function nd(e){const t=2*e+1;return(n,a,r,i,o)=>{if(!((i-=o)>=r))return;let s=e*a[r];const l=o*e;for(let e=r,t=r+l;e<t;e+=o){s+=a[Math.min(i,e)]}for(let e=r,d=i;e<=d;e+=o){s+=a[Math.min(i,e+l)];n[e]=s/t;s-=a[Math.max(r,e-l)]}}}class Adder{constructor(){this._partials=new Float64Array(32);this._n=0}add(e){const t=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){let r=t[a],i=e+r,o=Math.abs(e)<Math.abs(r)?e-(i-r):r-(i-e);o&&(t[n++]=o);e=i}t[n]=e;this._n=n+1;return this}valueOf(){const e=this._partials;let t=this._n,n,a,r,i=0;if(t>0){i=e[--t];while(t>0){n=i;a=e[--t];i=n+a;r=a-(i-n);if(r)break}if(t>0&&(r<0&&e[t-1]<0||r>0&&e[t-1]>0)){a=r*2;n=i+a;a==n-i&&(i=n)}}return i}}class InternMap extends Map{constructor(e,t=od){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}});if(e!=null)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(ad(this,e))}has(e){return super.has(ad(this,e))}set(e,t){return super.set(rd(this,e),t)}delete(e){return super.delete(id(this,e))}}function ad({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function rd({_intern:e,_key:t},n){const a=t(n);if(e.has(a))return e.get(a);e.set(a,n);return n}function id({_intern:e,_key:t},n){const a=t(n);if(e.has(a)){n=e.get(a);e.delete(a)}return n}function od(e){return e!==null&&typeof e==="object"?e.valueOf():e}var sd=Array.prototype;sd.slice;sd.map;const ld=Math.sqrt(50),dd=Math.sqrt(10),cd=Math.sqrt(2);function hd(e,t,n){const a=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(a)),i=a/Math.pow(10,r),o=i>=ld?10:i>=dd?5:i>=cd?2:1;let s,l,d;if(r<0){d=Math.pow(10,-r)/o;s=Math.round(e*d);l=Math.round(t*d);s/d<e&&++s;l/d>t&&--l;d=-d}else{d=Math.pow(10,r)*o;s=Math.round(e/d);l=Math.round(t/d);s*d<e&&++s;l*d>t&&--l}if(l<s&&.5<=n&&n<2)return hd(e,t,n*2);return[s,l,d]}function ud(e,t,n){t=+t,e=+e,n=+n;if(!(n>0))return[];if(e===t)return[e];const a=t<e,[r,i,o]=a?hd(t,e,n):hd(e,t,n);if(!(i>=r))return[];const s=i-r+1,l=new Array(s);if(a){if(o<0)for(let e=0;e<s;++e)l[e]=(i-e)/-o;else for(let e=0;e<s;++e)l[e]=(i-e)*o}else{if(o<0)for(let e=0;e<s;++e)l[e]=(r+e)/-o;else for(let e=0;e<s;++e)l[e]=(r+e)*o}return l}function pd(e,t,n){t=+t,e=+e,n=+n;return hd(e,t,n)[2]}function _d(e,t,n){t=+t,e=+e,n=+n;const a=t<e,r=a?pd(t,e,n):pd(e,t,n);return(a?-1:1)*(r<0?1/-r:r)}function fd(t,n){let a;if(n===e){for(const n of t){n!=null&&(a<n||a===e&&n>=n)&&(a=n)}}else{let r=-1;for(let i of t){(i=n(i,++r,t))!=null&&(a<i||a===e&&i>=i)&&(a=i)}}return a}function gd(t,n){let a;if(n===e){for(const n of t){n!=null&&(a>n||a===e&&n>=n)&&(a=n)}}else{let r=-1;for(let i of t){(i=n(i,++r,t))!=null&&(a>i||a===e&&i>=i)&&(a=i)}}return a}function*md(e){for(const t of e){yield*t}}function yd(e){return Array.from(md(e))}function xd(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;var a=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(r);while(++a<r){i[a]=e+a*n}return i}bd(Math.random);function bd(e){return function t(n,a=0,r=n.length){let i=r-(a=+a);while(i){let t=e()*i--|0,r=n[i+a];n[i+a]=n[t+a];n[t+a]=r}return n}}function vd(t,n){let a=0;if(n===e){for(let e of t){(e=+e)&&(a+=e)}}else{let e=-1;for(let r of t){(r=+n(r,++e,t))&&(a+=r)}}return a}function kd(e){return e}var Sd=1,wd=2,Cd=3,Td=4,Ed=1E-06;function Ad(e){return"translate("+e+",0)"}function Nd(e){return"translate(0,"+e+")"}function Pd(e){return t=>+e(t)}function Ld(e,t){t=Math.max(0,e.bandwidth()-t*2)/2;e.round()&&(t=Math.round(t));return n=>+e(n)+t}function Md(){return!this.__axis}function Dd(e,t){var n=[],a=null,r=null,i=6,o=6,s=3,l=typeof window!=="undefined"&&window.devicePixelRatio>1?0:.5,d=e===Sd||e===Td?-1:1,c=e===Td||e===wd?"x":"y",h=e===Sd||e===Cd?Ad:Nd;function u(u){var p=a==null?t.ticks?t.ticks.apply(t,n):t.domain():a,_=r==null?t.tickFormat?t.tickFormat.apply(t,n):kd:r,f=Math.max(i,0)+s,g=t.range(),m=+g[0]+l,y=+g[g.length-1]+l,x=(t.bandwidth?Ld:Pd)(t.copy(),l),b=u.selection?u.selection():u,v=b.selectAll(".domain").data([null]),k=b.selectAll(".tick").data(p,t).order(),S=k.exit(),w=k.enter().append("g").attr("class","tick"),C=k.select("line"),T=k.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));k=k.merge(w);C=C.merge(w.append("line").attr("stroke","currentColor").attr(c+"2",d*i));T=T.merge(w.append("text").attr("fill","currentColor").attr(c,d*f).attr("dy",e===Sd?"0em":e===Cd?"0.71em":"0.32em"));if(u!==b){v=v.transition(u);k=k.transition(u);C=C.transition(u);T=T.transition(u);S=S.transition(u).attr("opacity",Ed).attr("transform",function(e){return isFinite(e=x(e))?h(e+l):this.getAttribute("transform")});w.attr("opacity",Ed).attr("transform",function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:x(e))+l)})}S.remove();v.attr("d",e===Td||e===wd?o?"M"+d*o+","+m+"H"+l+"V"+y+"H"+d*o:"M"+l+","+m+"V"+y:o?"M"+m+","+d*o+"V"+l+"H"+y+"V"+d*o:"M"+m+","+l+"H"+y);k.attr("opacity",1).attr("transform",function(e){return h(x(e)+l)});C.attr(c+"2",d*i);T.attr(c,d*f).text(_);b.filter(Md).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===wd?"start":e===Td?"end":"middle");b.each(function(){this.__axis=x})}u.scale=function(e){return arguments.length?(t=e,u):t};u.ticks=function(){return n=Array.from(arguments),u};u.tickArguments=function(e){return arguments.length?(n=e==null?[]:Array.from(e),u):n.slice()};u.tickValues=function(e){return arguments.length?(a=e==null?null:Array.from(e),u):a&&a.slice()};u.tickFormat=function(e){return arguments.length?(r=e,u):r};u.tickSize=function(e){return arguments.length?(i=o=+e,u):i};u.tickSizeInner=function(e){return arguments.length?(i=+e,u):i};u.tickSizeOuter=function(e){return arguments.length?(o=+e,u):o};u.tickPadding=function(e){return arguments.length?(s=+e,u):s};u.offset=function(e){return arguments.length?(l=+e,u):l};return u}function Id(e){return Dd(Sd,e)}function Bd(e){return Dd(Cd,e)}var Rd={value:()=>{}};function Od(){for(var e=0,t=arguments.length,n={},a;e<t;++e){if(!(a=arguments[e]+"")||a in n||/[\s.]/.test(a))throw new Error("illegal type: "+a);n[a]=[]}return new Fd(n)}function Fd(e){this._=e}function jd(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",a=e.indexOf(".");a>=0&&(n=e.slice(a+1),e=e.slice(0,a));if(e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}Fd.prototype=Od.prototype={constructor:Fd,on:function(e,t){var n=this._,a=jd(e+"",n),r,i=-1,o=a.length;if(arguments.length<2){while(++i<o)if((r=(e=a[i]).type)&&(r=Hd(n[r],e.name)))return r;return}if(t!=null&&typeof t!=="function")throw new Error("invalid callback: "+t);while(++i<o){if(r=(e=a[i]).type)n[r]=$d(n[r],e.name,t);else if(t==null)for(r in n)n[r]=$d(n[r],e.name,null)}return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fd(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),a=0,r,i;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};function Hd(e,t){for(var n=0,a=e.length,r;n<a;++n){if((r=e[n]).name===t){return r.value}}}function $d(e,t,n){for(var a=0,r=e.length;a<r;++a){if(e[a].name===t){e[a]=Rd,e=e.slice(0,a).concat(e.slice(a+1));break}}n!=null&&e.push({name:t,value:n});return e}var Wd="http://www.w3.org/1999/xhtml";var zd={svg:"http://www.w3.org/2000/svg",xhtml:Wd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qd(e){var t=e+="",n=t.indexOf(":");n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1));return zd.hasOwnProperty(t)?{space:zd[t],local:e}:e}function Ud(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Wd&&t.documentElement.namespaceURI===Wd?t.createElement(e):t.createElementNS(n,e)}}function Yd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Gd(e){var t=qd(e);return(t.local?Yd:Ud)(t)}function Vd(){}function Xd(e){return e==null?Vd:function(){return this.querySelector(e)}}function Kd(e){typeof e!=="function"&&(e=Xd(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r){for(var i=t[r],o=i.length,s=a[r]=new Array(o),l,d,c=0;c<o;++c){if((l=i[c])&&(d=e.call(l,l.__data__,c,i))){"__data__"in l&&(d.__data__=l.__data__);s[c]=d}}}return new Fh(a,this._parents)}function Qd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zd(){return[]}function Jd(e){return e==null?Zd:function(){return this.querySelectorAll(e)}}function ec(e){return function(){return Qd(e.apply(this,arguments))}}function tc(e){if(typeof e==="function")e=ec(e);else e=Jd(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i){for(var o=t[i],s=o.length,l,d=0;d<s;++d){if(l=o[d]){a.push(e.call(l,l.__data__,d,o));r.push(l)}}}return new Fh(a,r)}function nc(e){return function(){return this.matches(e)}}function ac(e){return function(t){return t.matches(e)}}var rc=Array.prototype.find;function ic(e){return function(){return rc.call(this.children,e)}}function oc(){return this.firstElementChild}function sc(e){return this.select(e==null?oc:ic(typeof e==="function"?e:ac(e)))}var lc=Array.prototype.filter;function dc(){return Array.from(this.children)}function cc(e){return function(){return lc.call(this.children,e)}}function hc(e){return this.selectAll(e==null?dc:cc(typeof e==="function"?e:ac(e)))}function uc(e){typeof e!=="function"&&(e=nc(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r){for(var i=t[r],o=i.length,s=a[r]=[],l,d=0;d<o;++d){(l=i[d])&&e.call(l,l.__data__,d,i)&&s.push(l)}}return new Fh(a,this._parents)}function pc(e){return new Array(e.length)}function _c(){return new Fh(this._enter||this._groups.map(pc),this._parents)}function fc(e,t){this.ownerDocument=e.ownerDocument;this.namespaceURI=e.namespaceURI;this._next=null;this._parent=e;this.__data__=t}fc.prototype={constructor:fc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gc(e){return function(){return e}}function mc(e,t,n,a,r,i){var o=0,s,l=t.length,d=i.length;for(;o<d;++o){if(s=t[o]){s.__data__=i[o];a[o]=s}else{n[o]=new fc(e,i[o])}}for(;o<l;++o){(s=t[o])&&(r[o]=s)}}function yc(e,t,n,a,r,i,o){var s,l,d=new Map,c=t.length,h=i.length,u=new Array(c),p;for(s=0;s<c;++s){if(l=t[s]){u[s]=p=o.call(l,l.__data__,s,t)+"";if(d.has(p)){r[s]=l}else{d.set(p,l)}}}for(s=0;s<h;++s){p=o.call(e,i[s],s,i)+"";if(l=d.get(p)){a[s]=l;l.__data__=i[s];d.delete(p)}else{n[s]=new fc(e,i[s])}}for(s=0;s<c;++s){(l=t[s])&&d.get(u[s])===l&&(r[s]=l)}}function xc(e){return e.__data__}function bc(e,t){if(!arguments.length)return Array.from(this,xc);var n=t?yc:mc,a=this._parents,r=this._groups;typeof e!=="function"&&(e=gc(e));for(var i=r.length,o=new Array(i),s=new Array(i),l=new Array(i),d=0;d<i;++d){var c=a[d],h=r[d],u=h.length,p=vc(e.call(c,c&&c.__data__,d,a)),_=p.length,f=s[d]=new Array(_),g=o[d]=new Array(_),m=l[d]=new Array(u);n(c,h,f,g,m,p,t);for(var y=0,x=0,b,v;y<_;++y){if(b=f[y]){y>=x&&(x=y+1);while(!(v=g[x])&&++x<_);b._next=v||null}}}o=new Fh(o,a);o._enter=s;o._exit=l;return o}function vc(e){return typeof e==="object"&&"length"in e?e:Array.from(e)}function kc(){return new Fh(this._exit||this._groups.map(pc),this._parents)}function Sc(e,t,n){var a=this.enter(),r=this,i=this.exit();if(typeof e==="function"){a=e(a);a&&(a=a.selection())}else{a=a.append(e+"")}if(t!=null){r=t(r);r&&(r=r.selection())}if(n==null)i.remove();else n(i);return a&&r?a.merge(r).order():r}function wc(e){var t=e.selection?e.selection():e;for(var n=this._groups,a=t._groups,r=n.length,i=a.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l){for(var d=n[l],c=a[l],h=d.length,u=s[l]=new Array(h),p,_=0;_<h;++_){(p=d[_]||c[_])&&(u[_]=p)}}for(;l<r;++l){s[l]=n[l]}return new Fh(s,this._parents)}function Cc(){for(var e=this._groups,t=-1,n=e.length;++t<n;){for(var a=e[t],r=a.length-1,i=a[r],o;--r>=0;){if(o=a[r]){i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i);i=o}}}return this}function Tc(e){e||(e=Ec);function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var o=n[i],s=o.length,l=r[i]=new Array(s),d,c=0;c<s;++c){(d=o[c])&&(l[c]=d)}l.sort(t)}return new Fh(r,this._parents).order()}function Ec(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ac(){var e=arguments[0];arguments[0]=this;e.apply(null,arguments);return this}function Nc(){return Array.from(this)}function Pc(){for(var e=this._groups,t=0,n=e.length;t<n;++t){for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}}return null}function Lc(){let e=0;for(const t of this)++e;return e}function Mc(){return!this.node()}function Dc(e){for(var t=this._groups,n=0,a=t.length;n<a;++n){for(var r=t[n],i=0,o=r.length,s;i<o;++i){(s=r[i])&&e.call(s,s.__data__,i,r)}}return this}function Ic(e){return function(){this.removeAttribute(e)}}function Bc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rc(e,t){return function(){this.setAttribute(e,t)}}function Oc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fc(e,t){return function(){var n=t.apply(this,arguments);if(n==null)this.removeAttribute(e);else this.setAttribute(e,n)}}function jc(e,t){return function(){var n=t.apply(this,arguments);if(n==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,n)}}function Hc(e,t){var n=qd(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((t==null?n.local?Bc:Ic:typeof t==="function"?n.local?jc:Fc:n.local?Oc:Rc)(n,t))}function $c(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wc(e){return function(){this.style.removeProperty(e)}}function zc(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qc(e,t,n){return function(){var a=t.apply(this,arguments);if(a==null)this.style.removeProperty(e);else this.style.setProperty(e,a,n)}}function Uc(e,t,n){return arguments.length>1?this.each((t==null?Wc:typeof t==="function"?qc:zc)(e,t,n==null?"":n)):Yc(this.node(),e)}function Yc(e,t){return e.style.getPropertyValue(t)||$c(e).getComputedStyle(e,null).getPropertyValue(t)}function Gc(e){return function(){delete this[e]}}function Vc(e,t){return function(){this[e]=t}}function Xc(e,t){return function(){var n=t.apply(this,arguments);if(n==null)delete this[e];else this[e]=n}}function Kc(e,t){return arguments.length>1?this.each((t==null?Gc:typeof t==="function"?Xc:Vc)(e,t)):this.node()[e]}function Qc(e){return e.trim().split(/^|\s+/)}function Zc(e){return e.classList||new Jc(e)}function Jc(e){this._node=e;this._names=Qc(e.getAttribute("class")||"")}Jc.prototype={add:function(e){var t=this._names.indexOf(e);if(t<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function(e){var t=this._names.indexOf(e);if(t>=0){this._names.splice(t,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(e){return this._names.indexOf(e)>=0}};function eh(e,t){var n=Zc(e),a=-1,r=t.length;while(++a<r)n.add(t[a])}function th(e,t){var n=Zc(e),a=-1,r=t.length;while(++a<r)n.remove(t[a])}function nh(e){return function(){eh(this,e)}}function ah(e){return function(){th(this,e)}}function rh(e,t){return function(){(t.apply(this,arguments)?eh:th)(this,e)}}function ih(e,t){var n=Qc(e+"");if(arguments.length<2){var a=Zc(this.node()),r=-1,i=n.length;while(++r<i)if(!a.contains(n[r]))return!1;return!0}return this.each((typeof t==="function"?rh:t?nh:ah)(n,t))}function oh(){this.textContent=""}function sh(e){return function(){this.textContent=e}}function lh(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function dh(e){return arguments.length?this.each(e==null?oh:(typeof e==="function"?lh:sh)(e)):this.node().textContent}function ch(){this.innerHTML=""}function hh(e){return function(){this.innerHTML=e}}function uh(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function ph(e){return arguments.length?this.each(e==null?ch:(typeof e==="function"?uh:hh)(e)):this.node().innerHTML}function _h(){this.nextSibling&&this.parentNode.appendChild(this)}function fh(){return this.each(_h)}function gh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mh(){return this.each(gh)}function yh(e){var t=typeof e==="function"?e:Gd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xh(){return null}function bh(e,t){var n=typeof e==="function"?e:Gd(e),a=t==null?xh:typeof t==="function"?t:Xd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}function vh(){var e=this.parentNode;e&&e.removeChild(this)}function kh(){return this.each(vh)}function Sh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wh(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ch(e){return this.select(e?wh:Sh)}function Th(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Eh(e){return function(t){e.call(this,t,this.__data__)}}function Ah(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");n>=0&&(t=e.slice(n+1),e=e.slice(0,n));return{type:e,name:t}})}function Nh(e){return function(){var t=this.__on;if(!t)return;for(var n=0,a=-1,r=t.length,i;n<r;++n){if(i=t[n],(!e.type||i.type===e.type)&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options)}else{t[++a]=i}}if(++a)t.length=a;else delete this.__on}}function Ph(e,t,n){return function(){var a=this.__on,r,i=Eh(t);if(a)for(var o=0,s=a.length;o<s;++o){if((r=a[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options);this.addEventListener(r.type,r.listener=i,r.options=n);r.value=t;return}}this.addEventListener(e.type,i,n);r={type:e.type,name:e.name,value:t,listener:i,options:n};if(!a)this.__on=[r];else a.push(r)}}function Lh(e,t,n){var a=Ah(e+""),r,i=a.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var l=0,d=s.length,c;l<d;++l){for(r=0,c=s[l];r<i;++r){if((o=a[r]).type===c.type&&o.name===c.name){return c.value}}}return}s=t?Ph:Nh;for(r=0;r<i;++r)this.each(s(a[r],t,n));return this}function Mh(e,t,n){var a=$c(e),r=a.CustomEvent;if(typeof r==="function"){r=new r(t,n)}else{r=a.document.createEvent("Event");if(n)r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail;else r.initEvent(t,!1,!1)}e.dispatchEvent(r)}function Dh(e,t){return function(){return Mh(this,e,t)}}function Ih(e,t){return function(){return Mh(this,e,t.apply(this,arguments))}}function Bh(e,t){return this.each((typeof t==="function"?Ih:Dh)(e,t))}function*Rh(){for(var e=this._groups,t=0,n=e.length;t<n;++t){for(var a=e[t],r=0,i=a.length,o;r<i;++r){if(o=a[r])yield o}}}var Oh=[null];function Fh(e,t){this._groups=e;this._parents=t}function jh(){return new Fh([[document.documentElement]],Oh)}function Hh(){return this}Fh.prototype=jh.prototype={constructor:Fh,select:Kd,selectAll:tc,selectChild:sc,selectChildren:hc,filter:uc,data:bc,enter:_c,exit:kc,join:Sc,merge:wc,selection:Hh,order:Cc,sort:Tc,call:Ac,nodes:Nc,node:Pc,size:Lc,empty:Mc,each:Dc,attr:Hc,style:Uc,property:Kc,classed:ih,text:dh,html:ph,raise:fh,lower:mh,append:yh,insert:bh,remove:kh,clone:Ch,datum:Th,on:Lh,dispatch:Bh,[Symbol.iterator]:Rh};function $h(e){return typeof e==="string"?new Fh([[document.querySelector(e)]],[document.documentElement]):new Fh([[e]],Oh)}var Wh=0;function zh(){return new qh}function qh(){this._="@"+(++Wh).toString(36)}qh.prototype=zh.prototype={constructor:qh,get:function(e){var t=this._;while(!(t in e))if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function Uh(e,{sourceEvent:t,subject:n,target:a,identifier:r,active:i,x:o,y:s,dx:l,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}Uh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Yh(e,t,n){e.prototype=t.prototype=n;n.constructor=e}function Gh(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Vh(){}var Xh=.7;var Kh=1/Xh;var Qh="\\s*([+-]?\\d+)\\s*",Zh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eu=/^#([0-9a-f]{3,8})$/,tu=new RegExp(`^rgb\\(${Qh},${Qh},${Qh}\\)\$`),nu=new RegExp(`^rgb\\(${Jh},${Jh},${Jh}\\)\$`),au=new RegExp(`^rgba\\(${Qh},${Qh},${Qh},${Zh}\\)\$`),ru=new RegExp(`^rgba\\(${Jh},${Jh},${Jh},${Zh}\\)\$`),iu=new RegExp(`^hsl\\(${Zh},${Jh},${Jh}\\)\$`),ou=new RegExp(`^hsla\\(${Zh},${Jh},${Jh},${Zh}\\)\$`);var su={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,
dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yh(Vh,uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lu,formatHex:lu,formatHex8:du,formatHsl:cu,formatRgb:hu,toString:hu});function lu(){return this.rgb().formatHex()}function du(){return this.rgb().formatHex8()}function cu(){return Cu(this).formatHsl()}function hu(){return this.rgb().formatRgb()}function uu(e){var t,n;e=(e+"").trim().toLowerCase();return(t=eu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pu(t):n===3?new mu(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tu.exec(e))?new mu(t[1],t[2],t[3],1):(t=nu.exec(e))?new mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=au.exec(e))?_u(t[1],t[2],t[3],t[4]):(t=ru.exec(e))?_u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iu.exec(e))?wu(t[1],t[2]/100,t[3]/100,1):(t=ou.exec(e))?wu(t[1],t[2]/100,t[3]/100,t[4]):su.hasOwnProperty(e)?pu(su[e]):e==="transparent"?new mu(NaN,NaN,NaN,0):null}function pu(e){return new mu(e>>16&255,e>>8&255,e&255,1)}function _u(e,t,n,a){a<=0&&(e=t=n=NaN);return new mu(e,t,n,a)}function fu(e){e instanceof Vh||(e=uu(e));if(!e)return new mu;e=e.rgb();return new mu(e.r,e.g,e.b,e.opacity)}function gu(e,t,n,a){return arguments.length===1?fu(e):new mu(e,t,n,a==null?1:a)}function mu(e,t,n,a){this.r=+e;this.g=+t;this.b=+n;this.opacity=+a}Yh(mu,gu,Gh(Vh,{brighter(e){e=e==null?Kh:Math.pow(Kh,e);return new mu(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){e=e==null?Xh:Math.pow(Xh,e);return new mu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mu(ku(this.r),ku(this.g),ku(this.b),vu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:yu,formatHex:yu,formatHex8:xu,formatRgb:bu,toString:bu}));function yu(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}`}function xu(){return`#${Su(this.r)}${Su(this.g)}${Su(this.b)}${Su((isNaN(this.opacity)?1:this.opacity)*255)}`}function bu(){const e=vu(this.opacity);return`${e===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${e===1?")":`, ${e})`}`}function vu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ku(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Su(e){e=ku(e);return(e<16?"0":"")+e.toString(16)}function wu(e,t,n,a){if(a<=0)e=t=n=NaN;else if(n<=0||n>=1)e=t=NaN;else t<=0&&(e=NaN);return new Eu(e,t,n,a)}function Cu(e){if(e instanceof Eu)return new Eu(e.h,e.s,e.l,e.opacity);e instanceof Vh||(e=uu(e));if(!e)return new Eu;if(e instanceof Eu)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,s=i-r,l=(i+r)/2;if(s){if(t===i)o=(n-a)/s+(n<a)*6;else if(n===i)o=(a-t)/s+2;else o=(t-n)/s+4;s/=l<.5?i+r:2-i-r;o*=60}else{s=l>0&&l<1?0:o}return new Eu(o,s,l,e.opacity)}function Tu(e,t,n,a){return arguments.length===1?Cu(e):new Eu(e,t,n,a==null?1:a)}function Eu(e,t,n,a){this.h=+e;this.s=+t;this.l=+n;this.opacity=+a}Yh(Eu,Tu,Gh(Vh,{brighter(e){e=e==null?Kh:Math.pow(Kh,e);return new Eu(this.h,this.s,this.l*e,this.opacity)},darker(e){e=e==null?Xh:Math.pow(Xh,e);return new Eu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new mu(Pu(e>=240?e-240:e+120,r,a),Pu(e,r,a),Pu(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new Eu(Au(this.h),Nu(this.s),Nu(this.l),vu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl(){const e=vu(this.opacity);return`${e===1?"hsl(":"hsla("}${Au(this.h)}, ${Nu(this.s)*100}%, ${Nu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Au(e){e=(e||0)%360;return e<0?e+360:e}function Nu(e){return Math.max(0,Math.min(1,e||0))}function Pu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Lu=Math.PI/180;var Mu=180/Math.PI;const Du=18,Iu=.96422,Bu=1,Ru=.82521,Ou=4/29,Fu=6/29,ju=3*Fu*Fu,Hu=Fu*Fu*Fu;function $u(e){if(e instanceof zu)return new zu(e.l,e.a,e.b,e.opacity);if(e instanceof Ku)return Qu(e);e instanceof mu||(e=fu(e));var t=Gu(e.r),n=Gu(e.g),a=Gu(e.b),r=qu((.2225045*t+.7168786*n+.0606169*a)/Bu),i,o;if(t===n&&n===a)i=o=r;else{i=qu((.4360747*t+.3850649*n+.1430804*a)/Iu);o=qu((.0139322*t+.0971045*n+.7141733*a)/Ru)}return new zu(116*r-16,500*(i-r),200*(r-o),e.opacity)}function Wu(e,t,n,a){return arguments.length===1?$u(e):new zu(e,t,n,a==null?1:a)}function zu(e,t,n,a){this.l=+e;this.a=+t;this.b=+n;this.opacity=+a}Yh(zu,Wu,Gh(Vh,{brighter(e){return new zu(this.l+Du*(e==null?1:e),this.a,this.b,this.opacity)},darker(e){return new zu(this.l-Du*(e==null?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;t=Iu*Uu(t);e=Bu*Uu(e);n=Ru*Uu(n);return new mu(Yu(3.1338561*t-1.6168667*e-.4906146*n),Yu(-.9787684*t+1.9161415*e+.033454*n),Yu(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qu(e){return e>Hu?Math.pow(e,1/3):e/ju+Ou}function Uu(e){return e>Fu?e*e*e:ju*(e-Ou)}function Yu(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Gu(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Vu(e){if(e instanceof Ku)return new Ku(e.h,e.c,e.l,e.opacity);e instanceof zu||(e=$u(e));if(e.a===0&&e.b===0)return new Ku(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Mu;return new Ku(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Xu(e,t,n,a){return arguments.length===1?Vu(e):new Ku(e,t,n,a==null?1:a)}function Ku(e,t,n,a){this.h=+e;this.c=+t;this.l=+n;this.opacity=+a}function Qu(e){if(isNaN(e.h))return new zu(e.l,0,0,e.opacity);var t=e.h*Lu;return new zu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Yh(Ku,Xu,Gh(Vh,{brighter(e){return new Ku(this.h,this.c,this.l+Du*(e==null?1:e),this.opacity)},darker(e){return new Ku(this.h,this.c,this.l-Du*(e==null?1:e),this.opacity)},rgb(){return Qu(this).rgb()}}));var Zu=-.14861,Ju=+1.78277,ep=-.29227,tp=-.90649,np=+1.97294,ap=np*tp,rp=np*Ju,ip=Ju*ep-tp*Zu;function op(e){if(e instanceof lp)return new lp(e.h,e.s,e.l,e.opacity);e instanceof mu||(e=fu(e));var t=e.r/255,n=e.g/255,a=e.b/255,r=(ip*a+ap*t-rp*n)/(ip+ap-rp),i=a-r,o=(np*(n-r)-ep*i)/tp,s=Math.sqrt(o*o+i*i)/(np*r*(1-r)),l=s?Math.atan2(o,i)*Mu-120:NaN;return new lp(l<0?l+360:l,s,r,e.opacity)}function sp(e,t,n,a){return arguments.length===1?op(e):new lp(e,t,n,a==null?1:a)}function lp(e,t,n,a){this.h=+e;this.s=+t;this.l=+n;this.opacity=+a}Yh(lp,sp,Gh(Vh,{brighter(e){e=e==null?Kh:Math.pow(Kh,e);return new lp(this.h,this.s,this.l*e,this.opacity)},darker(e){e=e==null?Xh:Math.pow(Xh,e);return new lp(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Lu,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new mu(255*(t+n*(Zu*a+Ju*r)),255*(t+n*(ep*a+tp*r)),255*(t+n*(np*a)),this.opacity)}}));function dp(e,t,n,a,r){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*a+o*r)/6}function cp(e){var t=e.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[a],i=e[a+1],o=a>0?e[a-1]:2*r-i,s=a<t-1?e[a+2]:2*i-r;return dp((n-a/t)*t,o,r,i,s)}}function hp(e){var t=e.length;return function(n){var a=Math.floor(((n%=1)<0?++n:n)*t),r=e[(a+t-1)%t],i=e[a%t],o=e[(a+1)%t],s=e[(a+2)%t];return dp((n-a/t)*t,r,i,o,s)}}var up=e=>()=>e;function pp(e,t){return function(n){return e+n*t}}function _p(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function fp(e,t){var n=t-e;return n?pp(e,n>180||n<-180?n-360*Math.round(n/360):n):up(isNaN(e)?t:e)}function gp(e){return(e=+e)===1?mp:function(t,n){return n-t?_p(t,n,e):up(isNaN(t)?n:t)}}function mp(e,t){var n=t-e;return n?pp(e,n):up(isNaN(e)?t:e)}var yp=function e(t){var n=gp(t);function a(e,t){var a=n((e=gu(e)).r,(t=gu(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),o=mp(e.opacity,t.opacity);return function(t){e.r=a(t);e.g=r(t);e.b=i(t);e.opacity=o(t);return e+""}}a.gamma=e;return a}(1);function xp(e){return function(t){var n=t.length,a=new Array(n),r=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o){s=gu(t[o]);a[o]=s.r||0;r[o]=s.g||0;i[o]=s.b||0}a=e(a);r=e(r);i=e(i);s.opacity=1;return function(e){s.r=a(e);s.g=r(e);s.b=i(e);return s+""}}}var bp=xp(cp);xp(hp);function vp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),r;return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function kp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sp(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,r=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)r[o]=Mp(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(e){for(o=0;o<a;++o)i[o]=r[o](e);return i}}function wp(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Cp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tp(e,t){var n={},a={},r;(e===null||typeof e!=="object")&&(e={});(t===null||typeof t!=="object")&&(t={});for(r in t){if(r in e){n[r]=Mp(e[r],t[r])}else{a[r]=t[r]}}return function(e){for(r in n)a[r]=n[r](e);return a}}var Ep=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ap=new RegExp(Ep.source,"g");function Np(e){return function(){return e}}function Pp(e){return function(t){return e(t)+""}}function Lp(e,t){var n=Ep.lastIndex=Ap.lastIndex=0,a,r,i,o=-1,s=[],l=[];e=e+"",t=t+"";while((a=Ep.exec(e))&&(r=Ap.exec(t))){if((i=r.index)>n){i=t.slice(n,i);if(s[o])s[o]+=i;else s[++o]=i}if((a=a[0])===(r=r[0])){if(s[o])s[o]+=r;else s[++o]=r}else{s[++o]=null;l.push({i:o,x:Cp(a,r)})}n=Ap.lastIndex}if(n<t.length){i=t.slice(n);if(s[o])s[o]+=i;else s[++o]=i}return s.length<2?l[0]?Pp(l[0].x):Np(t):(t=l.length,function(e){for(var n=0,a;n<t;++n)s[(a=l[n]).i]=a.x(e);return s.join("")})}function Mp(e,t){var n=typeof t,a;return t==null||n==="boolean"?up(t):(n==="number"?Cp:n==="string"?(a=uu(t))?(t=a,yp):Lp:t instanceof uu?yp:t instanceof Date?wp:kp(t)?vp:Array.isArray(t)?Sp:typeof t.valueOf!=="function"&&typeof t.toString!=="function"||isNaN(t)?Tp:Cp)(e,t)}function Dp(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ip=180/Math.PI;var Bp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rp(e,t,n,a,r,i){var o,s,l;(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o);(l=e*n+t*a)&&(n-=e*l,a-=t*l);(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,l/=s);e*a<t*n&&(e=-e,t=-t,l=-l,o=-o);return{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Ip,skewX:Math.atan(l)*Ip,scaleX:o,scaleY:s}}var Op;function Fp(e){const t=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bp:Rp(t.a,t.b,t.c,t.d,t.e,t.f)}function jp(e){if(e==null)return Bp;Op||(Op=document.createElementNS("http://www.w3.org/2000/svg","g"));Op.setAttribute("transform",e);if(!(e=Op.transform.baseVal.consolidate()))return Bp;e=e.matrix;return Rp(e.a,e.b,e.c,e.d,e.e,e.f)}function Hp(e,t,n,a){function r(e){return e.length?e.pop()+" ":""}function i(e,a,r,i,o,s){if(e!==r||a!==i){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Cp(e,r)},{i:l-2,x:Cp(a,i)})}else(r||i)&&o.push("translate("+r+t+i+n)}function o(e,t,n,i){if(e!==t){if(e-t>180)t+=360;else t-e>180&&(e+=360);i.push({i:n.push(r(n)+"rotate(",null,a)-2,x:Cp(e,t)})}else t&&n.push(r(n)+"rotate("+t+a)}function s(e,t,n,i){if(e!==t){i.push({i:n.push(r(n)+"skewX(",null,a)-2,x:Cp(e,t)})}else t&&n.push(r(n)+"skewX("+t+a)}function l(e,t,n,a,i,o){if(e!==n||t!==a){var s=i.push(r(i)+"scale(",null,",",null,")");o.push({i:s-4,x:Cp(e,n)},{i:s-2,x:Cp(t,a)})}else(n!==1||a!==1)&&i.push(r(i)+"scale("+n+","+a+")")}return function(t,n){var a=[],r=[];t=e(t),n=e(n);i(t.translateX,t.translateY,n.translateX,n.translateY,a,r);o(t.rotate,n.rotate,a,r);s(t.skewX,n.skewX,a,r);l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,a,r);t=n=null;return function(e){var t=-1,n=r.length,i;while(++t<n)a[(i=r[t]).i]=i.x(e);return a.join("")}}}var $p=Hp(Fp,"px, ","px)","deg)");var Wp=Hp(jp,", ",")",")");var zp=1E-12;function qp(e){return((e=Math.exp(e))+1/e)/2}function Up(e){return((e=Math.exp(e))-1/e)/2}function Yp(e){return((e=Math.exp(2*e))-1)/(e+1)}(function e(t,n,a){function r(e,r){var i=e[0],o=e[1],s=e[2],l=r[0],d=r[1],c=r[2],h=l-i,u=d-o,p=h*h+u*u,_,f;if(p<zp){f=Math.log(c/s)/t;_=function(e){return[i+e*h,o+e*u,s*Math.exp(t*e*f)]}}else{var g=Math.sqrt(p),m=(c*c-s*s+a*p)/(2*s*n*g),y=(c*c-s*s-a*p)/(2*c*n*g),x=Math.log(Math.sqrt(m*m+1)-m),b=Math.log(Math.sqrt(y*y+1)-y);f=(b-x)/t;_=function(e){var a=e*f,r=qp(x),l=s/(n*g)*(r*Yp(t*a+x)-Up(x));return[i+l*h,o+l*u,s*r/qp(t*a+x)]}}_.duration=f*1e3*t/Math.SQRT2;return _}r.rho=function(t){var n=Math.max(.001,+t),a=n*n,r=a*a;return e(n,a,r)};return r})(Math.SQRT2,2,4);function Gp(e){return function(t,n){var a=e((t=Tu(t)).h,(n=Tu(n)).h),r=mp(t.s,n.s),i=mp(t.l,n.l),o=mp(t.opacity,n.opacity);return function(e){t.h=a(e);t.s=r(e);t.l=i(e);t.opacity=o(e);return t+""}}}Gp(fp);Gp(mp);function Vp(e){return function(t,n){var a=e((t=Xu(t)).h,(n=Xu(n)).h),r=mp(t.c,n.c),i=mp(t.l,n.l),o=mp(t.opacity,n.opacity);return function(e){t.h=a(e);t.c=r(e);t.l=i(e);t.opacity=o(e);return t+""}}}var Xp=Vp(fp);Vp(mp);function Kp(e){return function t(n){n=+n;function a(t,a){var r=e((t=sp(t)).h,(a=sp(a)).h),i=mp(t.s,a.s),o=mp(t.l,a.l),s=mp(t.opacity,a.opacity);return function(e){t.h=r(e);t.s=i(e);t.l=o(Math.pow(e,n));t.opacity=s(e);return t+""}}a.gamma=t;return a}(1)}Kp(fp);var Qp=Kp(mp);var Zp=0,Jp=0,e_=0,t_=1e3,n_,a_,r_=0,i_=0,o_=0,s_=typeof performance==="object"&&performance.now?performance:Date,l_=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d_(){return i_||(l_(c_),i_=s_.now()+o_)}function c_(){i_=0}function h_(){this._call=this._time=this._next=null}h_.prototype=u_.prototype={constructor:h_,restart:function(e,t,n){if(typeof e!=="function")throw new TypeError("callback is not a function");n=(n==null?d_():+n)+(t==null?0:+t);if(!this._next&&a_!==this){if(a_)a_._next=this;else n_=this;a_=this}this._call=e;this._time=n;m_()},stop:function(){if(this._call){this._call=null;this._time=Infinity;m_()}}};function u_(e,t,n){var a=new h_;a.restart(e,t,n);return a}function p_(){d_();++Zp;var t=n_,n;while(t){(n=i_-t._time)>=0&&t._call.call(e,n);t=t._next}--Zp}function __(){i_=(r_=s_.now())+o_;Zp=Jp=0;try{p_()}finally{Zp=0;g_();i_=0}}function f_(){var e=s_.now(),t=e-r_;t>t_&&(o_-=t,r_=e)}function g_(){var e,t=n_,n,a=Infinity;while(t){if(t._call){a>t._time&&(a=t._time);e=t,t=t._next}else{n=t._next,t._next=null;t=e?e._next=n:n_=n}}a_=e;m_(a)}function m_(e){if(Zp)return;Jp&&(Jp=clearTimeout(Jp));var t=e-i_;if(t>24){e<Infinity&&(Jp=setTimeout(__,e-s_.now()-o_));e_&&(e_=clearInterval(e_))}else{e_||(r_=s_.now(),e_=setInterval(f_,t_));Zp=1,l_(__)}}function y_(e,t,n){var a=new h_;t=t==null?0:+t;a.restart(n=>{a.stop();e(n+t)},t,n);return a}var x_=Od("start","end","cancel","interrupt");var b_=[];var v_=0;var k_=1;var S_=2;var w_=3;var C_=4;var T_=5;var E_=6;function A_(e,t,n,a,r,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;M_(e,n,{name:t,index:a,group:r,on:x_,tween:b_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:v_})}function N_(e,t){var n=L_(e,t);if(n.state>v_)throw new Error("too late; already scheduled");return n}function P_(e,t){var n=L_(e,t);if(n.state>w_)throw new Error("too late; already running");return n}function L_(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function M_(e,t,n){var a=e.__transition,r;a[t]=n;n.timer=u_(i,0,n.time);function i(e){n.state=k_;n.timer.restart(o,n.delay,n.time);n.delay<=e&&o(e-n.delay)}function o(i){var d,c,h,u;if(n.state!==k_)return l();for(d in a){u=a[d];if(u.name!==n.name)continue;if(u.state===w_)return y_(o);if(u.state===C_){u.state=E_;u.timer.stop();u.on.call("interrupt",e,e.__data__,u.index,u.group);delete a[d]}else if(+d<t){u.state=E_;u.timer.stop();u.on.call("cancel",e,e.__data__,u.index,u.group);delete a[d]}}y_(function(){if(n.state===w_){n.state=C_;n.timer.restart(s,n.delay,n.time);s(i)}});n.state=S_;n.on.call("start",e,e.__data__,n.index,n.group);if(n.state!==S_)return;n.state=w_;r=new Array(h=n.tween.length);for(d=0,c=-1;d<h;++d){(u=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=u)}r.length=c+1}function s(t){var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=T_,1),i=-1,o=r.length;while(++i<o){r[i].call(e,a)}if(n.state===T_){n.on.call("end",e,e.__data__,n.index,n.group);l()}}function l(){n.state=E_;n.timer.stop();delete a[t];for(var r in a)return;delete e.__transition}}function D_(e,t){var n=e.__transition,a,r,i=!0,o;if(!n)return;t=t==null?null:t+"";for(o in n){if((a=n[o]).name!==t){i=!1;continue}r=a.state>S_&&a.state<T_;a.state=E_;a.timer.stop();a.on.call(r?"interrupt":"cancel",e,e.__data__,a.index,a.group);delete n[o]}i&&delete e.__transition}function I_(e){return this.each(function(){D_(this,e)})}function B_(e,t){var n,a;return function(){var r=P_(this,e),i=r.tween;if(i!==n){a=n=i;for(var o=0,s=a.length;o<s;++o){if(a[o].name===t){a=a.slice();a.splice(o,1);break}}}r.tween=a}}function R_(e,t,n){var a,r;if(typeof n!=="function")throw new Error;return function(){var i=P_(this,e),o=i.tween;if(o!==a){r=(a=o).slice();for(var s={name:t,value:n},l=0,d=r.length;l<d;++l){if(r[l].name===t){r[l]=s;break}}l===d&&r.push(s)}i.tween=r}}function O_(e,t){var n=this._id;e+="";if(arguments.length<2){var a=L_(this.node(),n).tween;for(var r=0,i=a.length,o;r<i;++r){if((o=a[r]).name===e){return o.value}}return null}return this.each((t==null?B_:R_)(n,e,t))}function F_(e,t,n){var a=e._id;e.each(function(){var e=P_(this,a);(e.value||(e.value={}))[t]=n.apply(this,arguments)});return function(e){return L_(e,a).value[t]}}function j_(e,t){var n;return(typeof t==="number"?Cp:t instanceof uu?yp:(n=uu(t))?(t=n,yp):Lp)(e,t)}function H_(e){return function(){this.removeAttribute(e)}}function $_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function W_(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttribute(e);return o===r?null:o===a?i:i=t(a=o,n)}}function z_(e,t,n){var a,r=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===a?i:i=t(a=o,n)}}function q_(e,t,n){var a,r,i;return function(){var o,s=n(this),l;if(s==null)return void this.removeAttribute(e);o=this.getAttribute(e);l=s+"";return o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}function U_(e,t,n){var a,r,i;return function(){var o,s=n(this),l;if(s==null)return void this.removeAttributeNS(e.space,e.local);o=this.getAttributeNS(e.space,e.local);l=s+"";return o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}function Y_(e,t){var n=qd(e),a=n==="transform"?Wp:j_;return this.attrTween(e,typeof t==="function"?(n.local?U_:q_)(n,a,F_(this,"attr."+e,t)):t==null?(n.local?$_:H_)(n):(n.local?z_:W_)(n,a,t))}function G_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function V_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function X_(e,t){var n,a;function r(){var r=t.apply(this,arguments);r!==a&&(n=(a=r)&&V_(e,r));return n}r._value=t;return r}function K_(e,t){var n,a;function r(){var r=t.apply(this,arguments);r!==a&&(n=(a=r)&&G_(e,r));return n}r._value=t;return r}function Q_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=="function")throw new Error;var a=qd(e);return this.tween(n,(a.local?X_:K_)(a,t))}function Z_(e,t){return function(){N_(this,e).delay=+t.apply(this,arguments)}}function J_(e,t){return t=+t,function(){N_(this,e).delay=t}}function ef(e){var t=this._id;return arguments.length?this.each((typeof e==="function"?Z_:J_)(t,e)):L_(this.node(),t).delay}function tf(e,t){return function(){P_(this,e).duration=+t.apply(this,arguments)}}function nf(e,t){return t=+t,function(){P_(this,e).duration=t}}function af(e){var t=this._id;return arguments.length?this.each((typeof e==="function"?tf:nf)(t,e)):L_(this.node(),t).duration}function rf(e,t){if(typeof t!=="function")throw new Error;return function(){P_(this,e).ease=t}}function of(e){var t=this._id;return arguments.length?this.each(rf(t,e)):L_(this.node(),t).ease}function sf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=="function")throw new Error;P_(this,e).ease=n}}function lf(e){if(typeof e!=="function")throw new Error;return this.each(sf(this._id,e))}function df(e){typeof e!=="function"&&(e=nc(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r){for(var i=t[r],o=i.length,s=a[r]=[],l,d=0;d<o;++d){(l=i[d])&&e.call(l,l.__data__,d,i)&&s.push(l)}}return new Ff(a,this._parents,this._name,this._id)}function cf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s){for(var l=t[s],d=n[s],c=l.length,h=o[s]=new Array(c),u,p=0;p<c;++p){(u=l[p]||d[p])&&(h[p]=u)}}for(;s<a;++s){o[s]=t[s]}return new Ff(o,this._parents,this._name,this._id)}function hf(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");t>=0&&(e=e.slice(0,t));return!e||e==="start"})}function uf(e,t,n){var a,r,i=hf(t)?N_:P_;return function(){var o=i(this,e),s=o.on;s!==a&&(r=(a=s).copy()).on(t,n);o.on=r}}function pf(e,t){var n=this._id;return arguments.length<2?L_(this.node(),n).on.on(e):this.each(uf(n,e,t))}function _f(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ff(){return this.on("end.remove",_f(this._id))}function gf(e){var t=this._name,n=this._id;typeof e!=="function"&&(e=Xd(e));for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o){for(var s=a[o],l=s.length,d=i[o]=new Array(l),c,h,u=0;u<l;++u){if((c=s[u])&&(h=e.call(c,c.__data__,u,s))){"__data__"in c&&(h.__data__=c.__data__);d[u]=h;A_(d[u],t,n,u,d,L_(c,n))}}}return new Ff(i,this._parents,t,n)}function mf(e){var t=this._name,n=this._id;typeof e!=="function"&&(e=Jd(e));for(var a=this._groups,r=a.length,i=[],o=[],s=0;s<r;++s){for(var l=a[s],d=l.length,c,h=0;h<d;++h){if(c=l[h]){for(var u=e.call(c,c.__data__,h,l),p,_=L_(c,n),f=0,g=u.length;f<g;++f){(p=u[f])&&A_(p,t,n,f,u,_)}i.push(u);o.push(c)}}}return new Ff(i,o,t,n)}var yf=jh.prototype.constructor;function xf(){return new yf(this._groups,this._parents)}function bf(e,t){var n,a,r;return function(){var i=Yc(this,e),o=(this.style.removeProperty(e),Yc(this,e));return i===o?null:i===n&&o===a?r:r=t(n=i,a=o)}}function vf(e){return function(){this.style.removeProperty(e)}}function kf(e,t,n){var a,r=n+"",i;return function(){var o=Yc(this,e);return o===r?null:o===a?i:i=t(a=o,n)}}function Sf(e,t,n){var a,r,i;return function(){var o=Yc(this,e),s=n(this),l=s+"";s==null&&(l=s=(this.style.removeProperty(e),Yc(this,e)));return o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}function wf(t,n){var a,r,i,o="style."+n,s="end."+o,l;return function(){var d=P_(this,t),c=d.on,h=d.value[o]==null?l||(l=vf(n)):e;(c!==a||i!==h)&&(r=(a=c).copy()).on(s,i=h);d.on=r}}function Cf(e,t,n){var a=(e+="")==="transform"?$p:j_;return t==null?this.styleTween(e,bf(e,a)).on("end.style."+e,vf(e)):typeof t==="function"?this.styleTween(e,Sf(e,a,F_(this,"style."+e,t))).each(wf(this._id,e)):this.styleTween(e,kf(e,a,t),n).on("end.style."+e,null)}function Tf(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function Ef(e,t,n){var a,r;function i(){var i=t.apply(this,arguments);i!==r&&(a=(r=i)&&Tf(e,i,n));return a}i._value=t;return i}function Af(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!=="function")throw new Error;return this.tween(a,Ef(e,t,n==null?"":n))}function Nf(e){return function(){this.textContent=e}}function Pf(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Lf(e){return this.tween("text",typeof e==="function"?Pf(F_(this,"text",e)):Nf(e==null?"":e+""))}function Mf(e){return function(t){this.textContent=e.call(this,t)}}function Df(e){var t,n;function a(){var a=e.apply(this,arguments);a!==n&&(t=(n=a)&&Mf(a));return t}a._value=e;return a}function If(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=="function")throw new Error;return this.tween(t,Df(e))}function Bf(){var e=this._name,t=this._id,n=Hf();for(var a=this._groups,r=a.length,i=0;i<r;++i){for(var o=a[i],s=o.length,l,d=0;d<s;++d){if(l=o[d]){var c=L_(l,t);A_(l,e,n,d,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Ff(a,this._parents,e,n)}function Rf(){var e,t,n=this,a=n._id,r=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--r===0&&i()}};n.each(function(){var n=P_(this,a),r=n.on;if(r!==e){t=(e=r).copy();t._.cancel.push(s);t._.interrupt.push(s);t._.end.push(l)}n.on=t});r===0&&i()})}var Of=0;function Ff(e,t,n,a){this._groups=e;this._parents=t;this._name=n;this._id=a}function jf(e){return jh().transition(e)}function Hf(){return++Of}var $f=jh.prototype;Ff.prototype=jf.prototype={constructor:Ff,select:gf,selectAll:mf,selectChild:$f.selectChild,selectChildren:$f.selectChildren,filter:df,merge:cf,selection:xf,transition:Bf,call:$f.call,nodes:$f.nodes,node:$f.node,size:$f.size,empty:$f.empty,each:$f.each,on:pf,attr:Y_,attrTween:Q_,style:Cf,styleTween:Af,text:Lf,textTween:If,remove:ff,tween:O_,delay:ef,duration:af,ease:of,easeVarying:lf,end:Rf,[Symbol.iterator]:$f[Symbol.iterator]};function Wf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zf=3;(function e(t){t=+t;function n(e){return Math.pow(e,t)}n.exponent=e;return n})(zf);(function e(t){t=+t;function n(e){return 1-Math.pow(1-e,t)}n.exponent=e;return n})(zf);(function e(t){t=+t;function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}n.exponent=e;return n})(zf);function qf(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var Uf=1.70158;(function e(t){t=+t;function n(e){return(e=+e)*e*(t*(e-1)+e)}n.overshoot=e;return n})(Uf);(function e(t){t=+t;function n(e){return--e*e*((e+1)*t+e)+1}n.overshoot=e;return n})(Uf);(function e(t){t=+t;function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}n.overshoot=e;return n})(Uf);var Yf=2*Math.PI,Gf=1,Vf=.3;(function e(t,n){var a=Math.asin(1/(t=Math.max(1,t)))*(n/=Yf);function r(e){return t*qf(- --e)*Math.sin((a-e)/n)}r.amplitude=function(t){return e(t,n*Yf)};r.period=function(n){return e(t,n)};return r})(Gf,Vf);(function e(t,n){var a=Math.asin(1/(t=Math.max(1,t)))*(n/=Yf);function r(e){return 1-t*qf(e=+e)*Math.sin((e+a)/n)}r.amplitude=function(t){return e(t,n*Yf)};r.period=function(n){return e(t,n)};return r})(Gf,Vf);(function e(t,n){var a=Math.asin(1/(t=Math.max(1,t)))*(n/=Yf);function r(e){return((e=e*2-1)<0?t*qf(-e)*Math.sin((a-e)/n):2-t*qf(e)*Math.sin((a+e)/n))/2}r.amplitude=function(t){return e(t,n*Yf)};r.period=function(n){return e(t,n)};return r})(Gf,Vf);var Xf={time:null,delay:0,duration:250,ease:Wf};function Kf(e,t){var n;while(!(n=e.__transition)||!(n=n[t])){if(!(e=e.parentNode)){throw new Error(`transition ${t} not found`)}}return n}function Qf(e){var t,n;if(e instanceof Ff){t=e._id,e=e._name}else{t=Hf(),(n=Xf).time=d_(),e=e==null?null:e+""}for(var a=this._groups,r=a.length,i=0;i<r;++i){for(var o=a[i],s=o.length,l,d=0;d<s;++d){(l=o[d])&&A_(l,e,t,d,o,n||Kf(l,t))}}return new Ff(a,this._parents,e,t)}jh.prototype.interrupt=I_;jh.prototype.transition=Qf;const{abs:Zf,max:Jf,min:eg}=Math;["w","e"].map(tg);["n","s"].map(tg);["n","w","e","s","nw","ne","sw","se"].map(tg);function tg(e){return{type:e}}const ng=Math.PI,ag=2*ng,rg=1E-06,ig=ag-rg;function og(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t){this._+=arguments[t]+e[t]}}function sg(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return og;const n=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t){this._+=Math.round(arguments[t]*n)/n+e[t]}}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=e==null?og:sg(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._append`Z`}}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,r,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+r},${this._y1=+i}`}arcTo(e,t,n,a,r){e=+e,t=+t,n=+n,a=+a,r=+r;if(r<0)throw new Error(`negative radius: ${r}`);let i=this._x1,o=this._y1,s=n-e,l=a-t,d=i-e,c=o-t,h=d*d+c*c;if(this._x1===null){this._append`M${this._x1=e},${this._y1=t}`}else if(!(h>rg));else if(!(Math.abs(c*s-l*d)>rg)||!r){this._append`L${this._x1=e},${this._y1=t}`}else{let u=n-i,p=a-o,_=s*s+l*l,f=u*u+p*p,g=Math.sqrt(_),m=Math.sqrt(h),y=r*Math.tan((ng-Math.acos((_+h-f)/(2*g*m)))/2),x=y/m,b=y/g;Math.abs(x-1)>rg&&this._append`L${e+x*d},${t+x*c}`;this._append`A${r},${r},0,0,${+(c*u>d*p)},${this._x1=e+b*s},${this._y1=t+b*l}`}}arc(e,t,n,a,r,i){e=+e,t=+t,n=+n,i=!!i;if(n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),s=n*Math.sin(a),l=e+o,d=t+s,c=1^i,h=i?a-r:r-a;if(this._x1===null){this._append`M${l},${d}`}else(Math.abs(this._x1-l)>rg||Math.abs(this._y1-d)>rg)&&this._append`L${l},${d}`;if(!n)return;h<0&&(h=h%ag+ag);if(h>ig){this._append`A${n},${n},0,1,${c},${e-o},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=d}`}else h>rg&&this._append`A${n},${n},0,${+(h>=ng)},${c},${this._x1=e+n*Math.cos(r)},${this._y1=t+n*Math.sin(r)}`}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lg(){return new Path}lg.prototype=Path.prototype;Array.prototype.slice;var dg=Array.prototype;dg.slice;var cg=1.1102230246251565E-16;var hg=134217729;var ug=(3+8*cg)*cg;function pg(e,t,n,a,r){let i,o,s,l;let d=t[0];let c=a[0];let h=0;let u=0;if(c>d===c>-d){i=d;d=t[++h]}else{i=c;c=a[++u]}let p=0;if(h<e&&u<n){if(c>d===c>-d){o=d+i;s=i-(o-d);d=t[++h]}else{o=c+i;s=i-(o-c);c=a[++u]}
i=o;s!==0&&(r[p++]=s);while(h<e&&u<n){if(c>d===c>-d){o=i+d;l=o-i;s=i-(o-l)+(d-l);d=t[++h]}else{o=i+c;l=o-i;s=i-(o-l)+(c-l);c=a[++u]}i=o;s!==0&&(r[p++]=s)}}while(h<e){o=i+d;l=o-i;s=i-(o-l)+(d-l);d=t[++h];i=o;s!==0&&(r[p++]=s)}while(u<n){o=i+c;l=o-i;s=i-(o-l)+(c-l);c=a[++u];i=o;s!==0&&(r[p++]=s)}(i!==0||p===0)&&(r[p++]=i);return p}function _g(e,t){let n=t[0];for(let a=1;a<e;a++)n+=t[a];return n}function fg(e){return new Float64Array(e)}const gg=(3+16*cg)*cg;const mg=(2+12*cg)*cg;const yg=(9+64*cg)*cg*cg;const xg=fg(4);const bg=fg(8);const vg=fg(12);const kg=fg(16);const Sg=fg(4);function wg(e,t,n,a,r,i,o){let s,l,d,c;let h,u,p,_,f,g,m,y,x,b,v,k,S,w;const C=e-r;const T=n-r;const E=t-i;const A=a-i;b=C*A;u=hg*C;p=u-(u-C);_=C-p;u=hg*A;f=u-(u-A);g=A-f;v=_*g-(b-p*f-_*f-p*g);k=E*T;u=hg*E;p=u-(u-E);_=E-p;u=hg*T;f=u-(u-T);g=T-f;S=_*g-(k-p*f-_*f-p*g);m=v-S;h=v-m;xg[0]=v-(m+h)+(h-S);y=b+m;h=y-b;x=b-(y-h)+(m-h);m=x-k;h=x-m;xg[1]=x-(m+h)+(h-k);w=y+m;h=w-y;xg[2]=y-(w-h)+(m-h);xg[3]=w;let N=_g(4,xg);let P=mg*o;if(N>=P||-N>=P){return N}h=e-C;s=e-(C+h)+(h-r);h=n-T;d=n-(T+h)+(h-r);h=t-E;l=t-(E+h)+(h-i);h=a-A;c=a-(A+h)+(h-i);if(s===0&&l===0&&d===0&&c===0){return N}P=yg*o+ug*Math.abs(N);N+=C*c+A*s-(E*d+T*l);if(N>=P||-N>=P)return N;b=s*A;u=hg*s;p=u-(u-s);_=s-p;u=hg*A;f=u-(u-A);g=A-f;v=_*g-(b-p*f-_*f-p*g);k=l*T;u=hg*l;p=u-(u-l);_=l-p;u=hg*T;f=u-(u-T);g=T-f;S=_*g-(k-p*f-_*f-p*g);m=v-S;h=v-m;Sg[0]=v-(m+h)+(h-S);y=b+m;h=y-b;x=b-(y-h)+(m-h);m=x-k;h=x-m;Sg[1]=x-(m+h)+(h-k);w=y+m;h=w-y;Sg[2]=y-(w-h)+(m-h);Sg[3]=w;const L=pg(4,xg,4,Sg,bg);b=C*c;u=hg*C;p=u-(u-C);_=C-p;u=hg*c;f=u-(u-c);g=c-f;v=_*g-(b-p*f-_*f-p*g);k=E*d;u=hg*E;p=u-(u-E);_=E-p;u=hg*d;f=u-(u-d);g=d-f;S=_*g-(k-p*f-_*f-p*g);m=v-S;h=v-m;Sg[0]=v-(m+h)+(h-S);y=b+m;h=y-b;x=b-(y-h)+(m-h);m=x-k;h=x-m;Sg[1]=x-(m+h)+(h-k);w=y+m;h=w-y;Sg[2]=y-(w-h)+(m-h);Sg[3]=w;const M=pg(L,bg,4,Sg,vg);b=s*c;u=hg*s;p=u-(u-s);_=s-p;u=hg*c;f=u-(u-c);g=c-f;v=_*g-(b-p*f-_*f-p*g);k=l*d;u=hg*l;p=u-(u-l);_=l-p;u=hg*d;f=u-(u-d);g=d-f;S=_*g-(k-p*f-_*f-p*g);m=v-S;h=v-m;Sg[0]=v-(m+h)+(h-S);y=b+m;h=y-b;x=b-(y-h)+(m-h);m=x-k;h=x-m;Sg[1]=x-(m+h)+(h-k);w=y+m;h=w-y;Sg[2]=y-(w-h)+(m-h);Sg[3]=w;const D=pg(M,vg,4,Sg,kg);return kg[D-1]}function Cg(e,t,n,a,r,i){const o=(t-i)*(n-r);const s=(e-r)*(a-i);const l=o-s;const d=Math.abs(o+s);if(Math.abs(l)>=gg*d)return l;return-wg(e,t,n,a,r,i,d)}fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(8);fg(8);fg(8);fg(4);fg(8);fg(8);fg(8);fg(12);fg(192);fg(192);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(8);fg(8);fg(8);fg(8);fg(8);fg(8);fg(8);fg(8);fg(8);fg(4);fg(4);fg(4);fg(8);fg(16);fg(16);fg(16);fg(32);fg(32);fg(48);fg(64);fg(1152);fg(1152);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(4);fg(24);fg(24);fg(24);fg(24);fg(24);fg(24);fg(24);fg(24);fg(24);fg(24);fg(1152);fg(1152);fg(1152);fg(1152);fg(1152);fg(2304);fg(2304);fg(3456);fg(5760);fg(8);fg(8);fg(8);fg(16);fg(24);fg(48);fg(48);fg(96);fg(192);fg(384);fg(384);fg(384);fg(768);fg(96);fg(96);fg(96);fg(1152);const Tg=Math.pow(2,-52);const Eg=new Uint32Array(512);class Delaunator{static from(e,t=Bg,n=Rg){const a=e.length;const r=new Float64Array(a*2);for(let i=0;i<a;i++){let a=e[i];r[2*i]=t(a);r[2*i+1]=n(a)}return new Delaunator(r)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!=="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(n*3);this._halfedges=new Int32Array(n*3);this._hashSize=Math.ceil(Math.sqrt(t));this._hullPrev=new Uint32Array(t);this._hullNext=new Uint32Array(t);this._hullTri=new Uint32Array(t);this._hullHash=new Int32Array(this._hashSize);this._ids=new Uint32Array(t);this._dists=new Float64Array(t);this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:a,_hullHash:r}=this;const i=e.length>>1;let o=Infinity;let s=Infinity;let l=-Infinity;let d=-Infinity;for(let t=0;t<i;t++){let n=e[2*t],a=e[2*t+1];n<o&&(o=n);a<s&&(s=a);n>l&&(l=n);a>d&&(d=a);this._ids[t]=t}const c=(o+l)/2;const h=(s+d)/2;let u,p,_;for(let t=0,n=Infinity;t<i;t++){let a=Ng(c,h,e[2*t],e[2*t+1]);if(a<n){u=t;n=a}}const f=e[2*u];const g=e[2*u+1];for(let t=0,n=Infinity;t<i;t++){if(t===u)continue;let a=Ng(f,g,e[2*t],e[2*t+1]);if(a<n&&a>0){p=t;n=a}}let m=e[2*p];let y=e[2*p+1];let x=Infinity;for(let t=0;t<i;t++){if(t===u||t===p)continue;let n=Lg(f,g,m,y,e[2*t],e[2*t+1]);if(n<x){_=t;x=n}}let b=e[2*_];let v=e[2*_+1];if(x===Infinity){for(let t=0;t<i;t++){this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1]}Dg(this._ids,this._dists,0,i-1);let t=new Uint32Array(i),n=0;for(let e=0,a=-Infinity;e<i;e++){let r=this._ids[e],i=this._dists[r];if(i>a){t[n++]=r;a=i}}this.hull=t.subarray(0,n);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0);return}if(Cg(f,g,m,y,b,v)<0){let e=p,t=m,n=y;p=_;m=b;y=v;_=e;b=t;v=n}const k=Mg(f,g,m,y,b,v);this._cx=k.x;this._cy=k.y;for(let t=0;t<i;t++){this._dists[t]=Ng(e[2*t],e[2*t+1],k.x,k.y)}Dg(this._ids,this._dists,0,i-1);this._hullStart=u;let S=3;n[u]=t[_]=p;n[p]=t[u]=_;n[_]=t[p]=u;a[u]=0;a[p]=1;a[_]=2;r.fill(-1);r[this._hashKey(f,g)]=u;r[this._hashKey(m,y)]=p;r[this._hashKey(b,v)]=_;this.trianglesLen=0;this._addTriangle(u,p,_,-1,-1,-1);for(let i=0,o,s;i<this._ids.length;i++){let l=this._ids[i],d=e[2*l],c=e[2*l+1];if(i>0&&Math.abs(d-o)<=Tg&&Math.abs(c-s)<=Tg)continue;o=d;s=c;if(l===u||l===p||l===_)continue;let h=0;for(let e=0,t=this._hashKey(d,c);e<this._hashSize;e++){h=r[(t+e)%this._hashSize];if(h!==-1&&h!==n[h])break}h=t[h];let f=h,g;while(g=n[f],Cg(d,c,e[2*f],e[2*f+1],e[2*g],e[2*g+1])>=0){f=g;if(f===h){f=-1;break}}if(f===-1)continue;let m=this._addTriangle(f,l,n[f],-1,-1,a[f]);a[l]=this._legalize(m+2);a[f]=m;S++;let y=n[f];while(g=n[y],Cg(d,c,e[2*y],e[2*y+1],e[2*g],e[2*g+1])<0){m=this._addTriangle(y,l,g,a[l],-1,a[y]);a[l]=this._legalize(m+2);n[y]=y;S--;y=g}if(f===h){while(g=t[f],Cg(d,c,e[2*g],e[2*g+1],e[2*f],e[2*f+1])<0){m=this._addTriangle(g,l,f,-1,a[f],a[g]);this._legalize(m+2);a[g]=m;n[f]=f;S--;f=g}}this._hullStart=t[l]=f;n[f]=t[y]=l;n[l]=y;r[this._hashKey(d,c)]=l;r[this._hashKey(e[2*f],e[2*f+1])]=f}this.hull=new Uint32Array(S);for(let e=0,t=this._hullStart;e<S;e++){this.hull[e]=t;t=n[t]}this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(Ag(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:a}=this;let r=0;let i=0;while(!0){let o=n[e],s=e-e%3;i=s+(e+2)%3;if(o===-1){if(r===0)break;e=Eg[--r];continue}let l=o-o%3,d=s+(e+1)%3,c=l+(o+2)%3,h=t[i],u=t[e],p=t[d],_=t[c],f=Pg(a[2*h],a[2*h+1],a[2*u],a[2*u+1],a[2*p],a[2*p+1],a[2*_],a[2*_+1]);if(f){t[e]=_;t[o]=h;let a=n[c];if(a===-1){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,a);this._link(o,n[i]);this._link(i,c);let s=l+(o+1)%3;r<Eg.length&&(Eg[r++]=s)}else{if(r===0)break;e=Eg[--r]}}return i}_link(e,t){this._halfedges[e]=t;t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,n,a,r,i){const o=this.trianglesLen;this._triangles[o]=e;this._triangles[o+1]=t;this._triangles[o+2]=n;this._link(o,a);this._link(o+1,r);this._link(o+2,i);this.trianglesLen+=3;return o}}function Ag(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Ng(e,t,n,a){const r=e-n;const i=t-a;return r*r+i*i}function Pg(e,t,n,a,r,i,o,s){const l=e-o;const d=t-s;const c=n-o;const h=a-s;const u=r-o;const p=i-s;const _=l*l+d*d;const f=c*c+h*h;const g=u*u+p*p;return l*(h*g-f*p)-d*(c*g-f*u)+_*(c*p-h*u)<0}function Lg(e,t,n,a,r,i){const o=n-e;const s=a-t;const l=r-e;const d=i-t;const c=o*o+s*s;const h=l*l+d*d;const u=.5/(o*d-s*l);const p=(d*c-s*h)*u;const _=(o*h-l*c)*u;return p*p+_*_}function Mg(e,t,n,a,r,i){const o=n-e;const s=a-t;const l=r-e;const d=i-t;const c=o*o+s*s;const h=l*l+d*d;const u=.5/(o*d-s*l);const p=e+(d*c-s*h)*u;const _=t+(o*h-l*c)*u;return{x:p,y:_}}function Dg(e,t,n,a){if(a-n<=20){for(let r=n+1;r<=a;r++){let a=e[r],i=t[a],o=r-1;while(o>=n&&t[e[o]]>i)e[o+1]=e[o--];e[o+1]=a}}else{let r=n+a>>1,i=n+1,o=a;Ig(e,r,i);t[e[n]]>t[e[a]]&&Ig(e,n,a);t[e[i]]>t[e[a]]&&Ig(e,i,a);t[e[n]]>t[e[i]]&&Ig(e,n,i);let s=e[i],l=t[s];while(!0){do{i++}while(t[e[i]]<l);do{o--}while(t[e[o]]>l);if(o<i)break;Ig(e,i,o)}e[n+1]=e[o];e[o]=s;if(a-i+1>=o-n){Dg(e,t,i,a);Dg(e,t,n,o-1)}else{Dg(e,t,n,o-1);Dg(e,t,i,a)}}}function Ig(e,t,n){const a=e[t];e[t]=e[n];e[n]=a}function Bg(e){return e[0]}function Rg(e){return e[1]}const Og=1E-06;class Path_path{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){e=+e,t=+t,n=+n;const a=e+n;const r=t;if(n<0)throw new Error("negative radius");if(this._x1===null)this._+=`M${a},${r}`;else(Math.abs(this._x1-a)>Og||Math.abs(this._y1-r)>Og)&&(this._+="L"+a+","+r);if(!n)return;this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=a},${this._y1=r}`}rect(e,t,n,a){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+a}h${-n}Z`}value(){return this._||null}}class Polygon{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Voronoi{constructor(e,[t,n,a,r]=[0,0,960,500]){if(!((a=+a)>=(t=+t))||!((r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e;this._circumcenters=new Float64Array(e.points.length*2);this.vectors=new Float64Array(e.points.length*2);this.xmax=a,this.xmin=t;this.ymax=r,this.ymin=n;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const{delaunay:{points:t,hull:n,triangles:a},vectors:r}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2);for(let r=0,l=0,d=a.length,c,h;r<d;r+=3,l+=2){let d=a[r]*2,u=a[r+1]*2,p=a[r+2]*2,_=t[d],f=t[d+1],g=t[u],m=t[u+1],y=t[p],x=t[p+1],b=g-_,v=m-f,k=y-_,S=x-f,w=(b*S-v*k)*2;if(Math.abs(w)<1E-09){if(i===e){i=o=0;for(const e of n)i+=t[e*2],o+=t[e*2+1];i/=n.length,o/=n.length}let a=1e9*Math.sign((i-_)*S-(o-f)*k);c=(_+y)/2-a*S;h=(f+x)/2+a*k}else{let e=1/w,t=b*b+v*v,n=k*k+S*S;c=_+(S*t-v*n)*e;h=f+(b*n-k*t)*e}s[l]=c;s[l+1]=h}let l=n[n.length-1];let d,c=l*4;let h,u=t[2*l];let p,_=t[2*l+1];r.fill(0);for(let e=0;e<n.length;++e){l=n[e];d=c,h=u,p=_;c=l*4,u=t[2*l],_=t[2*l+1];r[d+2]=r[c]=p-_;r[d+3]=r[c+1]=u-h}}render(t){const n=t==null?t=new Path_path:e;const{delaunay:{halfedges:a,inedges:r,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let e=0,n=a.length;e<n;++e){let n=a[e];if(n<e)continue;let r=Math.floor(e/3)*2,i=Math.floor(n/3)*2,s=o[r],l=o[r+1],d=o[i],c=o[i+1];this._renderSegment(s,l,d,c,t)}let l,d=i[i.length-1];for(let e=0;e<i.length;++e){l=d,d=i[e];let n=Math.floor(r[d]/3)*2,a=o[n],c=o[n+1],h=l*4,u=this._project(a,c,s[h+2],s[h+3]);u&&this._renderSegment(a,c,u[0],u[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Path_path:e;t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return n&&n.value()}renderCell(t,n){const a=n==null?n=new Path_path:e;const r=this._clip(t);if(r===null||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;while(r[0]===r[i-2]&&r[1]===r[i-1]&&i>1)i-=2;for(let e=2;e<i;e+=2){(r[e]!==r[e-2]||r[e+1]!==r[e-1])&&n.lineTo(r[e],r[e+1])}n.closePath();return a&&a.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){let e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new Polygon;this.renderCell(e,t);return t.value()}_renderSegment(e,t,n,a,r){let i;const o=this._regioncode(e,t);const s=this._regioncode(n,a);if(o===0&&s===0){r.moveTo(e,t);r.lineTo(n,a)}else if(i=this._clipSegment(e,t,n,a,o,s)){r.moveTo(i[0],i[1]);r.lineTo(i[2],i[3])}}contains(e,t,n){if((t=+t,t!==t)||(n=+n,n!==n))return!1;return this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){let e=this._clip(n);if(e)e:for(let a=0,r=t.length;a<r;a+=2){for(let i=0,o=e.length;i<o;i+=2){if(t[a]===e[i]&&t[a+1]===e[i+1]&&t[(a+2)%r]===e[(i+o-2)%o]&&t[(a+3)%r]===e[(i+o-1)%o]){yield n;break e}}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:a,triangles:r}}=this;const i=n[e];if(i===-1)return null;const o=[];let s=i;do{let n=Math.floor(s/3);o.push(t[n*2],t[n*2+1]);s=s%3===2?s-2:s+1;if(r[s]!==e)break;s=a[s]}while(s!==i&&s!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1){return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin]}const t=this._cell(e);if(t===null)return null;const{vectors:n}=this;const a=e*4;return this._simplify(n[a]||n[a+1]?this._clipInfinite(e,t,n[a],n[a+1],n[a+2],n[a+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let a=null;let r,i,o=t[n-2],s=t[n-1];let l,d=this._regioncode(o,s);let c,h=0;for(let u=0;u<n;u+=2){r=o,i=s,o=t[u],s=t[u+1];l=d,d=this._regioncode(o,s);if(l===0&&d===0){c=h,h=0;if(a)a.push(o,s);else a=[o,s]}else{let t,n,u,p,_;if(l===0){if((t=this._clipSegment(r,i,o,s,l,d))===null)continue;[n,u,p,_]=t}else{if((t=this._clipSegment(o,s,r,i,d,l))===null)continue;[p,_,n,u]=t;c=h,h=this._edgecode(n,u);c&&h&&this._edge(e,c,h,a,a.length);if(a)a.push(n,u);else a=[n,u]}c=h,h=this._edgecode(p,_);c&&h&&this._edge(e,c,h,a,a.length);if(a)a.push(p,_);else a=[p,_]}}if(a){c=h,h=this._edgecode(a[0],a[1]);c&&h&&this._edge(e,c,h,a,a.length)}else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)){return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin]}return a}_clipSegment(e,t,n,a,r,i){const o=r<i;o&&([e,t,n,a,r,i]=[n,a,e,t,i,r]);while(!0){if(r===0&&i===0)return o?[n,a,e,t]:[e,t,n,a];if(r&i)return null;let s,l,d=r||i;if(d&8)s=e+(n-e)*(this.ymax-t)/(a-t),l=this.ymax;else if(d&4)s=e+(n-e)*(this.ymin-t)/(a-t),l=this.ymin;else if(d&2)l=t+(a-t)*(this.xmax-e)/(n-e),s=this.xmax;else l=t+(a-t)*(this.xmin-e)/(n-e),s=this.xmin;if(r)e=s,t=l,r=this._regioncode(e,t);else n=s,a=l,i=this._regioncode(n,a)}}_clipInfinite(e,t,n,a,r,i){let o=Array.from(t),s;(s=this._project(o[0],o[1],n,a))&&o.unshift(s[0],s[1]);(s=this._project(o[o.length-2],o[o.length-1],r,i))&&o.push(s[0],s[1]);if(o=this._clipFinite(e,o)){for(let t=0,n=o.length,a,r=this._edgecode(o[n-2],o[n-1]);t<n;t+=2){a=r,r=this._edgecode(o[t],o[t+1]);a&&r&&(t=this._edge(e,a,r,o,t),n=o.length)}}else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,n,a,r){while(t!==n){let n,i;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,i=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,i=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,i=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,i=this.ymin;break}(a[r]!==n||a[r+1]!==i)&&this.contains(e,n,i)&&(a.splice(r,0,n,i),r+=2)}return r}_project(e,t,n,a){let r=Infinity,i,o,s;if(a<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/a)<r&&(s=this.ymin,o=e+(r=i)*n)}else if(a>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/a)<r&&(s=this.ymax,o=e+(r=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<r&&(o=this.xmax,s=t+(r=i)*a)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<r&&(o=this.xmin,s=t+(r=i)*a)}return[o,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){let n=(t+2)%e.length,a=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[a]||e[t+1]===e[n+1]&&e[n+1]===e[a+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const Fg=2*Math.PI,jg=Math.pow;function Hg(e){return e[0]}function $g(e){return e[1]}function Wg(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){let a=2*t[e],r=2*t[e+1],i=2*t[e+2],o=(n[i]-n[a])*(n[r+1]-n[a+1])-(n[r]-n[a])*(n[i+1]-n[a+1]);if(o>1E-10)return!1}return!0}function zg(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Delaunay{static from(e,t=Hg,n=$g,a){return new Delaunay("length"in e?qg(e,t,n,a):Float64Array.from(Ug(e,t,n,a)))}constructor(e){this._delaunator=new Delaunator(e);this.inedges=new Int32Array(e.length/2);this._hullIndex=new Int32Array(e.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&Wg(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);let e=this.collinear[0],n=this.collinear[this.collinear.length-1],a=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],r=1E-08*Math.hypot(a[3]-a[1],a[2]-a[0]);for(let e=0,n=t.length/2;e<n;++e){let n=zg(t[2*e],t[2*e+1],r);t[2*e]=n[0];t[2*e+1]=n[1]}this._delaunator=new Delaunator(t)}else{delete this.collinear}const n=this.halfedges=this._delaunator.halfedges;const a=this.hull=this._delaunator.hull;const r=this.triangles=this._delaunator.triangles;const i=this.inedges.fill(-1);const o=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){let t=r[e%3===2?e-2:e+1];(n[e]===-1||i[t]===-1)&&(i[t]=e)}for(let e=0,t=a.length;e<t;++e){o[a[e]]=e}if(a.length<=2&&a.length>0){this.triangles=new Int32Array(3).fill(-1);this.halfedges=new Int32Array(3).fill(-1);this.triangles[0]=a[0];i[a[0]]=1;if(a.length===2){i[a[1]]=0;this.triangles[1]=a[1];this.triangles[2]=a[1]}}}voronoi(e){return new Voronoi(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:a,halfedges:r,triangles:i,collinear:o}=this;if(o){let t=o.indexOf(e);if(t>0)yield o[t-1];if(t<o.length-1)yield o[t+1];return}const s=t[e];if(s===-1)return;let l=s,d=-1;do{yield d=i[l];l=l%3===2?l-2:l+1;if(i[l]!==e)return;l=r[l];if(l===-1){let t=n[(a[e]+1)%n.length];if(t!==d)yield t;return}}while(l!==s)}find(e,t,n=0){if((e=+e,e!==e)||(t=+t,t!==t))return-1;const a=n;let r;while((r=this._step(n,e,t))>=0&&r!==n&&r!==a)n=r;return r}_step(e,t,n){const{inedges:a,hull:r,_hullIndex:i,halfedges:o,triangles:s,points:l}=this;if(a[e]===-1||!l.length)return(e+1)%(l.length>>1);let d=e;let c=jg(t-l[e*2],2)+jg(n-l[e*2+1],2);const h=a[e];let u=h;do{let a=s[u],h=jg(t-l[a*2],2)+jg(n-l[a*2+1],2);h<c&&(c=h,d=a);u=u%3===2?u-2:u+1;if(s[u]!==e)break;u=o[u];if(u===-1){u=r[(i[e]+1)%r.length];if(u!==a){if(jg(t-l[u*2],2)+jg(n-l[u*2+1],2)<c)return u}break}}while(u!==h);return d}render(t){const n=t==null?t=new Path_path:e;const{points:a,halfedges:r,triangles:i}=this;for(let e=0,n=r.length;e<n;++e){let n=r[e];if(n<e)continue;let o=i[e]*2,s=i[n]*2;t.moveTo(a[o],a[o+1]);t.lineTo(a[s],a[s+1])}this.renderHull(t);return n&&n.value()}renderPoints(t,n){n===e&&(!t||typeof t.moveTo!=="function")&&(n=t,t=null);n=n==e?2:+n;const a=t==null?t=new Path_path:e;const{points:r}=this;for(let e=0,a=r.length;e<a;e+=2){let a=r[e],i=r[e+1];t.moveTo(a+n,i);t.arc(a,i,n,0,Fg)}return a&&a.value()}renderHull(t){const n=t==null?t=new Path_path:e;const{hull:a,points:r}=this;const i=a[0]*2,o=a.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){let n=2*a[e];t.lineTo(r[n],r[n+1])}t.closePath();return n&&n.value()}hullPolygon(){const e=new Polygon;this.renderHull(e);return e.value()}renderTriangle(t,n){const a=n==null?n=new Path_path:e;const{points:r,triangles:i}=this;const o=i[t*=3]*2;const s=i[t+1]*2;const l=i[t+2]*2;n.moveTo(r[o],r[o+1]);n.lineTo(r[s],r[s+1]);n.lineTo(r[l],r[l+1]);n.closePath();return a&&a.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t){yield this.trianglePolygon(t)}}trianglePolygon(e){const t=new Polygon;this.renderTriangle(e,t);return t.value()}}function qg(e,t,n,a){const r=e.length;const i=new Float64Array(r*2);for(let o=0;o<r;++o){let r=e[o];i[o*2]=t.call(a,r,o,e);i[o*2+1]=n.call(a,r,o,e)}return i}function*Ug(e,t,n,a){let r=0;for(const i of e){yield t.call(a,i,r,e);yield n.call(a,i,r,e);++r}}var Yg={},Gg={},Vg=34,Xg=10,Kg=13;function Qg(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function Zg(e,t){var n=Qg(e);return function(a,r){return t(n(a),r,e)}}function Jg(e){var t=Object.create(null),n=[];e.forEach(function(e){for(var a in e){a in t||n.push(t[a]=a)}});return n}function em(e,t){var n=e+"",a=n.length;return a<t?new Array(t-a+1).join(0)+n:n}function tm(e){return e<0?"-"+em(-e,6):e>9999?"+"+em(e,6):em(e,4)}function nm(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":tm(e.getUTCFullYear(),4)+"-"+em(e.getUTCMonth()+1,2)+"-"+em(e.getUTCDate(),2)+(r?"T"+em(t,2)+":"+em(n,2)+":"+em(a,2)+"."+em(r,3)+"Z":a?"T"+em(t,2)+":"+em(n,2)+":"+em(a,2)+"Z":n||t?"T"+em(t,2)+":"+em(n,2)+"Z":"")}function am(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function a(e,t){var n,a,i=r(e,function(e,r){if(n)return n(e,r-1);a=e,n=t?Zg(e,t):Qg(e)});i.columns=a||[];return i}function r(e,t){var a=[],r=e.length,i=0,o=0,s,l=r<=0,d=!1;e.charCodeAt(r-1)===Xg&&--r;e.charCodeAt(r-1)===Kg&&--r;function c(){if(l)return Gg;if(d)return d=!1,Yg;var t,a=i,o;if(e.charCodeAt(a)===Vg){while(i++<r&&e.charCodeAt(i)!==Vg||e.charCodeAt(++i)===Vg);if((t=i)>=r)l=!0;else if((o=e.charCodeAt(i++))===Xg)d=!0;else if(o===Kg){d=!0;e.charCodeAt(i)===Xg&&++i}return e.slice(a+1,t-1).replace(/""/g,'"')}while(i<r){if((o=e.charCodeAt(t=i++))===Xg)d=!0;else if(o===Kg){d=!0;e.charCodeAt(i)===Xg&&++i}else if(o!==n)continue;return e.slice(a,t)}return l=!0,e.slice(a,r)}while((s=c())!==Gg){var h=[];while(s!==Yg&&s!==Gg)h.push(s),s=c();if(t&&(h=t(h,o++))==null)continue;a.push(h)}return a}function i(t,n){return t.map(function(t){return n.map(function(e){return c(t[e])}).join(e)})}function o(t,n){n==null&&(n=Jg(t));return[n.map(c).join(e)].concat(i(t,n)).join("\n")}function s(e,t){t==null&&(t=Jg(e));return i(e,t).join("\n")}function l(e){return e.map(d).join("\n")}function d(t){return t.map(c).join(e)}function c(e){return e==null?"":e instanceof Date?nm(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:a,parseRows:r,format:o,formatBody:s,formatRows:l,formatRow:d,formatValue:c}}var rm=am(",");var im=rm.parse;rm.parseRows;rm.format;rm.formatBody;rm.formatRows;rm.formatRow;rm.formatValue;var om=am("\t");var sm=om.parse;om.parseRows;om.format;om.formatBody;om.formatRows;om.formatRow;om.formatValue;new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function lm(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function dm(e,t){return fetch(e,t).then(lm)}function cm(t){return function(n,a,r){arguments.length===2&&typeof a==="function"&&(r=a,a=e);return dm(n,a).then(function(e){return t(e,r)})}}cm(im);cm(sm);function hm(e){return(t,n)=>dm(t,n).then(t=>(new DOMParser).parseFromString(t,e))}hm("application/xml");hm("text/html");hm("image/svg+xml");function um(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return pm(this.cover(t,n),t,n,e)}function pm(e,t,n,a){if(isNaN(t)||isNaN(n))return e;var r,i=e._root,o={data:a},s=e._x0,l=e._y0,d=e._x1,c=e._y1,h,u,p,_,f,g,m,y;if(!i)return e._root=o,e;while(i.length){if(f=t>=(h=(s+d)/2))s=h;else d=h;if(g=n>=(u=(l+c)/2))l=u;else c=u;if(r=i,!(i=i[m=g<<1|f]))return r[m]=o,e}p=+e._x.call(null,i.data);_=+e._y.call(null,i.data);if(t===p&&n===_)return o.next=i,r?r[m]=o:e._root=o,e;do{r=r?r[m]=new Array(4):e._root=new Array(4);if(f=t>=(h=(s+d)/2))s=h;else d=h;if(g=n>=(u=(l+c)/2))l=u;else c=u}while((m=g<<1|f)===(y=(_>=u)<<1|p>=h));return r[y]=i,r[m]=o,e}function _m(e){var t,n,a=e.length,r,i,o=new Array(a),s=new Array(a),l=Infinity,d=Infinity,c=-Infinity,h=-Infinity;for(n=0;n<a;++n){if(isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t)))continue;o[n]=r;s[n]=i;r<l&&(l=r);r>c&&(c=r);i<d&&(d=i);i>h&&(h=i)}if(l>c||d>h)return this;this.cover(l,d).cover(c,h);for(n=0;n<a;++n){pm(this,o[n],s[n],e[n])}return this}function fm(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,a=this._y0,r=this._x1,i=this._y1;if(isNaN(n)){r=(n=Math.floor(e))+1;i=(a=Math.floor(t))+1}else{var o=r-n||1,s=this._root,l,d;while(n>e||e>=r||a>t||t>=i){d=(t<a)<<1|e<n;l=new Array(4),l[d]=s,s=l,o*=2;switch(d){case 0:r=n+o,i=a+o;break;case 1:n=r-o,i=a+o;break;case 2:r=n+o,a=i-o;break;case 3:n=r-o,a=i-o;break}}this._root&&this._root.length&&(this._root=s)}this._x0=n;this._y0=a;this._x1=r;this._y1=i;return this}function gm(){var e=[];this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)});return e}function mm(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?e:[[this._x0,this._y0],[this._x1,this._y1]]}function ym(e,t,n,a,r){this.node=e;this.x0=t;this.y0=n;this.x1=a;this.y1=r}function xm(e,t,n){var a,r=this._x0,i=this._y0,o,s,l,d,c=this._x1,h=this._y1,u=[],p=this._root,_,f;p&&u.push(new ym(p,r,i,c,h));if(n==null)n=Infinity;else{r=e-n,i=t-n;c=e+n,h=t+n;n*=n}while(_=u.pop()){if(!(p=_.node)||(o=_.x0)>c||(s=_.y0)>h||(l=_.x1)<r||(d=_.y1)<i)continue;if(p.length){var g=(o+l)/2,m=(s+d)/2;u.push(new ym(p[3],g,m,l,d),new ym(p[2],o,m,g,d),new ym(p[1],g,s,l,m),new ym(p[0],o,s,g,m));if(f=(t>=m)<<1|e>=g){_=u[u.length-1];u[u.length-1]=u[u.length-1-f];u[u.length-1-f]=_}}else{var y=e-+this._x.call(null,p.data),x=t-+this._y.call(null,p.data),b=y*y+x*x;if(b<n){var v=Math.sqrt(n=b);r=e-v,i=t-v;c=e+v,h=t+v;a=p.data}}}return a}function bm(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,a,r,i,o=this._x0,s=this._y0,l=this._x1,d=this._y1,c,h,u,p,_,f,g,m;if(!n)return this;if(n.length)while(!0){if(_=c>=(u=(o+l)/2))o=u;else l=u;if(f=h>=(p=(s+d)/2))s=p;else d=p;if(!(t=n,n=n[g=f<<1|_]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(a=t,m=g)}while(n.data!==e)if(!(r=n,n=n.next))return this;(i=n.next)&&delete n.next;if(r)return i?r.next=i:delete r.next,this;if(!t)return this._root=i,this;i?t[g]=i:delete t[g];if((n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length){if(a)a[m]=n;else this._root=n}return this}function vm(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function km(){return this._root}function Sm(){var e=0;this.visit(function(t){if(!t.length)do{++e}while(t=t.next)});return e}function wm(e){var t=[],n,a=this._root,r,i,o,s,l;a&&t.push(new ym(a,this._x0,this._y0,this._x1,this._y1));while(n=t.pop()){if(!e(a=n.node,i=n.x0,o=n.y0,s=n.x1,l=n.y1)&&a.length){var d=(i+s)/2,c=(o+l)/2;(r=a[3])&&t.push(new ym(r,d,c,s,l));(r=a[2])&&t.push(new ym(r,i,c,d,l));(r=a[1])&&t.push(new ym(r,d,o,s,c));(r=a[0])&&t.push(new ym(r,i,o,d,c))}}return this}function Cm(e){var t=[],n=[],a;this._root&&t.push(new ym(this._root,this._x0,this._y0,this._x1,this._y1));while(a=t.pop()){var r=a.node;if(r.length){var i,o=a.x0,s=a.y0,l=a.x1,d=a.y1,c=(o+l)/2,h=(s+d)/2;(i=r[0])&&t.push(new ym(i,o,s,c,h));(i=r[1])&&t.push(new ym(i,c,s,l,h));(i=r[2])&&t.push(new ym(i,o,h,c,d));(i=r[3])&&t.push(new ym(i,c,h,l,d))}n.push(a)}while(a=n.pop()){e(a.node,a.x0,a.y0,a.x1,a.y1)}return this}function Tm(e){return e[0]}function Em(e){return arguments.length?(this._x=e,this):this._x}function Am(e){return e[1]}function Nm(e){return arguments.length?(this._y=e,this):this._y}function Pm(e,t,n){var a=new Lm(t==null?Tm:t,n==null?Am:n,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function Lm(t,n,a,r,i,o){this._x=t;this._y=n;this._x0=a;this._y0=r;this._x1=i;this._y1=o;this._root=e}function Mm(e){var t={data:e.data},n=t;while(e=e.next)n=n.next={data:e.data};return t}var Dm=Pm.prototype=Lm.prototype;Dm.copy=function(){var e=new Lm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,a;if(!t)return e;if(!t.length)return e._root=Mm(t),e;n=[{source:t,target:e._root=new Array(4)}];while(t=n.pop()){for(var r=0;r<4;++r){if(a=t.source[r]){if(a.length)n.push({source:a,target:t.target[r]=new Array(4)});else t.target[r]=Mm(a)}}}return e};Dm.add=um;Dm.addAll=_m;Dm.cover=fm;Dm.data=gm;Dm.extent=mm;Dm.find=xm;Dm.remove=bm;Dm.removeAll=vm;Dm.root=km;Dm.size=Sm;Dm.visit=wm;Dm.visitAfter=Cm;Dm.x=Em;Dm.y=Nm;function Im(e){return Math.abs(e=Math.round(e))>=1E+21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bm(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Rm(e){return e=Bm(Math.abs(e)),e?e[1]:NaN}function Om(e,t){return function(n,a){var r=n.length,i=[],o=0,s=e[0],l=0;while(r>0&&s>0){l+s+1>a&&(s=Math.max(1,a-l));i.push(n.substring(r-=s,r+s));if((l+=s+1)>a)break;s=e[o=(o+1)%e.length]}return i.reverse().join(t)}}function Fm(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var jm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hm(e){if(!(t=jm.exec(e)))throw new Error("invalid format: "+e);var t;return new $m({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hm.prototype=$m.prototype;function $m(t){this.fill=t.fill===e?" ":t.fill+"";this.align=t.align===e?">":t.align+"";this.sign=t.sign===e?"-":t.sign+"";this.symbol=t.symbol===e?"":t.symbol+"";this.zero=!!t.zero;this.width=t.width===e?e:+t.width;this.comma=!!t.comma;this.precision=t.precision===e?e:+t.precision;this.trim=!!t.trim;this.type=t.type===e?"":t.type+""}$m.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===e?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===e?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wm(e){e:for(var t=e.length,n=1,a=-1,r;n<t;++n){switch(e[n]){case".":a=r=n;break;case"0":a===0&&(a=n);r=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}}return a>0?e.slice(0,a)+e.slice(r+1):e}var zm;function qm(t,n){var a=Bm(t,n);if(!a)return zm=e,t.toPrecision(n);var r=a[0],i=a[1],o=i-(zm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Bm(t,Math.max(0,n+o-1))[0]}function Um(e,t){var n=Bm(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}var Ym={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Im,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Um(e*100,t),r:Um,s:qm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gm(e){return e}var Vm=Array.prototype.map,Xm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Km(t){var n=t.grouping===e||t.thousands===e?Gm:Om(Vm.call(t.grouping,Number),t.thousands+""),a=t.currency===e?"":t.currency[0]+"",r=t.currency===e?"":t.currency[1]+"",i=t.decimal===e?".":t.decimal+"",o=t.numerals===e?Gm:Fm(Vm.call(t.numerals,String)),s=t.percent===e?"%":t.percent+"",l=t.minus===e?"":t.minus+"",d=t.nan===e?"NaN":t.nan+"";function c(t,c){t=Hm(t);var h=t.fill,u=t.align,p=t.sign,_=t.symbol,f=t.zero,g=t.width,m=t.comma,y=t.precision,x=t.trim,b=t.type;if(b==="n")m=!0,b="g";else Ym[b]||(y===e&&(y=12),x=!0,b="g");(f||h==="0"&&u==="=")&&(f=!0,h="0",u="=");var v=(c&&c.prefix!==e?c.prefix:"")+(_==="$"?a:_==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():""),k=(_==="$"?r:/[%p]/.test(b)?s:"")+(c&&c.suffix!==e?c.suffix:"");var S=Ym[b],w=/[defgprs%]/.test(b);y=y===e?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(t){var a=v,r=k,s,c,_;if(b==="c"){r=S(t)+r;t=""}else{t=+t;var C=t<0||1/t<0;t=isNaN(t)?d:S(Math.abs(t),y);x&&(t=Wm(t));C&&+t===0&&p!=="+"&&(C=!1);a=(C?p==="("?p:l:p==="-"||p==="("?"":p)+a;r=(b==="s"&&!isNaN(t)&&zm!==e?Xm[8+zm/3]:"")+r+(C&&p==="("?")":"");if(w){s=-1,c=t.length;while(++s<c){if(_=t.charCodeAt(s),48>_||_>57){r=(_===46?i+t.slice(s+1):t.slice(s))+r;t=t.slice(0,s);break}}}}m&&!f&&(t=n(t,Infinity));var T=a.length+t.length+r.length,E=T<g?new Array(g-T+1).join(h):"";m&&f&&(t=n(E+t,E.length?g-r.length:Infinity),
E="");switch(u){case"<":t=a+t+r+E;break;case"=":t=a+E+t+r;break;case"^":t=E.slice(0,T=E.length>>1)+a+t+r+E.slice(T);break;default:t=E+a+t+r;break}return o(t)}C.toString=function(){return t+""};return C}function h(e,t){var n=Math.max(-8,Math.min(8,Math.floor(Rm(t)/3)))*3,a=Math.pow(10,-n),r=c((e=Hm(e),e.type="f",e),{suffix:Xm[8+n/3]});return function(e){return r(a*e)}}return{format:c,formatPrefix:h}}var Qm;Zm({thousands:",",grouping:[3],currency:["$",""]});function Zm(e){Qm=Km(e);Jm=Qm.format;ey=Qm.formatPrefix;return Qm}var Jm;var ey;function ty(e){return Math.max(0,-Rm(Math.abs(e)))}function ny(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rm(t)/3)))*3-Rm(Math.abs(e)))}function ay(e,t){e=Math.abs(e),t=Math.abs(t)-e;return Math.max(0,Rm(t)-Rm(e))+1}var ry=1E-06;var iy=1E-12;var oy=Math.PI;var sy=oy/2;var ly=oy/4;var dy=oy*2;var cy=180/oy;var hy=oy/180;var uy=Math.abs;var py=Math.atan;var _y=Math.atan2;var fy=Math.cos;var gy=Math.exp;var my=Math.hypot;var yy=Math.log;var xy=Math.sin;var by=Math.sign||function(e){return e>0?1:e<0?-1:0};var vy=Math.sqrt;var ky=Math.tan;function Sy(e){return e>1?0:e<-1?oy:Math.acos(e)}function wy(e){return e>1?sy:e<-1?-sy:Math.asin(e)}function Cy(){}function Ty(e,t){e&&Ay.hasOwnProperty(e.type)&&Ay[e.type](e,t)}var Ey={Feature:function(e,t){Ty(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,a=-1,r=n.length;while(++a<r)Ty(n[a].geometry,t)}};var Ay={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates;t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,a=-1,r=n.length;while(++a<r)e=n[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ny(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,a=-1,r=n.length;while(++a<r)Ny(n[a],t,0)},Polygon:function(e,t){Py(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,a=-1,r=n.length;while(++a<r)Py(n[a],t)},GeometryCollection:function(e,t){var n=e.geometries,a=-1,r=n.length;while(++a<r)Ty(n[a],t)}};function Ny(e,t,n){var a=-1,r=e.length-n,i;t.lineStart();while(++a<r)i=e[a],t.point(i[0],i[1],i[2]);t.lineEnd()}function Py(e,t){var n=-1,a=e.length;t.polygonStart();while(++n<a)Ny(e[n],t,1);t.polygonEnd()}function Ly(e,t){if(e&&Ey.hasOwnProperty(e.type)){Ey[e.type](e,t)}else{Ty(e,t)}}var My=new Adder;var Dy=new Adder,Iy,By,Ry,Oy,Fy;var jy={point:Cy,lineStart:Cy,lineEnd:Cy,polygonStart:function(){My=new Adder;jy.lineStart=Hy;jy.lineEnd=$y},polygonEnd:function(){var e=+My;Dy.add(e<0?dy+e:e);this.lineStart=this.lineEnd=this.point=Cy},sphere:function(){Dy.add(dy)}};function Hy(){jy.point=Wy}function $y(){zy(Iy,By)}function Wy(e,t){jy.point=zy;Iy=e,By=t;e*=hy,t*=hy;Ry=e,Oy=fy(t=t/2+ly),Fy=xy(t)}function zy(e,t){e*=hy,t*=hy;t=t/2+ly;var n=e-Ry,a=n>=0?1:-1,r=a*n,i=fy(t),o=xy(t),s=Fy*o,l=Oy*i+s*fy(r),d=s*a*xy(r);My.add(_y(d,l));Ry=e,Oy=i,Fy=o}function qy(e){return[_y(e[1],e[0]),wy(e[2])]}function Uy(e){var t=e[0],n=e[1],a=fy(n);return[a*fy(t),a*xy(t),xy(n)]}function Yy(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Gy(e){var t=vy(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Vy,Xy,Ky,Qy,Zy,Jy,ex,tx,nx,ax,rx;var ix={point:ox,lineStart:lx,lineEnd:dx,polygonStart:function(){ix.point=cx;ix.lineStart=hx;ix.lineEnd=ux;nx=new Adder;jy.polygonStart()},polygonEnd:function(){jy.polygonEnd();ix.point=ox;ix.lineStart=lx;ix.lineEnd=dx;if(My<0)Vy=-(Ky=180),Xy=-(Qy=90);else if(nx>ry)Qy=90;else nx<-ry&&(Xy=-90);rx[0]=Vy,rx[1]=Ky},sphere:function(){Vy=-(Ky=180),Xy=-(Qy=90)}};function ox(e,t){ax.push(rx=[Vy=e,Ky=e]);t<Xy&&(Xy=t);t>Qy&&(Qy=t)}function sx(e,t){var n=Uy([e*hy,t*hy]);if(tx){var a=Yy(tx,n),r=[a[1],-a[0],0],i=Yy(r,a);Gy(i);i=qy(i);var o=e-Zy,s=o>0?1:-1,l=i[0]*cy*s,d,c=uy(o)>180;if(c^(s*Zy<l&&l<s*e)){d=i[1]*cy;d>Qy&&(Qy=d)}else if(l=(l+360)%360-180,c^(s*Zy<l&&l<s*e)){d=-i[1]*cy;d<Xy&&(Xy=d)}else{t<Xy&&(Xy=t);t>Qy&&(Qy=t)}if(c){if(e<Zy){px(Vy,e)>px(Vy,Ky)&&(Ky=e)}else{px(e,Ky)>px(Vy,Ky)&&(Vy=e)}}else{if(Ky>=Vy){e<Vy&&(Vy=e);e>Ky&&(Ky=e)}else{if(e>Zy){px(Vy,e)>px(Vy,Ky)&&(Ky=e)}else{px(e,Ky)>px(Vy,Ky)&&(Vy=e)}}}}else{ax.push(rx=[Vy=e,Ky=e])}t<Xy&&(Xy=t);t>Qy&&(Qy=t);tx=n,Zy=e}function lx(){ix.point=sx}function dx(){rx[0]=Vy,rx[1]=Ky;ix.point=ox;tx=null}function cx(e,t){if(tx){var n=e-Zy;nx.add(uy(n)>180?n+(n>0?360:-360):n)}else{Jy=e,ex=t}jy.point(e,t);sx(e,t)}function hx(){jy.lineStart()}function ux(){cx(Jy,ex);jy.lineEnd();uy(nx)>ry&&(Vy=-(Ky=180));rx[0]=Vy,rx[1]=Ky;tx=null}function px(e,t){return(t-=e)<0?t+360:t}var _x,fx,gx,mx,yx,xx,bx,vx,kx,Sx,wx,Cx,Tx,Ex,Ax,Nx;var Px={sphere:Cy,point:Lx,lineStart:Dx,lineEnd:Rx,polygonStart:function(){Px.lineStart=Ox;Px.lineEnd=Fx},polygonEnd:function(){Px.lineStart=Dx;Px.lineEnd=Rx}};function Lx(e,t){e*=hy,t*=hy;var n=fy(t);Mx(n*fy(e),n*xy(e),xy(t))}function Mx(e,t,n){++_x;gx+=(e-gx)/_x;mx+=(t-mx)/_x;yx+=(n-yx)/_x}function Dx(){Px.point=Ix}function Ix(e,t){e*=hy,t*=hy;var n=fy(t);Ex=n*fy(e);Ax=n*xy(e);Nx=xy(t);Px.point=Bx;Mx(Ex,Ax,Nx)}function Bx(e,t){e*=hy,t*=hy;var n=fy(t),a=n*fy(e),r=n*xy(e),i=xy(t),o=_y(vy((o=Ax*i-Nx*r)*o+(o=Nx*a-Ex*i)*o+(o=Ex*r-Ax*a)*o),Ex*a+Ax*r+Nx*i);fx+=o;xx+=o*(Ex+(Ex=a));bx+=o*(Ax+(Ax=r));vx+=o*(Nx+(Nx=i));Mx(Ex,Ax,Nx)}function Rx(){Px.point=Lx}function Ox(){Px.point=jx}function Fx(){Hx(Cx,Tx);Px.point=Lx}function jx(e,t){Cx=e,Tx=t;e*=hy,t*=hy;Px.point=Hx;var n=fy(t);Ex=n*fy(e);Ax=n*xy(e);Nx=xy(t);Mx(Ex,Ax,Nx)}function Hx(e,t){e*=hy,t*=hy;var n=fy(t),a=n*fy(e),r=n*xy(e),i=xy(t),o=Ax*i-Nx*r,s=Nx*a-Ex*i,l=Ex*r-Ax*a,d=my(o,s,l),c=wy(d),h=d&&-c/d;kx.add(h*o);Sx.add(h*s);wx.add(h*l);fx+=c;xx+=c*(Ex+(Ex=a));bx+=c*(Ax+(Ax=r));vx+=c*(Nx+(Nx=i));Mx(Ex,Ax,Nx)}function $x(e,t){uy(e)>oy&&(e-=Math.round(e/dy)*dy);return[e,t]}$x.invert=$x;function Wx(){var e=[],t;return{point:function(e,n,a){t.push([e,n,a])},lineStart:function(){e.push(t=[])},lineEnd:Cy,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;e=[];t=null;return n}}}function zx(e,t){return uy(e[0]-t[0])<ry&&uy(e[1]-t[1])<ry}function qx(e,t,n,a){this.x=e;this.z=t;this.o=n;this.e=a;this.v=!1;this.n=this.p=null}function Ux(e,t,n,a,r){var i=[],o=[],s,l;e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],a=e[t],l;if(zx(n,a)){if(!n[2]&&!a[2]){r.lineStart();for(s=0;s<t;++s)r.point((n=e[s])[0],n[1]);r.lineEnd();return}a[0]+=2*ry}i.push(l=new qx(n,e,null,!0));o.push(l.o=new qx(n,null,l,!1));i.push(l=new qx(a,e,null,!1));o.push(l.o=new qx(a,null,l,!0))});if(!i.length)return;o.sort(t);Yx(i);Yx(o);for(s=0,l=o.length;s<l;++s){o[s].e=n=!n}var d=i[0],c,h;while(1){var u=d,p=!0;while(u.v)if((u=u.n)===d)return;c=u.z;r.lineStart();do{u.v=u.o.v=!0;if(u.e){if(p){for(s=0,l=c.length;s<l;++s)r.point((h=c[s])[0],h[1])}else{a(u.x,u.n.x,1,r)}u=u.n}else{if(p){c=u.p.z;for(s=c.length-1;s>=0;--s)r.point((h=c[s])[0],h[1])}else{a(u.x,u.p.x,-1,r)}u=u.p}u=u.o;c=u.z;p=!p}while(!u.v);r.lineEnd()}}function Yx(e){if(!(t=e.length))return;var t,n=0,a=e[0],r;while(++n<t){a.n=r=e[n];r.p=a;a=r}a.n=r=e[0];r.p=a}function Gx(e){return uy(e[0])<=oy?e[0]:by(e[0])*((uy(e[0])+oy)%dy-oy)}function Vx(e,t){var n=Gx(t),a=t[1],r=xy(a),i=[xy(n),-fy(n),0],o=0,s=0;var l=new Adder;if(r===1)a=sy+ry;else r===-1&&(a=-sy-ry);for(var d=0,c=e.length;d<c;++d){if(!(u=(h=e[d]).length))continue;var h,u,p=h[u-1],_=Gx(p),f=p[1]/2+ly,g=xy(f),m=fy(f);for(var y=0;y<u;++y,_=b,g=k,m=S,p=x){var x=h[y],b=Gx(x),v=x[1]/2+ly,k=xy(v),S=fy(v),w=b-_,C=w>=0?1:-1,T=C*w,E=T>oy,A=g*k;l.add(_y(A*C*xy(T),m*S+A*fy(T)));o+=E?w+C*dy:w;if(E^_>=n^b>=n){var N=Yy(Uy(p),Uy(x));Gy(N);var P=Yy(i,N);Gy(P);var L=(E^w>=0?-1:1)*wy(P[2]);(a>L||a===L&&(N[0]||N[1]))&&(s+=E^w>=0?1:-1)}}}return(o<-ry||o<ry&&l<-iy)^s&1}function Xx(e,t,n,a){return function(r){var i=t(r),o=Wx(),s=t(o),l=!1,d,c,h;var u={point:p,lineStart:f,lineEnd:g,polygonStart:function(){u.point=m;u.lineStart=y;u.lineEnd=x;c=[];d=[]},polygonEnd:function(){u.point=p;u.lineStart=f;u.lineEnd=g;c=yd(c);var e=Vx(d,a);if(c.length){l||(r.polygonStart(),l=!0);Ux(c,Qx,e,n,r)}else if(e){l||(r.polygonStart(),l=!0);r.lineStart();n(null,null,1,r);r.lineEnd()}l&&(r.polygonEnd(),l=!1);c=d=null},sphere:function(){r.polygonStart();r.lineStart();n(null,null,1,r);r.lineEnd();r.polygonEnd()}};function p(t,n){e(t,n)&&r.point(t,n)}function _(e,t){i.point(e,t)}function f(){u.point=_;i.lineStart()}function g(){u.point=p;i.lineEnd()}function m(e,t){h.push([e,t]);s.point(e,t)}function y(){s.lineStart();h=[]}function x(){m(h[0][0],h[0][1]);s.lineEnd();var e=s.clean(),t=o.result(),n,a=t.length,i,u,p;h.pop();d.push(h);h=null;if(!a)return;if(e&1){u=t[0];if((i=u.length-1)>0){l||(r.polygonStart(),l=!0);r.lineStart();for(n=0;n<i;++n)r.point((p=u[n])[0],p[1]);r.lineEnd()}return}a>1&&e&2&&t.push(t.pop().concat(t.shift()));c.push(t.filter(Kx))}return u}}function Kx(e){return e.length>1}function Qx(e,t){return((e=e.x)[0]<0?e[1]-sy-ry:sy-e[1])-((t=t.x)[0]<0?t[1]-sy-ry:sy-t[1])}Xx(function(){return!0},Zx,eb,[-oy,-sy]);function Zx(e){var t=NaN,n=NaN,a=NaN,r;return{lineStart:function(){e.lineStart();r=1},point:function(i,o){var s=i>0?oy:-oy,l=uy(i-t);if(uy(l-oy)<ry){e.point(t,n=(n+o)/2>0?sy:-sy);e.point(a,n);e.lineEnd();e.lineStart();e.point(s,n);e.point(i,n);r=0}else if(a!==s&&l>=oy){uy(t-a)<ry&&(t-=a*ry);uy(i-s)<ry&&(i-=s*ry);n=Jx(t,n,i,o);e.point(a,n);e.lineEnd();e.lineStart();e.point(s,n);r=0}e.point(t=i,n=o);a=s},lineEnd:function(){e.lineEnd();t=n=NaN},clean:function(){return 2-r}}}function Jx(e,t,n,a){var r,i,o=xy(e-n);return uy(o)>ry?py((xy(t)*(i=fy(a))*xy(n)-xy(a)*(r=fy(t))*xy(e))/(r*i*o)):(t+a)/2}function eb(e,t,n,a){var r;if(e==null){r=n*sy;a.point(-oy,r);a.point(0,r);a.point(oy,r);a.point(oy,0);a.point(oy,-r);a.point(0,-r);a.point(-oy,-r);a.point(-oy,0);a.point(-oy,r)}else if(uy(e[0]-t[0])>ry){var i=e[0]<t[0]?oy:-oy;r=n*i/2;a.point(-i,r);a.point(0,r);a.point(i,r)}else{a.point(t[0],t[1])}}var tb,nb,ab,rb;var ib={sphere:Cy,point:Cy,lineStart:ob,lineEnd:Cy,polygonStart:Cy,polygonEnd:Cy};function ob(){ib.point=lb;ib.lineEnd=sb}function sb(){ib.point=ib.lineEnd=Cy}function lb(e,t){e*=hy,t*=hy;nb=e,ab=xy(t),rb=fy(t);ib.point=db}function db(e,t){e*=hy,t*=hy;var n=xy(t),a=fy(t),r=uy(e-nb),i=fy(r),o=xy(r),s=a*o,l=rb*n-ab*a*i,d=ab*n+rb*a*i;tb.add(_y(vy(s*s+l*l),d));nb=e,ab=n,rb=a}function cb(e){tb=new Adder;Ly(e,ib);return+tb}var hb=[null,null],ub={type:"LineString",coordinates:hb};function pb(e,t){hb[0]=e;hb[1]=t;return cb(ub)}var _b={Sphere:function(){return!0},Point:function(e,t){return gb(e.coordinates,t)},MultiPoint:function(e,t){var n=e.coordinates,a=-1,r=n.length;while(++a<r)if(gb(n[a],t))return!0;return!1},LineString:function(e,t){return mb(e.coordinates,t)},MultiLineString:function(e,t){var n=e.coordinates,a=-1,r=n.length;while(++a<r)if(mb(n[a],t))return!0;return!1},Polygon:function(e,t){return yb(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,a=-1,r=n.length;while(++a<r)if(yb(n[a],t))return!0;return!1},GeometryCollection:function(e,t){var n=e.geometries,a=-1,r=n.length;while(++a<r)if(fb(n[a],t))return!0;return!1}};function fb(e,t){return e&&_b.hasOwnProperty(e.type)?_b[e.type](e,t):!1}function gb(e,t){return pb(e,t)===0}function mb(e,t){var n,a,r;for(var i=0,o=e.length;i<o;i++){a=pb(e[i],t);if(a===0)return!0;if(i>0){r=pb(e[i],e[i-1]);if(r>0&&n<=r&&a<=r&&(n+a-r)*(1-Math.pow((n-a)/r,2))<iy*r)return!0}n=a}return!1}function yb(e,t){return!!Vx(e.map(xb),bb(t))}function xb(e){return e=e.map(bb),e.pop(),e}function bb(e){return[e[0]*hy,e[1]*hy]}var vb=new Adder,kb=new Adder,Sb,wb,Cb,Tb;var Eb={point:Cy,lineStart:Cy,lineEnd:Cy,polygonStart:function(){Eb.lineStart=Ab;Eb.lineEnd=Lb},polygonEnd:function(){Eb.lineStart=Eb.lineEnd=Eb.point=Cy;vb.add(uy(kb));kb=new Adder},result:function(){var e=vb/2;vb=new Adder;return e}};function Ab(){Eb.point=Nb}function Nb(e,t){Eb.point=Pb;Sb=Cb=e,wb=Tb=t}function Pb(e,t){kb.add(Tb*e-Cb*t);Cb=e,Tb=t}function Lb(){Pb(Sb,wb)}var Mb=Infinity,Db=Mb,Ib=-Mb,Bb=Ib;var Rb=0,Ob=0,Fb=0,jb=0,Hb=0,$b=0,Wb=0,zb=0,qb=0,Ub,Yb,Gb,Vb;var Xb={point:Kb,lineStart:Qb,lineEnd:ev,polygonStart:function(){Xb.lineStart=tv;Xb.lineEnd=nv},polygonEnd:function(){Xb.point=Kb;Xb.lineStart=Qb;Xb.lineEnd=ev},result:function(){var e=qb?[Wb/qb,zb/qb]:$b?[jb/$b,Hb/$b]:Fb?[Rb/Fb,Ob/Fb]:[NaN,NaN];Rb=Ob=Fb=jb=Hb=$b=Wb=zb=qb=0;return e}};function Kb(e,t){Rb+=e;Ob+=t;++Fb}function Qb(){Xb.point=Zb}function Zb(e,t){Xb.point=Jb;Kb(Gb=e,Vb=t)}function Jb(e,t){var n=e-Gb,a=t-Vb,r=vy(n*n+a*a);jb+=r*(Gb+e)/2;Hb+=r*(Vb+t)/2;$b+=r;Kb(Gb=e,Vb=t)}function ev(){Xb.point=Kb}function tv(){Xb.point=av}function nv(){rv(Ub,Yb)}function av(e,t){Xb.point=rv;Kb(Ub=Gb=e,Yb=Vb=t)}function rv(e,t){var n=e-Gb,a=t-Vb,r=vy(n*n+a*a);jb+=r*(Gb+e)/2;Hb+=r*(Vb+t)/2;$b+=r;r=Vb*e-Gb*t;Wb+=r*(Gb+e);zb+=r*(Vb+t);qb+=r*3;Kb(Gb=e,Vb=t)}function iv(e){this._context=e}iv.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath();this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t);this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t);this._context.arc(e,t,this._radius,0,dy);break}},result:Cy};var ov=new Adder,sv,lv,dv,cv,hv;var uv={point:Cy,lineStart:function(){uv.point=pv},lineEnd:function(){sv&&_v(lv,dv);uv.point=Cy},polygonStart:function(){sv=!0},polygonEnd:function(){sv=null},result:function(){var e=+ov;ov=new Adder;return e}};function pv(e,t){uv.point=_v;lv=cv=e,dv=hv=t}function _v(e,t){cv-=e,hv-=t;ov.add(vy(cv*cv+hv*hv));cv=e,hv=t}function fv(e){return function(t){var n=new gv;for(var a in e)n[a]=e[a];n.stream=t;return n}}function gv(){}gv.prototype={constructor:gv,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};fy(30*hy);fv({point:function(e,t){this.stream.point(e*hy,t*hy)}});function mv(e){return function(t,n){var a=fy(t),r=fy(n),i=e(a*r);if(i===Infinity)return[2,0];return[i*r*xy(t),i*xy(n)]}}function yv(e){return function(t,n){var a=vy(t*t+n*n),r=e(a),i=xy(r),o=fy(r);return[_y(t*i,a*o),wy(a&&n*i/a)]}}var xv=mv(function(e){return vy(2/(1+e))});xv.invert=yv(function(e){return 2*wy(e/2)});var bv=mv(function(e){return(e=Sy(e))&&e/xy(e)});bv.invert=yv(function(e){return e});function vv(e,t){return[e,yy(ky((sy+t)/2))]}vv.invert=function(e,t){return[e,2*py(gy(t))-sy]};function kv(e,t){return[e,t]}kv.invert=kv;var Sv=1.340264,wv=-.081106,Cv=.000893,Tv=.003796,Ev=vy(3)/2,Av=12;function Nv(e,t){var n=wy(Ev*xy(t)),a=n*n,r=a*a*a;return[e*fy(n)/(Ev*(Sv+3*wv*a+r*(7*Cv+9*Tv*a))),n*(Sv+wv*a+r*(Cv+Tv*a))]}Nv.invert=function(e,t){var n=t,a=n*n,r=a*a*a;for(var i=0,o,s,l;i<Av;++i){s=n*(Sv+wv*a+r*(Cv+Tv*a))-t;l=Sv+3*wv*a+r*(7*Cv+9*Tv*a);n-=o=s/l,a=n*n,r=a*a*a;if(uy(o)<iy)break}return[Ev*e*(Sv+3*wv*a+r*(7*Cv+9*Tv*a))/fy(n),wy(xy(n)/Ev)]};function Pv(e,t){var n=fy(t),a=fy(e)*n;return[n*xy(e)/a,xy(t)/a]}Pv.invert=yv(py);function Lv(e,t){var n=t*t,a=n*n;return[e*(.8707-.131979*n+a*(-.013791+a*(.003971*n-.001529*a))),t*(1.007226+n*(.015085+a*(-.044475+.028874*n-.005916*a)))]}Lv.invert=function(e,t){var n=t,a=25,r;do{var i=n*n,o=i*i;n-=r=(n*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-t)/(1.007226+i*(.015085*3+o*(-.044475*7+.028874*9*i-.005916*11*o)))}while(uy(r)>ry&&--a>0);return[e/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function Mv(e,t){return[fy(t)*xy(e),xy(t)]}Mv.invert=yv(wy);function Dv(e,t){var n=fy(t),a=1+fy(e)*n;return[n*xy(e)/a,xy(t)/a]}Dv.invert=yv(function(e){return 2*py(e)});function Iv(e,t){return[yy(ky((sy+t)/2)),-e]}Iv.invert=function(e,t){return[-t,2*py(gy(e))-sy]};function Bv(e){var t=0,n=e.children,a=n&&n.length;if(!a)t=1;else while(--a>=0)t+=n[a].value;e.value=t}function Rv(){return this.eachAfter(Bv)}function Ov(e,t){let n=-1;for(const a of this){e.call(t,a,++n,this)}return this}function Fv(e,t){var n=this,a=[n],r,i,o=-1;while(n=a.pop()){e.call(t,n,++o,this);if(r=n.children){for(i=r.length-1;i>=0;--i){a.push(r[i])}}}return this}function jv(e,t){var n=this,a=[n],r=[],i,o,s,l=-1;while(n=a.pop()){r.push(n);if(i=n.children){for(o=0,s=i.length;o<s;++o){a.push(i[o])}}}while(n=r.pop()){e.call(t,n,++l,this)}return this}function Hv(e,t){let n=-1;for(const a of this){if(e.call(t,a,++n,this)){return a}}}function $v(e){return this.eachAfter(function(t){var n=+e(t.data)||0,a=t.children,r=a&&a.length;while(--r>=0)n+=a[r].value;t.value=n})}function Wv(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function zv(e){var t=this,n=qv(t,e),a=[t];while(t!==n){t=t.parent;a.push(t)}var r=a.length;while(e!==n){a.splice(r,0,e);e=e.parent}return a}function qv(e,t){if(e===t)return e;var n=e.ancestors(),a=t.ancestors(),r=null;e=n.pop();t=a.pop();while(e===t){r=e;e=n.pop();t=a.pop()}return r}function Uv(){var e=this,t=[e];while(e=e.parent){t.push(e)}return t}function Yv(){return Array.from(this)}function Gv(){var e=[];this.eachBefore(function(t){t.children||e.push(t)});return e}function Vv(){var e=this,t=[];e.each(function(n){n!==e&&t.push({source:n.parent,target:n})});return t}function*Xv(){var e=this,t,n=[e],a,r,i;do{t=n.reverse(),n=[];while(e=t.pop()){yield e;if(a=e.children){for(r=0,i=a.length;r<i;++r){n.push(a[r])}}}}while(n.length)}function Kv(t,n){if(t instanceof Map){t=[e,t];n===e&&(n=Jv)}else n===e&&(n=Zv);var a=new nk(t),r,i=[a],o,s,l,d;while(r=i.pop()){if((s=n(r.data))&&(d=(s=Array.from(s)).length)){r.children=s;for(l=d-1;l>=0;--l){i.push(o=s[l]=new nk(s[l]));o.parent=r;o.depth=r.depth+1}}}return a.eachBefore(tk)}function Qv(){return Kv(this).eachBefore(ek)}function Zv(e){return e.children}function Jv(e){return Array.isArray(e)?e[1]:null}function ek(t){t.data.value!==e&&(t.value=t.data.value);t.data=t.data.data}function tk(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function nk(e){this.data=e;this.depth=this.height=0;this.parent=null}nk.prototype=Kv.prototype={constructor:nk,count:Rv,each:Ov,eachAfter:jv,eachBefore:Fv,find:Hv,sum:$v,sort:Wv,path:zv,ancestors:Uv,descendants:Yv,leaves:Gv,links:Vv,copy:Qv,[Symbol.iterator]:Xv};function ak(e){if(typeof e!=="function")throw new Error;return e}function rk(){return 0}function ik(e){return function(){return e}}function ok(e){e.x0=Math.round(e.x0);e.y0=Math.round(e.y0);e.x1=Math.round(e.x1);e.y1=Math.round(e.y1)}function sk(e,t,n,a,r){var i=e.children,o,s=-1,l=i.length,d=e.value&&(a-t)/e.value;while(++s<l){o=i[s],o.y0=n,o.y1=r;o.x0=t,o.x1=t+=o.value*d}}function lk(e,t){this._=e;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=t}lk.prototype=Object.create(nk.prototype);function dk(e,t,n,a,r){var i=e.children,o,s=-1,l=i.length,d=e.value&&(r-n)/e.value;while(++s<l){o=i[s],o.x0=t,o.x1=a;o.y0=n,o.y1=n+=o.value*d}}var ck=(1+Math.sqrt(5))/2;function hk(e,t,n,a,r,i){var o=[],s=t.children,l,d,c=0,h=0,u=s.length,p,_,f=t.value,g,m,y,x,b,v,k;while(c<u){p=r-n,_=i-a;do{g=s[h++].value}while(!g&&h<u);m=y=g;v=Math.max(_/p,p/_)/(f*e);k=g*g*v;b=Math.max(y/k,k/m);for(;h<u;++h){g+=d=s[h].value;d<m&&(m=d);d>y&&(y=d);k=g*g*v;x=Math.max(y/k,k/m);if(x>b){g-=d;break}b=x}o.push(l={value:g,dice:p<_,children:s.slice(c,h)});if(l.dice)sk(l,n,a,r,f?a+=_*g/f:i);else dk(l,n,a,f?n+=p*g/f:r,i);f-=g,c=h}return o}var uk=function e(t){function n(e,n,a,r,i){hk(t,e,n,a,r,i)}n.ratio=function(t){return e((t=+t)>1?t:1)};return n}(ck);function pk(){var e=uk,t=!1,n=1,a=1,r=[0],i=rk,o=rk,s=rk,l=rk,d=rk;function c(e){e.x0=e.y0=0;e.x1=n;e.y1=a;e.eachBefore(h);r=[0];t&&e.eachBefore(ok);return e}function h(t){var n=r[t.depth],a=t.x0+n,c=t.y0+n,h=t.x1-n,u=t.y1-n;h<a&&(a=h=(a+h)/2);u<c&&(c=u=(c+u)/2);t.x0=a;t.y0=c;t.x1=h;t.y1=u;if(t.children){n=r[t.depth+1]=i(t)/2;a+=d(t)-n;c+=o(t)-n;h-=s(t)-n;u-=l(t)-n;h<a&&(a=h=(a+h)/2);u<c&&(c=u=(c+u)/2);e(t,a,c,h,u)}}c.round=function(e){return arguments.length?(t=!!e,c):t};c.size=function(e){return arguments.length?(n=+e[0],a=+e[1],c):[n,a]};c.tile=function(t){return arguments.length?(e=ak(t),c):e};c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()};c.paddingInner=function(e){return arguments.length?(i=typeof e==="function"?e:ik(+e),c):i};c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()};c.paddingTop=function(e){return arguments.length?(o=typeof e==="function"?e:ik(+e),c):o};c.paddingRight=function(e){return arguments.length?(s=typeof e==="function"?e:ik(+e),c):s};c.paddingBottom=function(e){return arguments.length?(l=typeof e==="function"?e:ik(+e),c):l};c.paddingLeft=function(e){return arguments.length?(d=typeof e==="function"?e:ik(+e),c):d};return c}(function e(t){function n(e,n,a,r,i){if((o=e._squarify)&&o.ratio===t){var o,s,l,d,c=-1,h,u=o.length,p=e.value;while(++c<u){s=o[c],l=s.children;for(d=s.value=0,h=l.length;d<h;++d)s.value+=l[d].value;if(s.dice)sk(s,n,a,r,p?a+=(i-a)*s.value/p:i);else dk(s,n,a,p?n+=(r-n)*s.value/p:r,i);p-=s.value}}else{e._squarify=o=hk(t,e,n,a,r,i);o.ratio=t}}n.ratio=function(t){return e((t=+t)>1?t:1)};return n})(ck);var _k=Math.random;(function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;if(arguments.length===1)n=e,e=0;else n-=e;return function(){return t()*n+e}}n.source=e;return n})(_k);(function e(t){function n(e,n){arguments.length<2&&(n=e,e=0);e=Math.floor(e);n=Math.floor(n)-e;return function(){return Math.floor(t()*n+e)}}n.source=e;return n})(_k);var fk=function e(t){function n(e,n){var a,r;e=e==null?0:+e;n=n==null?1:+n;return function(){var i;if(a!=null)i=a,a=null;else do{a=t()*2-1;i=t()*2-1;r=a*a+i*i}while(!r||r>1);return e+n*i*Math.sqrt(-2*Math.log(r)/r)}}n.source=e;return n}(_k);(function e(t){var n=fk.source(t);function a(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}a.source=e;return a})(_k);var gk=function e(t){function n(e){if((e=+e)<=0)return()=>0;return function(){for(var n=0,a=e;a>1;--a)n+=t();return n+a*t()}}n.source=e;return n}(_k);(function e(t){var n=gk.source(t);function a(e){if((e=+e)===0)return t;var a=n(e);return function(){return a()/e}}a.source=e;return a})(_k);(function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}n.source=e;return n})(_k);(function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");e=1/-e;return function(){return Math.pow(1-t(),e)}}n.source=e;return n})(_k);(function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}n.source=e;return n})(_k);var mk=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");if(e===0)return()=>Infinity;if(e===1)return()=>1;e=Math.log1p(-e);return function(){return 1+Math.floor(Math.log1p(-t())/e)}}n.source=e;return n}(_k);var yk=function e(t){var n=fk.source(t)();function a(e,a){if((e=+e)<0)throw new RangeError("invalid k");if(e===0)return()=>0;a=a==null?1:+a;if(e===1)return()=>-Math.log1p(-t())*a;var r=(e<1?e+1:e)-1/3,i=1/(3*Math.sqrt(r)),o=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),s=1+i*e}while(s<=0);s*=s*s;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+r*(1-s+Math.log(s)));return r*s*o()*a}}a.source=e;return a}(_k);var xk=function e(t){var n=yk.source(t);function a(e,t){var a=n(e),r=n(t);return function(){var e=a();return e===0?0:e/(e+r())}}a.source=e;return a}(_k);var bk=function e(t){var n=mk.source(t),a=xk.source(t);function r(e,t){e=+e;if((t=+t)>=1)return()=>e;if(t<=0)return()=>0;return function(){var r=0,i=e,o=t;while(i*o>16&&i*(1-o)>16){var s=Math.floor((i+1)*o),l=a(s,i-s+1)();if(l<=o){r+=s;i-=s;o=(o-l)/(1-l)}else{i=s-1;o/=l}}var d=o<.5,c=d?o:1-o,h=n(c);for(var u=h(),p=0;u<=i;++p)u+=h();return r+(d?p:i-p)}}r.source=e;return r}(_k);(function e(t){function n(e,n,a){var r;if((e=+e)===0){r=(e=>-Math.log(e))}else{e=1/e;r=(t=>Math.pow(t,e))}n=n==null?0:+n;a=a==null?1:+a;return function(){return n+a*r(-Math.log1p(-t()))}}n.source=e;return n})(_k);(function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;return function(){return e+n*Math.tan(Math.PI*t())}}n.source=e;return n})(_k);(function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;return function(){var a=t();return e+n*Math.log(a/(1-a))}}n.source=e;return n})(_k);(function e(t){var n=yk.source(t),a=bk.source(t);function r(e){return function(){var r=0,i=e;while(i>16){var o=Math.floor(.875*i),s=n(o)();if(s>i)return r+a(o-1,i/s)();r+=o;i-=s}for(var l=-Math.log1p(-t()),d=0;l<=i;++d)l-=Math.log1p(-t());return r+d}}r.source=e;return r})(_k);function vk(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var kk=Symbol("implicit");function Sk(){var t=new InternMap,n=[],a=[],r=kk;function i(i){let o=t.get(i);if(o===e){if(r!==kk)return r;t.set(i,o=n.push(i)-1)}return a[o%a.length]}i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new InternMap;for(const a of e){if(t.has(a))continue;t.set(a,n.push(a)-1)}return i};i.range=function(e){return arguments.length?(a=Array.from(e),i):a.slice()};i.unknown=function(e){return arguments.length?(r=e,i):r};i.copy=function(){return Sk(n,a).unknown(r)};vk.apply(i,arguments);return i}function wk(){var t=Sk().unknown(e),n=t.domain,a=t.range,r=0,i=1,o,s,l=!1,d=0,c=0,h=.5;delete t.unknown;function u(){var e=n().length,t=i<r,u=t?i:r,p=t?r:i;o=(p-u)/Math.max(1,e-d+c*2);l&&(o=Math.floor(o));u+=(p-u-o*(e-d))*h;s=o*(1-d);l&&(u=Math.round(u),s=Math.round(s));var _=xd(e).map(function(e){return u+o*e});return a(t?_.reverse():_)}t.domain=function(e){return arguments.length?(n(e),u()):n()};t.range=function(e){return arguments.length?([r,i]=e,r=+r,i=+i,u()):[r,i]};t.rangeRound=function(e){return[r,i]=e,r=+r,i=+i,l=!0,u()};t.bandwidth=function(){return s};t.step=function(){return o};t.round=function(e){return arguments.length?(l=!!e,u()):l};t.padding=function(e){return arguments.length?(d=Math.min(1,c=+e),u()):d};t.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),u()):d};t.paddingOuter=function(e){return arguments.length?(c=+e,u()):c};t.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),u()):h};t.copy=function(){return wk(n(),[r,i]).round(l).paddingInner(d).paddingOuter(c).align(h)};return vk.apply(u(),arguments)}function Ck(e){return function(){return e}}function Tk(e){return+e}var Ek=[0,1];function Ak(e){return e}function Nk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ck(isNaN(t)?NaN:.5)}function Pk(e,t){var n;e>t&&(n=e,e=t,t=n);return function(n){return Math.max(e,Math.min(t,n))}}function Lk(e,t,n){var a=e[0],r=e[1],i=t[0],o=t[1];if(r<a)a=Nk(r,a),i=n(o,i);else a=Nk(a,r),i=n(i,o);return function(e){return i(a(e))}}function Mk(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),i=new Array(a),o=-1;if(e[a]<e[0]){e=e.slice().reverse();t=t.slice().reverse()}while(++o<a){r[o]=Nk(e[o],e[o+1]);i[o]=n(t[o],t[o+1])}return function(t){var n=Kl(e,t,1,a)-1;return i[n](r[n](t))}}function Dk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ik(){var e=Ek,t=Ek,n=Mp,a,r,i,o=Ak,s,l,d;function c(){var n=Math.min(e.length,t.length);o!==Ak&&(o=Pk(e[0],e[n-1]));s=n>2?Mk:Lk;l=d=null;return h}function h(r){return r==null||isNaN(r=+r)?i:(l||(l=s(e.map(a),t,n)))(a(o(r)))}h.invert=function(n){return o(r((d||(d=s(t,e.map(a),Cp)))(n)))};h.domain=function(t){return arguments.length?(e=Array.from(t,Tk),c()):e.slice()};h.range=function(e){return arguments.length?(t=Array.from(e),c()):t.slice()};h.rangeRound=function(e){return t=Array.from(e),n=Dp,c()};h.clamp=function(e){return arguments.length?(o=e?!0:Ak,c()):o!==Ak};h.interpolate=function(e){return arguments.length?(n=e,c()):n};h.unknown=function(e){return arguments.length?(i=e,h):i};return function(e,t){a=e,r=t;return c()}}function Bk(){return Ik()(Ak,Ak)}function Rk(e,t,n,a){var r=_d(e,t,n),i;a=Hm(a==null?",f":a);switch(a.type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));a.precision==null&&!isNaN(i=ny(r,o))&&(a.precision=i);return ey(a,o);case"":case"e":case"g":case"p":case"r":a.precision==null&&!isNaN(i=ay(r,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break;case"f":case"%":a.precision==null&&!isNaN(i=ty(r))&&(a.precision=i-(a.type==="%")*2);break}return Jm(a)}function Ok(e){var t=e.domain;e.ticks=function(e){var n=t();return ud(n[0],n[n.length-1],e==null?10:e)};e.tickFormat=function(e,n){var a=t();return Rk(a[0],a[a.length-1],e==null?10:e,n)};e.nice=function(n){n==null&&(n=10);var a=t();var r=0;var i=a.length-1;var o=a[r];var s=a[i];var l;var d;var c=10;if(s<o){d=o,o=s,s=d;d=r,r=i,i=d}while(c-- >0){d=pd(o,s,n);if(d===l){a[r]=o;a[i]=s;return t(a)}else if(d>0){o=Math.floor(o/d)*d;s=Math.ceil(s/d)*d}else if(d<0){o=Math.ceil(o*d)/d;s=Math.floor(s*d)/d}else{break}l=d}return e};return e}function Fk(){var e=Bk();e.copy=function(){return Dk(e,Fk())};vk.apply(e,arguments);return Ok(e)}function jk(e,t){e=e.slice();var n=0,a=e.length-1,r=e[n],i=e[a],o;if(i<r){o=n,n=a,a=o;o=r,r=i,i=o}e[n]=t.floor(r);e[a]=t.ceil(i);return e}const Hk=new Date,$k=new Date;function Wk(e,t,n,a){function r(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}r.floor=(t=>(e(t=new Date(+t)),t));r.ceil=(n=>(e(n=new Date(n-1)),t(n,1),e(n),n));r.round=(e=>{const t=r(e),n=r.ceil(e);return e-t<n-e?t:n});r.offset=((e,n)=>(t(e=new Date(+e),n==null?1:Math.floor(n)),e));r.range=((n,a,i)=>{const o=[];n=r.ceil(n);i=i==null?1:Math.floor(i);if(!(n<a)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<a);return o});r.filter=(n=>Wk(t=>{if(t>=t)while(e(t),!n(t))t.setTime(t-1)},(e,a)=>{if(e>=e){if(a<0)while(++a<=0){while(t(e,-1),!n(e)){}}else while(--a>=0){while(t(e,+1),!n(e)){}}}}));if(n){r.count=((t,a)=>{Hk.setTime(+t),$k.setTime(+a);e(Hk),e($k);return Math.floor(n(Hk,$k))});r.every=(e=>{e=Math.floor(e);return!isFinite(e)||!(e>0)?null:!(e>1)?r:r.filter(a?t=>a(t)%e===0:t=>r.count(0,t)%e===0)})}return r}var zk=Wk(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zk.every=(e=>{e=Math.floor(e);if(!isFinite(e)||!(e>0))return null;if(!(e>1))return zk;return Wk(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e)});zk.range;var qk=1e3;var Uk=qk*60;var Yk=Uk*60;var Gk=Yk*24;var Vk=Gk*7;var Xk=Gk*30;var Kk=Gk*365;var Qk=Wk(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qk)},(e,t)=>(t-e)/qk,e=>e.getUTCSeconds());Qk.range;var Zk=Wk(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qk)},(e,t)=>{e.setTime(+e+t*Uk)},(e,t)=>(t-e)/Uk,e=>e.getMinutes());Zk.range;var Jk=Wk(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Uk)},(e,t)=>(t-e)/Uk,e=>e.getUTCMinutes());Jk.range;var eS=Wk(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qk-e.getMinutes()*Uk)},(e,t)=>{e.setTime(+e+t*Yk)},(e,t)=>(t-e)/Yk,e=>e.getHours());eS.range;var tS=Wk(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yk)},(e,t)=>(t-e)/Yk,e=>e.getUTCHours());tS.range;var nS=Wk(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Uk)/Gk,e=>e.getDate()-1);nS.range;var aS=Wk(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gk,e=>e.getUTCDate()-1);aS.range;var rS=Wk(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gk,e=>Math.floor(e/Gk));rS.range;function iS(e){return Wk(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7);t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Uk)/Vk)}var oS=iS(0);var sS=iS(1);var lS=iS(2);var dS=iS(3);var cS=iS(4);var hS=iS(5);var uS=iS(6);oS.range;sS.range;lS.range;dS.range;cS.range;hS.range;uS.range;function pS(e){return Wk(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7);t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Vk)}var _S=pS(0);var fS=pS(1);var gS=pS(2);var mS=pS(3);var yS=pS(4);var xS=pS(5);var bS=pS(6);_S.range;fS.range;gS.range;mS.range;yS.range;xS.range
bS.range;var vS=Wk(e=>{e.setDate(1);e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vS.range;var kS=Wk(e=>{e.setUTCDate(1);e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kS.range;var SS=Wk(e=>{e.setMonth(0,1);e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());SS.every=(e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wk(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e);t.setMonth(0,1);t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}));SS.range;var wS=Wk(e=>{e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wS.every=(e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wk(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e);t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}));wS.range;function CS(e,t,n,a,r,i){const o=[[Qk,1,qk],[Qk,5,5*qk],[Qk,15,15*qk],[Qk,30,30*qk],[i,1,Uk],[i,5,5*Uk],[i,15,15*Uk],[i,30,30*Uk],[r,1,Yk],[r,3,3*Yk],[r,6,6*Yk],[r,12,12*Yk],[a,1,Gk],[a,2,2*Gk],[n,1,Vk],[t,1,Xk],[t,3,3*Xk],[e,1,Kk]];function s(e,t,n){const a=t<e;a&&([e,t]=[t,e]);const r=n&&typeof n.range==="function"?n:l(e,t,n);const i=r?r.range(e,+t+1):[];return a?i.reverse():i}function l(t,n,a){const r=Math.abs(n-t)/a;const i=Yl(([,,e])=>e).right(o,r);if(i===o.length)return e.every(_d(t/Kk,n/Kk,a));if(i===0)return zk.every(Math.max(_d(t,n,a),1));const[s,l]=o[r/o[i-1][2]<o[i][2]/r?i-1:i];return s.every(l)}return[s,l]}const[TS,ES]=CS(wS,kS,_S,rS,tS,Jk);const[AS,NS]=CS(SS,vS,oS,nS,eS,Zk);function PS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);t.setFullYear(e.y);return t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function LS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));t.setUTCFullYear(e.y);return t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function MS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function DS(t){var n=t.dateTime,a=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,d=t.shortMonths;var c=HS(i),h=$S(i),u=HS(o),p=$S(o),_=HS(s),f=$S(s),g=HS(l),m=$S(l),y=HS(d),x=$S(d);var b={a:I,A:B,b:R,B:O,c:null,d:lw,e:lw,f:pw,g:ww,G:Tw,H:dw,I:cw,j:hw,L:uw,m:_w,M:fw,p:F,q:j,Q:Xw,s:Kw,S:gw,u:mw,U:yw,V:bw,w:vw,W:kw,x:null,X:null,y:Sw,Y:Cw,Z:Ew,"%":Vw};var v={a:H,A:$,b:W,B:z,c:null,d:Aw,e:Aw,f:Dw,g:qw,G:Yw,H:Nw,I:Pw,j:Lw,L:Mw,m:Iw,M:Bw,p:q,q:U,Q:Xw,s:Kw,S:Rw,u:Ow,U:Fw,V:Hw,w:$w,W:Ww,x:null,X:null,y:zw,Y:Uw,Z:Gw,"%":Vw};var k={a:E,A:A,b:N,B:P,c:L,d:ZS,e:ZS,f:rw,g:VS,G:GS,H:ew,I:ew,j:JS,L:aw,m:QS,M:tw,p:T,q:KS,Q:ow,s:sw,S:nw,u:zS,U:qS,V:US,w:WS,W:YS,x:M,X:D,y:VS,Y:GS,Z:XS,"%":iw};b.x=S(a,b);b.X=S(r,b);b.c=S(n,b);v.x=S(a,v);v.X=S(r,v);v.c=S(n,v);function S(e,t){return function(n){var a=[],r=-1,i=0,o=e.length,s,l,d;n instanceof Date||(n=new Date(+n));while(++r<o){if(e.charCodeAt(r)===37){a.push(e.slice(i,r));if((l=IS[s=e.charAt(++r)])!=null)s=e.charAt(++r);else l=s==="e"?" ":"0";(d=t[s])&&(s=d(n,l));a.push(s);i=r+1}}a.push(e.slice(i,r));return a.join("")}}function w(t,n){return function(a){var r=MS(1900,e,1),i=C(r,t,a+="",0),o,s;if(i!=a.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(r.s*1e3+("L"in r?r.L:0));n&&!("Z"in r)&&(r.Z=0);"p"in r&&(r.H=r.H%12+r.p*12);r.m===e&&(r.m="q"in r?r.q:0);if("V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1);if("Z"in r){o=LS(MS(r.y,0,1)),s=o.getUTCDay();o=s>4||s===0?fS.ceil(o):fS(o);o=aS.offset(o,(r.V-1)*7);r.y=o.getUTCFullYear();r.m=o.getUTCMonth();r.d=o.getUTCDate()+(r.w+6)%7}else{o=PS(MS(r.y,0,1)),s=o.getDay();o=s>4||s===0?sS.ceil(o):sS(o);o=nS.offset(o,(r.V-1)*7);r.y=o.getFullYear();r.m=o.getMonth();r.d=o.getDate()+(r.w+6)%7}}else if("W"in r||"U"in r){"w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0);s="Z"in r?LS(MS(r.y,0,1)).getUTCDay():PS(MS(r.y,0,1)).getDay();r.m=0;r.d="W"in r?(r.w+6)%7+r.W*7-(s+5)%7:r.w+r.U*7-(s+6)%7}if("Z"in r){r.H+=r.Z/100|0;r.M+=r.Z%100;return LS(r)}return PS(r)}}function C(e,t,n,a){var r=0,i=t.length,o=n.length,s,l;while(r<i){if(a>=o)return-1;s=t.charCodeAt(r++);if(s===37){s=t.charAt(r++);l=k[s in IS?t.charAt(r++):s];if(!l||(a=l(e,n,a))<0)return-1}else if(s!=n.charCodeAt(a++)){return-1}}return a}function T(e,t,n){var a=c.exec(t.slice(n));return a?(e.p=h.get(a[0].toLowerCase()),n+a[0].length):-1}function E(e,t,n){var a=_.exec(t.slice(n));return a?(e.w=f.get(a[0].toLowerCase()),n+a[0].length):-1}function A(e,t,n){var a=u.exec(t.slice(n));return a?(e.w=p.get(a[0].toLowerCase()),n+a[0].length):-1}function N(e,t,n){var a=y.exec(t.slice(n));return a?(e.m=x.get(a[0].toLowerCase()),n+a[0].length):-1}function P(e,t,n){var a=g.exec(t.slice(n));return a?(e.m=m.get(a[0].toLowerCase()),n+a[0].length):-1}function L(e,t,a){return C(e,n,t,a)}function M(e,t,n){return C(e,a,t,n)}function D(e,t,n){return C(e,r,t,n)}function I(e){return s[e.getDay()]}function B(e){return o[e.getDay()]}function R(e){return d[e.getMonth()]}function O(e){return l[e.getMonth()]}function F(e){return i[+(e.getHours()>=12)]}function j(e){return 1+~~(e.getMonth()/3)}function H(e){return s[e.getUTCDay()]}function $(e){return o[e.getUTCDay()]}function W(e){return d[e.getUTCMonth()]}function z(e){return l[e.getUTCMonth()]}function q(e){return i[+(e.getUTCHours()>=12)]}function U(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var t=S(e+="",b);t.toString=function(){return e};return t},parse:function(e){var t=w(e+="",!1);t.toString=function(){return e};return t},utcFormat:function(e){var t=S(e+="",v);t.toString=function(){return e};return t},utcParse:function(e){var t=w(e+="",!0);t.toString=function(){return e};return t}}}var IS={"-":"",_:" ",0:"0"},BS=/^\s*\d+/,RS=/^%/,OS=/[\\^$*+?|[\]().{}]/g;function FS(e,t,n){var a=e<0?"-":"",r=(a?-e:e)+"",i=r.length;return a+(i<n?new Array(n-i+1).join(t)+r:r)}function jS(e){return e.replace(OS,"\\$&")}function HS(e){return new RegExp("^(?:"+e.map(jS).join("|")+")","i")}function $S(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function WS(e,t,n){var a=BS.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function zS(e,t,n){var a=BS.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function qS(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function US(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function YS(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function GS(e,t,n){var a=BS.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function VS(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function XS(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function KS(e,t,n){var a=BS.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function QS(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function ZS(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function JS(e,t,n){var a=BS.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function ew(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function tw(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function nw(e,t,n){var a=BS.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function aw(e,t,n){var a=BS.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function rw(e,t,n){var a=BS.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function iw(e,t,n){var a=RS.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function ow(e,t,n){var a=BS.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function sw(e,t,n){var a=BS.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function lw(e,t){return FS(e.getDate(),t,2)}function dw(e,t){return FS(e.getHours(),t,2)}function cw(e,t){return FS(e.getHours()%12||12,t,2)}function hw(e,t){return FS(1+nS.count(SS(e),e),t,3)}function uw(e,t){return FS(e.getMilliseconds(),t,3)}function pw(e,t){return uw(e,t)+"000"}function _w(e,t){return FS(e.getMonth()+1,t,2)}function fw(e,t){return FS(e.getMinutes(),t,2)}function gw(e,t){return FS(e.getSeconds(),t,2)}function mw(e){var t=e.getDay();return t===0?7:t}function yw(e,t){return FS(oS.count(SS(e)-1,e),t,2)}function xw(e){var t=e.getDay();return t>=4||t===0?cS(e):cS.ceil(e)}function bw(e,t){e=xw(e);return FS(cS.count(SS(e),e)+(SS(e).getDay()===4),t,2)}function vw(e){return e.getDay()}function kw(e,t){return FS(sS.count(SS(e)-1,e),t,2)}function Sw(e,t){return FS(e.getFullYear()%100,t,2)}function ww(e,t){e=xw(e);return FS(e.getFullYear()%100,t,2)}function Cw(e,t){return FS(e.getFullYear()%1e4,t,4)}function Tw(e,t){var n=e.getDay();e=n>=4||n===0?cS(e):cS.ceil(e);return FS(e.getFullYear()%1e4,t,4)}function Ew(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+FS(t/60|0,"0",2)+FS(t%60,"0",2)}function Aw(e,t){return FS(e.getUTCDate(),t,2)}function Nw(e,t){return FS(e.getUTCHours(),t,2)}function Pw(e,t){return FS(e.getUTCHours()%12||12,t,2)}function Lw(e,t){return FS(1+aS.count(wS(e),e),t,3)}function Mw(e,t){return FS(e.getUTCMilliseconds(),t,3)}function Dw(e,t){return Mw(e,t)+"000"}function Iw(e,t){return FS(e.getUTCMonth()+1,t,2)}function Bw(e,t){return FS(e.getUTCMinutes(),t,2)}function Rw(e,t){return FS(e.getUTCSeconds(),t,2)}function Ow(e){var t=e.getUTCDay();return t===0?7:t}function Fw(e,t){return FS(_S.count(wS(e)-1,e),t,2)}function jw(e){var t=e.getUTCDay();return t>=4||t===0?yS(e):yS.ceil(e)}function Hw(e,t){e=jw(e);return FS(yS.count(wS(e),e)+(wS(e).getUTCDay()===4),t,2)}function $w(e){return e.getUTCDay()}function Ww(e,t){return FS(fS.count(wS(e)-1,e),t,2)}function zw(e,t){return FS(e.getUTCFullYear()%100,t,2)}function qw(e,t){e=jw(e);return FS(e.getUTCFullYear()%100,t,2)}function Uw(e,t){return FS(e.getUTCFullYear()%1e4,t,4)}function Yw(e,t){var n=e.getUTCDay();e=n>=4||n===0?yS(e):yS.ceil(e);return FS(e.getUTCFullYear()%1e4,t,4)}function Gw(){return"+0000"}function Vw(){return"%"}function Xw(e){return+e}function Kw(e){return Math.floor(+e/1e3)}var Qw;Zw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zw(e){Qw=DS(e);Jw=Qw.format;Qw.parse;eC=Qw.utcFormat;tC=Qw.utcParse;return Qw}var Jw;var eC;var tC;var nC="%Y-%m-%dT%H:%M:%S.%LZ";function aC(e){return e.toISOString()}Date.prototype.toISOString?aC:eC(nC);function rC(e){var t=new Date(e);return isNaN(t)?null:t}+new Date("2000-01-01T00:00:00.000Z")?rC:tC(nC);function iC(e){return new Date(e)}function oC(e){return e instanceof Date?+e:+new Date(+e)}function sC(e,t,n,a,r,i,o,s,l,d){var c=Bk(),h=c.invert,u=c.domain;var p=d(".%L"),_=d(":%S"),f=d("%I:%M"),g=d("%I %p"),m=d("%a %d"),y=d("%b %d"),x=d("%B"),b=d("%Y");function v(e){return(l(e)<e?p:s(e)<e?_:o(e)<e?f:i(e)<e?g:a(e)<e?r(e)<e?m:y:n(e)<e?x:b)(e)}c.invert=function(e){return new Date(h(e))};c.domain=function(e){return arguments.length?u(Array.from(e,oC)):u().map(iC)};c.ticks=function(t){var n=u();return e(n[0],n[n.length-1],t==null?10:t)};c.tickFormat=function(e,t){return t==null?v:d(t)};c.nice=function(e){var n=u();(!e||typeof e.range!=="function")&&(e=t(n[0],n[n.length-1],e==null?10:e));return e?u(jk(n,e)):c};c.copy=function(){return Dk(c,sC(e,t,n,a,r,i,o,s,l,d))};return c}function lC(){return vk.apply(sC(AS,NS,SS,vS,oS,nS,eS,Zk,Qk,Jw).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dC(e){var t=e.length/6|0,n=new Array(t),a=0;while(a<t)n[a]="#"+e.slice(a*6,++a*6);return n}dC("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");dC("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");dC("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");dC("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");dC("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");dC("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");dC("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");dC("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");dC("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");dC("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var cC=dC("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var hC=e=>bp(e[e.length-1]);var uC=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(dC);hC(uC);var pC=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(dC);hC(pC);var _C=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(dC);hC(_C);var fC=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(dC);hC(fC);var gC=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(dC);hC(gC);var mC=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(dC);hC(mC);var yC=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(dC);hC(yC);var xC=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(dC);hC(xC);var bC=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(dC);hC(bC);var vC=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(dC);hC(vC);var kC=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(dC);hC(kC);var SC=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(dC);hC(SC);var wC=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(dC);hC(wC);var CC=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(dC);hC(CC);var TC=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(dC);hC(TC);var EC=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(dC);hC(EC);var AC=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(dC);hC(AC);var NC=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(dC);hC(NC);var PC=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(dC);hC(PC);var LC=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(dC);hC(LC);var MC=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(dC);hC(MC);var DC=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(dC);hC(DC);var IC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(dC);hC(IC);var BC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(dC);hC(BC);var RC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(dC);hC(RC);var OC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(dC);hC(OC);var FC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(dC);hC(FC);Qp(sp(300,.5,0),sp(-240,.5,1));Qp(sp(-100,.75,.35),sp(80,1.5,.8));Qp(sp(260,.75,.35),sp(80,1.5,.8));sp();gu();function jC(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}jC(dC("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));jC(dC("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));jC(dC("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));jC(dC("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function HC(e){return function t(){return e}}var $C=Math.abs;var WC=Math.atan2;var zC=Math.cos;var qC=Math.max;var UC=Math.min;var YC=Math.sin;var GC=Math.sqrt;var VC=1E-12;var XC=Math.PI;var KC=XC/2;var QC=2*XC;function ZC(e){return e>1?0:e<-1?XC:Math.acos(e)}function JC(e){return e>=1?KC:e<=-1?-KC:Math.asin(e)}function eT(e){let t=3;e.digits=function(n){if(!arguments.length)return t;if(n==null){t=null}else{let e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e};return()=>new Path(t)}function tT(e){return e.innerRadius}function nT(e){return e.outerRadius}function aT(e){return e.startAngle}function rT(e){return e.endAngle}function iT(e){return e&&e.padAngle}function oT(e,t,n,a,r,i,o,s){var l=n-e,d=a-t,c=o-r,h=s-i,u=h*l-c*d;if(u*u<VC)return;u=(c*(t-i)-h*(e-r))/u;return[e+u*l,t+u*d]}function sT(e,t,n,a,r,i,o){var s=e-n,l=t-a,d=(o?i:-i)/GC(s*s+l*l),c=d*l,h=-d*s,u=e+c,p=t+h,_=n+c,f=a+h,g=(u+_)/2,m=(p+f)/2,y=_-u,x=f-p,b=y*y+x*x,v=r-i,k=u*f-_*p,S=(x<0?-1:1)*GC(qC(0,v*v*b-k*k)),w=(k*x-y*S)/b,C=(-k*y-x*S)/b,T=(k*x+y*S)/b,E=(-k*y+x*S)/b,A=w-g,N=C-m,P=T-g,L=E-m;A*A+N*N>P*P+L*L&&(w=T,C=E);return{cx:w,cy:C,x01:-c,y01:-h,x11:w*(r/v-1),y11:C*(r/v-1)}}function lT(){var e=tT,t=nT,n=HC(0),a=null,r=aT,i=rT,o=iT,s=null,l=eT(d);function d(){var d,c,h=+e.apply(this,arguments),u=+t.apply(this,arguments),p=r.apply(this,arguments)-KC,_=i.apply(this,arguments)-KC,f=$C(_-p),g=_>p;s||(s=d=l());u<h&&(c=u,u=h,h=c);if(!(u>VC))s.moveTo(0,0);else if(f>QC-VC){s.moveTo(u*zC(p),u*YC(p));s.arc(0,0,u,p,_,!g);if(h>VC){s.moveTo(h*zC(_),h*YC(_));s.arc(0,0,h,_,p,g)}}else{var m=p,y=_,x=p,b=_,v=f,k=f,S=o.apply(this,arguments)/2,w=S>VC&&(a?+a.apply(this,arguments):GC(h*h+u*u)),C=UC($C(u-h)/2,+n.apply(this,arguments)),T=C,E=C,A,N;if(w>VC){var P=JC(w/h*YC(S)),L=JC(w/u*YC(S));if((v-=P*2)>VC)P*=g?1:-1,x+=P,b-=P;else v=0,x=b=(p+_)/2;if((k-=L*2)>VC)L*=g?1:-1,m+=L,y-=L;else k=0,m=y=(p+_)/2}var M=u*zC(m),D=u*YC(m),I=h*zC(b),B=h*YC(b);if(C>VC){var R=u*zC(y),O=u*YC(y),F=h*zC(x),j=h*YC(x),H;if(f<XC){if(H=oT(M,D,F,j,R,O,I,B)){var $=M-H[0],W=D-H[1],z=R-H[0],q=O-H[1],U=1/YC(ZC(($*z+W*q)/(GC($*$+W*W)*GC(z*z+q*q)))/2),Y=GC(H[0]*H[0]+H[1]*H[1]);T=UC(C,(h-Y)/(U-1));E=UC(C,(u-Y)/(U+1))}else{T=E=0}}}if(!(k>VC))s.moveTo(M,D);else if(E>VC){A=sT(F,j,M,D,u,E,g);N=sT(R,O,I,B,u,E,g);s.moveTo(A.cx+A.x01,A.cy+A.y01);if(E<C)s.arc(A.cx,A.cy,E,WC(A.y01,A.x01),WC(N.y01,N.x01),!g);else{s.arc(A.cx,A.cy,E,WC(A.y01,A.x01),WC(A.y11,A.x11),!g);s.arc(0,0,u,WC(A.cy+A.y11,A.cx+A.x11),WC(N.cy+N.y11,N.cx+N.x11),!g);s.arc(N.cx,N.cy,E,WC(N.y11,N.x11),WC(N.y01,N.x01),!g)}}else s.moveTo(M,D),s.arc(0,0,u,m,y,!g);if(!(h>VC)||!(v>VC))s.lineTo(I,B);else if(T>VC){A=sT(I,B,R,O,h,-T,g);N=sT(M,D,F,j,h,-T,g);s.lineTo(A.cx+A.x01,A.cy+A.y01);if(T<C)s.arc(A.cx,A.cy,T,WC(A.y01,A.x01),WC(N.y01,N.x01),!g);else{s.arc(A.cx,A.cy,T,WC(A.y01,A.x01),WC(A.y11,A.x11),!g);s.arc(0,0,h,WC(A.cy+A.y11,A.cx+A.x11),WC(N.cy+N.y11,N.cx+N.x11),g);s.arc(N.cx,N.cy,T,WC(N.y11,N.x11),WC(N.y01,N.x01),!g)}}else s.arc(0,0,h,b,x,g)}s.closePath();if(d)return s=null,d+""||null}d.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,a=(+r.apply(this,arguments)+ +i.apply(this,arguments))/2-XC/2
return[zC(a)*n,YC(a)*n]};d.innerRadius=function(t){return arguments.length?(e=typeof t==="function"?t:HC(+t),d):e};d.outerRadius=function(e){return arguments.length?(t=typeof e==="function"?e:HC(+e),d):t};d.cornerRadius=function(e){return arguments.length?(n=typeof e==="function"?e:HC(+e),d):n};d.padRadius=function(e){return arguments.length?(a=e==null?null:typeof e==="function"?e:HC(+e),d):a};d.startAngle=function(e){return arguments.length?(r=typeof e==="function"?e:HC(+e),d):r};d.endAngle=function(e){return arguments.length?(i=typeof e==="function"?e:HC(+e),d):i};d.padAngle=function(e){return arguments.length?(o=typeof e==="function"?e:HC(+e),d):o};d.context=function(e){return arguments.length?(s=e==null?null:e,d):s};return d}var dT=Array.prototype.slice;function cT(e){return typeof e==="object"&&"length"in e?e:Array.from(e)}function hT(e){this._context=e}hT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uT(e){return new hT(e)}function pT(e){return e[0]}function _T(e){return e[1]}function fT(t,n){var a=HC(!0),r=null,i=uT,o=null,s=eT(l);t=typeof t==="function"?t:t===e?pT:HC(t);n=typeof n==="function"?n:n===e?_T:HC(n);function l(e){var l,d=(e=cT(e)).length,c,h=!1,u;r==null&&(o=i(u=s()));for(l=0;l<=d;++l){if(!(l<d&&a(c=e[l],l,e))===h){if(h=!h)o.lineStart();else o.lineEnd()}h&&o.point(+t(c,l,e),+n(c,l,e))}if(u)return o=null,u+""||null}l.x=function(e){return arguments.length?(t=typeof e==="function"?e:HC(+e),l):t};l.y=function(e){return arguments.length?(n=typeof e==="function"?e:HC(+e),l):n};l.defined=function(e){return arguments.length?(a=typeof e==="function"?e:HC(!!e),l):a};l.curve=function(e){return arguments.length?(i=e,r!=null&&(o=i(r)),l):i};l.context=function(e){return arguments.length?(e==null?r=o=null:o=i(r=e),l):r};return l}function gT(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function mT(e){return e}function yT(){var e=mT,t=gT,n=null,a=HC(0),r=HC(QC),i=HC(0);function o(o){var s,l=(o=cT(o)).length,d,c,h=0,u=new Array(l),p=new Array(l),_=+a.apply(this,arguments),f=Math.min(QC,Math.max(-QC,r.apply(this,arguments)-_)),g,m=Math.min(Math.abs(f)/l,i.apply(this,arguments)),y=m*(f<0?-1:1),x;for(s=0;s<l;++s){(x=p[u[s]=s]=+e(o[s],s,o))>0&&(h+=x)}if(t!=null)u.sort(function(e,n){return t(p[e],p[n])});else n!=null&&u.sort(function(e,t){return n(o[e],o[t])});for(s=0,c=h?(f-l*y)/h:0;s<l;++s,_=g){d=u[s],x=p[d],g=_+(x>0?x*c:0)+y,p[d]={data:o[d],index:s,value:x,startAngle:_,endAngle:g,padAngle:m}}return p}o.value=function(t){return arguments.length?(e=typeof t==="function"?t:HC(+t),o):e};o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t};o.sort=function(e){return arguments.length?(n=e,t=null,o):n};o.startAngle=function(e){return arguments.length?(a=typeof e==="function"?e:HC(+e),o):a};o.endAngle=function(e){return arguments.length?(r=typeof e==="function"?e:HC(+e),o):r};o.padAngle=function(e){return arguments.length?(i=typeof e==="function"?e:HC(+e),o):i};return o}bT(uT);function xT(e){this._curve=e}xT.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function bT(e){function t(t){return new xT(e(t))}t._curve=e;return t}class Bump{constructor(e,t){this._context=e;this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line}point(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;if(this._line)this._context.lineTo(e,t);else this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._x)this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t);else this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}this._x0=e,this._y0=t}}function vT(e){return new Bump(e,!0)}function kT(e){return new Bump(e,!1)}function ST(e){return e.source}function wT(e){return e.target}function CT(e){let t=ST,n=wT,a=pT,r=_T,i=null,o=null,s=eT(l);function l(){let l;const d=dT.call(arguments);const c=t.apply(this,d);const h=n.apply(this,d);i==null&&(o=e(l=s()));o.lineStart();d[0]=c,o.point(+a.apply(this,d),+r.apply(this,d));d[0]=h,o.point(+a.apply(this,d),+r.apply(this,d));o.lineEnd();if(l)return o=null,l+""||null}l.source=function(e){return arguments.length?(t=e,l):t};l.target=function(e){return arguments.length?(n=e,l):n};l.x=function(e){return arguments.length?(a=typeof e==="function"?e:HC(+e),l):a};l.y=function(e){return arguments.length?(r=typeof e==="function"?e:HC(+e),l):r};l.context=function(t){return arguments.length?(t==null?i=o=null:o=e(i=t),l):i};return l}function TT(){return CT(vT)}GC(3);GC(1/3);YC(XC/10),YC(7*XC/10);YC(QC/10);zC(QC/10);GC(3);GC(3);GC(3);GC(12);function ET(){}function AT(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function NT(e){this._context=e}NT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:AT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:AT(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};function PT(e){return new NT(e)}function LT(e){this._context=e}LT.prototype={areaStart:ET,areaEnd:ET,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x2=e,this._y2=t;break;case 1:this._point=2;this._x3=e,this._y3=t;break;case 2:this._point=3;this._x4=e,this._y4=t;this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:AT(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};function MT(e){return new LT(e)}function DT(e){this._context=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:AT(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};function IT(e){return new DT(e)}function BT(e,t){this._basis=new NT(e);this._beta=t}BT.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0){var a=e[0],r=t[0],i=e[n]-a,o=t[n]-r,s=-1,l;while(++s<=n){l=s/n;this._basis.point(this._beta*e[s]+(1-this._beta)*(a+l*i),this._beta*t[s]+(1-this._beta)*(r+l*o))}}this._x=this._y=null;this._basis.lineEnd()},point:function(e,t){this._x.push(+e);this._y.push(+t)}};var RT=function e(t){function n(e){return t===1?new NT(e):new BT(e,t)}n.beta=function(t){return e(+t)};return n}(.85);function OT(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function FT(e,t){this._context=e;this._k=(1-t)/6}FT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:OT(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;this._x1=e,this._y1=t;break;case 2:this._point=3;default:OT(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var jT=function e(t){function n(e){return new FT(e,t)}n.tension=function(t){return e(+t)};return n}(0);function HT(e,t){this._context=e;this._k=(1-t)/6}HT.prototype={areaStart:ET,areaEnd:ET,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:OT(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var $T=function e(t){function n(e){return new HT(e,t)}n.tension=function(t){return e(+t)};return n}(0);function WT(e,t){this._context=e;this._k=(1-t)/6}WT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:OT(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var zT=function e(t){function n(e){return new WT(e,t)}n.tension=function(t){return e(+t)};return n}(0);function qT(e,t,n){var a=e._x1,r=e._y1,i=e._x2,o=e._y2;if(e._l01_a>VC){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);a=(a*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l;r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>VC){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*d+e._x1*e._l23_2a-t*e._l12_2a)/c;o=(o*d+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(a,r,i,o,e._x2,e._y2)}function UT(e,t){this._context=e;this._alpha=t}UT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:qT(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var YT=function e(t){function n(e){return t?new UT(e,t):new FT(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function GT(e,t){this._context=e;this._alpha=t}GT.prototype={areaStart:ET,areaEnd:ET,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:qT(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var VT=function e(t){function n(e){return t?new GT(e,t):new HT(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function XT(e,t){this._context=e;this._alpha=t}XT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,a=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qT(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var KT=function e(t){function n(e){return t?new XT(e,t):new WT(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function QT(e){this._context=e}QT.prototype={areaStart:ET,areaEnd:ET,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t;if(this._point)this._context.lineTo(e,t);else this._point=1,this._context.moveTo(e,t)}};function ZT(e){return new QT(e)}function JT(e){return e<0?-1:1}function eE(e,t,n){var a=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(a||r<0&&-0),o=(n-e._y1)/(r||a<0&&-0),s=(i*r+o*a)/(a+r);return(JT(i)+JT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function tE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nE(e,t,n){var a=e._x0,r=e._y0,i=e._x1,o=e._y1,s=(i-a)/3;e._context.bezierCurveTo(a+s,r+s*t,i-s,o-s*n,i,o)}function aE(e){this._context=e}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nE(this,this._t0,tE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){var n=NaN;e=+e,t=+t;if(e===this._x1&&t===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;nE(this,tE(this,n=eE(this,e,t)),n);break;default:nE(this,this._t0,n=eE(this,e,t));break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t;this._t0=n}};function rE(e){this._context=new iE(e)}(rE.prototype=Object.create(aE.prototype)).point=function(e,t){aE.prototype.point.call(this,t,e)};function iE(e){this._context=e}iE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,r,i){this._context.bezierCurveTo(t,e,a,n,i,r)}};function oE(e){return new aE(e)}function sE(e){return new rE(e)}function lE(e){this._context=e}lE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n){this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]);if(n===2){this._context.lineTo(e[1],t[1])}else{var a=dE(e),r=dE(t);for(var i=0,o=1;o<n;++i,++o){this._context.bezierCurveTo(a[0][i],r[0][i],a[1][i],r[1][i],e[o],t[o])}}}(this._line||this._line!==0&&n===1)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(e,t){this._x.push(+e);this._y.push(+t)}};function dE(e){var t,n=e.length-1,a,r=new Array(n),i=new Array(n),o=new Array(n);r[0]=0,i[0]=2,o[0]=e[0]+2*e[1];for(t=1;t<n-1;++t)r[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];r[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n];for(t=1;t<n;++t)a=r[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];r[n-1]=o[n-1]/i[n-1];for(t=n-2;t>=0;--t)r[t]=(o[t]-r[t+1])/i[t];i[n-1]=(e[n]+r[n-1])/2;for(t=0;t<n-1;++t)i[t]=2*e[t+1]-r[t+1];return[r,i]}function cE(e){return new lE(e)}function hE(e,t){this._context=e;this._t=t}hE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y);(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0){this._context.lineTo(this._x,t);this._context.lineTo(e,t)}else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y);this._context.lineTo(n,t)}break}this._x=e,this._y=t}};function uE(e){return new hE(e,.5)}function pE(e){return new hE(e,0)}function _E(e){return new hE(e,1)}function fE(e,t,n){this.k=e;this.x=t;this.y=n}fE.prototype={constructor:fE,scale:function(e){return e===1?this:new fE(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fE(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gE=new fE(1,0,0);mE.prototype=fE.prototype;function mE(e){while(!e.__zoom)if(!(e=e.parentNode))return gE;return e.__zoom}var yE=Xi(e=>{var t,n;const{securityLevel:a}=Ol();let r=$h("body");if(a==="sandbox"){let a=$h(`#i${e}`),i=(n=(t=a.node())===null||t===void 0?void 0:t.contentDocument)!==null&&n!==void 0?n:document;r=$h(i.body)}const i=r.select(`#${e}`);return i},"selectSvgElement");function xE(e){return typeof e==="undefined"||e===null}Xi(xE,"isNothing");function bE(e){return typeof e==="object"&&e!==null}Xi(bE,"isObject");function vE(e){if(Array.isArray(e))return e;else if(xE(e))return[];return[e]}Xi(vE,"toArray");function kE(e,t){var n,a,r,i;if(t){i=Object.keys(t);for(n=0,a=i.length;n<a;n+=1){r=i[n];e[r]=t[r]}}return e}Xi(kE,"extend");function SE(e,t){var n="",a;for(a=0;a<t;a+=1){n+=e}return n}Xi(SE,"repeat");function wE(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Xi(wE,"isNegativeZero");var CE={isNothing:xE,isObject:bE,toArray:vE,repeat:SE,isNegativeZero:wE,extend:kE};function TE(e,t){var n="",a=e.reason||"(unknown reason)";if(!e.mark)return a;e.mark.name&&(n+='in "'+e.mark.name+'" ');n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")";!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet);return a+" "+n}Xi(TE,"formatError");function EE(e,t){Error.call(this);this.name="YAMLException";this.reason=e;this.mark=t;this.message=TE(this,!1);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}}Xi(EE,"YAMLException$1");EE.prototype=Object.create(Error.prototype);EE.prototype.constructor=EE;EE.prototype.toString=Xi(function e(t){return this.name+": "+TE(this,t)},"toString");function AE(e,t,n,a,r){var i="";var o="";var s=Math.floor(r/2)-1;if(a-t>s){i=" ... ";t=a-s+i.length}if(n-a>s){o=" ...";n=a+s-o.length}return{str:i+e.slice(t,n).replace(/\t/g,"")+o,pos:a-t+i.length}}Xi(AE,"getLine");function NE(e,t){return CE.repeat(" ",t-e.length)+e}Xi(NE,"padStart");function PE(e,t){t=Object.create(t||null);if(!e.buffer)return null;t.maxLength||(t.maxLength=79);typeof t.indent!=="number"&&(t.indent=1);typeof t.linesBefore!=="number"&&(t.linesBefore=3);typeof t.linesAfter!=="number"&&(t.linesAfter=2);var n=/\r?\n|\r|\0/g;var a=[0];var r=[];var i;var o=-1;while(i=n.exec(e.buffer)){r.push(i.index);a.push(i.index+i[0].length);e.position<=i.index&&o<0&&(o=a.length-2)}o<0&&(o=a.length-1);var s="",l,d;var c=Math.min(e.line+t.linesAfter,r.length).toString().length;var h=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore;l++){if(o-l<0)break;d=AE(e.buffer,a[o-l],r[o-l],e.position-(a[o]-a[o-l]),h);s=CE.repeat(" ",t.indent)+NE((e.line-l+1).toString(),c)+" | "+d.str+"\n"+s}d=AE(e.buffer,a[o],r[o],e.position,h);s+=CE.repeat(" ",t.indent)+NE((e.line+1).toString(),c)+" | "+d.str+"\n";s+=CE.repeat("-",t.indent+c+3+d.pos)+"^\n";for(l=1;l<=t.linesAfter;l++){if(o+l>=r.length)break;d=AE(e.buffer,a[o+l],r[o+l],e.position-(a[o]-a[o+l]),h);s+=CE.repeat(" ",t.indent)+NE((e.line+l+1).toString(),c)+" | "+d.str+"\n"}return s.replace(/\n$/,"")}Xi(PE,"makeSnippet");var LE=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"];var ME=["scalar","sequence","mapping"];function DE(e){var t={};e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})});return t}Xi(DE,"compileStyleAliases");function IE(e,t){t=t||{};Object.keys(t).forEach(function(t){if(LE.indexOf(t)===-1){throw new EE('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}});this.options=t;this.tag=e;this.kind=t["kind"]||null;this.resolve=t["resolve"]||function(){return!0};this.construct=t["construct"]||function(e){return e};this.instanceOf=t["instanceOf"]||null;this.predicate=t["predicate"]||null;this.represent=t["represent"]||null;this.representName=t["representName"]||null;this.defaultStyle=t["defaultStyle"]||null;this.multi=t["multi"]||!1;this.styleAliases=DE(t["styleAliases"]||null);if(ME.indexOf(this.kind)===-1){throw new EE('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}}Xi(IE,"Type$1");function BE(e,t){var n=[];e[t].forEach(function(e){var t=n.length;n.forEach(function(n,a){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=a)});n[t]=e});return n}Xi(BE,"compileList");function RE(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function a(t){if(t.multi){e.multi[t.kind].push(t);e.multi["fallback"].push(t)}else{e[t.kind][t.tag]=e["fallback"][t.tag]=t}}Xi(a,"collectType");for(t=0,n=arguments.length;t<n;t+=1){arguments[t].forEach(a)}return e}Xi(RE,"compileMap");function OE(e){return this.extend(e)}Xi(OE,"Schema$1");OE.prototype.extend=Xi(function e(t){var n=[];var a=[];if(t instanceof IE){a.push(t)}else if(Array.isArray(t)){a=a.concat(t)}else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit))){t.implicit&&(n=n.concat(t.implicit));t.explicit&&(a=a.concat(t.explicit))}else{throw new EE("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })")}n.forEach(function(e){if(!(e instanceof IE)){throw new EE("Specified list of YAML types (or a single Type object) contains a non-Type object.")}if(e.loadKind&&e.loadKind!=="scalar"){throw new EE("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}if(e.multi){throw new EE("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}});a.forEach(function(e){if(!(e instanceof IE)){throw new EE("Specified list of YAML types (or a single Type object) contains a non-Type object.")}});var r=Object.create(OE.prototype);r.implicit=(this.implicit||[]).concat(n);r.explicit=(this.explicit||[]).concat(a);r.compiledImplicit=BE(r,"implicit");r.compiledExplicit=BE(r,"explicit");r.compiledTypeMap=RE(r.compiledImplicit,r.compiledExplicit);return r},"extend");var FE=new IE("tag:yaml.org,2002:str",{kind:"scalar",construct:Xi(function(e){return e!==null?e:""},"construct")});var jE=new IE("tag:yaml.org,2002:seq",{kind:"sequence",construct:Xi(function(e){return e!==null?e:[]},"construct")});var HE=new IE("tag:yaml.org,2002:map",{kind:"mapping",construct:Xi(function(e){return e!==null?e:{}},"construct")});var $E=new OE({explicit:[FE,jE,HE]});function WE(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}Xi(WE,"resolveYamlNull");function zE(){return null}Xi(zE,"constructYamlNull");function qE(e){return e===null}Xi(qE,"isNull");var UE=new IE("tag:yaml.org,2002:null",{kind:"scalar",resolve:WE,construct:zE,predicate:qE,represent:{canonical:Xi(function(){return"~"},"canonical"),lowercase:Xi(function(){return"null"},"lowercase"),uppercase:Xi(function(){return"NULL"},"uppercase"),camelcase:Xi(function(){return"Null"},"camelcase"),empty:Xi(function(){return""},"empty")},defaultStyle:"lowercase"});function YE(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}Xi(YE,"resolveYamlBoolean");function GE(e){return e==="true"||e==="True"||e==="TRUE"}Xi(GE,"constructYamlBoolean");function VE(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Xi(VE,"isBoolean");var XE=new IE("tag:yaml.org,2002:bool",{kind:"scalar",resolve:YE,construct:GE,predicate:VE,represent:{lowercase:Xi(function(e){return e?"true":"false"},"lowercase"),uppercase:Xi(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:Xi(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function KE(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}Xi(KE,"isHexCode");function QE(e){return 48<=e&&e<=55}Xi(QE,"isOctCode");function ZE(e){return 48<=e&&e<=57}Xi(ZE,"isDecCode");function JE(e){if(e===null)return!1;var t=e.length,n=0,a=!1,r;if(!t)return!1;r=e[n];(r==="-"||r==="+")&&(r=e[++n]);if(r==="0"){if(n+1===t)return!0;r=e[++n];if(r==="b"){n++;for(;n<t;n++){r=e[n];if(r==="_")continue;if(r!=="0"&&r!=="1")return!1;a=!0}return a&&r!=="_"}if(r==="x"){n++;for(;n<t;n++){r=e[n];if(r==="_")continue;if(!KE(e.charCodeAt(n)))return!1;a=!0}return a&&r!=="_"}if(r==="o"){n++;for(;n<t;n++){r=e[n];if(r==="_")continue;if(!QE(e.charCodeAt(n)))return!1;a=!0}return a&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++){r=e[n];if(r==="_")continue;if(!ZE(e.charCodeAt(n))){return!1}a=!0}if(!a||r==="_")return!1;return!0}Xi(JE,"resolveYamlInteger");function eA(e){var t=e,n=1,a;t.indexOf("_")!==-1&&(t=t.replace(/_/g,""));a=t[0];if(a==="-"||a==="+"){a==="-"&&(n=-1);t=t.slice(1);a=t[0]}if(t==="0")return 0;if(a==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}Xi(eA,"constructYamlInteger");function tA(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1===0&&!CE.isNegativeZero(e))}Xi(tA,"isInteger");var nA=new IE("tag:yaml.org,2002:int",{kind:"scalar",resolve:JE,construct:eA,predicate:tA,represent:{binary:Xi(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:Xi(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:Xi(function(e){return e.toString(10)},"decimal"),hexadecimal:Xi(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}});var aA=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rA(e){if(e===null)return!1;if(!aA.test(e)||e[e.length-1]==="_"){return!1}return!0}Xi(rA,"resolveYamlFloat");function iA(e){var t,n;t=e.replace(/_/g,"").toLowerCase();n=t[0]==="-"?-1:1;"+-".indexOf(t[0])>=0&&(t=t.slice(1));if(t===".inf"){return n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(t===".nan"){return NaN}return n*parseFloat(t,10)}Xi(iA,"constructYamlFloat");var oA=/^[-+]?[0-9]+e/;function sA(e,t){var n;if(isNaN(e)){switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===e){switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===e){switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(CE.isNegativeZero(e)){return"-0.0"}n=e.toString(10);return oA.test(n)?n.replace("e",".e"):n}Xi(sA,"representYamlFloat");function lA(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||CE.isNegativeZero(e))}Xi(lA,"isFloat");var dA=new IE("tag:yaml.org,2002:float",{kind:"scalar",resolve:rA,construct:iA,predicate:lA,represent:sA,defaultStyle:"lowercase"});var cA=$E.extend({implicit:[UE,XE,nA,dA]});var hA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$");var uA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function pA(e){if(e===null)return!1;if(hA.exec(e)!==null)return!0;if(uA.exec(e)!==null)return!0;return!1}Xi(pA,"resolveYamlTimestamp");function _A(e){var t,n,a,r,i,o,s,l=0,d=null,c,h,u;t=hA.exec(e);t===null&&(t=uA.exec(e));if(t===null)throw new Error("Date resolve error");n=+t[1];a=+t[2]-1;r=+t[3];if(!t[4]){return new Date(Date.UTC(n,a,r))}i=+t[4];o=+t[5];s=+t[6];if(t[7]){l=t[7].slice(0,3);while(l.length<3){l+="0"}l=+l}if(t[9]){c=+t[10];h=+(t[11]||0);d=(c*60+h)*6e4;t[9]==="-"&&(d=-d)}u=new Date(Date.UTC(n,a,r,i,o,s,l));d&&u.setTime(u.getTime()-d);return u}Xi(_A,"constructYamlTimestamp");function fA(e){return e.toISOString()}Xi(fA,"representYamlTimestamp");var gA=new IE("tag:yaml.org,2002:timestamp",{
kind:"scalar",resolve:pA,construct:_A,instanceOf:Date,represent:fA});function mA(e){return e==="<<"||e===null}Xi(mA,"resolveYamlMerge");var yA=new IE("tag:yaml.org,2002:merge",{kind:"scalar",resolve:mA});var xA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function bA(e){if(e===null)return!1;var t,n,a=0,r=e.length;for(n=0;n<r;n++){t=xA.indexOf(e.charAt(n));if(t>64)continue;if(t<0)return!1;a+=6}return a%8===0}Xi(bA,"resolveYamlBinary");function vA(e){var t,n,a=e.replace(/[\r\n=]/g,""),r=a.length,i=0,o=[];for(t=0;t<r;t++){if(t%4===0&&t){o.push(i>>16&255);o.push(i>>8&255);o.push(i&255)}i=i<<6|xA.indexOf(a.charAt(t))}n=r%4*6;if(n===0){o.push(i>>16&255);o.push(i>>8&255);o.push(i&255)}else if(n===18){o.push(i>>10&255);o.push(i>>2&255)}else n===12&&o.push(i>>4&255);return new Uint8Array(o)}Xi(vA,"constructYamlBinary");function kA(e){var t="",n=0,a,r,i=e.length;for(a=0;a<i;a++){if(a%3===0&&a){t+=xA[n>>18&63];t+=xA[n>>12&63];t+=xA[n>>6&63];t+=xA[n&63]}n=(n<<8)+e[a]}r=i%3;if(r===0){t+=xA[n>>18&63];t+=xA[n>>12&63];t+=xA[n>>6&63];t+=xA[n&63]}else if(r===2){t+=xA[n>>10&63];t+=xA[n>>4&63];t+=xA[n<<2&63];t+=xA[64]}else if(r===1){t+=xA[n>>2&63];t+=xA[n<<4&63];t+=xA[64];t+=xA[64]}return t}Xi(kA,"representYamlBinary");function SA(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Xi(SA,"isBinary");var wA=new IE("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bA,construct:vA,predicate:SA,represent:kA});var CA=Object.prototype.hasOwnProperty;var TA=Object.prototype.toString;function EA(e){if(e===null)return!0;var t=[],n,a,r,i,o;for(n=0,a=e.length;n<a;n+=1){r=e[n];o=!1;if(TA.call(r)!=="[object Object]")return!1;for(i in r){if(CA.call(r,i)){if(!o)o=!0;else return!1}}if(!o)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}Xi(EA,"resolveYamlOmap");function AA(e){return e!==null?e:[]}Xi(AA,"constructYamlOmap");var NA=new IE("tag:yaml.org,2002:omap",{kind:"sequence",resolve:EA,construct:AA});var PA=Object.prototype.toString;function LA(e){if(e===null)return!0;var t,n,a,r,i;i=new Array(e.length);for(t=0,n=e.length;t<n;t+=1){a=e[t];if(PA.call(a)!=="[object Object]")return!1;r=Object.keys(a);if(r.length!==1)return!1;i[t]=[r[0],a[r[0]]]}return!0}Xi(LA,"resolveYamlPairs");function MA(e){if(e===null)return[];var t,n,a,r,i;i=new Array(e.length);for(t=0,n=e.length;t<n;t+=1){a=e[t];r=Object.keys(a);i[t]=[r[0],a[r[0]]]}return i}Xi(MA,"constructYamlPairs");var DA=new IE("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:LA,construct:MA});var IA=Object.prototype.hasOwnProperty;function BA(e){if(e===null)return!0;var t;for(t in e){if(IA.call(e,t)){if(e[t]!==null)return!1}}return!0}Xi(BA,"resolveYamlSet");function RA(e){return e!==null?e:{}}Xi(RA,"constructYamlSet");var OA=new IE("tag:yaml.org,2002:set",{kind:"mapping",resolve:BA,construct:RA});var FA=cA.extend({implicit:[gA,yA],explicit:[wA,NA,DA,OA]});var jA=Object.prototype.hasOwnProperty;var HA=1;var $A=2;var WA=3;var zA=4;var qA=1;var UA=2;var YA=3;var GA=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var VA=/[\x85\u2028\u2029]/;var XA=/[,\[\]\{\}]/;var KA=/^(?:!|!!|![a-z\-]+!)$/i;var QA=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ZA(e){return Object.prototype.toString.call(e)}Xi(ZA,"_class");function JA(e){return e===10||e===13}Xi(JA,"is_EOL");function eN(e){return e===9||e===32}Xi(eN,"is_WHITE_SPACE");function tN(e){return e===9||e===32||e===10||e===13}Xi(tN,"is_WS_OR_EOL");function nN(e){return e===44||e===91||e===93||e===123||e===125}Xi(nN,"is_FLOW_INDICATOR");function aN(e){var t;if(48<=e&&e<=57){return e-48}t=e|32;if(97<=t&&t<=102){return t-97+10}return-1}Xi(aN,"fromHexCode");function rN(e){if(e===120){return 2}if(e===117){return 4}if(e===85){return 8}return 0}Xi(rN,"escapedHexLen");function iN(e){if(48<=e&&e<=57){return e-48}return-1}Xi(iN,"fromDecimalCode");function oN(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116?"\t":e===9?"\t":e===110?"\n":e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1b":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}Xi(oN,"simpleEscapeSequence");function sN(e){if(e<=65535){return String.fromCharCode(e)}return String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}Xi(sN,"charFromCodepoint");var lN=new Array(256);var dN=new Array(256);for(cN=0;cN<256;cN++){lN[cN]=oN(cN)?1:0;dN[cN]=oN(cN)}var cN;function hN(e,t){this.input=e;this.filename=t["filename"]||null;this.schema=t["schema"]||FA;this.onWarning=t["onWarning"]||null;this.legacy=t["legacy"]||!1;this.json=t["json"]||!1;this.listener=t["listener"]||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=e.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.firstTabInLine=-1;this.documents=[]}Xi(hN,"State$1");function uN(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};n.snippet=PE(n);return new EE(t,n)}Xi(uN,"generateError");function pN(e,t){throw uN(e,t)}Xi(pN,"throwError");function _N(e,t){e.onWarning&&e.onWarning.call(null,uN(e,t))}Xi(_N,"throwWarning");var fN={YAML:Xi(function e(t,n,a){var r,i,o;t.version!==null&&pN(t,"duplication of %YAML directive");a.length!==1&&pN(t,"YAML directive accepts exactly one argument");r=/^([0-9]+)\.([0-9]+)$/.exec(a[0]);r===null&&pN(t,"ill-formed argument of the YAML directive");i=parseInt(r[1],10);o=parseInt(r[2],10);i!==1&&pN(t,"unacceptable YAML version of the document");t.version=a[0];t.checkLineBreaks=o<2;o!==1&&o!==2&&_N(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:Xi(function e(t,n,a){var r,i;a.length!==2&&pN(t,"TAG directive accepts exactly two arguments");r=a[0];i=a[1];KA.test(r)||pN(t,"ill-formed tag handle (first argument) of the TAG directive");jA.call(t.tagMap,r)&&pN(t,'there is a previously declared suffix for "'+r+'" tag handle');QA.test(i)||pN(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(e){pN(t,"tag prefix is malformed: "+i)}t.tagMap[r]=i},"handleTagDirective")};function gN(e,t,n,a){var r,i,o,s;if(t<n){s=e.input.slice(t,n);if(a){for(r=0,i=s.length;r<i;r+=1){o=s.charCodeAt(r);o===9||32<=o&&o<=1114111||pN(e,"expected valid JSON character")}}else GA.test(s)&&pN(e,"the stream contains non-printable characters");e.result+=s}}Xi(gN,"captureSegment");function mN(e,t,n,a){var r,i,o,s;CE.isObject(n)||pN(e,"cannot merge mappings; the provided source object is unacceptable");r=Object.keys(n);for(o=0,s=r.length;o<s;o+=1){i=r[o];if(!jA.call(t,i)){t[i]=n[i];a[i]=!0}}}Xi(mN,"mergeMappings");function yN(e,t,n,a,r,i,o,s,l){var d,c;if(Array.isArray(r)){r=Array.prototype.slice.call(r);for(d=0,c=r.length;d<c;d+=1){Array.isArray(r[d])&&pN(e,"nested arrays are not supported inside keys");typeof r==="object"&&ZA(r[d])==="[object Object]"&&(r[d]="[object Object]")}}typeof r==="object"&&ZA(r)==="[object Object]"&&(r="[object Object]");r=String(r);t===null&&(t={});if(a==="tag:yaml.org,2002:merge"){if(Array.isArray(i)){for(d=0,c=i.length;d<c;d+=1){mN(e,t,i[d],n)}}else{mN(e,t,i,n)}}else{if(!e.json&&!jA.call(n,r)&&jA.call(t,r)){e.line=o||e.line;e.lineStart=s||e.lineStart;e.position=l||e.position;pN(e,"duplicated mapping key")}if(r==="__proto__"){Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:i})}else{t[r]=i}delete n[r]}return t}Xi(yN,"storeMappingPair");function xN(e){var t;t=e.input.charCodeAt(e.position);if(t===10){e.position++}else if(t===13){e.position++;e.input.charCodeAt(e.position)===10&&e.position++}else{pN(e,"a line break is expected")}e.line+=1;e.lineStart=e.position;e.firstTabInLine=-1}Xi(xN,"readLineBreak");function bN(e,t,n){var a=0,r=e.input.charCodeAt(e.position);while(r!==0){while(eN(r)){r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position);r=e.input.charCodeAt(++e.position)}if(t&&r===35){do{r=e.input.charCodeAt(++e.position)}while(r!==10&&r!==13&&r!==0)}if(JA(r)){xN(e);r=e.input.charCodeAt(e.position);a++;e.lineIndent=0;while(r===32){e.lineIndent++;r=e.input.charCodeAt(++e.position)}}else{break}}n!==-1&&a!==0&&e.lineIndent<n&&_N(e,"deficient indentation");return a}Xi(bN,"skipSeparationSpace");function vN(e){var t=e.position,n;n=e.input.charCodeAt(t);if((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)){t+=3;n=e.input.charCodeAt(t);if(n===0||tN(n)){return!0}}return!1}Xi(vN,"testDocumentSeparator");function kN(e,t){if(t===1){e.result+=" "}else t>1&&(e.result+=CE.repeat("\n",t-1))}Xi(kN,"writeFoldedLines");function SN(e,t,n){var a,r,i,o,s,l,d,c,h=e.kind,u=e.result,p;p=e.input.charCodeAt(e.position);if(tN(p)||nN(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96){return!1}if(p===63||p===45){r=e.input.charCodeAt(e.position+1);if(tN(r)||n&&nN(r)){return!1}}e.kind="scalar";e.result="";i=o=e.position;s=!1;while(p!==0){if(p===58){r=e.input.charCodeAt(e.position+1);if(tN(r)||n&&nN(r)){break}}else if(p===35){a=e.input.charCodeAt(e.position-1);if(tN(a)){break}}else if(e.position===e.lineStart&&vN(e)||n&&nN(p)){break}else if(JA(p)){l=e.line;d=e.lineStart;c=e.lineIndent;bN(e,!1,-1);if(e.lineIndent>=t){s=!0;p=e.input.charCodeAt(e.position);continue}else{e.position=o;e.line=l;e.lineStart=d;e.lineIndent=c;break}}if(s){gN(e,i,o,!1);kN(e,e.line-l);i=o=e.position;s=!1}eN(p)||(o=e.position+1);p=e.input.charCodeAt(++e.position)}gN(e,i,o,!1);if(e.result){return!0}e.kind=h;e.result=u;return!1}Xi(SN,"readPlainScalar");function wN(e,t){var n,a,r;n=e.input.charCodeAt(e.position);if(n!==39){return!1}e.kind="scalar";e.result="";e.position++;a=r=e.position;while((n=e.input.charCodeAt(e.position))!==0){if(n===39){gN(e,a,e.position,!0);n=e.input.charCodeAt(++e.position);if(n===39){a=e.position;e.position++;r=e.position}else{return!0}}else if(JA(n)){gN(e,a,r,!0);kN(e,bN(e,!1,t));a=r=e.position}else if(e.position===e.lineStart&&vN(e)){pN(e,"unexpected end of the document within a single quoted scalar")}else{e.position++;r=e.position}}pN(e,"unexpected end of the stream within a single quoted scalar")}Xi(wN,"readSingleQuotedScalar");function CN(e,t){var n,a,r,i,o,s;s=e.input.charCodeAt(e.position);if(s!==34){return!1}e.kind="scalar";e.result="";e.position++;n=a=e.position;while((s=e.input.charCodeAt(e.position))!==0){if(s===34){gN(e,n,e.position,!0);e.position++;return!0}else if(s===92){gN(e,n,e.position,!0);s=e.input.charCodeAt(++e.position);if(JA(s)){bN(e,!1,t)}else if(s<256&&lN[s]){e.result+=dN[s];e.position++}else if((o=rN(s))>0){r=o;i=0;for(;r>0;r--){s=e.input.charCodeAt(++e.position);if((o=aN(s))>=0){i=(i<<4)+o}else{pN(e,"expected hexadecimal character")}}e.result+=sN(i);e.position++}else{pN(e,"unknown escape sequence")}n=a=e.position}else if(JA(s)){gN(e,n,a,!0);kN(e,bN(e,!1,t));n=a=e.position}else if(e.position===e.lineStart&&vN(e)){pN(e,"unexpected end of the document within a double quoted scalar")}else{e.position++;a=e.position}}pN(e,"unexpected end of the stream within a double quoted scalar")}Xi(CN,"readDoubleQuotedScalar");function TN(e,t){var n=!0,a,r,i,o=e.tag,s,l=e.anchor,d,c,h,u,p,_=Object.create(null),f,g,m,y;y=e.input.charCodeAt(e.position);if(y===91){c=93;p=!1;s=[]}else if(y===123){c=125;p=!0;s={}}else{return!1}e.anchor!==null&&(e.anchorMap[e.anchor]=s);y=e.input.charCodeAt(++e.position);while(y!==0){bN(e,!0,t);y=e.input.charCodeAt(e.position);if(y===c){e.position++;e.tag=o;e.anchor=l;e.kind=p?"mapping":"sequence";e.result=s;return!0}else if(!n){pN(e,"missed comma between flow collection entries")}else y===44&&pN(e,"expected the node content, but found ','");g=f=m=null;h=u=!1;if(y===63){d=e.input.charCodeAt(e.position+1);if(tN(d)){h=u=!0;e.position++;bN(e,!0,t)}}a=e.line;r=e.lineStart;i=e.position;DN(e,t,HA,!1,!0);g=e.tag;f=e.result;bN(e,!0,t);y=e.input.charCodeAt(e.position);if((u||e.line===a)&&y===58){h=!0;y=e.input.charCodeAt(++e.position);bN(e,!0,t);DN(e,t,HA,!1,!0);m=e.result}if(p){yN(e,s,_,g,f,m,a,r,i)}else if(h){s.push(yN(e,null,_,g,f,m,a,r,i))}else{s.push(f)}bN(e,!0,t);y=e.input.charCodeAt(e.position);if(y===44){n=!0;y=e.input.charCodeAt(++e.position)}else{n=!1}}pN(e,"unexpected end of the stream within a flow collection")}Xi(TN,"readFlowCollection");function EN(e,t){var n,a,r=qA,i=!1,o=!1,s=t,l=0,d=!1,c,h;h=e.input.charCodeAt(e.position);if(h===124){a=!1}else if(h===62){a=!0}else{return!1}e.kind="scalar";e.result="";while(h!==0){h=e.input.charCodeAt(++e.position);if(h===43||h===45){if(qA===r){r=h===43?YA:UA}else{pN(e,"repeat of a chomping mode identifier")}}else if((c=iN(h))>=0){if(c===0){pN(e,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!o){s=t+c-1;o=!0}else{pN(e,"repeat of an indentation width identifier")}}else{break}}if(eN(h)){do{h=e.input.charCodeAt(++e.position)}while(eN(h));if(h===35){do{h=e.input.charCodeAt(++e.position)}while(!JA(h)&&h!==0)}}while(h!==0){xN(e);e.lineIndent=0;h=e.input.charCodeAt(e.position);while((!o||e.lineIndent<s)&&h===32){e.lineIndent++;h=e.input.charCodeAt(++e.position)}!o&&e.lineIndent>s&&(s=e.lineIndent);if(JA(h)){l++;continue}if(e.lineIndent<s){if(r===YA){e.result+=CE.repeat("\n",i?1+l:l)}else r===qA&&(i&&(e.result+="\n"));break}if(a){if(eN(h)){d=!0;e.result+=CE.repeat("\n",i?1+l:l)}else if(d){d=!1;e.result+=CE.repeat("\n",l+1)}else if(l===0){i&&(e.result+=" ")}else{e.result+=CE.repeat("\n",l)}}else{e.result+=CE.repeat("\n",i?1+l:l)}i=!0;o=!0;l=0;n=e.position;while(!JA(h)&&h!==0){h=e.input.charCodeAt(++e.position)}gN(e,n,e.position,!1)}return!0}Xi(EN,"readBlockScalar");function AN(e,t){var n,a=e.tag,r=e.anchor,i=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;e.anchor!==null&&(e.anchorMap[e.anchor]=i);l=e.input.charCodeAt(e.position);while(l!==0){if(e.firstTabInLine!==-1){e.position=e.firstTabInLine;pN(e,"tab characters must not be used in indentation")}if(l!==45){break}o=e.input.charCodeAt(e.position+1);if(!tN(o)){break}s=!0;e.position++;if(bN(e,!0,-1)){if(e.lineIndent<=t){i.push(null);l=e.input.charCodeAt(e.position);continue}}n=e.line;DN(e,t,WA,!1,!0);i.push(e.result);bN(e,!0,-1);l=e.input.charCodeAt(e.position);if((e.line===n||e.lineIndent>t)&&l!==0){pN(e,"bad indentation of a sequence entry")}else if(e.lineIndent<t){break}}if(s){e.tag=a;e.anchor=r;e.kind="sequence";e.result=i;return!0}return!1}Xi(AN,"readBlockSequence");function NN(e,t,n){var a,r,i,o,s,l,d=e.tag,c=e.anchor,h={},u=Object.create(null),p=null,_=null,f=null,g=!1,m=!1,y;if(e.firstTabInLine!==-1)return!1;e.anchor!==null&&(e.anchorMap[e.anchor]=h);y=e.input.charCodeAt(e.position);while(y!==0){if(!g&&e.firstTabInLine!==-1){e.position=e.firstTabInLine;pN(e,"tab characters must not be used in indentation")}a=e.input.charCodeAt(e.position+1);i=e.line;if((y===63||y===58)&&tN(a)){if(y===63){if(g){yN(e,h,u,p,_,null,o,s,l);p=_=f=null}m=!0;g=!0;r=!0}else if(g){g=!1;r=!0}else{pN(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}e.position+=1;y=a}else{o=e.line;s=e.lineStart;l=e.position;if(!DN(e,n,$A,!1,!0)){break}if(e.line===i){y=e.input.charCodeAt(e.position);while(eN(y)){y=e.input.charCodeAt(++e.position)}if(y===58){y=e.input.charCodeAt(++e.position);tN(y)||pN(e,"a whitespace character is expected after the key-value separator within a block mapping");if(g){yN(e,h,u,p,_,null,o,s,l);p=_=f=null}m=!0;g=!1;r=!1;p=e.tag;_=e.result}else if(m){pN(e,"can not read an implicit mapping pair; a colon is missed")}else{e.tag=d;e.anchor=c;return!0}}else if(m){pN(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{e.tag=d;e.anchor=c;return!0}}if(e.line===i||e.lineIndent>t){if(g){o=e.line;s=e.lineStart;l=e.position}if(DN(e,t,zA,!0,r)){if(g){_=e.result}else{f=e.result}}if(!g){yN(e,h,u,p,_,f,o,s,l);p=_=f=null}bN(e,!0,-1);y=e.input.charCodeAt(e.position)}if((e.line===i||e.lineIndent>t)&&y!==0){pN(e,"bad indentation of a mapping entry")}else if(e.lineIndent<t){break}}g&&yN(e,h,u,p,_,null,o,s,l);if(m){e.tag=d;e.anchor=c;e.kind="mapping";e.result=h}return m}Xi(NN,"readBlockMapping");function PN(e){var t,n=!1,a=!1,r,i,o;o=e.input.charCodeAt(e.position);if(o!==33)return!1;e.tag!==null&&pN(e,"duplication of a tag property");o=e.input.charCodeAt(++e.position);if(o===60){n=!0;o=e.input.charCodeAt(++e.position)}else if(o===33){a=!0;r="!!";o=e.input.charCodeAt(++e.position)}else{r="!"}t=e.position;if(n){do{o=e.input.charCodeAt(++e.position)}while(o!==0&&o!==62);if(e.position<e.length){i=e.input.slice(t,e.position);o=e.input.charCodeAt(++e.position)}else{pN(e,"unexpected end of the stream within a verbatim tag")}}else{while(o!==0&&!tN(o)){if(o===33){if(!a){r=e.input.slice(t-1,e.position+1);KA.test(r)||pN(e,"named tag handle cannot contain such characters");a=!0;t=e.position+1}else{pN(e,"tag suffix cannot contain exclamation marks")}}o=e.input.charCodeAt(++e.position)}i=e.input.slice(t,e.position);XA.test(i)&&pN(e,"tag suffix cannot contain flow indicator characters")}i&&!QA.test(i)&&pN(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch(t){pN(e,"tag name is malformed: "+i)}if(n){e.tag=i}else if(jA.call(e.tagMap,r)){e.tag=e.tagMap[r]+i}else if(r==="!"){e.tag="!"+i}else if(r==="!!"){e.tag="tag:yaml.org,2002:"+i}else{pN(e,'undeclared tag handle "'+r+'"')}return!0}Xi(PN,"readTagProperty");function LN(e){var t,n;n=e.input.charCodeAt(e.position);if(n!==38)return!1;e.anchor!==null&&pN(e,"duplication of an anchor property");n=e.input.charCodeAt(++e.position);t=e.position;while(n!==0&&!tN(n)&&!nN(n)){n=e.input.charCodeAt(++e.position)}e.position===t&&pN(e,"name of an anchor node must contain at least one character");e.anchor=e.input.slice(t,e.position);return!0}Xi(LN,"readAnchorProperty");function MN(e){var t,n,a;a=e.input.charCodeAt(e.position);if(a!==42)return!1;a=e.input.charCodeAt(++e.position);t=e.position;while(a!==0&&!tN(a)&&!nN(a)){a=e.input.charCodeAt(++e.position)}e.position===t&&pN(e,"name of an alias node must contain at least one character");n=e.input.slice(t,e.position);jA.call(e.anchorMap,n)||pN(e,'unidentified alias "'+n+'"');e.result=e.anchorMap[n];bN(e,!0,-1);return!0}Xi(MN,"readAlias");function DN(e,t,n,a,r){var i,o,s,l=1,d=!1,c=!1,h,u,p,_,f,g;e.listener!==null&&e.listener("open",e);e.tag=null;e.anchor=null;e.kind=null;e.result=null;i=o=s=zA===n||WA===n;if(a){if(bN(e,!0,-1)){d=!0;if(e.lineIndent>t){l=1}else if(e.lineIndent===t){l=0}else e.lineIndent<t&&(l=-1)}}if(l===1){while(PN(e)||LN(e)){if(bN(e,!0,-1)){d=!0;s=i;if(e.lineIndent>t){l=1}else if(e.lineIndent===t){l=0}else e.lineIndent<t&&(l=-1)}else{s=!1}}}s&&(s=d||r);if(l===1||zA===n){if(HA===n||$A===n){f=t}else{f=t+1}g=e.position-e.lineStart;if(l===1){if(s&&(AN(e,g)||NN(e,g,f))||TN(e,f)){c=!0}else{if(o&&EN(e,f)||wN(e,f)||CN(e,f)){c=!0}else if(MN(e)){c=!0;(e.tag!==null||e.anchor!==null)&&pN(e,"alias node should not have any properties")}else if(SN(e,f,HA===n)){c=!0;e.tag===null&&(e.tag="?")}e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)}}else l===0&&(c=s&&AN(e,g))}if(e.tag===null){e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)}else if(e.tag==="?"){e.result!==null&&e.kind!=="scalar"&&pN(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"');for(h=0,u=e.implicitTypes.length;h<u;h+=1){_=e.implicitTypes[h];if(_.resolve(e.result)){e.result=_.construct(e.result);e.tag=_.tag;e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}}else if(e.tag!=="!"){if(jA.call(e.typeMap[e.kind||"fallback"],e.tag)){_=e.typeMap[e.kind||"fallback"][e.tag]}else{_=null;p=e.typeMap.multi[e.kind||"fallback"];for(h=0,u=p.length;h<u;h+=1){if(e.tag.slice(0,p[h].tag.length)===p[h].tag){_=p[h];break}}}_||pN(e,"unknown tag !<"+e.tag+">");e.result!==null&&_.kind!==e.kind&&pN(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"');if(!_.resolve(e.result,e.tag)){pN(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}else{e.result=_.construct(e.result,e.tag);e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)}}e.listener!==null&&e.listener("close",e);return e.tag!==null||e.anchor!==null||c}Xi(DN,"composeNode");function IN(e){var t=e.position,n,a,r,i=!1,o;e.version=null;e.checkLineBreaks=e.legacy;e.tagMap=Object.create(null);e.anchorMap=Object.create(null);while((o=e.input.charCodeAt(e.position))!==0){bN(e,!0,-1);o=e.input.charCodeAt(e.position);if(e.lineIndent>0||o!==37){break}i=!0;o=e.input.charCodeAt(++e.position);n=e.position;while(o!==0&&!tN(o)){o=e.input.charCodeAt(++e.position)}a=e.input.slice(n,e.position);r=[];a.length<1&&pN(e,"directive name must not be less than one character in length");while(o!==0){while(eN(o)){o=e.input.charCodeAt(++e.position)}if(o===35){do{o=e.input.charCodeAt(++e.position)}while(o!==0&&!JA(o));break}if(JA(o))break;n=e.position;while(o!==0&&!tN(o)){o=e.input.charCodeAt(++e.position)}r.push(e.input.slice(n,e.position))}o!==0&&xN(e);if(jA.call(fN,a)){fN[a](e,a,r)}else{_N(e,'unknown document directive "'+a+'"')}}bN(e,!0,-1);if(e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45){e.position+=3;bN(e,!0,-1)}else i&&pN(e,"directives end mark is expected");DN(e,e.lineIndent-1,zA,!1,!0);bN(e,!0,-1);e.checkLineBreaks&&VA.test(e.input.slice(t,e.position))&&_N(e,"non-ASCII line breaks are interpreted as content");e.documents.push(e.result);if(e.position===e.lineStart&&vN(e)){if(e.input.charCodeAt(e.position)===46){e.position+=3;bN(e,!0,-1)}return}if(e.position<e.length-1){pN(e,"end of the stream or a document separator is expected")}else{return}}Xi(IN,"readDocument");function BN(e,t){e=String(e);t=t||{};if(e.length!==0){e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+="\n");e.charCodeAt(0)===65279&&(e=e.slice(1))}var n=new hN(e,t);var a=e.indexOf("\0");if(a!==-1){n.position=a;pN(n,"null byte is not allowed in input")}n.input+="\0";while(n.input.charCodeAt(n.position)===32){n.lineIndent+=1;n.position+=1}while(n.position<n.length-1){IN(n)}return n.documents}Xi(BN,"loadDocuments");function RN(e,t,n){if(t!==null&&typeof t==="object"&&typeof n==="undefined"){n=t;t=null}var a=BN(e,n);if(typeof t!=="function"){return a}for(var r=0,i=a.length;r<i;r+=1){t(a[r])}}Xi(RN,"loadAll$1");function ON(e,t){var n=BN(e,t);if(n.length===0){return void 0}else if(n.length===1){return n[0]}throw new EE("expected a single document in the stream, but found more")}Xi(ON,"load$1");var FN={loadAll:RN,load:ON};var jN=Object.prototype.toString;var HN=Object.prototype.hasOwnProperty;var $N=65279;var WN=9;var zN=10;var qN=13;var UN=32;var YN=33;var GN=34;var VN=35;var XN=37;var KN=38;var QN=39;var ZN=42;var JN=44;var eP=45;var tP=58;var nP=61;var aP=62;var rP=63;var iP=64;var oP=91;var sP=93;var lP=96;var dP=123;var cP=124;var hP=125;var uP={};uP[0]="\\0";uP[7]="\\a";uP[8]="\\b";uP[9]="\\t";uP[10]="\\n";uP[11]="\\v";uP[12]="\\f";uP[13]="\\r";uP[27]="\\e";uP[34]='\\"';uP[92]="\\\\";uP[133]="\\N";uP[160]="\\_";uP[8232]="\\L";uP[8233]="\\P";var pP=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];var _P=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function fP(e,t){var n,a,r,i,o,s,l;if(t===null)return{};n={};a=Object.keys(t);for(r=0,i=a.length;r<i;r+=1){o=a[r];s=String(t[o]);o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2));l=e.compiledTypeMap["fallback"][o];l&&HN.call(l.styleAliases,s)&&(s=l.styleAliases[s]);n[o]=s}return n}Xi(fP,"compileStyleMap");function gP(e){var t,n,a;t=e.toString(16).toUpperCase();if(e<=255){n="x";a=2}else if(e<=65535){n="u";a=4}else if(e<=4294967295){n="U";a=8}else{throw new EE("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+n+CE.repeat("0",a-t.length)+t}Xi(gP,"encodeHex");var mP=1;var yP=2;function xP(e){this.schema=e["schema"]||FA;this.indent=Math.max(1,e["indent"]||2);this.noArrayIndent=e["noArrayIndent"]||!1;this.skipInvalid=e["skipInvalid"]||!1;this.flowLevel=CE.isNothing(e["flowLevel"])?-1:e["flowLevel"];this.styleMap=fP(this.schema,e["styles"]||null);this.sortKeys=e["sortKeys"]||!1;this.lineWidth=e["lineWidth"]||80;this.noRefs=e["noRefs"]||!1;this.noCompatMode=e["noCompatMode"]||!1;this.condenseFlow=e["condenseFlow"]||!1;this.quotingType=e["quotingType"]==='"'?yP:mP;this.forceQuotes=e["forceQuotes"]||!1;this.replacer=typeof e["replacer"]==="function"?e["replacer"]:null;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}Xi(xP,"State");function bP(e,t){var n=CE.repeat(" ",t),a=0,r=-1,i="",o,s=e.length;while(a<s){r=e.indexOf("\n",a);if(r===-1){o=e.slice(a);a=s}else{o=e.slice(a,r+1);a=r+1}o.length&&o!=="\n"&&(i+=n);i+=o}return i}Xi(bP,"indentString");function vP(e,t){return"\n"+CE.repeat(" ",e.indent*t)}Xi(vP,"generateNextLine");function kP(e,t){var n,a,r;for(n=0,a=e.implicitTypes.length;n<a;n+=1){r=e.implicitTypes[n];if(r.resolve(t)){return!0}}return!1}Xi(kP,"testImplicitResolving");function SP(e){return e===UN||e===WN}Xi(SP,"isWhitespace");function wP(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==$N||65536<=e&&e<=1114111}Xi(wP,"isPrintable");function CP(e){return wP(e)&&e!==$N&&e!==qN&&e!==zN}Xi(CP,"isNsCharOrWhitespace");function TP(e,t,n){var a=CP(e);var r=a&&!SP(e);return(n?a:a&&e!==JN&&e!==oP&&e!==sP&&e!==dP&&e!==hP)&&e!==VN&&!(t===tP&&!r)||CP(t)&&!SP(t)&&e===VN||t===tP&&r}Xi(TP,"isPlainSafe");function EP(e){return wP(e)&&e!==$N&&!SP(e)&&e!==eP&&e!==rP&&e!==tP&&e!==JN&&e!==oP&&e!==sP&&e!==dP&&e!==hP&&e!==VN&&e!==KN&&e!==ZN&&e!==YN&&e!==cP&&e!==nP&&e!==aP&&e!==QN&&e!==GN&&e!==XN&&e!==iP&&e!==lP}Xi(EP,"isPlainSafeFirst");function AP(e){return!SP(e)&&e!==tP}Xi(AP,"isPlainSafeLast");function NP(e,t){var n=e.charCodeAt(t),a;if(n>=55296&&n<=56319&&t+1<e.length){a=e.charCodeAt(t+1);if(a>=56320&&a<=57343){return(n-55296)*1024+a-56320+65536}}return n}Xi(NP,"codePointAt");function PP(e){var t=/^\n* /;return t.test(e)}Xi(PP,"needIndentIndicator");var LP=1;var MP=2;var DP=3;var IP=4;var BP=5;function RP(e,t,n,a,r,i,o,s){var l;var d=0;var c=null;var h=!1;var u=!1;var p=a!==-1;var _=-1;var f=EP(NP(e,0))&&AP(NP(e,e.length-1));if(t||o){for(l=0;l<e.length;d>=65536?l+=2:l++){d=NP(e,l);if(!wP(d)){return BP}f=f&&TP(d,c,s);c=d}}else{for(l=0;l<e.length;d>=65536?l+=2:l++){d=NP(e,l);if(d===zN){h=!0;if(p){u=u||l-_-1>a&&e[_+1]!==" ";_=l}}else if(!wP(d)){return BP}f=f&&TP(d,c,s);c=d}u=u||p&&(l-_-1>a&&e[_+1]!==" ")}if(!h&&!u){if(f&&!o&&!r(e)){return LP}return i===yP?BP:MP}if(n>9&&PP(e)){return BP}if(!o){return u?IP:DP}return i===yP?BP:MP}Xi(RP,"chooseScalarStyle");function OP(e,t,n,a,r){e.dump=function(){if(t.length===0){return e.quotingType===yP?'""':"''"}if(!e.noCompatMode){if(pP.indexOf(t)!==-1||_P.test(t)){return e.quotingType===yP?'"'+t+'"':"'"+t+"'"}}var i=e.indent*Math.max(1,n);var o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i);var s=a||e.flowLevel>-1&&n>=e.flowLevel;function l(t){return kP(e,t)}Xi(l,"testAmbiguity");switch(RP(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!a,r)){case LP:return t;case MP:return"'"+t.replace(/'/g,"''")+"'";case DP:return"|"+FP(t,e.indent)+jP(bP(t,i));case IP:return">"+FP(t,e.indent)+jP(bP(HP(t,o),i));case BP:return'"'+WP(t)+'"';default:throw new EE("impossible error: invalid scalar style")}}()}Xi(OP,"writeScalar");function FP(e,t){var n=PP(e)?String(t):"";var a=e[e.length-1]==="\n";var r=a&&(e[e.length-2]==="\n"||e==="\n");var i=r?"+":a?"":"-";return n+i+"\n"}Xi(FP,"blockHeader");function jP(e){return e[e.length-1]==="\n"?e.slice(0,-1):e}Xi(jP,"dropEndingNewline");function HP(e,t){var n=/(\n+)([^\n]*)/g;var a=function(){var a=e.indexOf("\n");a=a!==-1?a:e.length;n.lastIndex=a;return $P(e.slice(0,a),t)}();var r=e[0]==="\n"||e[0]===" ";var i;var o;while(o=n.exec(e)){var s=o[1],l=o[2];i=l[0]===" ";a+=s+(!r&&!i&&l!==""?"\n":"")+$P(l,t);r=i}return a}Xi(HP,"foldString");function $P(e,t){if(e===""||e[0]===" ")return e;var n=/ [^ ]/g;var a;var r=0,i,o=0,s=0;var l="";while(a=n.exec(e)){s=a.index;if(s-r>t){i=o>r?o:s;l+="\n"+e.slice(r,i);r=i+1}o=s}l+="\n";if(e.length-r>t&&o>r){l+=e.slice(r,o)+"\n"+e.slice(o+1)}else{l+=e.slice(r)}return l.slice(1)}Xi($P,"foldLine");function WP(e){var t="";var n=0;var a;for(var r=0;r<e.length;n>=65536?r+=2:r++){n=NP(e,r);a=uP[n];if(!a&&wP(n)){t+=e[r];n>=65536&&(t+=e[r+1])}else{t+=a||gP(n)}}return t}Xi(WP,"escapeString");function zP(e,t,n){var a="",r=e.tag,i,o,s;for(i=0,o=n.length;i<o;i+=1){s=n[i];e.replacer&&(s=e.replacer.call(n,String(i),s));if(VP(e,t,s,!1,!1)||typeof s==="undefined"&&VP(e,t,null,!1,!1)){a!==""&&(a+=","+(!e.condenseFlow?" ":""));a+=e.dump}}e.tag=r;e.dump="["+a+"]"}Xi(zP,"writeFlowSequence");function qP(e,t,n,a){var r="",i=e.tag,o,s,l;for(o=0,s=n.length;o<s;o+=1){l=n[o];e.replacer&&(l=e.replacer.call(n,String(o),l));if(VP(e,t+1,l,!0,!0,!1,!0)||typeof l==="undefined"&&VP(e,t+1,null,!0,!0,!1,!0)){(!a||r!=="")&&(r+=vP(e,t));if(e.dump&&zN===e.dump.charCodeAt(0)){r+="-"}else{r+="- "}r+=e.dump}}e.tag=i;e.dump=r||"[]"}Xi(qP,"writeBlockSequence");function UP(e,t,n){var a="",r=e.tag,i=Object.keys(n),o,s,l,d,c;for(o=0,s=i.length;o<s;o+=1){c="";a!==""&&(c+=", ");e.condenseFlow&&(c+='"');l=i[o];d=n[l];e.replacer&&(d=e.replacer.call(n,l,d));if(!VP(e,t,l,!1,!1)){continue}e.dump.length>1024&&(c+="? ");c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" ");if(!VP(e,t,d,!1,!1)){continue}c+=e.dump;a+=c}e.tag=r;e.dump="{"+a+"}"}Xi(UP,"writeFlowMapping");function YP(e,t,n,a){var r="",i=e.tag,o=Object.keys(n),s,l,d,c,h,u;if(e.sortKeys===!0){o.sort()}else if(typeof e.sortKeys==="function"){o.sort(e.sortKeys)}else if(e.sortKeys){throw new EE("sortKeys must be a boolean or a function")}for(s=0,l=o.length;s<l;s+=1){u="";(!a||r!=="")&&(u+=vP(e,t));d=o[s];c=n[d];e.replacer&&(c=e.replacer.call(n,d,c));if(!VP(e,t+1,d,!0,!0,!0)){continue}h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024;if(h){if(e.dump&&zN===e.dump.charCodeAt(0)){u+="?"}else{u+="? "}}u+=e.dump;h&&(u+=vP(e,t));if(!VP(e,t+1,c,!0,h)){continue}if(e.dump&&zN===e.dump.charCodeAt(0)){u+=":"}else{u+=": "}u+=e.dump;r+=u}e.tag=i;e.dump=r||"{}"}Xi(YP,"writeBlockMapping");function GP(e,t,n){var a,r,i,o,s,l;r=n?e.explicitTypes:e.implicitTypes;for(i=0,o=r.length;i<o;i+=1){s=r[i];if((s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t==="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n){if(s.multi&&s.representName){e.tag=s.representName(t)}else{e.tag=s.tag}}else{e.tag="?"}if(s.represent){l=e.styleMap[s.tag]||s.defaultStyle;if(jN.call(s.represent)==="[object Function]"){a=s.represent(t,l)}else if(HN.call(s.represent,l)){a=s.represent[l](t,l)}else{throw new EE("!<"+s.tag+'> tag resolver accepts not "'+l+'" style')}e.dump=a}return!0}}return!1}Xi(GP,"detectType");function VP(e,t,n,a,r,i,o){e.tag=null;e.dump=n;GP(e,n,!1)||GP(e,n,!0);var s=jN.call(e.dump);var l=a;var d;a&&(a=e.flowLevel<0||e.flowLevel>t);var c=s==="[object Object]"||s==="[object Array]",h,u;if(c){h=e.duplicates.indexOf(n);u=h!==-1}(e.tag!==null&&e.tag!=="?"||u||e.indent!==2&&t>0)&&(r=!1);if(u&&e.usedDuplicates[h]){e.dump="*ref_"+h}else{c&&u&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0);if(s==="[object Object]"){if(a&&Object.keys(e.dump).length!==0){YP(e,t,e.dump,r);u&&(e.dump="&ref_"+h+e.dump)}else{UP(e,t,e.dump);u&&(e.dump="&ref_"+h+" "+e.dump)}}else if(s==="[object Array]"){if(a&&e.dump.length!==0){if(e.noArrayIndent&&!o&&t>0){qP(e,t-1,e.dump,r)}else{qP(e,t,e.dump,r)}u&&(e.dump="&ref_"+h+e.dump)}else{zP(e,t,e.dump);u&&(e.dump="&ref_"+h+" "+e.dump)}}else if(s==="[object String]"){e.tag!=="?"&&OP(e,e.dump,t,i,l)}else if(s==="[object Undefined]"){return!1}else{if(e.skipInvalid)return!1;throw new EE("unacceptable kind of an object to dump "+s)}if(e.tag!==null&&e.tag!=="?"){d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21");if(e.tag[0]==="!"){d="!"+d}else if(d.slice(0,18)==="tag:yaml.org,2002:"){d="!!"+d.slice(18)}else{d="!<"+d+">"}e.dump=d+" "+e.dump}}return!0}Xi(VP,"writeNode");function XP(e,t){var n=[],a=[],r,i
KP(e,n,a);for(r=0,i=a.length;r<i;r+=1){t.duplicates.push(n[a[r]])}t.usedDuplicates=new Array(i)}Xi(XP,"getDuplicateReferences");function KP(e,t,n){var a,r,i;if(e!==null&&typeof e==="object"){r=t.indexOf(e);if(r!==-1){n.indexOf(r)===-1&&n.push(r)}else{t.push(e);if(Array.isArray(e)){for(r=0,i=e.length;r<i;r+=1){KP(e[r],t,n)}}else{a=Object.keys(e);for(r=0,i=a.length;r<i;r+=1){KP(e[a[r]],t,n)}}}}}Xi(KP,"inspectNode");function QP(e,t){t=t||{};var n=new xP(t);n.noRefs||XP(e,n);var a=e;n.replacer&&(a=n.replacer.call({"":a},"",a));if(VP(n,0,a,!0,!0))return n.dump+"\n";return""}Xi(QP,"dump$1");var ZP={dump:QP};function JP(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Xi(JP,"renamed");var eL=FN.load;FN.loadAll;ZP.dump;JP("safeLoad","load");JP("safeLoadAll","loadAll");JP("safeDump","dump");var tL={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4};var nL={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function aL(e,t){if(e===void 0||t===void 0){return{angle:0,deltaX:0,deltaY:0}}e=rL(e);t=rL(t);const[n,a]=[e.x,e.y];const[r,i]=[t.x,t.y];const o=r-n;const s=i-a;return{angle:Math.atan(s/o),deltaX:o,deltaY:s}}Xi(aL,"calculateDeltaAndAngle");var rL=Xi(e=>{if(Array.isArray(e)){return{x:e[0],y:e[1]}}return e},"pointTransformer");var iL=Xi(e=>({x:Xi(function(t,n,a){let r=0;const i=rL(a[0]).x<rL(a[a.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(tL,e.arrowTypeStart)){let{angle:t,deltaX:n}=aL(a[0],a[1]);r=tL[e.arrowTypeStart]*Math.cos(t)*(n>=0?1:-1)}else if(n===a.length-1&&Object.hasOwn(tL,e.arrowTypeEnd)){let{angle:t,deltaX:n}=aL(a[a.length-1],a[a.length-2]);r=tL[e.arrowTypeEnd]*Math.cos(t)*(n>=0?1:-1)}const o=Math.abs(rL(t).x-rL(a[a.length-1]).x);const s=Math.abs(rL(t).y-rL(a[a.length-1]).y);const l=Math.abs(rL(t).x-rL(a[0]).x);const d=Math.abs(rL(t).y-rL(a[0]).y);const c=tL[e.arrowTypeStart];const h=tL[e.arrowTypeEnd];const u=1;if(o<h&&o>0&&s<h){let e=h+u-o;e*=i==="right"?-1:1;r-=e}if(l<c&&l>0&&d<c){let e=c+u-l;e*=i==="right"?-1:1;r+=e}return rL(t).x+r},"x"),y:Xi(function(t,n,a){let r=0;const i=rL(a[0]).y<rL(a[a.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(tL,e.arrowTypeStart)){let{angle:t,deltaY:n}=aL(a[0],a[1]);r=tL[e.arrowTypeStart]*Math.abs(Math.sin(t))*(n>=0?1:-1)}else if(n===a.length-1&&Object.hasOwn(tL,e.arrowTypeEnd)){let{angle:t,deltaY:n}=aL(a[a.length-1],a[a.length-2]);r=tL[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(n>=0?1:-1)}const o=Math.abs(rL(t).y-rL(a[a.length-1]).y);const s=Math.abs(rL(t).x-rL(a[a.length-1]).x);const l=Math.abs(rL(t).y-rL(a[0]).y);const d=Math.abs(rL(t).x-rL(a[0]).x);const c=tL[e.arrowTypeStart];const h=tL[e.arrowTypeEnd];const u=1;if(o<h&&o>0&&s<h){let e=h+u-o;e*=i==="up"?-1:1;r-=e}if(l<c&&l>0&&d<c){let e=c+u-l;e*=i==="up"?-1:1;r+=e}return rL(t).y+r},"y")}),"getLineFunctionsWithOffset");var oL=Xi(({flowchart:e})=>{var t,n,a,r;const i=(n=(t=e===null||e===void 0?void 0:e.subGraphTitleMargin)===null||t===void 0?void 0:t.top)!==null&&n!==void 0?n:0;const o=(r=(a=e===null||e===void 0?void 0:e.subGraphTitleMargin)===null||a===void 0?void 0:a.bottom)!==null&&r!==void 0?r:0;const s=i+o;return{subGraphTitleTopMargin:i,subGraphTitleBottomMargin:o,subGraphTitleTotalMargin:s}},"getSubGraphTitleMargins");var sL=Xi(e=>{const{handDrawnSeed:t}=Ol();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill");var lL=Xi(e=>{const t=dL([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles");var dL=Xi(e=>{const t=new Map;e.forEach(e=>{const[n,a]=e.split(":");t.set(n.trim(),a===null||a===void 0?void 0:a.trim())});return t},"styles2Map");var cL=Xi(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle");var hL=Xi(e=>{const{stylesArray:t}=lL(e);const n=[];const a=[];const r=[];const i=[];t.forEach(e=>{const t=e[0];if(cL(t)){n.push(e.join(":")+" !important")}else{a.push(e.join(":")+" !important");t.includes("stroke")&&r.push(e.join(":")+" !important");t==="fill"&&i.push(e.join(":")+" !important")}});return{labelStyles:n.join(";"),nodeStyles:a.join(";"),stylesArray:t,borderStyles:r,backgroundStyles:i}},"styles2String");var uL=Xi((e,t)=>{var n;const{themeVariables:a,handDrawnSeed:r}=Ol();const{nodeBorder:i,mainBkg:o}=a;const{stylesMap:s}=lL(e);const l=Object.assign({roughness:.7,fill:s.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:r,strokeWidth:((n=s.get("stroke-width"))===null||n===void 0?void 0:n.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:pL(s.get("stroke-dasharray"))},t);return l},"userNodeOverrides");var pL=Xi(e=>{if(!e){return[0,0]}const t=e.trim().split(/\s+/).map(Number);if(t.length===1){let e=isNaN(t[0])?0:t[0];return[e,e]}const n=isNaN(t[0])?0:t[0];const a=isNaN(t[1])?0:t[1];return[n,a]},"getStrokeDashArray");var _L=/^([^\w]*)(javascript|data|vbscript)/im;var fL=/&#(\w+)(^\w|;)?/g;var gL=/&(newline|tab);/gi;var mL=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;var yL=/^.+(:|&colon;)/gim;var xL=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;var bL=[".","/"];var vL="about:blank";function kL(e){return bL.indexOf(e[0])>-1}function SL(e){var t=e.replace(mL,"");return t.replace(fL,function(e,t){return String.fromCharCode(t)})}function wL(e){return URL.canParse(e)}function CL(e){try{return decodeURIComponent(e)}catch(t){return e}}function TL(e){if(!e){return vL}var t;var n=CL(e.trim());do{n=SL(n).replace(gL,"").replace(mL,"").replace(xL,"").trim();n=CL(n);t=n.match(mL)||n.match(fL)||n.match(gL)||n.match(xL)}while(t&&t.length>0);var a=n;if(!a){return vL}if(kL(a)){return a}var r=a.trimStart();var i=r.match(yL);if(!i){return a}var o=i[0].toLowerCase().trim();if(_L.test(o)){return vL}var s=r.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://")){return s}if(o==="http:"||o==="https:"){if(!wL(s)){return vL}var l=new URL(s);l.protocol=l.protocol.toLowerCase();l.hostname=l.hostname.toLowerCase();return l.toString()}return s}var EL=typeof t=="object"&&t&&t.Object===Object&&t;var AL=typeof self=="object"&&self&&self.Object===Object&&self;var NL=EL||AL||Function("return this")();var PL=NL.Symbol;var LL=Object.prototype;var ML=LL.hasOwnProperty;var DL=LL.toString;var IL=PL?PL.toStringTag:e;function BL(t){var n=ML.call(t,IL),a=t[IL];try{t[IL]=e;var r=!0}catch(e){}var i=DL.call(t);if(r){if(n){t[IL]=a}else{delete t[IL]}}return i}var RL=Object.prototype;var OL=RL.toString;function FL(e){return OL.call(e)}var jL="[object Null]",HL="[object Undefined]";var $L=PL?PL.toStringTag:e;function WL(t){if(t==null){return t===e?HL:jL}return $L&&$L in Object(t)?BL(t):FL(t)}function zL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qL="[object AsyncFunction]",UL="[object Function]",YL="[object GeneratorFunction]",GL="[object Proxy]";function VL(e){if(!zL(e)){return!1}var t=WL(e);return t==UL||t==YL||t==qL||t==GL}var XL=NL["__core-js_shared__"];var KL=function(){var e=/[^.]+$/.exec(XL&&XL.keys&&XL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QL(e){return!!KL&&KL in e}var ZL=Function.prototype;var JL=ZL.toString;function eM(e){if(e!=null){try{return JL.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var tM=/[\\^$.*+?()[\]{}|]/g;var nM=/^\[object .+?Constructor\]$/;var aM=Function.prototype,rM=Object.prototype;var iM=aM.toString;var oM=rM.hasOwnProperty;var sM=RegExp("^"+iM.call(oM).replace(tM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lM(e){if(!zL(e)||QL(e)){return!1}var t=VL(e)?sM:nM;return t.test(eM(e))}function dM(t,n){return t==null?e:t[n]}function cM(t,n){var a=dM(t,n);return lM(a)?a:e}var hM=cM(Object,"create");function uM(){this.__data__=hM?hM(null):{};this.size=0}function pM(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}var _M="__lodash_hash_undefined__";var fM=Object.prototype;var gM=fM.hasOwnProperty;function mM(t){var n=this.__data__;if(hM){var a=n[t];return a===_M?e:a}return gM.call(n,t)?n[t]:e}var yM=Object.prototype;var xM=yM.hasOwnProperty;function bM(t){var n=this.__data__;return hM?n[t]!==e:xM.call(n,t)}var vM="__lodash_hash_undefined__";function kM(t,n){var a=this.__data__;this.size+=this.has(t)?0:1;a[t]=hM&&n===e?vM:n;return this}function SM(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var a=e[t];this.set(a[0],a[1])}}SM.prototype.clear=uM;SM.prototype["delete"]=pM;SM.prototype.get=mM;SM.prototype.has=bM;SM.prototype.set=kM;function wM(){this.__data__=[];this.size=0}function CM(e,t){return e===t||e!==e&&t!==t}function TM(e,t){var n=e.length;while(n--){if(CM(e[n][0],t)){return n}}return-1}var EM=Array.prototype;var AM=EM.splice;function NM(e){var t=this.__data__,n=TM(t,e);if(n<0){return!1}var a=t.length-1;if(n==a){t.pop()}else{AM.call(t,n,1)}--this.size;return!0}function PM(t){var n=this.__data__,a=TM(n,t);return a<0?e:n[a][1]}function LM(e){return TM(this.__data__,e)>-1}function MM(e,t){var n=this.__data__,a=TM(n,e);if(a<0){++this.size;n.push([e,t])}else{n[a][1]=t}return this}function DM(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var a=e[t];this.set(a[0],a[1])}}DM.prototype.clear=wM;DM.prototype["delete"]=NM;DM.prototype.get=PM;DM.prototype.has=LM;DM.prototype.set=MM;var IM=cM(NL,"Map");function BM(){this.size=0;this.__data__={hash:new SM,map:new(IM||DM),string:new SM}}function RM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function OM(e,t){var n=e.__data__;return RM(t)?n[typeof t=="string"?"string":"hash"]:n.map}function FM(e){var t=OM(this,e)["delete"](e);this.size-=t?1:0;return t}function jM(e){return OM(this,e).get(e)}function HM(e){return OM(this,e).has(e)}function $M(e,t){var n=OM(this,e),a=n.size;n.set(e,t);this.size+=n.size==a?0:1;return this}function WM(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var a=e[t];this.set(a[0],a[1])}}WM.prototype.clear=BM;WM.prototype["delete"]=FM;WM.prototype.get=jM;WM.prototype.has=HM;WM.prototype.set=$M;var zM="Expected a function";function qM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new TypeError(zM)}var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],i=n.cache;if(i.has(r)){return i.get(r)}var o=e.apply(this,a);n.cache=i.set(r,o)||i;return o};n.cache=new(qM.Cache||WM);return n}qM.Cache=WM;function UM(){this.__data__=new DM;this.size=0}function YM(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}function GM(e){return this.__data__.get(e)}function VM(e){return this.__data__.has(e)}var XM=200;function KM(e,t){var n=this.__data__;if(n instanceof DM){var a=n.__data__;if(!IM||a.length<XM-1){a.push([e,t]);this.size=++n.size;return this}n=this.__data__=new WM(a)}n.set(e,t);this.size=n.size;return this}function QM(e){var t=this.__data__=new DM(e);this.size=t.size}QM.prototype.clear=UM;QM.prototype["delete"]=YM;QM.prototype.get=GM;QM.prototype.has=VM;QM.prototype.set=KM;var ZM=function(){try{var e=cM(Object,"defineProperty");e({},"",{});return e}catch(e){}}();function JM(e,t,n){if(t=="__proto__"&&ZM){ZM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0})}else{e[t]=n}}function eD(t,n,a){(a!==e&&!CM(t[n],a)||a===e&&!(n in t))&&JM(t,n,a)}function tD(e){return function(t,n,a){var r=-1,i=Object(t),o=a(t),s=o.length;while(s--){var l=o[e?s:++r];if(n(i[l],l,i)===!1){break}}return t}}var nD=tD();var aD=function(){var t={};var a={exports:t};var r=typeof t=="object"&&t&&!t.nodeType&&t;var i=r&&typeof a=="object"&&a&&!a.nodeType&&a;var o=i&&i.exports===r;var s=o?NL.Buffer:e,l=s?s.allocUnsafe:e;function d(e,t){if(t){return e.slice()}var n=e.length,a=l?l(n):new e.constructor(n);e.copy(a);return a}t.default=d;return n(a.exports)}.call(window);var rD=NL.Uint8Array;function iD(e){var t=new e.constructor(e.byteLength);new rD(t).set(new rD(e));return t}function oD(e,t){var n=t?iD(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function sD(e,t){var n=-1,a=e.length;t||(t=Array(a));while(++n<a){t[n]=e[n]}return t}var lD=Object.create;var dD=function(){function t(){}return function(n){if(!zL(n)){return{}}if(lD){return lD(n)}t.prototype=n;var a=new t;t.prototype=e;return a}}();function cD(e,t){return function(n){return e(t(n))}}var hD=cD(Object.getPrototypeOf,Object);var uD=Object.prototype;function pD(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||uD;return e===n}function _D(e){return typeof e.constructor=="function"&&!pD(e)?dD(hD(e)):{}}function fD(e){return e!=null&&typeof e=="object"}var gD="[object Arguments]";function mD(e){return fD(e)&&WL(e)==gD}var yD=Object.prototype;var xD=yD.hasOwnProperty;var bD=yD.propertyIsEnumerable;var vD=mD(function(){return arguments}())?mD:function(e){return fD(e)&&xD.call(e,"callee")&&!bD.call(e,"callee")};var kD=Array.isArray;var SD=9007199254740991;function wD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=SD}function CD(e){return e!=null&&wD(e.length)&&!VL(e)}function TD(e){return fD(e)&&CD(e)}function ED(){return!1}var AD=function(){var t={};var a={exports:t};var r=typeof t=="object"&&t&&!t.nodeType&&t;var i=r&&typeof a=="object"&&a&&!a.nodeType&&a;var o=i&&i.exports===r;var s=o?NL.Buffer:e;var l=s?s.isBuffer:e;var d=l||ED;t.default=d;return n(a.exports)}.call(window);var ND="[object Object]";var PD=Function.prototype,LD=Object.prototype;var MD=PD.toString;var DD=LD.hasOwnProperty;var ID=MD.call(Object);function BD(e){if(!fD(e)||WL(e)!=ND){return!1}var t=hD(e);if(t===null){return!0}var n=DD.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&MD.call(n)==ID}var RD="[object Arguments]",OD="[object Array]",FD="[object Boolean]",jD="[object Date]",HD="[object Error]",$D="[object Function]",WD="[object Map]",zD="[object Number]",qD="[object Object]",UD="[object RegExp]",YD="[object Set]",GD="[object String]",VD="[object WeakMap]";var XD="[object ArrayBuffer]",KD="[object DataView]",QD="[object Float32Array]",ZD="[object Float64Array]",JD="[object Int8Array]",eI="[object Int16Array]",tI="[object Int32Array]",nI="[object Uint8Array]",aI="[object Uint8ClampedArray]",rI="[object Uint16Array]",iI="[object Uint32Array]";var oI={};oI[QD]=oI[ZD]=oI[JD]=oI[eI]=oI[tI]=oI[nI]=oI[aI]=oI[rI]=oI[iI]=!0;oI[RD]=oI[OD]=oI[XD]=oI[FD]=oI[KD]=oI[jD]=oI[HD]=oI[$D]=oI[WD]=oI[zD]=oI[qD]=oI[UD]=oI[YD]=oI[GD]=oI[VD]=!1;function sI(e){return fD(e)&&wD(e.length)&&!!oI[WL(e)]}function lI(e){return function(t){return e(t)}}var dI=function(){var e={};var t={exports:e};var a=typeof e=="object"&&e&&!e.nodeType&&e;var r=a&&typeof t=="object"&&t&&!t.nodeType&&t;var i=r&&r.exports===a;var o=i&&EL.process;var s=function(){try{var e=r&&r.require&&r.require("util").types;if(e){return e}return o&&o.binding&&o.binding("util")}catch(e){}}();e.default=s;return n(t.exports)}.call(window);var cI=dI&&dI.isTypedArray;var hI=cI?lI(cI):sI;function uI(e,t){if(t==="constructor"&&typeof e[t]==="function"){return}if(t=="__proto__"){return}return e[t]}var pI=Object.prototype;var _I=pI.hasOwnProperty;function fI(t,n,a){var r=t[n];(!(_I.call(t,n)&&CM(r,a))||a===e&&!(n in t))&&JM(t,n,a)}function gI(t,n,a,r){var i=!a;a||(a={});var o=-1,s=n.length;while(++o<s){var l=n[o],d=r?r(a[l],t[l],l,a,t):e;d===e&&(d=t[l]);if(i){JM(a,l,d)}else{fI(a,l,d)}}return a}function mI(e,t){var n=-1,a=Array(e);while(++n<e){a[n]=t(n)}return a}var yI=9007199254740991;var xI=/^(?:0|[1-9]\d*)$/;function bI(e,t){var n=typeof e;t=t==null?yI:t;return!!t&&(n=="number"||n!="symbol"&&xI.test(e))&&(e>-1&&e%1==0&&e<t)}var vI=Object.prototype;var kI=vI.hasOwnProperty;function SI(e,t){var n=kD(e),a=!n&&vD(e),r=!n&&!a&&AD(e),i=!n&&!a&&!r&&hI(e),o=n||a||r||i,s=o?mI(e.length,String):[],l=s.length;for(var d in e){(t||kI.call(e,d))&&!(o&&(d=="length"||r&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||bI(d,l)))&&s.push(d)}return s}function wI(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}var CI=Object.prototype;var TI=CI.hasOwnProperty;function EI(e){if(!zL(e)){return wI(e)}var t=pD(e),n=[];for(var a in e){a=="constructor"&&(t||!TI.call(e,a))||n.push(a)}return n}function AI(e){return CD(e)?SI(e,!0):EI(e)}function NI(e){return gI(e,AI(e))}function PI(t,n,a,r,i,o,s){var l=uI(t,a),d=uI(n,a),c=s.get(d);if(c){eD(t,a,c);return}var h=o?o(l,d,a+"",t,n,s):e;var u=h===e;if(u){var p=kD(d),_=!p&&AD(d),f=!p&&!_&&hI(d);h=d;if(p||_||f){if(kD(l)){h=l}else if(TD(l)){h=sD(l)}else if(_){u=!1;h=aD(d,!0)}else if(f){u=!1;h=oD(d,!0)}else{h=[]}}else if(BD(d)||vD(d)){h=l;if(vD(l)){h=NI(l)}else(!zL(l)||VL(l))&&(h=_D(d))}else{u=!1}}if(u){s.set(d,h);i(h,d,r,o,s);s["delete"](d)}eD(t,a,h)}function LI(t,n,a,r,i){if(t===n){return}nD(n,function(o,s){i||(i=new QM);if(zL(o)){PI(t,n,s,a,LI,r,i)}else{var l=r?r(uI(t,s),o,s+"",t,n,i):e;l===e&&(l=o);eD(t,s,l)}},AI)}function MI(e){return e}function DI(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var II=Math.max;function BI(t,n,a){n=II(n===e?t.length-1:n,0);return function(){var e=arguments,r=-1,i=II(e.length-n,0),o=Array(i);while(++r<i){o[r]=e[n+r]}r=-1;var s=Array(n+1);while(++r<n){s[r]=e[r]}s[n]=a(o);return DI(t,this,s)}}function RI(e){return function(){return e}}var OI=!ZM?MI:function(e,t){return ZM(e,"toString",{configurable:!0,enumerable:!1,value:RI(t),writable:!0})};var FI=800,jI=16;var HI=Date.now;function $I(t){var n=0,a=0;return function(){var r=HI(),i=jI-(r-a);a=r;if(i>0){if(++n>=FI){return arguments[0]}}else{n=0}return t.apply(e,arguments)}}var WI=$I(OI);function zI(e,t){return WI(BI(e,t,MI),e+"")}function qI(e,t,n){if(!zL(n)){return!1}var a=typeof t;if(a=="number"?CD(n)&&bI(t,n.length):a=="string"&&t in n){return CM(n[t],e)}return!1}function UI(t){return zI(function(n,a){var r=-1,i=a.length,o=i>1?a[i-1]:e,s=i>2?a[2]:e;o=t.length>3&&typeof o=="function"?(i--,o):e;if(s&&qI(a[0],a[1],s)){o=i<3?e:o;i=1}n=Object(n);while(++r<i){var l=a[r];l&&t(n,l,r,o)}return n})}var YI=UI(function(e,t,n){LI(e,t,n)});var GI;var VI="";var XI={curveBasis:PT,curveBasisClosed:MT,curveBasisOpen:IT,curveBumpX:vT,curveBumpY:kT,curveBundle:RT,curveCardinalClosed:$T,curveCardinalOpen:zT,curveCardinal:jT,curveCatmullRomClosed:VT,curveCatmullRomOpen:KT,curveCatmullRom:YT,curveLinear:uT,curveLinearClosed:ZT,curveMonotoneX:oE,curveMonotoneY:sE,curveNatural:cE,curveStep:uE,curveStepAfter:_E,curveStepBefore:pE};var KI=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi;var QI=Xi(function(e,t){const n=ZI(e,/(?:init\b)|(?:initialize\b)/);let a={};if(Array.isArray(n)){let e=n.map(e=>e.args);_s(e);a=Xo(a,[...e])}else{a=n.args}if(!a){return}let r=Uo(e,t);const i="config";if(a[i]!==void 0){r==="flowchart-v2"&&(r="flowchart");a[r]=a[i];delete a[i]}return a},"detectInit");var ZI=Xi(function(e,t=null){var n,a;try{let r=new RegExp(`[%]{2}(?![{]${KI.source})(?=[}][%]{2}).*\n`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"');Zi.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i,o=[];while((i=$o.exec(e))!==null){i.index===$o.lastIndex&&$o.lastIndex++;if(i&&!t||t&&((n=i[1])===null||n===void 0?void 0:n.match(t))||t&&((a=i[2])===null||a===void 0?void 0:a.match(t))){let e=i[1]?i[1]:i[2],t=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;o.push({type:e,args:t})}}if(o.length===0){return{type:e,args:null}}return o.length===1?o[0]:o}catch(n){Zi.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`);return{type:void 0,args:null}}},"detectDirective");var JI=Xi(function(e){return e.replace($o,"")},"removeDirectives");var eB=Xi(function(e,t){for(const[n,a]of t.entries()){if(a.match(e)){return n}}return-1},"isSubstringInArray");function tB(e,t){var n;if(!e){return t}const a=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return(n=XI[a])!==null&&n!==void 0?n:t}Xi(tB,"interpolateToCurve");function nB(e,t){const n=e.trim();if(!n){return void 0}if(t.securityLevel!=="loose"){return TL(n)}return n}Xi(nB,"formatUrl");var aB=Xi((e,...t)=>{const n=e.split(".");const a=n.length-1;const r=n[a];let i=window;for(let t=0;t<a;t++){i=i[n[t]];if(!i){Zi.error(`Function name: ${e} not found in window`);return}}i[r](...t)},"runFunc");function rB(e,t){if(!e||!t){return 0}return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}Xi(rB,"distance");function iB(e){let t;let n=0;e.forEach(e=>{n+=rB(e,t);t=e});const a=n/2;return lB(e,a)}Xi(iB,"traverseEdge");function oB(e){if(e.length===1){return e[0]}return iB(e)}Xi(oB,"calcLabelPosition");var sB=Xi((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber");var lB=Xi((e,t)=>{let n=void 0;let a=t;for(const t of e){if(n){let e=rB(t,n);if(e===0){return n}if(e<a){a-=e}else{let r=a/e;if(r<=0){return n}if(r>=1){return{x:t.x,y:t.y}}if(r>0&&r<1){return{x:sB((1-r)*n.x+r*t.x,5),y:sB((1-r)*n.y+r*t.y,5)}}}}n=t}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint");var dB=Xi((e,t,n)=>{Zi.info(`our points ${JSON.stringify(t)}`);t[0]!==n&&(t=t.reverse());const a=25;const r=lB(t,a);const i=e?10:5;const o=Math.atan2(t[0].y-r.y,t[0].x-r.x);const s={x:0,y:0};s.x=Math.sin(o)*i+(t[0].x+r.x)/2;s.y=-Math.cos(o)*i+(t[0].y+r.y)/2;return s},"calcCardinalityPosition");function cB(e,t,n){const a=structuredClone(n);Zi.info("our points",a);t!=="start_left"&&t!=="start_right"&&a.reverse();const r=25+e;const i=lB(a,r);const o=10+e*.5;const s=Math.atan2(a[0].y-i.y,a[0].x-i.x);const l={x:0,y:0};if(t==="start_left"){l.x=Math.sin(s+Math.PI)*o+(a[0].x+i.x)/2;l.y=-Math.cos(s+Math.PI)*o+(a[0].y+i.y)/2}else if(t==="end_right"){l.x=Math.sin(s-Math.PI)*o+(a[0].x+i.x)/2-5;l.y=-Math.cos(s-Math.PI)*o+(a[0].y+i.y)/2-5}else if(t==="end_left"){l.x=Math.sin(s)*o+(a[0].x+i.x)/2-5;l.y=-Math.cos(s)*o+(a[0].y+i.y)/2-5}else{l.x=Math.sin(s)*o+(a[0].x+i.x)/2;l.y=-Math.cos(s)*o+(a[0].y+i.y)/2}return l}Xi(cB,"calcTerminalLabelPosition");function hB(e){let t="";let n="";for(const a of e){if(a!==void 0){if(a.startsWith("color:")||a.startsWith("text-align:")){n=n+a+";"}else{t=t+a+";"}}}return{style:t,labelStyle:n}}Xi(hB,"getStylesFromArray");var uB=0;var pB=Xi(()=>{uB++;return"id-"+Math.random().toString(36).substr(2,12)+"-"+uB},"generateId");function _B(e){let t="";const n="0123456789abcdef";const a=n.length;for(let r=0;r<e;r++){t+=n.charAt(Math.floor(Math.random()*a))}return t}Xi(_B,"makeRandomHex");var fB=Xi(e=>_B(e.length),"random");var gB=Xi(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj");var mB=Xi(function(e,t){const n=t.text.replace(cl.lineBreakRegex," ");const[,a]=AB(t.fontSize);const r=e.append("text");r.attr("x",t.x);r.attr("y",t.y);r.style("text-anchor",t.anchor);r.style("font-family",t.fontFamily);r.style("font-size",a);r.style("font-weight",t.fontWeight);r.attr("fill",t.fill);t.class!==void 0&&r.attr("class",t.class);const i=r.append("tspan");i.attr("x",t.x+t.textMargin*2);i.attr("fill",t.fill);i.text(n);return r},"drawSimpleText");var yB=qM((e,t,n)=>{if(!e){return e}n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n);if(cl.lineBreakRegex.test(e)){return e}const a=e.split(" ").filter(Boolean);const r=[];let i="";a.forEach((e,o)=>{const s=vB(`${e} `,n);const l=vB(i,n);if(s>t){let{hyphenatedStrings:a,remainingWord:o}=xB(e,t,"-",n);r.push(i,...a);i=o}else if(l+s>=t){r.push(i);i=e}else{i=[i,e].filter(Boolean).join(" ")}const d=o+1;const c=d===a.length;c&&r.push(i)});return r.filter(e=>e!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`);var xB=qM((e,t,n="-",a)=>{a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},a);const r=[...e];const i=[];let o="";r.forEach((e,s)=>{const l=`${o}${e}`;const d=vB(l,a);if(d>=t){let e=s+1,t=r.length===e,a=`${l}${n}`;i.push(t?l:a);o=""}else{o=l}});return{hyphenatedStrings:i,remainingWord:o}},(e,t,n="-",a)=>`${e}${t}${n}${a.fontSize}${a.fontWeight}${a.fontFamily}`);function bB(e,t){return kB(e,t).height}Xi(bB,"calculateTextHeight");function vB(e,t){return kB(e,t).width}Xi(vB,"calculateTextWidth");var kB=qM((e,t)=>{const{fontSize:n=12,fontFamily:a="Arial",fontWeight:r=400}=t;if(!e){return{width:0,height:0}}const[,i]=AB(n);const o=["sans-serif",a];const s=e.split(cl.lineBreakRegex);const l=[];const d=$h("body");if(!d.remove){return{width:0,height:0,lineHeight:0}}const c=d.append("svg");for(const e of o){let t=0,n={width:0,height:0,lineHeight:0};for(const a of s){let o=gB();o.text=a||VI;let s=mB(c,o).style("font-size",i).style("font-weight",r).style("font-family",e),l=(s._groups||s)[0][0].getBBox();if(l.width===0&&l.height===0){throw new Error("svg element not in render tree")}n.width=Math.round(Math.max(n.width,l.width));t=Math.round(l.height);n.height+=t;n.lineHeight=Math.round(Math.max(n.lineHeight,t))}l.push(n)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);var SB=(GI=class{constructor(e=!1,t){this.count=0;this.count=t?t.length:0;this.next=e?()=>this.count++:()=>Date.now()}},a(GI,"InitIDGenerator"),(()=>{Xi(GI,"InitIDGenerator")})(),GI);var wB;var CB=Xi(function(e){wB=wB||document.createElement("div");e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";");wB.innerHTML=e;return unescape(wB.textContent)},"entityDecode");function TB(e){return"str"in e}Xi(TB,"isDetailedError");var EB=Xi((e,t,n,a)=>{var r;if(!a){return}const i=(r=e.node())===null||r===void 0?void 0:r.getBBox();if(!i){return}e.append("text").text(a).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",t)},"insertTitle");var AB=Xi(e=>{if(typeof e==="number"){return[e,e+"px"]}const t=parseInt(e!==null&&e!==void 0?e:"",10);if(Number.isNaN(t)){return[void 0,void 0]}else if(e===String(t)){return[t,e+"px"]}else{return[t,e]}},"parseFontSize");var NB=AB;function PB(e,t){return YI({},e,t)}Xi(PB,"cleanAndMerge");var LB={assignWithDepth:Xo,wrapLabel:yB,calculateTextHeight:bB,calculateTextWidth:vB,calculateTextDimensions:kB,cleanAndMerge:PB,detectInit:QI,detectDirective:ZI,isSubstringInArray:eB,interpolateToCurve:tB,calcLabelPosition:oB,calcCardinalityPosition:dB,calcTerminalLabelPosition:cB,formatUrl:nB,getStylesFromArray:hB,generateId:pB,random:fB,runFunc:aB,entityDecode:CB,insertTitle:EB,isLabelCoordinateInPath:RB,parseFontSize:AB,InitIDGenerator:SB};var MB=Xi(function(e){let t=e;t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)});t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)});t=t.replace(/#\w+;/g,function(e){const t=e.substring(1,e.length-1);const n=/^\+?\d+$/.test(t);if(n){return""+t+""}else{return""+t+""}});return t},"encodeEntities");var DB=Xi(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities");var IB=Xi((e,t,{counter:n=0,prefix:a,suffix:r},i)=>{if(i){return i}return`${a?`${a}_`:""}${e}_${t}_${n}${r?`_${r}`:""}`},"getEdgeId");function BB(e){return e!==null&&e!==void 0?e:null}Xi(BB,"handleUndefinedAttr");function RB(e,t){const n=Math.round(e.x);const a=Math.round(e.y);const r=t.replace(/(\d+\.\d+)/g,e=>Math.round(parseFloat(e)).toString());return r.includes(n.toString())||r.includes(a.toString())}Xi(RB,"isLabelCoordinateInPath");const OB=Object.freeze({left:0,top:0,width:16,height:16});const FB=Object.freeze({rotate:0,vFlip:!1,hFlip:!1});const jB=Object.freeze({...OB,...FB});const HB=Object.freeze({...jB,body:"",hidden:!1});const $B=Object.freeze({width:null,height:null});const WB=Object.freeze({...$B,...FB});const zB=(e,t,n,a="")=>{const r=e.split(":");if(e.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;a=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){let e=r.pop(),n=r.pop(),i={provider:r.length>0?r[0]:a,prefix:n,name:e};return t&&!qB(i)?null:i}const i=r[0];const o=i.split("-");if(o.length>1){let e={provider:a,prefix:o.shift(),name:o.join("-")};return t&&!qB(e)?null:e}if(n&&a===""){let e={provider:a,prefix:"",name:i};return t&&!qB(e,n)?null:e}return null};const qB=(e,t)=>{if(!e)return!1;return!!((t&&e.prefix===""||!!e.prefix)&&!!e.name)};function UB(e,t){const n={};!e.hFlip!==!t.hFlip&&(n.hFlip=!0);!e.vFlip!==!t.vFlip&&(n.vFlip=!0);const a=((e.rotate||0)+(t.rotate||0))%4;a&&(n.rotate=a);return n}function YB(e,t){const n=UB(e,t);for(const a in HB)if(a in FB){a in e&&!(a in n)&&(n[a]=FB[a])}else if(a in t)n[a]=t[a];else a in e&&(n[a]=e[a]);return n}function GB(e,t){const n=e.icons;const a=e.aliases||Object.create(null);const r=Object.create(null);function i(e){if(n[e])return r[e]=[];if(!(e in r)){r[e]=null;let t=a[e]&&a[e].parent,n=t&&i(t);n&&(r[e]=[t].concat(n))}return r[e]}(t||Object.keys(n).concat(Object.keys(a))).forEach(i);return r}function VB(e,t,n){const a=e.icons;const r=e.aliases||Object.create(null);let i={};function o(e){i=YB(a[e]||r[e],i)}o(t);n.forEach(o);return YB(e,i)}function XB(e,t){if(e.icons[t])return VB(e,t,[]);const n=GB(e,[t])[t];return n?VB(e,t,n):null}Object.keys(OB).concat(["provider"]);const KB=/(-?[0-9.]*[0-9]+[0-9.]*)/g;const QB=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ZB(e,t,n){if(t===1)return e;n=n||100;if(typeof e==="number")return Math.ceil(e*t*n)/n;if(typeof e!=="string")return e;const a=e.split(KB);if(a===null||!a.length)return e;const r=[];let i=a.shift();let o=QB.test(i);while(!0){if(o){let e=parseFloat(i);if(isNaN(e))r.push(i);else r.push(Math.ceil(e*t*n)/n)}else r.push(i);i=a.shift();if(i===void 0)return r.join("");o=!o}}function JB(e,t="defs"){let n="";const a=e.indexOf("<"+t);while(a>=0){let r=e.indexOf(">",a),i=e.indexOf("</"+t);if(r===-1||i===-1)break;let o=e.indexOf(">",i);if(o===-1)break;n+=e.slice(r+1,i).trim();e=e.slice(0,a).trim()+e.slice(o+1)}return{defs:n,content:e}}function eR(e,t){return e?"<defs>"+e+"</defs>"+t:t}function tR(e,t,n){const a=JB(e);return eR(a.defs,t+a.content+n)}const nR=e=>e==="unset"||e==="undefined"||e==="none";function aR(e,t){const n={...jB,...e};const a={...WB,...t};const r={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,a].forEach(e=>{const t=[];const n=e.hFlip;const a=e.vFlip;let o=e.rotate;if(n)if(a)o+=2;else{t.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")");t.push("scale(-1 1)");r.top=r.left=0}else if(a){t.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")");t.push("scale(1 -1)");r.top=r.left=0}let s;o<0&&(o-=Math.floor(o/4)*4);o=o%4;switch(o){case 1:s=r.height/2+r.top;t.unshift("rotate(90 "+s.toString()+" "+s.toString()+")");break;case 2:t.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:s=r.width/2+r.left;t.unshift("rotate(-90 "+s.toString()+" "+s.toString()+")");break}if(o%2===1){if(r.left!==r.top){s=r.left;r.left=r.top;r.top=s}if(r.width!==r.height){s=r.width;r.width=r.height;r.height=s}}t.length&&(i=tR(i,'<g transform="'+t.join(" ")+'">',"</g>"))});const o=a.width;const s=a.height;const l=r.width;const d=r.height;let c;let h;if(o===null){h=s===null?"1em":s==="auto"?d:s;c=ZB(h,l/d)}else{c=o==="auto"?l:o;h=s===null?ZB(c,d/l):s==="auto"?d:s}const u={};const p=(e,t)=>{nR(t)||(u[e]=t.toString())};p("width",c);p("height",h);const _=[r.left,r.top,l,d];u.viewBox=_.join(" ");return{attributes:u,viewBox:_,body:i}}const rR=/\sid="(\S+)"/g;const iR=new Map;function oR(e){e=e.replace(/[0-9]+$/,"")||"a";const t=iR.get(e)||0;iR.set(e,t+1);return t?`${e}${t}`:e}function sR(e){const t=[];let n;while(n=rR.exec(e))t.push(n[1]);if(!t.length)return e;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16)
t.forEach(t=>{const n=oR(t);const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+r+')([")]|\\.[a-z])',"g"),"$1"+n+a+"$3")});e=e.replace(new RegExp(a,"g"),"");return e}function lR(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t)n+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}const dR={transparent:{type:"transparent"},none:{type:"none"},currentcolor:{type:"current"}};function cR(e,t){const n="rgb";const a=t[0];const r=t.length;dR[e]={type:n,r:a,g:r>1?t[1]:a,b:r>2?t[2]:a,alpha:r>3?t[3]:1}}cR("silver",[192]);cR("gray",[128]);cR("white",[255]);cR("maroon",[128,0,0]);cR("red",[255,0,0]);cR("purple",[128,0]);cR("fuchsia",[255,0]);cR("green",[0,128]);cR("lime",[0,255]);cR("olive",[128,128,0]);cR("yellow",[255,255,0]);cR("navy",[0,0,128]);cR("blue",[0,0,255]);cR("teal",[0,128,128]);cR("aqua",[0,255,255]);cR("aliceblue",[240,248,255]);cR("antiquewhite",[250,235,215]);cR("aqua",[0,255,255]);cR("aquamarine",[127,255,212]);cR("azure",[240,255,255]);cR("beige",[245,245,220]);cR("bisque",[255,228,196]);cR("black",[0]);cR("blanchedalmond",[255,235,205]);cR("blue",[0,0,255]);cR("blueviolet",[138,43,226]);cR("brown",[165,42,42]);cR("burlywood",[222,184,135]);cR("cadetblue",[95,158,160]);cR("chartreuse",[127,255,0]);cR("chocolate",[210,105,30]);cR("coral",[255,127,80]);cR("cornflowerblue",[100,149,237]);cR("cornsilk",[255,248,220]);cR("crimson",[220,20,60]);cR("cyan",[0,255,255]);cR("darkblue",[0,0,139]);cR("darkcyan",[0,139,139]);cR("darkgoldenrod",[184,134,11]);cR("darkgray",[169]);cR("darkgreen",[0,100]);cR("darkgrey",[169]);cR("darkkhaki",[189,183,107]);cR("darkmagenta",[139,0]);cR("darkolivegreen",[85,107,47]);cR("darkorange",[255,140,0]);cR("darkorchid",[153,50,204]);cR("darkred",[139,0,0]);cR("darksalmon",[233,150,122]);cR("darkseagreen",[143,188]);cR("darkslateblue",[72,61,139]);cR("darkslategray",[47,79,79]);cR("darkslategrey",[47,79,79]);cR("darkturquoise",[0,206,209]);cR("darkviolet",[148,0,211]);cR("deeppink",[255,20,147]);cR("deepskyblue",[0,191,255]);cR("dimgray",[105]);cR("dimgrey",[105]);cR("dodgerblue",[30,144,255]);cR("firebrick",[178,34,34]);cR("floralwhite",[255,250,240]);cR("forestgreen",[34,139]);cR("fuchsia",[255,0]);cR("gainsboro",[220]);cR("ghostwhite",[248,248,255]);cR("gold",[255,215,0]);cR("goldenrod",[218,165,32]);cR("gray",[128]);cR("green",[0,128]);cR("greenyellow",[173,255,47]);cR("grey",[128]);cR("honeydew",[240,255]);cR("hotpink",[255,105,180]);cR("indianred",[205,92,92]);cR("indigo",[75,0,130]);cR("ivory",[255,255,240]);cR("khaki",[240,230,140]);cR("lavender",[230,230,250]);cR("lavenderblush",[255,240,245]);cR("lawngreen",[124,252,0]);cR("lemonchiffon",[255,250,205]);cR("lightblue",[173,216,230]);cR("lightcoral",[240,128,128]);cR("lightcyan",[224,255,255]);cR("lightgoldenrodyellow",[250,250,210]);cR("lightgray",[211]);cR("lightgreen",[144,238]);cR("lightgrey",[211]);cR("lightpink",[255,182,193]);cR("lightsalmon",[255,160,122]);cR("lightseagreen",[32,178,170]);cR("lightskyblue",[135,206,250]);cR("lightslategray",[119,136,153]);cR("lightslategrey",[119,136,153]);cR("lightsteelblue",[176,196,222]);cR("lightyellow",[255,255,224]);cR("lime",[0,255]);cR("limegreen",[50,205]);cR("linen",[250,240,230]);cR("magenta",[255,0]);cR("maroon",[128,0,0]);cR("mediumaquamarine",[102,205,170]);cR("mediumblue",[0,0,205]);cR("mediumorchid",[186,85,211]);cR("mediumpurple",[147,112,219]);cR("mediumseagreen",[60,179,113]);cR("mediumslateblue",[123,104,238]);cR("mediumspringgreen",[0,250,154]);cR("mediumturquoise",[72,209,204]);cR("mediumvioletred",[199,21,133]);cR("midnightblue",[25,25,112]);cR("mintcream",[245,255,250]);cR("mistyrose",[255,228,225]);cR("moccasin",[255,228,181]);cR("navajowhite",[255,222,173]);cR("navy",[0,0,128]);cR("oldlace",[253,245,230]);cR("olive",[128,128,0]);cR("olivedrab",[107,142,35]);cR("orange",[255,165,0]);cR("orangered",[255,69,0]);cR("orchid",[218,112,214]);cR("palegoldenrod",[238,232,170]);cR("palegreen",[152,251]);cR("paleturquoise",[175,238,238]);cR("palevioletred",[219,112,147]);cR("papayawhip",[255,239,213]);cR("peachpuff",[255,218,185]);cR("peru",[205,133,63]);cR("pink",[255,192,203]);cR("plum",[221,160]);cR("powderblue",[176,224,230]);cR("purple",[128,0]);cR("rebeccapurple",[102,51,153]);cR("red",[255,0,0]);cR("rosybrown",[188,143,143]);cR("royalblue",[65,105,225]);cR("saddlebrown",[139,69,19]);cR("salmon",[250,128,114]);cR("sandybrown",[244,164,96]);cR("seagreen",[46,139,87]);cR("seashell",[255,245,238]);cR("sienna",[160,82,45]);cR("silver",[192]);cR("skyblue",[135,206,235]);cR("slateblue",[106,90,205]);cR("slategray",[112,128,144]);cR("slategrey",[112,128,144]);cR("snow",[255,250,250]);cR("springgreen",[0,255,127]);cR("steelblue",[70,130,180]);cR("tan",[210,180,140]);cR("teal",[0,128,128]);cR("thistle",[216,191]);cR("tomato",[255,99,71]);cR("turquoise",[64,224,208]);cR("violet",[238,130]);cR("wheat",[245,222,179]);cR("white",[255]);cR("whitesmoke",[245]);cR("yellow",[255,255,0]);cR("yellowgreen",[154,205,50]);var hR;function uR(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var pR=uR();function _R(e){pR=e}var fR={exec:()=>null};function gR(e,t=""){let n=typeof e=="string"?e:e.source,a={replace:(e,t)=>{let r=typeof t=="string"?t:t.source;return r=r.replace(yR.caret,"$1"),n=n.replace(e,r),a},getRegex:()=>new RegExp(n,t)};return a}var mR=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),yR={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|\$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|\$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|\$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},xR=/^(?:[ \t]*(?:\n|$))+/,bR=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,vR=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,kR=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,SR=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,wR=/(?:[*+-]|\d{1,9}[.)])/,CR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,TR=gR(CR).replace(/bull/g,wR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ER=gR(CR).replace(/bull/g,wR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),AR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,NR=/^[^\n]+/,PR=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,LR=gR(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",PR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),MR=gR(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,wR).getRegex(),DR="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",IR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,BR=gR("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",IR).replace("tag",DR).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),RR=gR(AR).replace("hr",kR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",DR).getRegex(),OR=gR(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",RR).getRegex(),FR={blockquote:OR,code:bR,def:LR,fences:vR,heading:SR,hr:kR,html:BR,lheading:TR,list:MR,newline:xR,paragraph:RR,table:fR,text:NR},jR=gR("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",kR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",DR).getRegex(),HR={...FR,lheading:ER,table:jR,paragraph:gR(AR).replace("hr",kR).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",jR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",DR).getRegex()},$R={...FR,html:gR(`^ *(?:comment *(?:\\n|\\s*\$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*\$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*\$))`).replace("comment",IR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:fR,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gR(AR).replace("hr",kR).replace("heading",` *#{1,6} *[^\n]`).replace("lheading",TR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},WR=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,zR=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,qR=/^( {2,}|\\)\n(?!\s*$)/,UR=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,YR=/[\p{P}\p{S}]/u,GR=/[\s\p{P}\p{S}]/u,VR=/[^\s\p{P}\p{S}]/u,XR=gR(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,GR).getRegex(),KR=/(?!~)[\p{P}\p{S}]/u,QR=/(?!~)[\s\p{P}\p{S}]/u,ZR=/(?:[^\s\p{P}\p{S}]|~)/u,JR=gR(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",mR?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),eO=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,tO=gR(eO,"u").replace(/punct/g,YR).getRegex(),nO=gR(eO,"u").replace(/punct/g,KR).getRegex(),aO="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",rO=gR(aO,"gu").replace(/notPunctSpace/g,VR).replace(/punctSpace/g,GR).replace(/punct/g,YR).getRegex(),iO=gR(aO,"gu").replace(/notPunctSpace/g,ZR).replace(/punctSpace/g,QR).replace(/punct/g,KR).getRegex(),oO=gR("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,VR).replace(/punctSpace/g,GR).replace(/punct/g,YR).getRegex(),sO=gR(/\\(punct)/,"gu").replace(/punct/g,YR).getRegex(),lO=gR(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dO=gR(IR).replace("(?:--\x3e|$)","--\x3e").getRegex(),cO=gR("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dO).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),hO=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,uO=gR(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",hO).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),pO=gR(/^!?\[(label)\]\[(ref)\]/).replace("label",hO).replace("ref",PR).getRegex(),_O=gR(/^!?\[(ref)\](?:\[\])?/).replace("ref",PR).getRegex(),fO=gR("reflink|nolink(?!\\()","g").replace("reflink",pO).replace("nolink",_O).getRegex(),gO=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,mO={_backpedal:fR,anyPunctuation:sO,autolink:lO,blockSkip:JR,br:qR,code:zR,del:fR,emStrongLDelim:tO,emStrongRDelimAst:rO,emStrongRDelimUnd:oO,escape:WR,link:uO,nolink:_O,punctuation:XR,reflink:pO,reflinkSearch:fO,tag:cO,text:UR,url:fR},yO={...mO,link:gR(/^!?\[(label)\]\((.*?)\)/).replace("label",hO).getRegex(),reflink:gR(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hO).getRegex()},xO={...mO,emStrongRDelimAst:iO,emStrongLDelim:nO,url:gR(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",gO).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:gR(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",gO).getRegex()},bO={...xO,br:gR(qR).replace("{2,}","*").getRegex(),text:gR(xO.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},vO={normal:FR,gfm:HR,pedantic:$R},kO={normal:mO,gfm:xO,breaks:bO,pedantic:yO};var SO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wO=e=>SO[e];function CO(e,t){if(t){if(yR.escapeTest.test(e))return e.replace(yR.escapeReplace,wO)}else if(yR.escapeTestNoEncode.test(e))return e.replace(yR.escapeReplaceNoEncode,wO);return e}function TO(e){try{e=encodeURI(e).replace(yR.percentDecode,"%")}catch{return null}return e}function EO(e,t){var n;let a=e.replace(yR.findPipe,(e,t,n)=>{let a=!1,r=t;for(;--r>=0&&n[r]==="\\";)a=!a;return a?"|":" |"}),r=a.split(yR.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((n=r.at(-1))===null||n===void 0?void 0:n.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(yR.slashPipe,"|");return r}function AO(e,t,n){let a=e.length;if(a===0)return"";let r=0;for(;r<a;){let i=e.charAt(a-r-1);if(i===t&&!n)r++;else if(i!==t&&n)r++;else break}return e.slice(0,a-r)}function NO(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let a=0;a<e.length;a++)if(e[a]==="\\")a++;else if(e[a]===t[0])n++;else if(e[a]===t[1]&&(n--,n<0))return a;return n>0?-2:-1}function PO(e,t,n,a,r){let i=t.href,o=t.title||null,s=e[1].replace(r.other.outputLinkReplace,"$1");a.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:s,tokens:a.inlineTokens(s)};return a.state.inLink=!1,l}function LO(e,t,n){let a=e.match(n.other.indentCodeCompensation);if(a===null)return t;let r=a[1];return t.split(`\n`).map(e=>{let t=e.match(n.other.beginningSpace);if(t===null)return e;let[a]=t;return a.length>=r.length?e.slice(r.length):e}).join(`\n`)}var MO=class{constructor(e){this.options=e||pR}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:AO(e,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=LO(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=AO(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:AO(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=AO(t[0],`\n`).split(`\n`),n="",a="",r=[];for(;e.length>0;){let t=!1,i=[],o;for(o=0;o<e.length;o++)if(this.rules.other.blockquoteStart.test(e[o]))i.push(e[o]),t=!0;else if(!t)i.push(e[o]);else break;e=e.slice(o);let s=i.join(`\n`),l=s.replace(this.rules.other.blockquoteSetextReplace,`\n    \$1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,a=a?`${a}\n${l}`:l;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,r,!0),this.lexer.state.top=d,e.length===0)break;let c=r.at(-1);if((c===null||c===void 0?void 0:c.type)==="code")break;if((c===null||c===void 0?void 0:c.type)==="blockquote"){let t=c,i=t.raw+`\n`+e.join(`\n`),o=this.blockquote(i);r[r.length-1]=o,n=n.substring(0,n.length-t.raw.length)+o.raw,a=a.substring(0,a.length-t.text.length)+o.text;break}else if((c===null||c===void 0?void 0:c.type)==="list"){let t=c,i=t.raw+`\n`+e.join(`\n`),o=this.list(i);r[r.length-1]=o,n=n.substring(0,n.length-c.raw.length)+o.raw,a=a.substring(0,a.length-t.raw.length)+o.raw,e=i.substring(r.at(-1).raw.length).split(`\n`);continue}}return{type:"blockquote",raw:n,tokens:r,text:a}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),a=n.length>1,r={type:"list",raw:"",ordered:a,start:a?+n.slice(0,-1):"",loose:!1,items:[]};n=a?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=a?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;e;){let n=!1,a="",s="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let l=t[2].split(`\n`,1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),d=e.split(`\n`,1)[0],c=!l.trim(),h=0;if(this.options.pedantic?(h=2,s=l.trimStart()):c?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,s=l.slice(h),h+=t[1].length),c&&this.rules.other.blankLine.test(d)&&(a+=d+`\n`,e=e.substring(d.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(h),n=this.rules.other.hrRegex(h),r=this.rules.other.fencesBeginRegex(h),i=this.rules.other.headingBeginRegex(h),o=this.rules.other.htmlBeginRegex(h);for(;e;){let u=e.split(`\n`,1)[0],p;if(d=u,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),p=d):p=d.replace(this.rules.other.tabCharGlobal,"    "),r.test(d)||i.test(d)||o.test(d)||t.test(d)||n.test(d))break;if(p.search(this.rules.other.nonSpaceChar)>=h||!d.trim())s+=`\n`+p.slice(h);else{if(c||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||r.test(l)||i.test(l)||n.test(l))break;s+=`\n`+d}!c&&!d.trim()&&(c=!0),a+=u+`\n`,e=e.substring(u.length+1),l=p.slice(h)}}r.loose||(o?r.loose=!0:this.rules.other.doubleBlankLine.test(a)&&(o=!0));let u=null,p;this.options.gfm&&(u=this.rules.other.listIsTask.exec(s),u&&(p=u[0]!=="[ ] ",s=s.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:a,task:!!u,checked:p,loose:!1,text:s,tokens:[]}),r.raw+=a}let s=r.items.at(-1);if(s)s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let e=0;e<r.items.length;e++)if(this.lexer.state.top=!1,r.items[e].tokens=this.lexer.blockTokens(r.items[e].text,[]),!r.loose){let t=r.items[e].tokens.filter(e=>e.type==="space"),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));r.loose=n}if(r.loose)for(let e=0;e<r.items.length;e++)r.items[e].loose=!0;return r}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:a}}}table(e){var t;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let a=EO(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=((t=n[3])===null||t===void 0?void 0:t.trim())?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`\n`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(a.length===r.length){for(let e of r)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<a.length;e++)o.header.push({text:a[e],tokens:this.lexer.inline(a[e]),header:!0,align:o.align[e]});for(let e of i)o.rows.push(EO(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=AO(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{let e=NO(t[2],"()");if(e===-2)return;if(e>-1){let n=(t[0].indexOf("!")===0?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],a="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],a=e[3])}else a=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n=n.slice(1):n=n.slice(1,-1)),PO(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=t[e.toLowerCase()];if(!a){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return PO(n,a,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!a||a[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(a[1]||a[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let n=[...a[0]].length-1,r,i,o=n,s=0,l=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);(a=l.exec(t))!=null;){if(r=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!r)continue;if(i=[...r].length,a[3]||a[4]){o+=i;continue}else if((a[5]||a[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+s);let t=[...a[0]][0].length,l=e.slice(0,n+a.index+t+i);if(Math.min(n,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let d=l.slice(2,-2);return{type:"strong",raw:l,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),a=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&a&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return t[2]==="@"?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var t,n;let a;if(a=this.rules.inline.url.exec(e)){let e,r;if(a[2]==="@")e=a[0],r="mailto:"+e;else{let i;do{i=a[0],a[0]=(n=(t=this.rules.inline._backpedal.exec(a[0]))===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:""}while(i!==a[0]);e=a[0],a[1]==="www."?r="http://"+a[0]:r=a[0]}return{type:"link",raw:a[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}};var DO=class l{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||pR,this.options.tokenizer=this.options.tokenizer||new MO,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:yR,block:vO.normal,inline:kO.normal};this.options.pedantic?(t.block=vO.pedantic,t.inline=kO.pedantic):this.options.gfm&&(t.block=vO.gfm,this.options.breaks?t.inline=kO.breaks:t.inline=kO.gfm),this.tokenizer.rules=t}static get rules(){return{block:vO,inline:kO}}static lex(e,t){return new l(t).lex(e)}static lexInline(e,t){return new l(t).inlineTokens(e)}lex(e){e=e.replace(yR.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var a,r,i;for(this.options.pedantic&&(e=e.replace(yR.tabCharGlobal,"    ").replace(yR.spaceLine,""));e;){let o;if((r=(a=this.options.extensions)===null||a===void 0?void 0:a.block)===null||r===void 0?void 0:r.some(n=>(o=n.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let n=t.at(-1);o.raw.length===1&&n!==void 0?n.raw+=`\n`:t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="paragraph"||(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=(n.raw.endsWith(`\n`)?"":`\n`)+o.raw,n.text+=`\n`+o.text,this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="paragraph"||(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=(n.raw.endsWith(`\n`)?"":`\n`)+o.raw,n.text+=`\n`+o.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},t.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}let s=e;if((i=this.options.extensions)===null||i===void 0?void 0:i.startBlock){let t=1/0,n=e.slice(1),a;this.options.extensions.startBlock.forEach(e=>{a=e.call({lexer:this},n),typeof a=="number"&&a>=0&&(t=Math.min(t,a))}),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){let a=t.at(-1);n&&(a===null||a===void 0?void 0:a.type)==="paragraph"?(a.raw+=(a.raw.endsWith(`\n`)?"":`\n`)+o.raw,a.text+=`\n`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):t.push(o),n=s.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=(n.raw.endsWith(`\n`)?"":`\n`)+o.raw,n.text+=`\n`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}else throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var n,a,r,i,o,s;let l=e,d=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;(d=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)e.includes(d[0].slice(d[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,d.index)+"["+"a".repeat(d[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}
for(;(d=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,d.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let c;for(;(d=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)c=d[2]?d[2].length:0,l=l.slice(0,d.index+c)+"["+"a".repeat(d[0].length-c-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);l=(r=(a=(n=this.options.hooks)===null||n===void 0?void 0:n.emStrongMask)===null||a===void 0?void 0:a.call({lexer:this},l))!==null&&r!==void 0?r:l;let h=!1,u="";for(;e;){h||(u=""),h=!1;let n;if((o=(i=this.options.extensions)===null||i===void 0?void 0:i.inline)===null||o===void 0?void 0:o.some(a=>(n=a.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))continue;if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);let a=t.at(-1);n.type==="text"&&(a===null||a===void 0?void 0:a.type)==="text"?(a.raw+=n.raw,a.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}let a=e;if((s=this.options.extensions)===null||s===void 0?void 0:s.startInline){let t=1/0,n=e.slice(1),r;this.options.extensions.startInline.forEach(e=>{r=e.call({lexer:this},n),typeof r=="number"&&r>=0&&(t=Math.min(t,r))}),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(a)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),h=!0;let a=t.at(-1);(a===null||a===void 0?void 0:a.type)==="text"?(a.raw+=n.raw,a.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}else throw new Error(t)}}return t}};var IO=class{constructor(e){this.options=e||pR}space(e){return""}code({text:e,lang:t,escaped:n}){var a;let r=(a=(t||"").match(yR.notSpaceStart))===null||a===void 0?void 0:a[0],i=e.replace(yR.endingNewline,"")+`\n`;return r?'<pre><code class="language-'+CO(r)+'">'+(n?i:CO(i,!0))+`</code></pre>\n`:"<pre><code>"+(n?i:CO(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,a="";for(let t=0;t<e.items.length;t++){let n=e.items[t];a+=this.listitem(n)}let r=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+r+i+`>\n`+a+"</"+r+`>\n`}listitem(e){var t;let n="";if(e.task){let a=this.checkbox({checked:!!e.checked});e.loose?((t=e.tokens[0])===null||t===void 0?void 0:t.type)==="paragraph"?(e.tokens[0].text=a+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=a+" "+CO(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):n+=a+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let a="";for(let t=0;t<e.rows.length;t++){let r=e.rows[t];n="";for(let e=0;e<r.length;e++)n+=this.tablecell(r[e]);a+=this.tablerow({text:n})}return a&&(a=`<tbody>${a}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+a+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${CO(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let a=this.parser.parseInline(n),r=TO(e);if(r===null)return a;e=r;let i='<a href="'+e+'"';return t&&(i+=' title="'+CO(t)+'"'),i+=">"+a+"</a>",i}image({href:e,title:t,text:n,tokens:a}){a&&(n=this.parser.parseInline(a,this.parser.textRenderer));let r=TO(e);if(r===null)return CO(n);e=r;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${CO(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:CO(e.text)}};var BO=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}};var RO=class l{constructor(e){this.options=e||pR,this.options.renderer=this.options.renderer||new IO,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new BO}static parse(e,t){return new l(t).parse(e)}static parseInline(e,t){return new l(t).parseInline(e)}parse(e,t=!0){var n,a;let r="";for(let i=0;i<e.length;i++){let o=e[i];if((a=(n=this.options.extensions)===null||n===void 0?void 0:n.renderers)===null||a===void 0?void 0:a[o.type]){let e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(t!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){r+=t||"";continue}}let s=o;switch(s.type){case"space":{r+=this.renderer.space(s);continue}case"hr":{r+=this.renderer.hr(s);continue}case"heading":{r+=this.renderer.heading(s);continue}case"code":{r+=this.renderer.code(s);continue}case"table":{r+=this.renderer.table(s);continue}case"blockquote":{r+=this.renderer.blockquote(s);continue}case"list":{r+=this.renderer.list(s);continue}case"html":{r+=this.renderer.html(s);continue}case"def":{r+=this.renderer.def(s);continue}case"paragraph":{r+=this.renderer.paragraph(s);continue}case"text":{let n=s,a=this.renderer.text(n);for(;i+1<e.length&&e[i+1].type==="text";)n=e[++i],a+=`\n`+this.renderer.text(n);t?r+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):r+=a;continue}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}parseInline(e,t=this.renderer){var n,a;let r="";for(let i=0;i<e.length;i++){let o=e[i];if((a=(n=this.options.extensions)===null||n===void 0?void 0:n.renderers)===null||a===void 0?void 0:a[o.type]){let e=this.options.extensions.renderers[o.type].call({parser:this},o);if(e!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=e||"";continue}}let s=o;switch(s.type){case"escape":{r+=t.text(s);break}case"html":{r+=t.html(s);break}case"link":{r+=t.link(s);break}case"image":{r+=t.image(s);break}case"strong":{r+=t.strong(s);break}case"em":{r+=t.em(s);break}case"codespan":{r+=t.codespan(s);break}case"br":{r+=t.br(s);break}case"del":{r+=t.del(s);break}case"text":{r+=t.text(s);break}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return r}};var OO=(hR=class{constructor(e){this.options=e||pR}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?DO.lex:DO.lexInline}provideParser(){return this.block?RO.parse:RO.parseInline}},a(hR,"S"),hR.passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]),hR.passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]),hR);var FO=class{constructor(...e){this.defaults=uR();this.options=this.setOptions;this.parse=this.parseMarkdown(!0);this.parseInline=this.parseMarkdown(!1);this.Parser=RO;this.Renderer=IO;this.TextRenderer=BO;this.Lexer=DO;this.Tokenizer=MO;this.Hooks=OO;this.use(...e)}walkTokens(e,t){var n,a;let r=[];for(let i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{let e=i;for(let n of e.header)r=r.concat(this.walkTokens(n.tokens,t));for(let n of e.rows)for(let e of n)r=r.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=i;r=r.concat(this.walkTokens(e.items,t));break}default:{let e=i;((a=(n=this.defaults.extensions)===null||n===void 0?void 0:n.childTokens)===null||a===void 0?void 0:a[e.type])?this.defaults.extensions.childTokens[e.type].forEach(n=>{let a=e[n].flat(1/0);r=r.concat(this.walkTokens(a,t))}):e.tokens&&(r=r.concat(this.walkTokens(e.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];n?t.renderers[e.name]=function(...t){let a=e.renderer.apply(this,t);return a===!1&&(a=n.apply(this,t)),a}:t.renderers[e.name]=e.renderer}if("tokenizer"in e){if(!e.level||e.level!=="block"&&e.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&(e.level==="block"?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:e.level==="inline"&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new IO(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let a=n,r=e.renderer[a],i=t[a];t[a]=((...e)=>{let n=r.apply(t,e);return n===!1&&(n=i.apply(t,e)),n||""})}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new MO(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let a=n,r=e.tokenizer[a],i=t[a];t[a]=((...e)=>{let n=r.apply(t,e);return n===!1&&(n=i.apply(t,e)),n})}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new OO;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let a=n,r=e.hooks[a],i=t[a];OO.passThroughHooks.has(n)?t[a]=(e=>{if(this.defaults.async&&OO.passThroughHooksRespectAsync.has(n))return(async()=>{let n=await r.call(t,e);return i.call(t,n)})();let a=r.call(t,e);return i.call(t,a)}):t[a]=((...e)=>{if(this.defaults.async)return(async()=>{let n=await r.apply(t,e);return n===!1&&(n=await i.apply(t,e)),n})();let n=r.apply(t,e);return n===!1&&(n=i.apply(t,e)),n})}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,a=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(a.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return DO.lex(e,t!==null&&t!==void 0?t:this.defaults)}parser(e,t){return RO.parse(e,t!==null&&t!==void 0?t:this.defaults)}parseMarkdown(e){return(t,n)=>{let a={...n},r={...this.defaults,...a},i=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&a.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let n=r.hooks?await r.hooks.preprocess(t):t,a=await(r.hooks?await r.hooks.provideLexer():e?DO.lex:DO.lexInline)(n,r),i=r.hooks?await r.hooks.processAllTokens(a):a;r.walkTokens&&await Promise.all(this.walkTokens(i,r.walkTokens));let o=await(r.hooks?await r.hooks.provideParser():e?RO.parse:RO.parseInline)(i,r);return r.hooks?await r.hooks.postprocess(o):o})().catch(i);try{r.hooks&&(t=r.hooks.preprocess(t));let n=(r.hooks?r.hooks.provideLexer():e?DO.lex:DO.lexInline)(t,r);r.hooks&&(n=r.hooks.processAllTokens(n)),r.walkTokens&&this.walkTokens(n,r.walkTokens);let a=(r.hooks?r.hooks.provideParser():e?RO.parse:RO.parseInline)(n,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(e){return i(e)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let e="<p>An error occurred:</p><pre>"+CO(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};var jO=new FO;function HO(e,t){return jO.parse(e,t)}HO.options=HO.setOptions=function(e){return jO.setOptions(e),HO.defaults=jO.defaults,_R(HO.defaults),HO};HO.getDefaults=uR;HO.defaults=pR;HO.use=function(...e){return jO.use(...e),HO.defaults=jO.defaults,_R(HO.defaults),HO};HO.walkTokens=function(e,t){return jO.walkTokens(e,t)};HO.parseInline=jO.parseInline;HO.Parser=RO;HO.parser=RO.parse;HO.Renderer=IO;HO.TextRenderer=BO;HO.Lexer=DO;HO.lexer=DO.lex;HO.Tokenizer=MO;HO.Hooks=OO;HO.parse=HO;HO.options;HO.setOptions;HO.use;HO.walkTokens;HO.parseInline;RO.parse;DO.lex;function $O(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}var a=Array.from(typeof e==="string"?[e]:e);a[a.length-1]=a[a.length-1].replace(/\r?\n([\t ]*)$/,"");var r=a.reduce(function(e,t){var n=t.match(/\n([\t ]+|(?!\s).)/g);if(n){return e.concat(n.map(function(e){var t,n;return(n=(t=e.match(/[\t ]/g))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}))}return e},[]);if(r.length){var i=new RegExp("\n[\t ]{"+Math.min.apply(Math,r)+"}","g");a=a.map(function(e){return e.replace(i,"\n")})}a[0]=a[0].replace(/^\r?\n/,"");var o=a[0];t.forEach(function(e,t){var n=o.match(/(?:^|\n)( *)$/);var r=n?n[1]:"";var i=e;typeof e==="string"&&e.includes("\n")&&(i=String(e).split("\n").map(function(e,t){return t===0?e:""+r+e}).join("\n"));o+=i+a[t+1]});return o}var WO={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80};var zO=new Map;var qO=new Map;var UO=Xi(e=>{for(const t of e){if(!t.name){throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.')}Zi.debug("Registering icon pack:",t.name);if("loader"in t){qO.set(t.name,t.loader)}else if("icons"in t){zO.set(t.name,t.icons)}else{Zi.error("Invalid icon loader:",t);throw new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}}},"registerIconPacks");var YO=Xi(async(e,t)=>{const n=zB(e,!0,t!==void 0);if(!n){throw new Error(`Invalid icon name: ${e}`)}const a=n.prefix||t;if(!a){throw new Error(`Icon name must contain a prefix: ${e}`)}let r=zO.get(a);if(!r){let e=qO.get(a);if(!e){throw new Error(`Icon set not found: ${n.prefix}`)}try{let t=await e();r={...t,prefix:a};zO.set(a,r)}catch(e){Zi.error(e);throw new Error(`Failed to load icon set: ${n.prefix}`)}}const i=XB(r,n.name);if(!i){throw new Error(`Icon not found: ${e}`)}return i},"getRegisteredIconData");var GO=Xi(async e=>{try{await YO(e);return!0}catch{return!1}},"isIconAvailable");var VO=Xi(async(e,t,n)=>{let a;try{a=await YO(e,t===null||t===void 0?void 0:t.fallbackPrefix)}catch(e){Zi.error(e);a=WO}const r=aR(a,t);const i=lR(sR(r.body),{...r.attributes,...n});return zs(i,As())},"getIconSVG");function XO(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,"\n");const a=n.replace(/\n{2,}/g,"\n");const r=$O(a);if(t===!1){return r.replace(/ /g,"&nbsp;")}return r}Xi(XO,"preprocessMarkdown");function KO(e,t={}){const n=XO(e,t);const a=HO.lexer(n);const r=[[]];let i=0;function o(e,t="normal"){if(e.type==="text"){let n=e.text.split("\n");n.forEach((e,n)=>{if(n!==0){i++;r.push([])}e.split(" ").forEach(e=>{e=e.replace(/&#39;/g,`'`);e&&r[i].push({content:e,type:t})})})}else if(e.type==="strong"||e.type==="em"){e.tokens.forEach(t=>{o(t,e.type)})}else e.type==="html"&&r[i].push({content:e.text,type:"normal"})}Xi(o,"processNode");a.forEach(e=>{var t;if(e.type==="paragraph"){(t=e.tokens)===null||t===void 0?void 0:t.forEach(e=>{o(e)})}else if(e.type==="html"){r[i].push({content:e.text,type:"normal"})}else{r[i].push({content:e.raw,type:"normal"})}});return r}Xi(KO,"markdownToLines");function QO(e,{markdownAutoWrap:t}={}){const n=HO.lexer(e);function a(e){var n,r,i;if(e.type==="text"){if(t===!1){return e.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;")}return e.text.replace(/\n */g,"<br/>")}else if(e.type==="strong"){return`<strong>${(n=e.tokens)===null||n===void 0?void 0:n.map(a).join("")}</strong>`}else if(e.type==="em"){return`<em>${(r=e.tokens)===null||r===void 0?void 0:r.map(a).join("")}</em>`}else if(e.type==="paragraph"){return`<p>${(i=e.tokens)===null||i===void 0?void 0:i.map(a).join("")}</p>`}else if(e.type==="space"){return""}else if(e.type==="html"){return`${e.text}`}else if(e.type==="escape"){return e.text}Zi.warn(`Unsupported markdown: ${e.type}`);return e.raw}Xi(a,"output");return n.map(a).join("")}Xi(QO,"markdownToHTML");function ZO(e){if(Intl.Segmenter){return[...(new Intl.Segmenter).segment(e)].map(e=>e.segment)}return[...e]}Xi(ZO,"splitTextToChars");function JO(e,t){const n=ZO(t.content);return eF(e,[],n,t.type)}Xi(JO,"splitWordToFitWidth");function eF(e,t,n,a){if(n.length===0){return[{content:t.join(""),type:a},{content:"",type:a}]}const[r,...i]=n;const o=[...t,r];if(e([{content:o.join(""),type:a}])){return eF(e,o,i,a)}if(t.length===0&&r){t.push(r);n.shift()}return[{content:t.join(""),type:a},{content:n.join(""),type:a}]}Xi(eF,"splitWordToFitWidthRecursion");function tF(e,t){if(e.some(({content:e})=>e.includes("\n"))){throw new Error("splitLineToFitWidth does not support newlines in the line")}return nF(e,t)}Xi(tF,"splitLineToFitWidth");function nF(e,t,n=[],a=[]){var r;if(e.length===0){a.length>0&&n.push(a);return n.length>0?n:[]}let i="";if(e[0].content===" "){i=" ";e.shift()}const o=(r=e.shift())!==null&&r!==void 0?r:{content:" ",type:"normal"};const s=[...a];i!==""&&s.push({content:i,type:"normal"});s.push(o);if(t(s)){return nF(e,t,n,s)}if(a.length>0){n.push(a);e.unshift(o)}else if(o.content){let[a,r]=JO(t,o);n.push([a]);r.content&&e.unshift(r)}return nF(e,t,n)}Xi(nF,"splitLineToFitWidthRecursion");function aF(e,t){t&&e.attr("style",t)}Xi(aF,"applyStyle");async function rF(e,t,n,a,r=!1,i=As()){const o=e.append("foreignObject");o.attr("width",`${10*n}px`);o.attr("height",`${10*n}px`);const s=o.append("xhtml:div");const l=il(t.label)?await dl(t.label.replace(cl.lineBreakRegex,"\n"),i):zs(t.label,i);const d=t.isNode?"nodeLabel":"edgeLabel";const c=s.append("span");c.html(l);aF(c,t.labelStyle);c.attr("class",`${d} ${a}`);aF(s,t.labelStyle);s.style("display","table-cell");s.style("white-space","nowrap");s.style("line-height","1.5");s.style("max-width",n+"px");s.style("text-align","center");s.attr("xmlns","http://www.w3.org/1999/xhtml");r&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();if(h.width===n){s.style("display","table");s.style("white-space","break-spaces");s.style("width",n+"px");h=s.node().getBoundingClientRect()}return o.node()}Xi(rF,"addHtmlSpan");function iF(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}Xi(iF,"createTspan");function oF(e,t,n){const a=e.append("text");const r=iF(a,1,t);dF(r,n);const i=r.node().getComputedTextLength();a.remove();return i}Xi(oF,"computeWidthOfText");function sF(e,t,n){var a;const r=e.append("text");const i=iF(r,1,t);dF(i,[{content:n,type:"normal"}]);const o=(a=i.node())===null||a===void 0?void 0:a.getBoundingClientRect();o&&r.remove();return o}Xi(sF,"computeDimensionOfText");function lF(e,t,n,a=!1){const r=1.1;const i=t.append("g");const o=i.insert("rect").attr("class","background").attr("style","stroke: none");const s=i.append("text").attr("y","-10.1");let l=0;for(const t of n){let n=Xi(t=>oF(i,r,t)<=e,"checkWidth"),a=n(t)?[t]:tF(t,n);for(const e of a){let t=iF(s,l,r);dF(t,e);l++}}if(a){let e=s.node().getBBox(),t=2;o.attr("x",e.x-t).attr("y",e.y-t).attr("width",e.width+2*t).attr("height",e.height+2*t);return i.node()}else{return s.node()}}Xi(lF,"createFormattedText");function dF(e,t){e.text("");t.forEach((t,n)=>{const a=e.append("tspan").attr("font-style",t.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");if(n===0){a.text(t.content)}else{a.text(" "+t.content)}})}Xi(dF,"updateTextContentAndStyles");async function cF(e,t={}){const n=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(e,a,r)=>{n.push((async()=>{const n=`${a}:${r}`;if(await GO(n)){return await VO(n,void 0,{class:"label-icon"})}else{return`<i class='${zs(e,t).replace(":"," ")}'></i>`}})());return e});const a=await Promise.all(n);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>{var e;return(e=a.shift())!==null&&e!==void 0?e:""})}Xi(cF,"replaceIconSubstring");var hF=Xi(async(e,t="",{style:n="",isTitle:a=!1,classes:r="",useHtmlLabels:i=!0,isNode:o=!0,width:s=200,addSvgBackground:l=!1}={},d)=>{Zi.debug("XYZ createText",t,n,a,r,i,o,"addSvgBackground: ",l);if(i){let a=QO(t,d),i=await cF(DB(a),d),c=t.replace(/\\\\/g,"\\"),h={isNode:o,label:il(t)?c:i,labelStyle:n.replace("fill:","color:")},u=await rF(e,h,s,r,l,d);return u}else{let a=t.replace(/<br\s*\/?>/g,"<br/>"),r=KO(a.replace("<br>","<br/>"),d),i=lF(s,e,r,t?l:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));let e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");$h(i).attr("style",e)}else{let e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");$h(i).select("rect").attr("style",e.replace(/background:/g,"fill:"));let t=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");$h(i).select("text").attr("style",t)}return i}},"createText");function uF(e,t,n){if(e&&e.length){let[a,r]=t,i=Math.PI/180*n,o=Math.cos(i),s=Math.sin(i);for(const t of e){let[e,n]=t;t[0]=(e-a)*o-(n-r)*s+a,t[1]=(e-a)*s+(n-r)*o+r}}}function pF(e,t){return e[0]===t[0]&&e[1]===t[1]}function _F(e,t,n,a=1){const r=Math.max(t,.1),i=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,o=[0,0];if(n)for(const e of i)uF(e,o,n);const s=function(e,t,n){const a=[];for(const t of e){let e=[...t];pF(e[0],e[e.length-1])||e.push([e[0][0],e[0][1]]),e.length>2&&a.push(e)}const r=[];t=Math.max(t,.1);const i=[];for(const e of a)for(let t=0;t<e.length-1;t++){let n=e[t],a=e[t+1];if(n[1]!==a[1]){let e=Math.min(n[1],a[1]);i.push({ymin:e,ymax:Math.max(n[1],a[1]),x:e===n[1]?n[0]:a[0],islope:(a[0]-n[0])/(a[1]-n[1])})}}if(i.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!i.length)return r;let o=[],s=i[0].ymin,l=0;for(;o.length||i.length;){if(i.length){let e=-1;for(let t=0;t<i.length&&!(i[t].ymin>s);t++)e=t;i.splice(0,e+1).forEach(e=>{o.push({s:s,edge:e})})}if(o=o.filter(e=>!(e.edge.ymax<=s)),o.sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(1!==n||l%t==0)&&o.length>1)for(let e=0;e<o.length;e+=2){let t=e+1;if(t>=o.length)break;let n=o[e].edge,a=o[t].edge;r.push([[Math.round(n.x),s],[Math.round(a.x),s]])}s+=n,o.forEach(e=>{e.edge.x=e.edge.x+n*e.edge.islope}),l++}return r}(i,r,a);if(n){for(const e of i)uF(e,o,-n);!function(e,t,n){const a=[];e.forEach(e=>a.push(...e)),uF(a,t,n)}(s,o,-n)}return s}function fF(e,t){var n;const a=t.hachureAngle+90;let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.round(Math.max(r,.1));let i=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(i=r),_F(e,r,a,i||1)}class o_rough{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const n=fF(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){const n=[];for(const a of e)n.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],t));return n}}function gF(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class h_rough extends o_rough{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);const a=fF(e,Object.assign({},t,{hachureGap:n})),r=Math.PI/180*t.hachureAngle,i=[],o=.5*n*Math.cos(r),s=.5*n*Math.sin(r);for(const[e,t]of a)gF([e,t])&&i.push([[e[0]-o,e[1]+s],[...t]],[[e[0]+o,e[1]-s],[...t]]);return{type:"fillSketch",ops:this.renderLines(i,t)}}}class r_rough extends o_rough{fillPolygons(e,t){const n=this._fillPolygons(e,t),a=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),r=this._fillPolygons(e,a);return n.ops=n.ops.concat(r.ops),n}}class i_rough{constructor(e){this.helper=e}fillPolygons(e,t){const n=fF(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){const n=[];let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);let r=t.fillWeight;r<0&&(r=t.strokeWidth/2);const i=a/4;for(const o of e){let e=gF(o),s=e/a,l=Math.ceil(s)-1,d=e-l*a,c=(o[0][0]+o[1][0])/2-a/4,h=Math.min(o[0][1],o[1][1]);for(let e=0;e<l;e++){let o=h+d+e*a,s=c-i+2*Math.random()*i,l=o-i+2*Math.random()*i,u=this.helper.ellipse(s,l,r,r,t);n.push(...u.ops)}}return{type:"fillSketch",ops:n}}}class c_rough{constructor(e){this.helper=e}fillPolygons(e,t){const n=fF(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){const n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,a=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,r=[];return e.forEach(e=>{const i=gF(e),o=Math.floor(i/(n+a)),s=(i+a-o*(n+a))/2;let l=e[0],d=e[1];l[0]>d[0]&&(l=e[1],d=e[0]);const c=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let e=0;e<o;e++){let i=e*(n+a),o=i+n,d=[l[0]+i*Math.cos(c)+s*Math.cos(c),l[1]+i*Math.sin(c)+s*Math.sin(c)],h=[l[0]+o*Math.cos(c)+s*Math.cos(c),l[1]+o*Math.sin(c)+s*Math.sin(c)];r.push(...this.helper.doubleLineOps(d[0],d[1],h[0],h[1],t))}}),r}}class l_rough{constructor(e){this.helper=e}fillPolygons(e,t){const n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,a=t.zigzagOffset<0?n:t.zigzagOffset,r=fF(e,t=Object.assign({},t,{hachureGap:n+a}));return{type:"fillSketch",ops:this.zigzagLines(r,a,t)}}zigzagLines(e,t,n){const a=[];return e.forEach(e=>{const r=gF(e),i=Math.round(r/(2*t));let o=e[0],s=e[1];o[0]>s[0]&&(o=e[1],s=e[0]);const l=Math.atan((s[1]-o[1])/(s[0]-o[0]));for(let e=0;e<i;e++){let r=2*e*t,i=2*(e+1)*t,s=Math.sqrt(2*Math.pow(t,2)),d=[o[0]+r*Math.cos(l),o[1]+r*Math.sin(l)],c=[o[0]+i*Math.cos(l),o[1]+i*Math.sin(l)],h=[d[0]+s*Math.cos(l+Math.PI/4),d[1]+s*Math.sin(l+Math.PI/4)];a.push(...this.helper.doubleLineOps(d[0],d[1],h[0],h[1],n),...this.helper.doubleLineOps(h[0],h[1],c[0],c[1],n))}}),a}}const mF={};class p_rough{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const yF=0,xF=1,bF=2,vF={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function kF(e,t){return e.type===t}function SF(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:yF,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:xF,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:bF,text:""},t}(e);let a="BOD",r=0,i=n[r];for(;!kF(i,bF);){let e=0,o=[];if("BOD"===a){if("M"!==i.text&&"m"!==i.text)return SF("M0,0"+s);r++,e=vF[i.text],a=i.text}else kF(i,xF)?e=vF[a]:(r++,e=vF[i.text],a=i.text);if(!(r+e<n.length))throw new Error("Path data ended short");for(let t=r;t<r+e;t++){let e=n[t];if(!kF(e,xF))throw new Error("Param not a number: "+a+","+e.text);o[o.length]=+e.text}if("number"!=typeof vF[a])throw new Error("Bad segment: "+a);let s={key:a,data:o};t.push(s),r+=e,i=n[r],"M"===a&&(a="L"),"m"===a&&(a="l")}return t}function wF(e){let t=0,n=0,a=0,r=0;const i=[];for(const{key:o,data:s}of e)switch(o){case"M":i.push({key:"M",data:[...s]}),[t,n]=s,[a,r]=s;break;case"m":t+=s[0],n+=s[1],i.push({key:"M",data:[t,n]}),a=t,r=n;break;case"L":i.push({key:"L",data:[...s]}),[t,n]=s;break;case"l":t+=s[0],n+=s[1],i.push({key:"L",data:[t,n]});break;case"C":i.push({key:"C",data:[...s]}),t=s[4],n=s[5];break;case"c":{let e=s.map((e,a)=>a%2?e+n:e+t);i.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":i.push({key:"Q",data:[...s]}),t=s[2],n=s[3];break;case"q":{let e=s.map((e,a)=>a%2?e+n:e+t);i.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":i.push({key:"A",data:[...s]}),t=s[5],n=s[6];break;case"a":t+=s[5],n+=s[6],i.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,n]});break;case"H":i.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],i.push({key:"H",data:[t]});break;case"V":i.push({key:"V",data:[...s]}),n=s[0];break;case"v":n+=s[0],i.push({key:"V",data:[n]});break;case"S":i.push({key:"S",data:[...s]}),t=s[2],n=s[3];break;case"s":{let e=s.map((e,a)=>a%2?e+n:e+t);i.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":i.push({key:"T",data:[...s]}),t=s[0],n=s[1];break;case"t":t+=s[0],n+=s[1],i.push({key:"T",data:[t,n]});break;case"Z":case"z":i.push({key:"Z",data:[]}),t=a,n=r}return i}function CF(e){const t=[];let n=0,a=0;for(const{key:r,data:i}of e){switch(d){case"M":t.push({key:"M",data:[...i]}),[n,a]=i,[r,l]=i;break;case"C":t.push({key:"C",data:[...i]}),n=i[4],a=i[5],T=i[2],E=i[3];break;case"L":t.push({key:"L",data:[...i]}),[n,a]=i;break;case"H":n=i[0],t.push({key:"L",data:[n,a]});break;case"V":a=i[0],t.push({key:"L",data:[n,a]});break;case"S":let e=0,r=0;"C"===f||"S"===f?(e=n+(n-T),r=a+(a-E)):(e=n,r=a),t.push({key:"C",data:[e,r,...i]}),T=i[0],E=i[1],n=i[2],a=i[3];break;case"T":let[o,s]=i,l=0,d=0;"Q"===f||"T"===f?(l=n+(n-T),d=a+(a-E)):(l=n,d=a);let c=n+2*(l-n)/3,h=a+2*(d-a)/3,u=o+2*(l-o)/3,p=s+2*(d-s)/3;t.push({key:"C",data:[c,h,u,p,o,s]}),T=l,E=d,n=o,a=s;break;case"Q":let[_,f,g,m]=i,y=n+2*(_-n)/3,x=a+2*(f-a)/3,b=g+2*(_-g)/3,v=m+2*(f-m)/3;t.push({key:"C",data:[y,x,b,v,g,m]}),T=_,E=f,n=g,a=m;break;case"A":let k=Math.abs(i[0]),S=Math.abs(i[1]),w=i[2],C=i[3],T=i[4],E=i[5],A=i[6];if(0===k||0===S)t.push({key:"C",data:[n,a,E,A,E,A]}),n=E,a=A;else(n!==E||a!==A)&&(EF(n,a,E,A,k,S,w,C,T).forEach(function(e){t.push({key:"C",data:e})}),n=E,a=A);break;case"Z":t.push({key:"Z",data:[]}),n=r,a=l}}return t}function TF(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function EF(e,t,n,a,r,i,o,s,l,d){const c=(h=o,Math.PI*h/180);var h;let u=[],p=0,_=0,f=0,g=0;if(d)[p,_,f,g]=d;else{[e,t]=TF(e,t,-c),[n,a]=TF(n,a,-c);let o=(e-n)/2,d=(t-a)/2,h=o*o/(r*r)+d*d/(i*i);h>1&&(h=Math.sqrt(h),r*=h,i*=h);let u=r*r,m=i*i,y=u*m-u*d*d-m*o*o,x=u*d*d+m*o*o,b=(s===l?-1:1)*Math.sqrt(Math.abs(y/x));f=b*r*d/i+(e+n)/2,g=b*-i*o/r+(t+a)/2,p=Math.asin(parseFloat(((t-g)/i).toFixed(9))),_=Math.asin(parseFloat(((a-g)/i).toFixed(9))),e<f&&(p=Math.PI-p),n<f&&(_=Math.PI-_),p<0&&(p=2*Math.PI+p),_<0&&(_=2*Math.PI+_),l&&p>_&&(p-=2*Math.PI),!l&&_>p&&(_-=2*Math.PI)}let m=_-p;if(Math.abs(m)>120*Math.PI/180){let e=_,t=n,s=a;_=l&&_>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,u=EF(n=f+r*Math.cos(_),a=g+i*Math.sin(_),t,s,r,i,o,0,l,[_,e,f,g])}m=_-p;const y=Math.cos(p),x=Math.sin(p),b=Math.cos(_),v=Math.sin(_),k=Math.tan(m/4),S=4/3*r*k,w=4/3*i*k,C=[e,t],T=[e+S*x,t-w*y],E=[n+S*v,a-w*b],A=[n,a]
if(T[0]=2*C[0]-T[0],T[1]=2*C[1]-T[1],d)return[T,E,A].concat(u);{u=[T,E,A].concat(u);let e=[];for(let t=0;t<u.length;t+=3){let n=TF(u[t][0],u[t][1],c),a=TF(u[t+1][0],u[t+1][1],c),r=TF(u[t+2][0],u[t+2][1],c);e.push([n[0],n[1],a[0],a[1],r[0],r[1]])}return e}}const AF={randOffset:function(e,t){return WF(e,t)},randOffsetWithRange:function(e,t,n){return $F(e,t,n)},ellipse:function(e,t,n,a,r){const i=DF(n,a,r);return IF(e,t,r,i).opset},doubleLineOps:function(e,t,n,a,r){return zF(e,t,n,a,r,!0)}};function NF(e,t,n,a,r){return{type:"path",ops:zF(e,t,n,a,r)}}function PF(e,t,n){const a=(e||[]).length;if(a>2){let r=[];for(let t=0;t<a-1;t++)r.push(...zF(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&r.push(...zF(e[a-1][0],e[a-1][1],e[0][0],e[0][1],n)),{type:"path",ops:r}}return 2===a?NF(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function LF(e,t,n,a,r){return function(e,t){return PF(e,!0,t)}([[e,t],[e+n,t],[e+n,t+a],[e,t+a]],r)}function MF(e,t){if(e.length){let n="number"==typeof e[0][0]?[e]:e,a=UF(n[0],1*(1+.2*t.roughness),t),r=t.disableMultiStroke?[]:UF(n[0],1.5*(1+.22*t.roughness),jF(t));for(let e=1;e<n.length;e++){let i=n[e];if(i.length){let e=UF(i,1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:UF(i,1.5*(1+.22*t.roughness),jF(t));for(const t of e)"move"!==t.op&&a.push(t);for(const e of n)"move"!==e.op&&r.push(e)}}return{type:"path",ops:a.concat(r)}}return{type:"path",ops:[]}}function DF(e,t,n){const a=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*a)),i=2*Math.PI/r;let o=Math.abs(e/2),s=Math.abs(t/2);const l=1-n.curveFitting;return o+=WF(o*l,n),s+=WF(s*l,n),{increment:i,rx:o,ry:s}}function IF(e,t,n,a){const[r,i]=GF(a.increment,e,t,a.rx,a.ry,1,a.increment*$F(.1,$F(.4,1,n),n),n);let o=YF(r,null,n);if(!n.disableMultiStroke&&0!==n.roughness){let[r]=GF(a.increment,e,t,a.rx,a.ry,1.5,0,n),i=YF(r,null,n);o=o.concat(i)}return{estimatedPoints:i,opset:{type:"path",ops:o}}}function BF(e,t,n,a,r,i,o,s,l){let d=Math.abs(n/2),c=Math.abs(a/2);d+=WF(.01*d,l),c+=WF(.01*c,l);let h=r,u=i;for(;h<0;)h+=2*Math.PI,u+=2*Math.PI;u-h>2*Math.PI&&(h=0,u=2*Math.PI);const p=2*Math.PI/l.curveStepCount,_=Math.min(p/2,(u-h)/2),f=VF(_,e,t,d,c,h,u,1,l);if(!l.disableMultiStroke){let n=VF(_,e,t,d,c,h,u,1.5,l);f.push(...n)}return o&&(s?f.push(...zF(e,t,e+d*Math.cos(h),t+c*Math.sin(h),l),...zF(e,t,e+d*Math.cos(u),t+c*Math.sin(u),l)):f.push({op:"lineTo",data:[e,t]},{op:"lineTo",data:[e+d*Math.cos(h),t+c*Math.sin(h)]})),{type:"path",ops:f}}function RF(e,t){const n=CF(wF(SF(e))),a=[];let r=[0,0];for(const{key:e,data:i}of n)switch(e){case"M":r=[i[0],i[1]],o=[i[0],i[1]];break;case"L":a.push(...zF(r[0],r[1],i[0],i[1],t)),r=[i[0],i[1]];break;case"C":let[e,n,o,s,l,d]=i;a.push(...XF(e,n,o,s,l,d,r,t)),r=[l,d];break;case"Z":a.push(...zF(r[0],r[1],o[0],o[1],t)),r=[o[0],o[1]]}return{type:"path",ops:a}}function OF(e,t){const n=[];for(const a of e)if(a.length){let e=t.maxRandomnessOffset||0,r=a.length;if(r>2){n.push({op:"move",data:[a[0][0]+WF(e,t),a[0][1]+WF(e,t)]});for(let i=1;i<r;i++)n.push({op:"lineTo",data:[a[i][0]+WF(e,t),a[i][1]+WF(e,t)]})}}return{type:"fillPath",ops:n}}function FF(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!mF[n])switch(n){case"zigzag":mF[n]||(mF[n]=new h_rough(t));break;case"cross-hatch":mF[n]||(mF[n]=new r_rough(t));break;case"dots":mF[n]||(mF[n]=new i_rough(t));break;case"dashed":mF[n]||(mF[n]=new c_rough(t));break;case"zigzag-line":mF[n]||(mF[n]=new l_rough(t));break;default:n="hachure",mF[n]||(mF[n]=new o_rough(t))}return mF[n]}(t,AF).fillPolygons(e,t)}function jF(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function HF(e){return e.randomizer||(e.randomizer=new p_rough(e.seed||0)),e.randomizer.next()}function $F(e,t,n,a=1){return n.roughness*a*(HF(n)*(t-e)+e)}function WF(e,t,n=1){return $F(-e,e,t,n)}function zF(e,t,n,a,r,i=!1){const o=i?r.disableMultiStrokeFill:r.disableMultiStroke,s=qF(e,t,n,a,r,!0,!1);if(o)return s;const l=qF(e,t,n,a,r,!0,!0);return s.concat(l)}function qF(e,t,n,a,r,i,o){const s=Math.pow(e-n,2)+Math.pow(t-a,2),l=Math.sqrt(s);let d=1;d=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=r.maxRandomnessOffset||0;c*c*100>s&&(c=l/10);const h=c/2,u=.2+.2*HF(r);let p=r.bowing*r.maxRandomnessOffset*(a-t)/200,_=r.bowing*r.maxRandomnessOffset*(e-n)/200;p=WF(p,r,d),_=WF(_,r,d);const f=[],g=()=>WF(h,r,d),m=()=>WF(c,r,d),y=r.preserveVertices;return i&&(o?f.push({op:"move",data:[e+(y?0:g()),t+(y?0:g())]}):f.push({op:"move",data:[e+(y?0:WF(c,r,d)),t+(y?0:WF(c,r,d))]})),o?f.push({op:"bcurveTo",data:[p+e+(n-e)*u+g(),_+t+(a-t)*u+g(),p+e+2*(n-e)*u+g(),_+t+2*(a-t)*u+g(),n+(y?0:g()),a+(y?0:g())]}):f.push({op:"bcurveTo",data:[p+e+(n-e)*u+m(),_+t+(a-t)*u+m(),p+e+2*(n-e)*u+m(),_+t+2*(a-t)*u+m(),n+(y?0:m()),a+(y?0:m())]}),f}function UF(e,t,n){if(!e.length)return[];const a=[];a.push([e[0][0]+WF(t,n),e[0][1]+WF(t,n)]),a.push([e[0][0]+WF(t,n),e[0][1]+WF(t,n)]);for(let r=1;r<e.length;r++)a.push([e[r][0]+WF(t,n),e[r][1]+WF(t,n)]),r===e.length-1&&a.push([e[r][0]+WF(t,n),e[r][1]+WF(t,n)]);return YF(a,null,n)}function YF(e,t,n){const a=e.length,r=[];if(a>3){let i=[],o=1-n.curveTightness;r.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<a;t++){let n=e[t];i[0]=[n[0],n[1]],i[1]=[n[0]+(o*e[t+1][0]-o*e[t-1][0])/6,n[1]+(o*e[t+1][1]-o*e[t-1][1])/6],i[2]=[e[t+1][0]+(o*e[t][0]-o*e[t+2][0])/6,e[t+1][1]+(o*e[t][1]-o*e[t+2][1])/6],i[3]=[e[t+1][0],e[t+1][1]],r.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&2===t.length){let e=n.maxRandomnessOffset;r.push({op:"lineTo",data:[t[0]+WF(e,n),t[1]+WF(e,n)]})}}else 3===a?(r.push({op:"move",data:[e[1][0],e[1][1]]}),r.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===a&&r.push(...qF(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return r}function GF(e,t,n,a,r,i,o,s){const l=[],d=[];if(0===s.roughness){e/=4,d.push([t+a*Math.cos(-e),n+r*Math.sin(-e)]);for(let i=0;i<=2*Math.PI;i+=e){let e=[t+a*Math.cos(i),n+r*Math.sin(i)];l.push(e),d.push(e)}d.push([t+a*Math.cos(0),n+r*Math.sin(0)]),d.push([t+a*Math.cos(e),n+r*Math.sin(e)])}else{let c=WF(.5,s)-Math.PI/2;d.push([WF(i,s)+t+.9*a*Math.cos(c-e),WF(i,s)+n+.9*r*Math.sin(c-e)]);let h=2*Math.PI+c-.01;for(let o=c;o<h;o+=e){let e=[WF(i,s)+t+a*Math.cos(o),WF(i,s)+n+r*Math.sin(o)];l.push(e),d.push(e)}d.push([WF(i,s)+t+a*Math.cos(c+2*Math.PI+.5*o),WF(i,s)+n+r*Math.sin(c+2*Math.PI+.5*o)]),d.push([WF(i,s)+t+.98*a*Math.cos(c+o),WF(i,s)+n+.98*r*Math.sin(c+o)]),d.push([WF(i,s)+t+.9*a*Math.cos(c+.5*o),WF(i,s)+n+.9*r*Math.sin(c+.5*o)])}return[d,l]}function VF(e,t,n,a,r,i,o,s,l){const d=i+WF(.1,l),c=[];c.push([WF(s,l)+t+.9*a*Math.cos(d-e),WF(s,l)+n+.9*r*Math.sin(d-e)]);for(let i=d;i<=o;i+=e)c.push([WF(s,l)+t+a*Math.cos(i),WF(s,l)+n+r*Math.sin(i)]);return c.push([t+a*Math.cos(o),n+r*Math.sin(o)]),c.push([t+a*Math.cos(o),n+r*Math.sin(o)]),YF(c,null,l)}function XF(e,t,n,a,r,i,o,s){const l=[],d=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let c=[0,0];const h=s.disableMultiStroke?1:2,u=s.preserveVertices;for(let p=0;p<h;p++)0===p?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(u?0:WF(d[0],s)),o[1]+(u?0:WF(d[0],s))]}),c=u?[r,i]:[r+WF(d[p],s),i+WF(d[p],s)],l.push({op:"bcurveTo",data:[e+WF(d[p],s),t+WF(d[p],s),n+WF(d[p],s),a+WF(d[p],s),c[0],c[1]]});return l}function KF(e){return[...e]}function QF(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const a=[];if(3===n)a.push(KF(e[0]),KF(e[1]),KF(e[2]),KF(e[2]));else{let n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);let r=[],i=1-t;a.push(KF(n[0]));for(let e=1;e+2<n.length;e++){let t=n[e];r[0]=[t[0],t[1]],r[1]=[t[0]+(i*n[e+1][0]-i*n[e-1][0])/6,t[1]+(i*n[e+1][1]-i*n[e-1][1])/6],r[2]=[n[e+1][0]+(i*n[e][0]-i*n[e+2][0])/6,n[e+1][1]+(i*n[e][1]-i*n[e+2][1])/6],r[3]=[n[e+1][0],n[e+1][1]],a.push(r[1],r[2],r[3])}}return a}function ZF(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function JF(e,t,n){const a=ZF(t,n);if(0===a)return ZF(e,t);let r=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/a;return r=Math.max(0,Math.min(1,r)),ZF(e,ej(t,n,r))}function ej(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function tj(e,t,n,a){const r=a||[];if(function(e,t){const n=e[t+0],a=e[t+1],r=e[t+2],i=e[t+3];let o=3*a[0]-2*n[0]-i[0];o*=o;let s=3*a[1]-2*n[1]-i[1];s*=s;let l=3*r[0]-2*i[0]-n[0];l*=l;let d=3*r[1]-2*i[1]-n[1];return d*=d,o<l&&(o=l),s<d&&(s=d),o+s}(e,t)<n){let n=e[t+0];if(r.length){(i=r[r.length-1],o=n,Math.sqrt(ZF(i,o)))>1&&r.push(n)}else r.push(n);r.push(e[t+3])}else{let a=.5,i=e[t+0],o=e[t+1],s=e[t+2],l=e[t+3],d=ej(i,o,a),c=ej(o,s,a),h=ej(s,l,a),u=ej(d,c,a),p=ej(c,h,a),_=ej(u,p,a);tj([i,d,u,_],0,n,r),tj([_,p,h,l],0,n,r)}var i,o;return r}function nj(e,t){return aj(e,0,e.length,t)}function aj(e,t,n,a,r){const i=r||[],o=e[t],s=e[n-1];let l=0,d=1;for(let a=t+1;a<n-1;++a){let t=JF(e[a],o,s);t>l&&(l=t,d=a)}return Math.sqrt(l)>a?(aj(e,t,d+1,a,i),aj(e,d,n,a,i)):(i.length||i.push(o),i.push(s)),i}function rj(e,t=.15,n){const a=[],r=(e.length-1)/3;for(let n=0;n<r;n++){tj(e,3*n,t,a)}return n&&n>0?aj(a,0,a.length,n):a}const ij="none";class et{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,a,r){const i=this._o(r);return this._d("line",[NF(e,t,n,a,i)],i)}rectangle(e,t,n,a,r){const i=this._o(r),o=[],s=LF(e,t,n,a,i);if(i.fill){let r=[[e,t],[e+n,t],[e+n,t+a],[e,t+a]];"solid"===i.fillStyle?o.push(OF([r],i)):o.push(FF([r],i))}return i.stroke!==ij&&o.push(s),this._d("rectangle",o,i)}ellipse(e,t,n,a,r){const i=this._o(r),o=[],s=DF(n,a,i),l=IF(e,t,i,s);if(i.fill)if("solid"===i.fillStyle){let n=IF(e,t,i,s).opset;n.type="fillPath",o.push(n)}else o.push(FF([l.estimatedPoints],i));return i.stroke!==ij&&o.push(l.opset),this._d("ellipse",o,i)}circle(e,t,n,a){const r=this.ellipse(e,t,n,n,a);return r.shape="circle",r}linearPath(e,t){const n=this._o(t);return this._d("linearPath",[PF(e,!1,n)],n)}arc(e,t,n,a,r,i,o=!1,s){const l=this._o(s),d=[],c=BF(e,t,n,a,r,i,o,!0,l);if(o&&l.fill)if("solid"===l.fillStyle){let o=Object.assign({},l);o.disableMultiStroke=!0;let s=BF(e,t,n,a,r,i,!0,!1,o);s.type="fillPath",d.push(s)}else d.push(function(e,t,n,a,r,i,o){let s=Math.abs(n/2),l=Math.abs(a/2);s+=WF(.01*s,o),l+=WF(.01*l,o);let d=r,c=i;for(;d<0;)d+=2*Math.PI,c+=2*Math.PI;c-d>2*Math.PI&&(d=0,c=2*Math.PI);const h=(c-d)/o.curveStepCount,u=[];for(let n=d;n<=c;n+=h)u.push([e+s*Math.cos(n),t+l*Math.sin(n)]);return u.push([e+s*Math.cos(c),t+l*Math.sin(c)]),u.push([e,t]),FF([u],o)}(e,t,n,a,r,i,l));return l.stroke!==ij&&d.push(c),this._d("arc",d,l)}curve(e,t){const n=this._o(t),a=[],r=MF(e,n);if(n.fill&&n.fill!==ij)if("solid"===n.fillStyle){let t=MF(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{let t=[],r=e;if(r.length){let e="number"==typeof r[0][0]?[r]:r;for(const a of e)a.length<3?t.push(...a):3===a.length?t.push(...rj(QF([a[0],a[0],a[1],a[2]]),10,(1+n.roughness)/2)):t.push(...rj(QF(a),10,(1+n.roughness)/2))}t.length&&a.push(FF([t],n))}return n.stroke!==ij&&a.push(r),this._d("curve",a,n)}polygon(e,t){const n=this._o(t),a=[],r=PF(e,!0,n);return n.fill&&("solid"===n.fillStyle?a.push(OF([e],n)):a.push(FF([e],n))),n.stroke!==ij&&a.push(r),this._d("polygon",a,n)}path(e,t){const n=this._o(t),a=[];if(!e)return this._d("path",a,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=n.fill&&"transparent"!==n.fill&&n.fill!==ij,i=n.stroke!==ij,o=!!(n.simplification&&n.simplification<1),s=function(e,t,n){const a=CF(wF(SF(e))),r=[];let i=[],o=[0,0],s=[];const l=()=>{s.length>=4&&i.push(...rj(s,t)),s=[]},d=()=>{l(),i.length&&(r.push(i),i=[])};for(const{key:e,data:t}of a)switch(e){case"M":d(),o=[t[0],t[1]],i.push(o);break;case"L":l(),i.push([t[0],t[1]]);break;case"C":if(!s.length){let e=i.length?i[i.length-1]:o;s.push([e[0],e[1]])}s.push([t[0],t[1]]),s.push([t[2],t[3]]),s.push([t[4],t[5]]);break;case"Z":l(),i.push([o[0],o[1]])}if(d(),!n)return r;const c=[];for(const e of r){let t=nj(e,n);t.length&&c.push(t)}return c}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),l=RF(e,n);if(r)if("solid"===n.fillStyle)if(1===s.length){let t=RF(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else a.push(OF(s,n));else a.push(FF(s,n));return i&&(o?s.forEach(e=>{a.push(PF(e,!1,n))}):a.push(l)),this._d("path",a,n)}opsToPath(e,t){let n="";for(const a of e.ops){let e="number"==typeof t&&t>=0?a.data.map(e=>+e.toFixed(t)):a.data;switch(a.op){case"move":n+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":n+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":n+=`L${e[0]} ${e[1]} `}}return n.trim()}toPaths(e){const t=e.sets||[],n=e.options||this.defaultOptions,a=[];for(const e of t){let t=null;switch(e.type){case"path":t={d:this.opsToPath(e),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:ij};break;case"fillPath":t={d:this.opsToPath(e),stroke:ij,strokeWidth:0,fill:n.fill||ij};break;case"fillSketch":t=this.fillSketch(e,n)}t&&a.push(t)}return a}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||ij,strokeWidth:n,fill:ij}}_mergedShape(e){return e.filter((e,t)=>0===t||"move"!==e.op)}}class st{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new et(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),a=this.ctx,r=e.options.fixedDecimalPlaceDigits;for(const i of t)switch(i.type){case"path":a.save(),a.strokeStyle="none"===n.stroke?"transparent":n.stroke,a.lineWidth=n.strokeWidth,n.strokeLineDash&&a.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(a.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(a,i,r),a.restore();break;case"fillPath":a.save(),a.fillStyle=n.fill||"";let t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(a,i,r,t),a.restore();break;case"fillSketch":this.fillSketch(a,i,n)}}fillSketch(e,t,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=a,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,n,a="nonzero"){e.beginPath();for(const a of t.ops){let t="number"==typeof n&&n>=0?a.data.map(e=>+e.toFixed(n)):a.data;switch(a.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(a):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,n,a,r){const i=this.gen.line(e,t,n,a,r);return this.draw(i),i}rectangle(e,t,n,a,r){const i=this.gen.rectangle(e,t,n,a,r);return this.draw(i),i}ellipse(e,t,n,a,r){const i=this.gen.ellipse(e,t,n,a,r);return this.draw(i),i}circle(e,t,n,a){const r=this.gen.circle(e,t,n,a);return this.draw(r),r}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n),n}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n),n}arc(e,t,n,a,r,i,o=!1,s){const l=this.gen.arc(e,t,n,a,r,i,o,s);return this.draw(l),l}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n),n}path(e,t){const n=this.gen.path(e,t);return this.draw(n),n}}const oj="http://www.w3.org/2000/svg";class ot{constructor(e,t){this.svg=e,this.gen=new et(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,r=a.createElementNS(oj,"g"),i=e.options.fixedDecimalPlaceDigits;for(const o of t){let t=null;switch(o.type){case"path":t=a.createElementNS(oj,"path"),t.setAttribute("d",this.opsToPath(o,i)),t.setAttribute("stroke",n.stroke),t.setAttribute("stroke-width",n.strokeWidth+""),t.setAttribute("fill","none"),n.strokeLineDash&&t.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":t=a.createElementNS(oj,"path"),t.setAttribute("d",this.opsToPath(o,i)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(a,o,n)}t&&r.appendChild(t)}return r}fillSketch(e,t,n){let a=n.fillWeight;a<0&&(a=n.strokeWidth/2);const r=e.createElementNS(oj,"path");return r.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),r.setAttribute("stroke",n.fill||""),r.setAttribute("stroke-width",a+""),r.setAttribute("fill","none"),n.fillLineDash&&r.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&r.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),r}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,a,r){const i=this.gen.line(e,t,n,a,r);return this.draw(i)}rectangle(e,t,n,a,r){const i=this.gen.rectangle(e,t,n,a,r);return this.draw(i)}ellipse(e,t,n,a,r){const i=this.gen.ellipse(e,t,n,a,r);return this.draw(i)}circle(e,t,n,a){const r=this.gen.circle(e,t,n,a);return this.draw(r)}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,a,r,i,o=!1,s){const l=this.gen.arc(e,t,n,a,r,i,o,s);return this.draw(l)}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n)}path(e,t){const n=this.gen.path(e,t);return this.draw(n)}}var sj={canvas:(e,t)=>new st(e,t),svg:(e,t)=>new ot(e,t),generator:e=>new et(e),newSeed:()=>et.newSeed()};var lj=Xi(async(e,t,n)=>{var a,r,i;let o;const s=t.useHtmlLabels||Ks((a=Ol())===null||a===void 0?void 0:a.htmlLabels);if(!n){o="node default"}else{o=n}const l=e.insert("g").attr("class",o).attr("id",t.domId||t.id);const d=l.insert("g").attr("class","label").attr("style",BB(t.labelStyle));let c;if(t.label===void 0){c=""}else{c=typeof t.label==="string"?t.label:t.label[0]}const h=await hF(d,zs(DB(c),Ol()),{useHtmlLabels:s,width:t.width||((r=Ol().flowchart)===null||r===void 0?void 0:r.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let u=h.getBBox();const p=((i=t===null||t===void 0?void 0:t.padding)!==null&&i!==void 0?i:0)/2;if(s){let e=h.children[0],t=$h(h),n=e.getElementsByTagName("img");if(n){let e=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...n].map(t=>new Promise(n=>{function a(){t.style.display="flex";t.style.flexDirection="column";if(e){let e=Ol().fontSize?Ol().fontSize:window.getComputedStyle(document.body).fontSize,n=5,[a=hs.fontSize]=NB(e),r=a*n+"px";t.style.minWidth=r;t.style.maxWidth=r}else{t.style.width="100%"}n(t)}Xi(a,"setupImage");setTimeout(()=>{t.complete&&a()});t.addEventListener("error",a);t.addEventListener("load",a)})))}u=e.getBoundingClientRect();t.attr("width",u.width);t.attr("height",u.height)}if(s){d.attr("transform","translate("+-u.width/2+", "+-u.height/2+")")}else{d.attr("transform","translate(0, "+-u.height/2+")")}t.centerLabel&&d.attr("transform","translate("+-u.width/2+", "+-u.height/2+")");d.insert("rect",":first-child");return{shapeSvg:l,bbox:u,halfPadding:p,label:d}},"labelHelper");var dj=Xi(async(e,t,n)=>{var a,r,i,o,s,l;const d=n.useHtmlLabels||Ks((r=(a=Ol())===null||a===void 0?void 0:a.flowchart)===null||r===void 0?void 0:r.htmlLabels);const c=e.insert("g").attr("class","label").attr("style",n.labelStyle||"");const h=await hF(c,zs(DB(t),Ol()),{useHtmlLabels:d,width:n.width||((o=(i=Ol())===null||i===void 0?void 0:i.flowchart)===null||o===void 0?void 0:o.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let u=h.getBBox();const p=n.padding/2;if(Ks((l=(s=Ol())===null||s===void 0?void 0:s.flowchart)===null||l===void 0?void 0:l.htmlLabels)){let e=h.children[0],t=$h(h);u=e.getBoundingClientRect();t.attr("width",u.width);t.attr("height",u.height)}if(d){c.attr("transform","translate("+-u.width/2+", "+-u.height/2+")")}else{c.attr("transform","translate(0, "+-u.height/2+")")}n.centerLabel&&c.attr("transform","translate("+-u.width/2+", "+-u.height/2+")");c.insert("rect",":first-child");return{shapeSvg:e,bbox:u,halfPadding:p,label:c}},"insertLabel");var cj=Xi((e,t)=>{const n=t.node().getBBox();e.width=n.width;e.height=n.height},"updateNodeBounds");var hj=Xi((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function uj(e){const t=e.map((e,t)=>`${t===0?"M":"L"}${e.x},${e.y}`);t.push("Z");return t.join(" ")}Xi(uj,"createPathFromPoints");function pj(e,t,n,a,r,i){const o=[];const s=50;const l=n-e;const d=a-t;const c=l/i;const h=2*Math.PI/c;const u=t+d/2;for(let t=0;t<=s;t++){let n=t/s,a=e+n*l,i=u+r*Math.sin(h*(a-e));o.push({x:a,y:i})}return o}Xi(pj,"generateFullSineWavePoints");function _j(e,t,n,a,r,i){const o=[];const s=r*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(a-1);for(let r=0;r<a;r++){let a=s+r*c,i=e+n*Math.cos(a),l=t+n*Math.sin(a);o.push({x:-i,y:-l})}return o}Xi(_j,"generateCirclePoints");var fj=Xi((e,t)=>{var n=e.x;var a=e.y;var r=t.x-n;var i=t.y-a;var o=e.width/2;var s=e.height/2;var l,d;if(Math.abs(i)*o>Math.abs(r)*s){i<0&&(s=-s);l=i===0?0:s*r/i;d=s}else{r<0&&(o=-o);l=o;d=r===0?0:o*i/r}return{x:n+l,y:a+d}},"intersectRect");function gj(e,t){t&&e.attr("style",t)}Xi(gj,"applyStyle");async function mj(e){const t=$h(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"));const n=t.append("xhtml:div");const a=Ol();let r=e.label;e.label&&il(e.label)&&(r=await dl(e.label.replace(cl.lineBreakRegex,"\n"),a));const i=e.isNode?"nodeLabel":"edgeLabel";const o='<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+r+"</span>";n.html(zs(o,a));gj(n,e.labelStyle);n.style("display","inline-block");n.style("padding-right","1px");n.style("white-space","nowrap");n.attr("xmlns","http://www.w3.org/1999/xhtml");return t.node()}Xi(mj,"addHtmlLabel");var yj=Xi(async(e,t,n,a)=>{let r=e||"";typeof r==="object"&&(r=r[0]);if(Ks(Ol().flowchart.htmlLabels)){r=r.replace(/\\n|\n/g,"<br />");Zi.info("vertexText"+r);let e={isNode:a,label:DB(r).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t?t.replace("fill:","color:"):t},n=await mj(e);return n}else{let e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));let a=[];if(typeof r==="string"){a=r.split(/\\n|\n|<br\s*\/?>/gi)}else if(Array.isArray(r)){a=r}else{a=[]}for(const t of a){let a=document.createElementNS("http://www.w3.org/2000/svg","tspan");a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");a.setAttribute("dy","1em");a.setAttribute("x","0");if(n){a.setAttribute("class","title-row")}else{a.setAttribute("class","row")}a.textContent=t.trim();e.appendChild(a)}return e}},"createLabel");var xj=Xi((e,t,n,a,r)=>["M",e+r,t,"H",e+n-r,"A",r,r,0,0,1,e+n,t+r,"V",t+a-r,"A",r,r,0,0,1,e+n-r,t+a,"H",e+r,"A",r,r,0,0,1,e,t+a-r,"V",t+r,"A",r,r,0,0,1,e+r,t,"Z"].join(" "),"createRoundedRectPathD");var bj=Xi(async(e,t)=>{Zi.info("Creating subgraph rect for ",t.id,t);const n=Ol();const{themeVariables:a,handDrawnSeed:r}=n;const{clusterBkg:i,clusterBorder:o}=a;const{labelStyles:s,nodeStyles:l,borderStyles:d,backgroundStyles:c}=hL(t);const h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look);const u=Ks(n.flowchart.htmlLabels);const p=h.insert("g").attr("class","cluster-label ");const _=await hF(p,t.label,{style:t.labelStyle,useHtmlLabels:u,isNode:!0});let f=_.getBBox();if(Ks(n.flowchart.htmlLabels)){let e=_.children[0],t=$h(_);f=e.getBoundingClientRect();t.attr("width",f.width);t.attr("height",f.height)}const g=t.width<=f.width+t.padding?f.width+t.padding:t.width;if(t.width<=f.width+t.padding){t.diff=(g-t.width)/2-t.padding}else{t.diff=-t.padding}const m=t.height;const y=t.x-g/2;const x=t.y-m/2;Zi.trace("Data ",t,JSON.stringify(t));let b;if(t.look==="handDrawn"){let e=sj.svg(h),n=uL(t,{roughness:.7,fill:i,stroke:o,fillWeight:3,seed:r}),a=e.path(xj(y,x,g,m,0),n);b=h.insert(()=>{Zi.debug("Rough node insert CXC",a);return a},":first-child");b.select("path:nth-child(2)").attr("style",d.join(";"));b.select("path").attr("style",c.join(";").replace("fill","stroke"))}else{b=h.insert("rect",":first-child");b.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",y).attr("y",x).attr("width",g).attr("height",m)}const{subGraphTitleTopMargin:v}=oL(n);p.attr("transform",`translate(${t.x-f.width/2}, ${t.y-t.height/2+v})`);if(s){let e=p.select("span");e&&e.attr("style",s)}const k=b.node().getBBox();t.offsetX=0;t.width=k.width;t.height=k.height;t.offsetY=f.height-t.padding/2;t.intersect=function(e){return fj(t,e)};return{cluster:h,labelBBox:f}},"rect");var vj=Xi((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id);const a=n.insert("rect",":first-child");const r=0*t.padding;const i=r/2;a.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+r).attr("height",t.height+r).attr("fill","none");const o=a.node().getBBox();t.width=o.width;t.height=o.height;t.intersect=function(e){return fj(t,e)};return{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup");var kj=Xi(async(e,t)=>{const n=Ol();const{themeVariables:a,handDrawnSeed:r}=n;const{altBackground:i,compositeBackground:o,compositeTitleBackground:s,nodeBorder:l}=a;const d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look);const c=d.insert("g",":first-child");const h=d.insert("g").attr("class","cluster-label");let u=d.append("rect");const p=h.node().appendChild(await yj(t.label,t.labelStyle,void 0,!0));let _=p.getBBox();if(Ks(n.flowchart.htmlLabels)){let e=p.children[0],t=$h(p);_=e.getBoundingClientRect();t.attr("width",_.width);t.attr("height",_.height)}const f=0*t.padding;const g=f/2;const m=(t.width<=_.width+t.padding?_.width+t.padding:t.width)+f;if(t.width<=_.width+t.padding){t.diff=(m-t.width)/2-t.padding}else{t.diff=-t.padding}const y=t.height+f;const x=t.height+f-_.height-6;const b=t.x-m/2;const v=t.y-y/2;t.width=m;const k=t.y-t.height/2-g+_.height+2;let S;if(t.look==="handDrawn"){let e=t.cssClasses.includes("statediagram-cluster-alt"),n=sj.svg(d),a=t.rx||t.ry?n.path(xj(b,v,m,y,10),{roughness:.7,fill:s,fillStyle:"solid",stroke:l,seed:r}):n.rectangle(b,v,m,y,{seed:r});S=d.insert(()=>a,":first-child");let c=n.rectangle(b,k,m,x,{fill:e?i:o,fillStyle:e?"hachure":"solid",stroke:l,seed:r});S=d.insert(()=>a,":first-child");u=d.insert(()=>c)}else{S=c.insert("rect",":first-child");let e="outer";S.attr("class",e).attr("x",b).attr("y",v).attr("width",m).attr("height",y).attr("data-look",t.look);u.attr("class","inner").attr("x",b).attr("y",k).attr("width",m).attr("height",x)}h.attr("transform",`translate(${t.x-_.width/2}, ${v+1-(Ks(n.flowchart.htmlLabels)?0:3)})`);const w=S.node().getBBox();t.height=w.height;t.offsetX=0;t.offsetY=_.height-t.padding/2;t.labelBBox=_;t.intersect=function(e){return fj(t,e)};return{cluster:d,labelBBox:_}},"roundedWithTitle");var Sj=Xi(async(e,t)=>{Zi.info("Creating subgraph rect for ",t.id,t);const n=Ol();const{themeVariables:a,handDrawnSeed:r}=n;const{clusterBkg:i,clusterBorder:o}=a;const{labelStyles:s,nodeStyles:l,borderStyles:d,backgroundStyles:c}=hL(t);const h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look);const u=Ks(n.flowchart.htmlLabels);const p=h.insert("g").attr("class","cluster-label ");const _=await hF(p,t.label,{style:t.labelStyle,useHtmlLabels:u,isNode:!0,width:t.width});let f=_.getBBox();if(Ks(n.flowchart.htmlLabels)){let e=_.children[0],t=$h(_);f=e.getBoundingClientRect();t.attr("width",f.width);t.attr("height",f.height)}const g=t.width<=f.width+t.padding?f.width+t.padding:t.width;if(t.width<=f.width+t.padding){t.diff=(g-t.width)/2-t.padding}else{t.diff=-t.padding}const m=t.height;const y=t.x-g/2;const x=t.y-m/2;Zi.trace("Data ",t,JSON.stringify(t));let b;if(t.look==="handDrawn"){let e=sj.svg(h),n=uL(t,{roughness:.7,fill:i,stroke:o,fillWeight:4,seed:r}),a=e.path(xj(y,x,g,m,t.rx),n);b=h.insert(()=>{Zi.debug("Rough node insert CXC",a);return a},":first-child");b.select("path:nth-child(2)").attr("style",d.join(";"));b.select("path").attr("style",c.join(";").replace("fill","stroke"))}else{b=h.insert("rect",":first-child");b.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",y).attr("y",x).attr("width",g).attr("height",m)}const{subGraphTitleTopMargin:v}=oL(n);p.attr("transform",`translate(${t.x-f.width/2}, ${t.y-t.height/2+v})`);if(s){let e=p.select("span");e&&e.attr("style",s)}const k=b.node().getBBox();t.offsetX=0;t.width=k.width;t.height=k.height;t.offsetY=f.height-t.padding/2;t.intersect=function(e){return fj(t,e)};return{cluster:h,labelBBox:f}},"kanbanSection");var wj=Xi((e,t)=>{const n=Ol();const{themeVariables:a,handDrawnSeed:r}=n;const{nodeBorder:i}=a;const o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look);const s=o.insert("g",":first-child");const l=0*t.padding;const d=t.width+l;t.diff=-t.padding;const c=t.height+l;const h=t.x-d/2;const u=t.y-c/2;t.width=d;let p;if(t.look==="handDrawn"){let e=sj.svg(o),t=e.rectangle(h,u,d,c,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:i,seed:r});p=o.insert(()=>t,":first-child")}else{p=s.insert("rect",":first-child");let e="divider";p.attr("class",e).attr("x",h).attr("y",u).attr("width",d).attr("height",c).attr("data-look",t.look)}const _=p.node().getBBox();t.height=_.height;t.offsetX=0;t.offsetY=0;t.intersect=function(e){return fj(t,e)};return{cluster:o,labelBBox:{}}},"divider");var Cj={rect:bj,squareRect:bj,roundedWithTitle:kj,noteGroup:vj,divider:wj,kanbanSection:Sj};var Tj=new Map;var Ej=Xi(async(e,t)=>{const n=t.shape||"rect";const a=await Cj[n](e,t);Tj.set(t.id,a);return a},"insertCluster");var Aj=Xi(()=>{Tj=new Map},"clear");function Nj(e,t){return e.intersect(t)}Xi(Nj,"intersectNode");function Pj(e,t,n,a){var r=e.x;var i=e.y;var o=r-a.x;var s=i-a.y;var l=Math.sqrt(t*t*s*s+n*n*o*o);var d=Math.abs(t*n*o/l);a.x<r&&(d=-d);var c=Math.abs(t*n*s/l);a.y<i&&(c=-c);return{x:r+d,y:i+c}}Xi(Pj,"intersectEllipse");function Lj(e,t,n){return Pj(e,t,t,n)}Xi(Lj,"intersectCircle");function Mj(e,t,n,a){{let r=t.y-e.y,i=e.x-t.x,o=t.x*e.y-e.x*t.y,s=r*n.x+i*n.y+o,l=r*a.x+i*a.y+o,d=1E-06;if(s!==0&&l!==0&&Dj(s,l)){return}let c=a.y-n.y,h=n.x-a.x,u=a.x*n.y-n.x*a.y,p=c*e.x+h*e.y+u,_=c*t.x+h*t.y+u;if(Math.abs(p)<d&&Math.abs(_)<d&&Dj(p,_)){return}let f=r*h-c*i;if(f===0){return}let g=Math.abs(f/2),m=i*u-h*o,y=m<0?(m-g)/f:(m+g)/f;m=c*o-r*u;let x=m<0?(m-g)/f:(m+g)/f;return{x:y,y:x}}}Xi(Mj,"intersectLine");function Dj(e,t){return e*t>0}Xi(Dj,"sameSign");function Ij(e,t,n){let a=e.x;let r=e.y;let i=[];let o=Number.POSITIVE_INFINITY;let s=Number.POSITIVE_INFINITY;if(typeof t.forEach==="function"){t.forEach(function(e){o=Math.min(o,e.x);s=Math.min(s,e.y)})}else{o=Math.min(o,t.x);s=Math.min(s,t.y)}let l=a-e.width/2-o;let d=r-e.height/2-s;for(let a=0;a<t.length;a++){let r=t[a],o=t[a<t.length-1?a+1:0],s=Mj(e,n,{x:l+r.x,y:d+r.y},{x:l+o.x,y:d+o.y});s&&i.push(s)}if(!i.length){return e}i.length>1&&i.sort(function(e,t){let a=e.x-n.x;let r=e.y-n.y;let i=Math.sqrt(a*a+r*r);let o=t.x-n.x;let s=t.y-n.y
let l=Math.sqrt(o*o+s*s);return i<l?-1:i===l?0:1});return i[0]}Xi(Ij,"intersectPolygon");var Bj={node:Nj,circle:Lj,ellipse:Pj,polygon:Ij,rect:fj};function Rj(e,t){const{labelStyles:n}=hL(t);t.labelStyle=n;const a=hj(t);let r=a;a||(r="anchor");const i=e.insert("g").attr("class",r).attr("id",t.domId||t.id);const o=1;const{cssStyles:s}=t;const l=sj.svg(i);const d=uL(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const c=l.circle(0,0,o*2,d);const h=i.insert(()=>c,":first-child");h.attr("class","anchor").attr("style",BB(s));cj(t,h);t.intersect=function(e){Zi.info("Circle intersect",t,o,e);return Bj.circle(t,o,e)};return i}Xi(Rj,"anchor");function Oj(e,t,n,a,r,i,o){const s=20;const l=(e+n)/2;const d=(t+a)/2;const c=Math.atan2(a-t,n-e);const h=(n-e)/2;const u=(a-t)/2;const p=h/r;const _=u/i;const f=Math.sqrt(p**2+_**2);if(f>1){throw new Error("The given radii are too small to create an arc between the points.")}const g=Math.sqrt(1-f**2);const m=l+g*i*Math.sin(c)*(o?-1:1);const y=d-g*r*Math.cos(c)*(o?-1:1);const x=Math.atan2((t-y)/i,(e-m)/r);const b=Math.atan2((a-y)/i,(n-m)/r);let v=b-x;o&&v<0&&(v+=2*Math.PI);!o&&v>0&&(v-=2*Math.PI);const k=[];for(let e=0;e<s;e++){let t=e/(s-1),n=x+t*v,a=m+r*Math.cos(n),o=y+i*Math.sin(n);k.push({x:a,y:o})}return k}Xi(Oj,"generateArcPoints");async function Fj(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=i.width+t.padding+20;const s=i.height+t.padding;const l=s/2;const d=l/(2.5+s/50);const{cssStyles:c}=t;const h=[{x:o/2,y:-s/2},{x:-o/2,y:-s/2},...Oj(-o/2,-s/2,-o/2,s/2,d,l,!1),{x:o/2,y:s/2},...Oj(o/2,s/2,o/2,-s/2,d,l,!0)];const u=sj.svg(r);const p=uL(t,{});if(t.look!=="handDrawn"){p.roughness=0;p.fillStyle="solid"}const _=uj(h);const f=u.path(_,p);const g=r.insert(()=>f,":first-child");g.attr("class","basic label-container");c&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",c);a&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",a);g.attr("transform",`translate(${d/2}, 0)`);cj(t,g);t.intersect=function(e){const n=Bj.polygon(t,h,e);return n};return r}Xi(Fj,"bowTieRect");function jj(e,t,n,a){return e.insert("polygon",":first-child").attr("points",a.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}Xi(jj,"insertPolygonShape");async function Hj(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=i.height+t.padding;const s=12;const l=i.width+t.padding+s;const d=0;const c=-o;const h=0;const u=[{x:d+s,y:c},{x:l,y:c},{x:l,y:h},{x:d,y:h},{x:d,y:c+s},{x:d+s,y:c}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=sj.svg(r),n=uL(t,{}),a=uj(u),i=e.path(a,n);p=r.insert(()=>i,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`);_&&p.attr("style",_)}else{p=jj(r,l,o,u)}a&&p.attr("style",a);cj(t,p);t.intersect=function(e){return Bj.polygon(t,u,e)};return r}Xi(Hj,"card");function $j(e,t){var n,a;const{nodeStyles:r}=hL(t);t.label="";const i=e.insert("g").attr("class",hj(t)).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);const{cssStyles:o}=t;const s=Math.max(28,(a=t.width)!==null&&a!==void 0?a:0);const l=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}];const d=sj.svg(i);const c=uL(t,{});if(t.look!=="handDrawn"){c.roughness=0;c.fillStyle="solid"}const h=uj(l);const u=d.path(h,c);const p=i.insert(()=>u,":first-child");o&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",o);r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r);t.width=28;t.height=28;t.intersect=function(e){return Bj.polygon(t,l,e)};return i}Xi($j,"choice");async function Wj(e,t,n){var a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;const{shapeSvg:o,bbox:s,halfPadding:l}=await lj(e,t,hj(t));const d=(a=n===null||n===void 0?void 0:n.padding)!==null&&a!==void 0?a:l;const c=s.width/2+d;let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){let e=sj.svg(o),n=uL(t,{}),a=e.circle(0,0,c*2,n);h=o.insert(()=>a,":first-child");h.attr("class","basic label-container").attr("style",BB(u))}else{h=o.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0)}cj(t,h);t.calcIntersect=function(e,t){const n=e.width/2;return Bj.circle(e,n,t)};t.intersect=function(e){Zi.info("Circle intersect",t,c,e);return Bj.circle(t,c,e)};return o}Xi(Wj,"circle");function zj(e){const t=Math.cos(Math.PI/4);const n=Math.sin(Math.PI/4);const a=e*2;const r={x:a/2*t,y:a/2*n};const i={x:-(a/2)*t,y:a/2*n};const o={x:-(a/2)*t,y:-(a/2)*n};const s={x:a/2*t,y:-(a/2)*n};return`M ${i.x},${i.y} L ${s.x},${s.y}\n                   M ${r.x},${r.y} L ${o.x},${o.y}`}Xi(zj,"createLine");function qj(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;t.label="";const o=e.insert("g").attr("class",hj(t)).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);const s=Math.max(30,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const{cssStyles:l}=t;const d=sj.svg(o);const c=uL(t,{});if(t.look!=="handDrawn"){c.roughness=0;c.fillStyle="solid"}const h=d.circle(0,0,s*2,c);const u=zj(s);const p=d.path(u,c);const _=o.insert(()=>h,":first-child");_.insert(()=>p);l&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",l);i&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",i);cj(t,_);t.intersect=function(e){Zi.info("crossedCircle intersect",t,{radius:s,point:e});const n=Bj.circle(t,s,e);return n};return o}Xi(qj,"crossedCircle");function Uj(e,t,n,a=100,r=0,i=180){const o=[];const s=r*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(a-1);for(let r=0;r<a;r++){let a=s+r*c,i=e+n*Math.cos(a),l=t+n*Math.sin(a);o.push({x:-i,y:-l})}return o}Xi(Uj,"generateCirclePoints");async function Yj(e,t){var n,a,r,i,o;const{labelStyles:s,nodeStyles:l}=hL(t);t.labelStyle=s;const{shapeSvg:d,bbox:c,label:h}=await lj(e,t,hj(t));const u=c.width+((n=t.padding)!==null&&n!==void 0?n:0);const p=c.height+((a=t.padding)!==null&&a!==void 0?a:0);const _=Math.max(5,p*.1);const{cssStyles:f}=t;const g=[...Uj(u/2,-p/2,_,30,-90,0),{x:-u/2-_,y:_},...Uj(u/2+_*2,-_,_,20,-180,-270),...Uj(u/2+_*2,_,_,20,-90,-180),{x:-u/2-_,y:-p/2},...Uj(u/2,p/2,_,20,0,90)];const m=[{x:u/2,y:-p/2-_},{x:-u/2,y:-p/2-_},...Uj(u/2,-p/2,_,20,-90,0),{x:-u/2-_,y:-_},...Uj(u/2+u*.1,-_,_,20,-180,-270),...Uj(u/2+u*.1,_,_,20,-90,-180),{x:-u/2-_,y:p/2},...Uj(u/2,p/2,_,20,0,90),{x:-u/2,y:p/2+_},{x:u/2,y:p/2+_}];const y=sj.svg(d);const x=uL(t,{fill:"none"});if(t.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const b=uj(g);const v=b.replace("Z","");const k=y.path(v,x);const S=uj(m);const w=y.path(S,{...x});const C=d.insert("g",":first-child");C.insert(()=>w,":first-child").attr("stroke-opacity",0);C.insert(()=>k,":first-child");C.attr("class","text");f&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",f);l&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",l);C.attr("transform",`translate(${_}, 0)`);h.attr("transform",`translate(${-u/2+_-(c.x-((r=c.left)!==null&&r!==void 0?r:0))},${-p/2+((i=t.padding)!==null&&i!==void 0?i:0)/2-(c.y-((o=c.top)!==null&&o!==void 0?o:0))})`);cj(t,C);t.intersect=function(e){const n=Bj.polygon(t,m,e);return n};return d}Xi(Yj,"curlyBraceLeft");function Gj(e,t,n,a=100,r=0,i=180){const o=[];const s=r*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(a-1);for(let r=0;r<a;r++){let a=s+r*c,i=e+n*Math.cos(a),l=t+n*Math.sin(a);o.push({x:i,y:l})}return o}Xi(Gj,"generateCirclePoints");async function Vj(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=h.width+((n=t.padding)!==null&&n!==void 0?n:0);const _=h.height+((a=t.padding)!==null&&a!==void 0?a:0);const f=Math.max(5,_*.1);const{cssStyles:g}=t;const m=[...Gj(p/2,-_/2,f,20,-90,0),{x:p/2+f,y:-f},...Gj(p/2+f*2,-f,f,20,-180,-270),...Gj(p/2+f*2,f,f,20,-90,-180),{x:p/2+f,y:_/2},...Gj(p/2,_/2,f,20,0,90)];const y=[{x:-p/2,y:-_/2-f},{x:p/2,y:-_/2-f},...Gj(p/2,-_/2,f,20,-90,0),{x:p/2+f,y:-f},...Gj(p/2+f*2,-f,f,20,-180,-270),...Gj(p/2+f*2,f,f,20,-90,-180),{x:p/2+f,y:_/2},...Gj(p/2,_/2,f,20,0,90),{x:p/2,y:_/2+f},{x:-p/2,y:_/2+f}];const x=sj.svg(c);const b=uL(t,{fill:"none"});if(t.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const v=uj(m);const k=v.replace("Z","");const S=x.path(k,b);const w=uj(y);const C=x.path(w,{...b});const T=c.insert("g",":first-child");T.insert(()=>C,":first-child").attr("stroke-opacity",0);T.insert(()=>S,":first-child");T.attr("class","text");g&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",g);d&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",d);T.attr("transform",`translate(${-f}, 0)`);u.attr("transform",`translate(${-p/2+((r=t.padding)!==null&&r!==void 0?r:0)/2-(h.x-((i=h.left)!==null&&i!==void 0?i:0))},${-_/2+((o=t.padding)!==null&&o!==void 0?o:0)/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);cj(t,T);t.intersect=function(e){const n=Bj.polygon(t,y,e);return n};return c}Xi(Vj,"curlyBraceRight");function Xj(e,t,n,a=100,r=0,i=180){const o=[];const s=r*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(a-1);for(let r=0;r<a;r++){let a=s+r*c,i=e+n*Math.cos(a),l=t+n*Math.sin(a);o.push({x:-i,y:-l})}return o}Xi(Xj,"generateCirclePoints");async function Kj(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=h.width+((n=t.padding)!==null&&n!==void 0?n:0);const _=h.height+((a=t.padding)!==null&&a!==void 0?a:0);const f=Math.max(5,_*.1);const{cssStyles:g}=t;const m=[...Xj(p/2,-_/2,f,30,-90,0),{x:-p/2-f,y:f},...Xj(p/2+f*2,-f,f,20,-180,-270),...Xj(p/2+f*2,f,f,20,-90,-180),{x:-p/2-f,y:-_/2},...Xj(p/2,_/2,f,20,0,90)];const y=[...Xj(-p/2+f+f/2,-_/2,f,20,-90,-180),{x:p/2-f/2,y:f},...Xj(-p/2-f/2,-f,f,20,0,90),...Xj(-p/2-f/2,f,f,20,-90,0),{x:p/2-f/2,y:-f},...Xj(-p/2+f+f/2,_/2,f,30,-180,-270)];const x=[{x:p/2,y:-_/2-f},{x:-p/2,y:-_/2-f},...Xj(p/2,-_/2,f,20,-90,0),{x:-p/2-f,y:-f},...Xj(p/2+f*2,-f,f,20,-180,-270),...Xj(p/2+f*2,f,f,20,-90,-180),{x:-p/2-f,y:_/2},...Xj(p/2,_/2,f,20,0,90),{x:-p/2,y:_/2+f},{x:p/2-f-f/2,y:_/2+f},...Xj(-p/2+f+f/2,-_/2,f,20,-90,-180),{x:p/2-f/2,y:f},...Xj(-p/2-f/2,-f,f,20,0,90),...Xj(-p/2-f/2,f,f,20,-90,0),{x:p/2-f/2,y:-f},...Xj(-p/2+f+f/2,_/2,f,30,-180,-270)];const b=sj.svg(c);const v=uL(t,{fill:"none"});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=uj(m);const S=k.replace("Z","");const w=b.path(S,v);const C=uj(y);const T=C.replace("Z","");const E=b.path(T,v);const A=uj(x);const N=b.path(A,{...v});const P=c.insert("g",":first-child");P.insert(()=>N,":first-child").attr("stroke-opacity",0);P.insert(()=>w,":first-child");P.insert(()=>E,":first-child");P.attr("class","text");g&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",g);d&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",d);P.attr("transform",`translate(${f-f/4}, 0)`);u.attr("transform",`translate(${-p/2+((r=t.padding)!==null&&r!==void 0?r:0)/2-(h.x-((i=h.left)!==null&&i!==void 0?i:0))},${-_/2+((o=t.padding)!==null&&o!==void 0?o:0)/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);cj(t,P);t.intersect=function(e){const n=Bj.polygon(t,x,e);return n};return c}Xi(Kj,"curlyBraces");async function Qj(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=80,h=20;const u=Math.max(c,(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2)*1.25,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const p=Math.max(h,d.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const _=p/2;const{cssStyles:f}=t;const g=sj.svg(l);const m=uL(t,{});if(t.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}const y=u-_;const x=p/4;const b=[{x:y,y:0},{x:x,y:0},{x:0,y:p/2},{x:x,y:p},{x:y,y:p},..._j(-y,-p/2,_,50,270,90)];const v=uj(b);const k=g.path(v,m);const S=l.insert(()=>k,":first-child");S.attr("class","basic label-container");f&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",f);s&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",s);S.attr("transform",`translate(${-u/2}, ${-p/2})`);cj(t,S);t.intersect=function(e){const n=Bj.polygon(t,b,e);return n};return l}Xi(Qj,"curvedTrapezoid");var Zj=Xi((e,t,n,a,r,i)=>[`M${e},${t+i}`,`a${r},${i} 0,0,0 ${n},0`,`a${r},${i} 0,0,0 ${-n},0`,`l0,${a}`,`a${r},${i} 0,0,0 ${n},0`,`l0,${-a}`].join(" "),"createCylinderPathD");var Jj=Xi((e,t,n,a,r,i)=>[`M${e},${t+i}`,`M${e+n},${t+i}`,`a${r},${i} 0,0,0 ${-n},0`,`l0,${a}`,`a${r},${i} 0,0,0 ${n},0`,`l0,${-a}`].join(" "),"createOuterCylinderPathD");var eH=Xi((e,t,n,a,r,i)=>[`M${e-n/2},${-a/2}`,`a${r},${i} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function tH(e,t){var n,a,r,i,o;const{labelStyles:s,nodeStyles:l}=hL(t);t.labelStyle=s;const{shapeSvg:d,bbox:c,label:h}=await lj(e,t,hj(t));const u=Math.max(c.width+t.padding,(n=t.width)!==null&&n!==void 0?n:0);const p=u/2;const _=p/(2.5+u/50);const f=Math.max(c.height+_+t.padding,(a=t.height)!==null&&a!==void 0?a:0);let g;const{cssStyles:m}=t;if(t.look==="handDrawn"){let e=sj.svg(d),n=Jj(0,0,u,f,p,_),a=eH(0,_,u,f,p,_),r=e.path(n,uL(t,{})),i=e.path(a,uL(t,{fill:"none"}));g=d.insert(()=>i,":first-child");g=d.insert(()=>r,":first-child");g.attr("class","basic label-container");m&&g.attr("style",m)}else{let e=Zj(0,0,u,f,p,_);g=d.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",BB(m)).attr("style",l)}g.attr("label-offset-y",_);g.attr("transform",`translate(${-u/2}, ${-(f/2+_)})`);cj(t,g);h.attr("transform",`translate(${-(c.width/2)-(c.x-((r=c.left)!==null&&r!==void 0?r:0))}, ${-(c.height/2)+((i=t.padding)!==null&&i!==void 0?i:0)/1.5-(c.y-((o=c.top)!==null&&o!==void 0?o:0))})`);t.intersect=function(e){var n,a,r,i,o,s;const l=Bj.rect(t,e);const d=l.x-((n=t.x)!==null&&n!==void 0?n:0);if(p!=0&&(Math.abs(d)<((a=t.width)!==null&&a!==void 0?a:0)/2||Math.abs(d)==((r=t.width)!==null&&r!==void 0?r:0)/2&&Math.abs(l.y-((i=t.y)!==null&&i!==void 0?i:0))>((o=t.height)!==null&&o!==void 0?o:0)/2-_)){let n=_*_*(1-d*d/(p*p));n>0&&(n=Math.sqrt(n));n=_-n;e.y-((s=t.y)!==null&&s!==void 0?s:0)>0&&(n=-n);l.y+=n}return l};return d}Xi(tH,"cylinder");async function nH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d,label:c}=await lj(e,t,hj(t));const h=d.width+t.padding;const u=d.height+t.padding;const p=u*.2;const _=-h/2;const f=-u/2-p/2;const{cssStyles:g}=t;const m=sj.svg(l);const y=uL(t,{});if(t.look!=="handDrawn"){y.roughness=0;y.fillStyle="solid"}const x=[{x:_,y:f+p},{x:-_,y:f+p},{x:-_,y:-f},{x:_,y:-f},{x:_,y:f},{x:-_,y:f},{x:-_,y:f+p}];const b=m.polygon(x.map(e=>[e.x,e.y]),y);const v=l.insert(()=>b,":first-child");v.attr("class","basic label-container");g&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",g);s&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",s);c.attr("transform",`translate(${_+((n=t.padding)!==null&&n!==void 0?n:0)/2-(d.x-((a=d.left)!==null&&a!==void 0?a:0))}, ${f+p+((r=t.padding)!==null&&r!==void 0?r:0)/2-(d.y-((i=d.top)!==null&&i!==void 0?i:0))})`);cj(t,v);t.intersect=function(e){const n=Bj.rect(t,e);return n};return l}Xi(nH,"dividedRectangle");async function aH(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;const{shapeSvg:o,bbox:s,halfPadding:l}=await lj(e,t,hj(t));const d=5;const c=s.width/2+l+d;const h=s.width/2+l;let u;const{cssStyles:p}=t;if(t.look==="handDrawn"){let e=sj.svg(o),r=uL(t,{roughness:.2,strokeWidth:2.5}),i=uL(t,{roughness:.2,strokeWidth:1.5}),s=e.circle(0,0,c*2,r),l=e.circle(0,0,h*2,i);u=o.insert("g",":first-child");u.attr("class",BB(t.cssClasses)).attr("style",BB(p));(n=u.node())===null||n===void 0?void 0:n.appendChild(s);(a=u.node())===null||a===void 0?void 0:a.appendChild(l)}else{u=o.insert("g",":first-child");let e=u.insert("circle",":first-child"),t=u.insert("circle");u.attr("class","basic label-container").attr("style",i);e.attr("class","outer-circle").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);t.attr("class","inner-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0)}cj(t,u);t.intersect=function(e){Zi.info("DoubleCircle intersect",t,c,e);return Bj.circle(t,c,e)};return o}Xi(aH,"doublecircle");function rH(e,t,{config:{themeVariables:n}}){var a;const{labelStyles:r,nodeStyles:i}=hL(t);t.label="";t.labelStyle=r;const o=e.insert("g").attr("class",hj(t)).attr("id",(a=t.domId)!==null&&a!==void 0?a:t.id);const s=7;const{cssStyles:l}=t;const d=sj.svg(o);const{nodeBorder:c}=n;const h=uL(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const u=d.circle(0,0,s*2,h);const p=o.insert(()=>u,":first-child");p.selectAll("path").attr("style",`fill: ${c} !important;`);l&&l.length>0&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",l);i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i);cj(t,p);t.intersect=function(e){Zi.info("filledCircle intersect",t,{radius:s,point:e});const n=Bj.circle(t,s,e);return n};return o}Xi(rH,"filledCircle");async function iH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d,label:c}=await lj(e,t,hj(t));const h=d.width+((n=t.padding)!==null&&n!==void 0?n:0);const u=h+d.height;const p=h+d.height;const _=[{x:0,y:-u},{x:p,y:-u},{x:p/2,y:0}];const{cssStyles:f}=t;const g=sj.svg(l);const m=uL(t,{});if(t.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}const y=uj(_);const x=g.path(y,m);const b=l.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);f&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",f);s&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",s);t.width=h;t.height=u;cj(t,b);c.attr("transform",`translate(${-d.width/2-(d.x-((a=d.left)!==null&&a!==void 0?a:0))}, ${-u/2+((r=t.padding)!==null&&r!==void 0?r:0)/2+(d.y-((i=d.top)!==null&&i!==void 0?i:0))})`);t.intersect=function(e){Zi.info("Triangle intersect",t,_,e);return Bj.polygon(t,_,e)};return l}Xi(iH,"flippedTriangle");function oH(e,t,{dir:n,config:{state:a,themeVariables:r}}){var i,o,s,l,d,c;const{nodeStyles:h}=hL(t);t.label="";const u=e.insert("g").attr("class",hj(t)).attr("id",(i=t.domId)!==null&&i!==void 0?i:t.id);const{cssStyles:p}=t;let _=Math.max(70,(o=t===null||t===void 0?void 0:t.width)!==null&&o!==void 0?o:0);let f=Math.max(10,(s=t===null||t===void 0?void 0:t.height)!==null&&s!==void 0?s:0);if(n==="LR"){_=Math.max(10,(l=t===null||t===void 0?void 0:t.width)!==null&&l!==void 0?l:0);f=Math.max(70,(d=t===null||t===void 0?void 0:t.height)!==null&&d!==void 0?d:0)}const g=-1*_/2;const m=-1*f/2;const y=sj.svg(u);const x=uL(t,{stroke:r.lineColor,fill:r.lineColor});if(t.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const b=y.rectangle(g,m,_,f,x);const v=u.insert(()=>b,":first-child");p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p);h&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",h);cj(t,v);const k=(c=a===null||a===void 0?void 0:a.padding)!==null&&c!==void 0?c:0;if(t.width&&t.height){t.width+=k/2||0;t.height+=k/2||0}t.intersect=function(e){return Bj.rect(t,e)};return u}Xi(oH,"forkJoin");async function sH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const l=80,d=50;const{shapeSvg:c,bbox:h}=await lj(e,t,hj(t));const u=Math.max(l,h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const p=Math.max(d,h.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const _=p/2;const{cssStyles:f}=t;const g=sj.svg(c);const m=uL(t,{});if(t.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}const y=[{x:-u/2,y:-p/2},{x:u/2-_,y:-p/2},..._j(-u/2+_,0,_,50,90,270),{x:u/2-_,y:p/2},{x:-u/2,y:p/2}];const x=uj(y);const b=g.path(x,m);const v=c.insert(()=>b,":first-child");v.attr("class","basic label-container");f&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",f);s&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",s);cj(t,v);t.intersect=function(e){Zi.info("Pill intersect",t,{radius:_,point:e});const n=Bj.polygon(t,y,e);return n};return c}Xi(sH,"halfRoundedRectangle");async function lH(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;const{shapeSvg:o,bbox:s}=await lj(e,t,hj(t));const l=s.height+((n=t.padding)!==null&&n!==void 0?n:0);const d=s.width+((a=t.padding)!==null&&a!==void 0?a:0)*2.5;const{cssStyles:c}=t;const h=sj.svg(o);const u=uL(t,{});if(t.look!=="handDrawn"){u.roughness=0;u.fillStyle="solid"}let p=d/2;const _=p/6;p=p+_;const f=l/2;const g=f/2;const m=p-g;const y=[{x:-m,y:-f},{x:0,y:-f},{x:m,y:-f},{x:p,y:0},{x:m,y:f},{x:0,y:f},{x:-m,y:f},{x:-p,y:0}];const x=uj(y);const b=h.path(x,u);const v=o.insert(()=>b,":first-child");v.attr("class","basic label-container");c&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",c);i&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",i);t.width=d;t.height=l;cj(t,v);t.intersect=function(e){return Bj.polygon(t,y,e)};return o}Xi(lH,"hexagon");async function dH(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.label="";t.labelStyle=r;const{shapeSvg:o}=await lj(e,t,hj(t));const s=Math.max(30,(n=t===null||t===void 0?void 0:t.width)!==null&&n!==void 0?n:0);const l=Math.max(30,(a=t===null||t===void 0?void 0:t.height)!==null&&a!==void 0?a:0);const{cssStyles:d}=t;const c=sj.svg(o);const h=uL(t,{});if(t.look!=="handDrawn"){h.roughness=0;h.fillStyle="solid"}const u=[{x:0,y:0},{x:s,y:0},{x:0,y:l},{x:s,y:l}];const p=uj(u);const _=c.path(p,h);const f=o.insert(()=>_,":first-child");f.attr("class","basic label-container");d&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",d);i&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",i);f.attr("transform",`translate(${-s/2}, ${-l/2})`);cj(t,f);t.intersect=function(e){Zi.info("Pill intersect",t,{points:u});const n=Bj.polygon(t,u,e);return n};return o}Xi(dH,"hourglass");async function cH(e,t,{config:{themeVariables:n,flowchart:a}}){var r,i,o,s;const{labelStyles:l}=hL(t);t.labelStyle=l;const d=(r=t.assetHeight)!==null&&r!==void 0?r:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=a===null||a===void 0?void 0:a.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,label:f}=await lj(e,t,"icon-shape default");const g=t.pos==="t";const{nodeBorder:m}=n;const{stylesMap:y}=lL(t);const x=-h/2;const b=-h/2;const v=t.label?8:0;const k=sj.svg(p);const S=uL(t,{stroke:"none",fill:"none"});if(t.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const w=k.rectangle(x,b,h,h,S);const C=Math.max(h,_.width);const T=h+_.height+v;const E=k.rectangle(-C/2,-T/2,C,T,{...S,fill:"transparent",stroke:"none"});const A=p.insert(()=>w,":first-child");const N=p.insert(()=>E);if(t.icon){let e=p.append("g");e.html(`<g>${await VO(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),a=n.width,r=n.height,i=n.x,s=n.y;e.attr("transform",`translate(${-a/2-i},${g?_.height/2+v/2-r/2-s:-_.height/2-v/2-r/2-s})`);e.attr("style",`color: ${(o=y.get("stroke"))!==null&&o!==void 0?o:m};`)}f.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${g?-T/2:T/2-_.height})`);A.attr("transform",`translate(${0},${g?_.height/2+v/2:-_.height/2-v/2})`);cj(t,N);t.intersect=function(e){var n,a,r;Zi.info("iconSquare intersect",t,e);if(!t.label){return Bj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(a=t.y)!==null&&a!==void 0?a:0;const s=(r=t.height)!==null&&r!==void 0?r:0;let l=[];if(g){l=[{x:i-_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2+_.height+v},{x:i+h/2,y:o-s/2+_.height+v},{x:i+h/2,y:o+s/2},{x:i-h/2,y:o+s/2},{x:i-h/2,y:o-s/2+_.height+v},{x:i-_.width/2,y:o-s/2+_.height+v}]}else{l=[{x:i-h/2,y:o-s/2},{x:i+h/2,y:o-s/2},{x:i+h/2,y:o-s/2+h},{x:i+_.width/2,y:o-s/2+h},{x:i+_.width/2/2,y:o+s/2},{x:i-_.width/2,y:o+s/2},{x:i-_.width/2,y:o-s/2+h},{x:i-h/2,y:o-s/2+h}]}const d=Bj.polygon(t,l,e);return d};return p}Xi(cH,"icon");async function hH(e,t,{config:{themeVariables:n,flowchart:a}}){var r,i,o,s;const{labelStyles:l}=hL(t);t.labelStyle=l;const d=(r=t.assetHeight)!==null&&r!==void 0?r:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=a===null||a===void 0?void 0:a.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,label:f}=await lj(e,t,"icon-shape default");const g=20;const m=t.label?8:0;const y=t.pos==="t";const{nodeBorder:x,mainBkg:b}=n;const{stylesMap:v}=lL(t);const k=sj.svg(p);const S=uL(t,{});if(t.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const w=v.get("fill");S.stroke=w!==null&&w!==void 0?w:b;const C=p.append("g");t.icon&&C.html(`<g>${await VO(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const T=C.node().getBBox();const E=T.width;const A=T.height;const N=T.x;const P=T.y;const L=Math.max(E,A)*Math.SQRT2+g*2;const M=k.circle(0,0,L,S);const D=Math.max(L,_.width);const I=L+_.height+m;const B=k.rectangle(-D/2,-I/2,D,I,{...S,fill:"transparent",stroke:"none"});const R=p.insert(()=>M,":first-child");const O=p.insert(()=>B);C.attr("transform",`translate(${-E/2-N},${y?_.height/2+m/2-A/2-P:-_.height/2-m/2-A/2-P})`);C.attr("style",`color: ${(o=v.get("stroke"))!==null&&o!==void 0?o:x};`);f.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${y?-I/2:I/2-_.height})`);R.attr("transform",`translate(${0},${y?_.height/2+m/2:-_.height/2-m/2})`);cj(t,O);t.intersect=function(e){Zi.info("iconSquare intersect",t,e);const n=Bj.rect(t,e);return n};return p}Xi(hH,"iconCircle");async function uH(e,t,{config:{themeVariables:n,flowchart:a}}){var r,i,o,s;const{labelStyles:l}=hL(t);t.labelStyle=l;const d=(r=t.assetHeight)!==null&&r!==void 0?r:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=a===null||a===void 0?void 0:a.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,halfPadding:f,label:g}=await lj(e,t,"icon-shape default");const m=t.pos==="t";const y=h+f*2;const x=h+f*2;const{nodeBorder:b,mainBkg:v}=n;const{stylesMap:k}=lL(t);const S=-x/2;const w=-y/2;const C=t.label?8:0;const T=sj.svg(p);const E=uL(t,{});if(t.look!=="handDrawn"){E.roughness=0;E.fillStyle="solid"}const A=k.get("fill");E.stroke=A!==null&&A!==void 0?A:v;const N=T.path(xj(S,w,x,y,5),E);const P=Math.max(x,_.width);const L=y+_.height+C;const M=T.rectangle(-P/2,-L/2,P,L,{...E,fill:"transparent",stroke:"none"});const D=p.insert(()=>N,":first-child").attr("class","icon-shape2");const I=p.insert(()=>M);if(t.icon){let e=p.append("g");e.html(`<g>${await VO(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),a=n.width,r=n.height,i=n.x,s=n.y;e.attr("transform",`translate(${-a/2-i},${m?_.height/2+C/2-r/2-s:-_.height/2-C/2-r/2-s})`);e.attr("style",`color: ${(o=k.get("stroke"))!==null&&o!==void 0?o:b};`)}g.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${m?-L/2:L/2-_.height})`);D.attr("transform",`translate(${0},${m?_.height/2+C/2:-_.height/2-C/2})`);cj(t,I);t.intersect=function(e){var n,a,r;Zi.info("iconSquare intersect",t,e);if(!t.label){return Bj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(a=t.y)!==null&&a!==void 0?a:0;const s=(r=t.height)!==null&&r!==void 0?r:0;let l=[];if(m){l=[{x:i-_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2+_.height+C},{x:i+x/2,y:o-s/2+_.height+C},{x:i+x/2,y:o+s/2},{x:i-x/2,y:o+s/2},{x:i-x/2,y:o-s/2+_.height+C},{x:i-_.width/2,y:o-s/2+_.height+C}]}else{l=[{x:i-x/2,y:o-s/2},{x:i+x/2,y:o-s/2},{x:i+x/2,y:o-s/2+y},{x:i+_.width/2,y:o-s/2+y},{x:i+_.width/2/2,y:o+s/2},{x:i-_.width/2,y:o+s/2},{x:i-_.width/2,y:o-s/2+y},{x:i-x/2,y:o-s/2+y}]}const d=Bj.polygon(t,l,e);return d};return p}Xi(uH,"iconRounded");async function pH(e,t,{config:{themeVariables:n,flowchart:a}}){var r,i,o,s;const{labelStyles:l}=hL(t);t.labelStyle=l;const d=(r=t.assetHeight)!==null&&r!==void 0?r:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=a===null||a===void 0?void 0:a.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,halfPadding:f,label:g}=await lj(e,t,"icon-shape default");const m=t.pos==="t";const y=h+f*2;const x=h+f*2;const{nodeBorder:b,mainBkg:v}=n;const{stylesMap:k}=lL(t);const S=-x/2;const w=-y/2;const C=t.label?8:0;const T=sj.svg(p);const E=uL(t,{});if(t.look!=="handDrawn"){E.roughness=0;E.fillStyle="solid"}const A=k.get("fill");E.stroke=A!==null&&A!==void 0?A:v;const N=T.path(xj(S,w,x,y,.1),E);const P=Math.max(x,_.width);const L=y+_.height+C;const M=T.rectangle(-P/2,-L/2,P,L,{...E,fill:"transparent",stroke:"none"});const D=p.insert(()=>N,":first-child");const I=p.insert(()=>M);if(t.icon){let e=p.append("g");e.html(`<g>${await VO(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),a=n.width,r=n.height,i=n.x,s=n.y;e.attr("transform",`translate(${-a/2-i},${m?_.height/2+C/2-r/2-s:-_.height/2-C/2-r/2-s})`);e.attr("style",`color: ${(o=k.get("stroke"))!==null&&o!==void 0?o:b};`)}g.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${m?-L/2:L/2-_.height})`);D.attr("transform",`translate(${0},${m?_.height/2+C/2:-_.height/2-C/2})`);cj(t,I);t.intersect=function(e){var n,a,r;Zi.info("iconSquare intersect",t,e);if(!t.label){return Bj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(a=t.y)!==null&&a!==void 0?a:0;const s=(r=t.height)!==null&&r!==void 0?r:0;let l=[];if(m){l=[{x:i-_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2+_.height+C},{x:i+x/2,y:o-s/2+_.height+C},{x:i+x/2,y:o+s/2},{x:i-x/2,y:o+s/2},{x:i-x/2,y:o-s/2+_.height+C},{x:i-_.width/2,y:o-s/2+_.height+C}]}else{l=[{x:i-x/2,y:o-s/2},{x:i+x/2,y:o-s/2},{x:i+x/2,y:o-s/2+y},{x:i+_.width/2,y:o-s/2+y},{x:i+_.width/2/2,y:o+s/2},{x:i-_.width/2,y:o+s/2},{x:i-_.width/2,y:o-s/2+y},{x:i-x/2,y:o-s/2+y}]}const d=Bj.polygon(t,l,e);return d};return p}Xi(pH,"iconSquare");async function _H(e,t,{config:{flowchart:n}}){var a,r,i,o;const s=new Image;s.src=(a=t===null||t===void 0?void 0:t.img)!==null&&a!==void 0?a:"";await s.decode();const l=Number(s.naturalWidth.toString().replace("px",""));const d=Number(s.naturalHeight.toString().replace("px",""));t.imageAspectRatio=l/d;const{labelStyles:c}=hL(t);t.labelStyle=c;const h=n===null||n===void 0?void 0:n.wrappingWidth;t.defaultWidth=n===null||n===void 0?void 0:n.wrappingWidth;const u=Math.max(t.label?h!==null&&h!==void 0?h:0:0,(r=t===null||t===void 0?void 0:t.assetWidth)!==null&&r!==void 0?r:l);const p=t.constraint==="on"?(t===null||t===void 0?void 0:t.assetHeight)?t.assetHeight*t.imageAspectRatio:u:u;const _=t.constraint==="on"?p/t.imageAspectRatio:(i=t===null||t===void 0?void 0:t.assetHeight)!==null&&i!==void 0?i:d;t.width=Math.max(p,h!==null&&h!==void 0?h:0);const{shapeSvg:f,bbox:g,label:m}=await lj(e,t,"image-shape default");const y=t.pos==="t";const x=-p/2;const b=-_/2;const v=t.label?8:0;const k=sj.svg(f);const S=uL(t,{});if(t.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const w=k.rectangle(x,b,p,_,S);const C=Math.max(p,g.width);const T=_+g.height+v;const E=k.rectangle(-C/2,-T/2,C,T,{...S,fill:"none",stroke:"none"});const A=f.insert(()=>w,":first-child");const N=f.insert(()=>E);if(t.img){let e=f.append("image");e.attr("href",t.img);e.attr("width",p);e.attr("height",_);e.attr("preserveAspectRatio","none");e.attr("transform",`translate(${-p/2},${y?T/2-_:-T/2})`)}m.attr("transform",`translate(${-g.width/2-(g.x-((o=g.left)!==null&&o!==void 0?o:0))},${y?-_/2-g.height/2-v/2:_/2-g.height/2+v/2})`);A.attr("transform",`translate(${0},${y?g.height/2+v/2:-g.height/2-v/2})`);cj(t,N);t.intersect=function(e){var n,a,r;Zi.info("iconSquare intersect",t,e);if(!t.label){return Bj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(a=t.y)!==null&&a!==void 0?a:0;const s=(r=t.height)!==null&&r!==void 0?r:0;let l=[];if(y){l=[{x:i-g.width/2,y:o-s/2},{x:i+g.width/2,y:o-s/2},{x:i+g.width/2,y:o-s/2+g.height+v},{x:i+p/2,y:o-s/2+g.height+v},{x:i+p/2,y:o+s/2},{x:i-p/2,
y:o+s/2},{x:i-p/2,y:o-s/2+g.height+v},{x:i-g.width/2,y:o-s/2+g.height+v}]}else{l=[{x:i-p/2,y:o-s/2},{x:i+p/2,y:o-s/2},{x:i+p/2,y:o-s/2+_},{x:i+g.width/2,y:o-s/2+_},{x:i+g.width/2/2,y:o+s/2},{x:i-g.width/2,y:o+s/2},{x:i-g.width/2,y:o-s/2+_},{x:i-p/2,y:o-s/2+_}]}const d=Bj.polygon(t,l,e);return d};return f}Xi(_H,"imageSquare");async function fH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const h=Math.max(d.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=[{x:0,y:0},{x:c,y:0},{x:c+3*h/6,y:-h},{x:-3*h/6,y:-h}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=sj.svg(l),n=uL(t,{}),a=uj(u),r=e.path(a,n);p=l.insert(()=>r,":first-child").attr("transform",`translate(${-c/2}, ${h/2})`);_&&p.attr("style",_)}else{p=jj(l,c,h,u)}s&&p.attr("style",s);t.width=c;t.height=h;cj(t,p);t.intersect=function(e){return Bj.polygon(t,u,e)};return l}Xi(fH,"inv_trapezoid");async function gH(e,t,n){const{labelStyles:a,nodeStyles:r}=hL(t);t.labelStyle=a;const{shapeSvg:i,bbox:o}=await lj(e,t,hj(t));const s=Math.max(o.width+n.labelPaddingX*2,(t===null||t===void 0?void 0:t.width)||0);const l=Math.max(o.height+n.labelPaddingY*2,(t===null||t===void 0?void 0:t.height)||0);const d=-s/2;const c=-l/2;let h;let{rx:u,ry:p}=t;const{cssStyles:_}=t;if((n===null||n===void 0?void 0:n.rx)&&n.ry){u=n.rx;p=n.ry}if(t.look==="handDrawn"){let e=sj.svg(i),n=uL(t,{}),a=u||p?e.path(xj(d,c,s,l,u||0),n):e.rectangle(d,c,s,l,n);h=i.insert(()=>a,":first-child");h.attr("class","basic label-container").attr("style",BB(_))}else{h=i.insert("rect",":first-child");h.attr("class","basic label-container").attr("style",r).attr("rx",BB(u)).attr("ry",BB(p)).attr("x",d).attr("y",c).attr("width",s).attr("height",l)}cj(t,h);t.calcIntersect=function(e,t){return Bj.rect(e,t)};t.intersect=function(e){return Bj.rect(t,e)};return i}Xi(gH,"drawRect");async function mH(e,t){var n,a;const{shapeSvg:r,bbox:i,label:o}=await lj(e,t,"label");const s=r.insert("rect",":first-child");const l=.1;const d=.1;s.attr("width",l).attr("height",d);r.attr("class","label edgeLabel");o.attr("transform",`translate(${-(i.width/2)-(i.x-((n=i.left)!==null&&n!==void 0?n:0))}, ${-(i.height/2)-(i.y-((a=i.top)!==null&&a!==void 0?a:0))})`);cj(t,s);t.intersect=function(e){return Bj.rect(t,e)};return r}Xi(mH,"labelRect");async function yH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0),(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const h=Math.max(d.height+((r=t.padding)!==null&&r!==void 0?r:0),(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=[{x:0,y:0},{x:c+3*h/6,y:0},{x:c,y:-h},{x:-(3*h)/6,y:-h}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=sj.svg(l),n=uL(t,{}),a=uj(u),r=e.path(a,n);p=l.insert(()=>r,":first-child").attr("transform",`translate(${-c/2}, ${h/2})`);_&&p.attr("style",_)}else{p=jj(l,c,h,u)}s&&p.attr("style",s);t.width=c;t.height=h;cj(t,p);t.intersect=function(e){return Bj.polygon(t,u,e)};return l}Xi(yH,"lean_left");async function xH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0),(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const h=Math.max(d.height+((r=t.padding)!==null&&r!==void 0?r:0),(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=[{x:-3*h/6,y:0},{x:c,y:0},{x:c+3*h/6,y:-h},{x:0,y:-h}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=sj.svg(l),n=uL(t,{}),a=uj(u),r=e.path(a,n);p=l.insert(()=>r,":first-child").attr("transform",`translate(${-c/2}, ${h/2})`);_&&p.attr("style",_)}else{p=jj(l,c,h,u)}s&&p.attr("style",s);t.width=c;t.height=h;cj(t,p);t.intersect=function(e){return Bj.polygon(t,u,e)};return l}Xi(xH,"lean_right");function bH(e,t){var n,a,r;const{labelStyles:i,nodeStyles:o}=hL(t);t.label="";t.labelStyle=i;const s=e.insert("g").attr("class",hj(t)).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);const{cssStyles:l}=t;const d=Math.max(35,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const c=Math.max(35,(r=t===null||t===void 0?void 0:t.height)!==null&&r!==void 0?r:0);const h=7;const u=[{x:d,y:0},{x:0,y:c+h/2},{x:d-2*h,y:c+h/2},{x:0,y:2*c},{x:d,y:c-h/2},{x:2*h,y:c-h/2}];const p=sj.svg(s);const _=uL(t,{});if(t.look!=="handDrawn"){_.roughness=0;_.fillStyle="solid"}const f=uj(u);const g=p.path(f,_);const m=s.insert(()=>g,":first-child");l&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",l);o&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",o);m.attr("transform",`translate(-${d/2},${-c})`);cj(t,m);t.intersect=function(e){Zi.info("lightningBolt intersect",t,e);const n=Bj.polygon(t,u,e);return n};return s}Xi(bH,"lightningBolt");var vH=Xi((e,t,n,a,r,i,o)=>[`M${e},${t+i}`,`a${r},${i} 0,0,0 ${n},0`,`a${r},${i} 0,0,0 ${-n},0`,`l0,${a}`,`a${r},${i} 0,0,0 ${n},0`,`l0,${-a}`,`M${e},${t+i+o}`,`a${r},${i} 0,0,0 ${n},0`].join(" "),"createCylinderPathD");var kH=Xi((e,t,n,a,r,i,o)=>[`M${e},${t+i}`,`M${e+n},${t+i}`,`a${r},${i} 0,0,0 ${-n},0`,`l0,${a}`,`a${r},${i} 0,0,0 ${n},0`,`l0,${-a}`,`M${e},${t+i+o}`,`a${r},${i} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD");var SH=Xi((e,t,n,a,r,i)=>[`M${e-n/2},${-a/2}`,`a${r},${i} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function wH(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0),(a=t.width)!==null&&a!==void 0?a:0);const _=p/2;const f=_/(2.5+p/50);const g=Math.max(h.height+f+((r=t.padding)!==null&&r!==void 0?r:0),(i=t.height)!==null&&i!==void 0?i:0);const m=g*.1;let y;const{cssStyles:x}=t;if(t.look==="handDrawn"){let e=sj.svg(c),n=kH(0,0,p,g,_,f,m),a=SH(0,f,p,g,_,f),r=uL(t,{}),i=e.path(n,r),o=e.path(a,r),s=c.insert(()=>o,":first-child");s.attr("class","line");y=c.insert(()=>i,":first-child");y.attr("class","basic label-container");x&&y.attr("style",x)}else{let e=vH(0,0,p,g,_,f,m);y=c.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",BB(x)).attr("style",d)}y.attr("label-offset-y",f);y.attr("transform",`translate(${-p/2}, ${-(g/2+f)})`);cj(t,y);u.attr("transform",`translate(${-(h.width/2)-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+f-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);t.intersect=function(e){var n,a,r,i,o,s;const l=Bj.rect(t,e);const d=l.x-((n=t.x)!==null&&n!==void 0?n:0);if(_!=0&&(Math.abs(d)<((a=t.width)!==null&&a!==void 0?a:0)/2||Math.abs(d)==((r=t.width)!==null&&r!==void 0?r:0)/2&&Math.abs(l.y-((i=t.y)!==null&&i!==void 0?i:0))>((o=t.height)!==null&&o!==void 0?o:0)/2-f)){let n=f*f*(1-d*d/(_*_));n>0&&(n=Math.sqrt(n));n=f-n;e.y-((s=t.y)!==null&&s!==void 0?s:0)>0&&(n=-n);l.y+=n}return l};return c}Xi(wH,"linedCylinder");async function CH(e,t){var n,a,r,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=hL(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await lj(e,t,hj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const g=Math.max(p.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const m=g/4;const y=g+m;const{cssStyles:x}=t;const b=sj.svg(u);const v=uL(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:-f/2-f/2*.1,y:-y/2},{x:-f/2-f/2*.1,y:y/2},...pj(-f/2-f/2*.1,y/2,f/2+f/2*.1,y/2,m,.8),{x:f/2+f/2*.1,y:-y/2},{x:-f/2-f/2*.1,y:-y/2},{x:-f/2,y:-y/2},{x:-f/2,y:y/2*1.1},{x:-f/2,y:-y/2}];const S=b.polygon(k.map(e=>[e.x,e.y]),v);const w=u.insert(()=>S,":first-child");w.attr("class","basic label-container");x&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",x);h&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",h);w.attr("transform",`translate(0,${-m/2})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)+f/2*.1/2-(p.x-((s=p.left)!==null&&s!==void 0?s:0))},${-g/2+((l=t.padding)!==null&&l!==void 0?l:0)-m/2-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);cj(t,w);t.intersect=function(e){const n=Bj.polygon(t,k,e);return n};return u}Xi(CH,"linedWaveEdgedRect");async function TH(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const _=Math.max(h.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=5;const g=-p/2;const m=-_/2;const{cssStyles:y}=t;const x=sj.svg(c);const b=uL(t,{});const v=[{x:g-f,y:m+f},{x:g-f,y:m+_+f},{x:g+p-f,y:m+_+f},{x:g+p-f,y:m+_},{x:g+p,y:m+_},{x:g+p,y:m+_-f},{x:g+p+f,y:m+_-f},{x:g+p+f,y:m-f},{x:g+f,y:m-f},{x:g+f,y:m},{x:g,y:m},{x:g,y:m+f}];const k=[{x:g,y:m+f},{x:g+p-f,y:m+f},{x:g+p-f,y:m+_},{x:g+p,y:m+_},{x:g+p,y:m},{x:g,y:m}];if(t.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const S=uj(v);const w=x.path(S,b);const C=uj(k);const T=x.path(C,{...b,fill:"none"});const E=c.insert(()=>T,":first-child");E.insert(()=>w,":first-child");E.attr("class","basic label-container");y&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",y);d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d);u.attr("transform",`translate(${-(h.width/2)-f-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+f-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);cj(t,E);t.intersect=function(e){const n=Bj.polygon(t,v,e);return n};return c}Xi(TH,"multiRect");async function EH(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const _=Math.max(h.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=_/4;const g=_+f;const m=-p/2;const y=-g/2;const x=5;const{cssStyles:b}=t;const v=pj(m-x,y+g+x,m+p-x,y+g+x,f,.8);const k=v===null||v===void 0?void 0:v[v.length-1];const S=[{x:m-x,y:y+x},{x:m-x,y:y+g+x},...v,{x:m+p-x,y:k.y-x},{x:m+p,y:k.y-x},{x:m+p,y:k.y-2*x},{x:m+p+x,y:k.y-2*x},{x:m+p+x,y:y-x},{x:m+x,y:y-x},{x:m+x,y:y},{x:m,y:y},{x:m,y:y+x}];const w=[{x:m,y:y+x},{x:m+p-x,y:y+x},{x:m+p-x,y:k.y-x},{x:m+p,y:k.y-x},{x:m+p,y:y},{x:m,y:y}];const C=sj.svg(c);const T=uL(t,{});if(t.look!=="handDrawn"){T.roughness=0;T.fillStyle="solid"}const E=uj(S);const A=C.path(E,T);const N=uj(w);const P=C.path(N,T);const L=c.insert(()=>A,":first-child");L.insert(()=>P);L.attr("class","basic label-container");b&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",b);d&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",d);L.attr("transform",`translate(0,${-f/2})`);u.attr("transform",`translate(${-(h.width/2)-x-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+x-f/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);cj(t,L);t.intersect=function(e){const n=Bj.polygon(t,S,e);return n};return c}Xi(EH,"multiWaveEdgedRectangle");async function AH(e,t,{config:{themeVariables:n}}){var a,r,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=hL(t);t.labelStyle=c;const u=t.useHtmlLabels||((a=As().flowchart)===null||a===void 0?void 0:a.htmlLabels)!==!1;u||(t.centerLabel=!0);const{shapeSvg:p,bbox:_,label:f}=await lj(e,t,hj(t));const g=Math.max(_.width+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.width)!==null&&i!==void 0?i:0);const m=Math.max(_.height+((o=t.padding)!==null&&o!==void 0?o:0)*2,(s=t===null||t===void 0?void 0:t.height)!==null&&s!==void 0?s:0);const y=-g/2;const x=-m/2;const{cssStyles:b}=t;const v=sj.svg(p);const k=uL(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});if(t.look!=="handDrawn"){k.roughness=0;k.fillStyle="solid"}const S=v.rectangle(y,x,g,m,k);const w=p.insert(()=>S,":first-child");w.attr("class","basic label-container");b&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",b);h&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",h);f.attr("transform",`translate(${-_.width/2-(_.x-((l=_.left)!==null&&l!==void 0?l:0))}, ${-(_.height/2)-(_.y-((d=_.top)!==null&&d!==void 0?d:0))})`);cj(t,w);t.intersect=function(e){return Bj.rect(t,e)};return p}Xi(AH,"note");var NH=Xi((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function PH(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=i.width+t.padding;const s=i.height+t.padding;const l=o+s;const d=.5;const c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){let e=sj.svg(r),n=uL(t,{}),a=NH(0,0,l),i=e.path(a,n);h=r.insert(()=>i,":first-child").attr("transform",`translate(${-l/2+d}, ${l/2})`);u&&h.attr("style",u)}else{h=jj(r,l,l,c);h.attr("transform",`translate(${-l/2+d}, ${l/2})`)}a&&h.attr("style",a);cj(t,h);t.calcIntersect=function(e,t){const n=e.width;const a=[{x:n/2,y:0},{x:n,y:-n/2},{x:n/2,y:-n},{x:0,y:-n/2}];const r=Bj.polygon(e,a,t);return{x:r.x-.5,y:r.y-.5}};t.intersect=function(e){return this.calcIntersect(t,e)};return r}Xi(PH,"question");async function LH(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0),(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const _=Math.max(h.height+((r=t.padding)!==null&&r!==void 0?r:0),(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=-p/2;const g=-_/2;const m=g/2;const y=[{x:f+m,y:g},{x:f,y:0},{x:f+m,y:-g},{x:-f,y:-g},{x:-f,y:g}];const{cssStyles:x}=t;const b=sj.svg(c);const v=uL(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=uj(y);const S=b.path(k,v);const w=c.insert(()=>S,":first-child");w.attr("class","basic label-container");x&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",x);d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d);w.attr("transform",`translate(${-m/2},0)`);u.attr("transform",`translate(${-m/2-h.width/2-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);cj(t,w);t.intersect=function(e){return Bj.polygon(t,y,e)};return c}Xi(LH,"rect_left_inv_arrow");async function MH(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;let o;if(!t.cssClasses){o="node default"}else{o="node "+t.cssClasses}const s=e.insert("g").attr("class",o).attr("id",t.domId||t.id);const l=s.insert("g");const d=s.insert("g").attr("class","label").attr("style",i);const c=t.description;const h=t.label;const u=d.node().appendChild(await yj(h,t.labelStyle,!0,!0));let p={width:0,height:0};if(Ks((a=(n=Ol())===null||n===void 0?void 0:n.flowchart)===null||a===void 0?void 0:a.htmlLabels)){let e=u.children[0],t=$h(u);p=e.getBoundingClientRect();t.attr("width",p.width);t.attr("height",p.height)}Zi.info("Text 2",c);const _=c||[];const f=u.getBBox();const g=d.node().appendChild(await yj(_.join?_.join("<br/>"):_,t.labelStyle,!0,!0));const m=g.children[0];const y=$h(g);p=m.getBoundingClientRect();y.attr("width",p.width);y.attr("height",p.height);const x=(t.padding||0)/2;$h(g).attr("transform","translate( "+(p.width>f.width?0:(f.width-p.width)/2)+", "+(f.height+x+5)+")");$h(u).attr("transform","translate( "+(p.width<f.width?0:-(f.width-p.width)/2)+", 0)");p=d.node().getBBox();d.attr("transform","translate("+-p.width/2+", "+(-p.height/2-x+3)+")");const b=p.width+(t.padding||0);const v=p.height+(t.padding||0);const k=-p.width/2-x;const S=-p.height/2-x;let w;let C;if(t.look==="handDrawn"){let e=sj.svg(s),n=uL(t,{}),a=e.path(xj(k,S,b,v,t.rx||0),n),r=e.line(-p.width/2-x,-p.height/2-x+f.height+x,p.width/2+x,-p.height/2-x+f.height+x,n);C=s.insert(()=>{Zi.debug("Rough node insert CXC",a);return r},":first-child");w=s.insert(()=>{Zi.debug("Rough node insert CXC",a);return a},":first-child")}else{w=l.insert("rect",":first-child");C=l.insert("line");w.attr("class","outer title-state").attr("style",i).attr("x",-p.width/2-x).attr("y",-p.height/2-x).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0));C.attr("class","divider").attr("x1",-p.width/2-x).attr("x2",p.width/2+x).attr("y1",-p.height/2-x+f.height+x).attr("y2",-p.height/2-x+f.height+x)}cj(t,w);t.intersect=function(e){return Bj.rect(t,e)};return s}Xi(MH,"rectWithTitle");function DH(e,t,n,a,r,i,o){const s=20;const l=(e+n)/2;const d=(t+a)/2;const c=Math.atan2(a-t,n-e);const h=(n-e)/2;const u=(a-t)/2;const p=h/r;const _=u/i;const f=Math.sqrt(p**2+_**2);if(f>1){throw new Error("The given radii are too small to create an arc between the points.")}const g=Math.sqrt(1-f**2);const m=l+g*i*Math.sin(c)*(o?-1:1);const y=d-g*r*Math.cos(c)*(o?-1:1);const x=Math.atan2((t-y)/i,(e-m)/r);const b=Math.atan2((a-y)/i,(n-m)/r);let v=b-x;o&&v<0&&(v+=2*Math.PI);!o&&v>0&&(v-=2*Math.PI);const k=[];for(let e=0;e<s;e++){let t=e/(s-1),n=x+t*v,a=m+r*Math.cos(n),o=y+i*Math.sin(n);k.push({x:a,y:o})}return k}Xi(DH,"generateArcPoints");async function IH(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;const{shapeSvg:o,bbox:s}=await lj(e,t,hj(t));const l=(n=t===null||t===void 0?void 0:t.padding)!==null&&n!==void 0?n:0;const d=(a=t===null||t===void 0?void 0:t.padding)!==null&&a!==void 0?a:0;const c=((t===null||t===void 0?void 0:t.width)?t===null||t===void 0?void 0:t.width:s.width)+l*2;const h=((t===null||t===void 0?void 0:t.height)?t===null||t===void 0?void 0:t.height:s.height)+d*2;const u=t.radius||5;const p=t.taper||5;const{cssStyles:_}=t;const f=sj.svg(o);const g=uL(t,{});t.stroke&&(g.stroke=t.stroke);if(t.look!=="handDrawn"){g.roughness=0;g.fillStyle="solid"}const m=[{x:-c/2+p,y:-h/2},{x:c/2-p,y:-h/2},...DH(c/2-p,-h/2,c/2,-h/2+p,u,u,!0),{x:c/2,y:-h/2+p},{x:c/2,y:h/2-p},...DH(c/2,h/2-p,c/2-p,h/2,u,u,!0),{x:c/2-p,y:h/2},{x:-c/2+p,y:h/2},...DH(-c/2+p,h/2,-c/2,h/2-p,u,u,!0),{x:-c/2,y:h/2-p},{x:-c/2,y:-h/2+p},...DH(-c/2,-h/2+p,-c/2+p,-h/2,u,u,!0)];const y=uj(m);const x=f.path(y,g);const b=o.insert(()=>x,":first-child");b.attr("class","basic label-container outer-path");_&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",_);i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i);cj(t,b);t.intersect=function(e){const n=Bj.polygon(t,m,e);return n};return o}Xi(IH,"roundedRect");async function BH(e,t){var n,a,r,i,o,s,l,d,c;const{labelStyles:h,nodeStyles:u}=hL(t);t.labelStyle=h;const{shapeSvg:p,bbox:_,label:f}=await lj(e,t,hj(t));const g=(n=t===null||t===void 0?void 0:t.padding)!==null&&n!==void 0?n:0;const m=Math.max(_.width+((a=t.padding)!==null&&a!==void 0?a:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const y=Math.max(_.height+((i=t.padding)!==null&&i!==void 0?i:0)*2,(o=t===null||t===void 0?void 0:t.height)!==null&&o!==void 0?o:0);const x=-_.width/2-g;const b=-_.height/2-g;const{cssStyles:v}=t;const k=sj.svg(p);const S=uL(t,{});if(t.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const w=[{x:x,y:b},{x:x+m+8,y:b},{x:x+m+8,y:b+y},{x:x-8,y:b+y},{x:x-8,y:b},{x:x,y:b},{x:x,y:b+y}];const C=k.polygon(w.map(e=>[e.x,e.y]),S);const T=p.insert(()=>C,":first-child");T.attr("class","basic label-container").attr("style",BB(v));u&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",u);v&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",u);f.attr("transform",`translate(${-m/2+4+((s=t.padding)!==null&&s!==void 0?s:0)-(_.x-((l=_.left)!==null&&l!==void 0?l:0))},${-y/2+((d=t.padding)!==null&&d!==void 0?d:0)-(_.y-((c=_.top)!==null&&c!==void 0?c:0))})`);cj(t,T);t.intersect=function(e){return Bj.rect(t,e)};return p}Xi(BH,"shadedProcess");async function RH(e,t){var n,a,r,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=hL(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await lj(e,t,hj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const g=Math.max(p.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const m=-f/2;const y=-g/2;const{cssStyles:x}=t;const b=sj.svg(u);const v=uL(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:m,y:y},{x:m,y:y+g},{x:m+f,y:y+g},{x:m+f,y:y-g/2}];const S=uj(k);const w=b.path(S,v);const C=u.insert(()=>w,":first-child");C.attr("class","basic label-container");x&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",x);h&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",h);C.attr("transform",`translate(0, ${g/4})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)-(p.x-((s=p.left)!==null&&s!==void 0?s:0))}, ${-g/4+((l=t.padding)!==null&&l!==void 0?l:0)-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);cj(t,C);t.intersect=function(e){const n=Bj.polygon(t,k,e);return n};return u}Xi(RH,"slopedRect");async function OH(e,t){var n;const a={rx:0,ry:0,classes:"",labelPaddingX:(n=t.labelPaddingX)!==null&&n!==void 0?n:((t===null||t===void 0?void 0:t.padding)||0)*2,labelPaddingY:((t===null||t===void 0?void 0:t.padding)||0)*1};return gH(e,t,a)}Xi(OH,"squareRect");async function FH(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=i.height+t.padding;const s=i.width+o/4+t.padding;const l=o/2;const{cssStyles:d}=t;const c=sj.svg(r);const h=uL(t,{});if(t.look!=="handDrawn"){h.roughness=0;h.fillStyle="solid"}const u=[{x:-s/2+l,y:-o/2},{x:s/2-l,y:-o/2},..._j(-s/2+l,0,l,50,90,270),{x:s/2-l,y:o/2},..._j(s/2-l,0,l,50,270,450)];const p=uj(u);const _=c.path(p,h);const f=r.insert(()=>_,":first-child");f.attr("class","basic label-container outer-path");d&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",d);a&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",a);cj(t,f);t.intersect=function(e){const n=Bj.polygon(t,u,e);return n};return r}Xi(FH,"stadium");async function jH(e,t){const n={rx:5,ry:5,classes:"flowchart-node"};return gH(e,t,n)}Xi(jH,"state");function HH(e,t,{config:{themeVariables:n}}){const{labelStyles:a,nodeStyles:r}=hL(t);t.labelStyle=a;const{cssStyles:i}=t;const{lineColor:o,stateBorder:s,nodeBorder:l}=n;const d=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);const c=sj.svg(d);const h=uL(t,{});if(t.look!=="handDrawn"){h.roughness=0;h.fillStyle="solid"}const u=c.circle(0,0,14,{...h,stroke:o,strokeWidth:2});const p=s!==null&&s!==void 0?s:l;const _=c.circle(0,0,5,{...h,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"});const f=d.insert(()=>u,":first-child");f.insert(()=>_);i&&f.selectAll("path").attr("style",i);r&&f.selectAll("path").attr("style",r);cj(t,f);t.intersect=function(e){return Bj.circle(t,7,e)};return d}Xi(HH,"stateEnd");function $H(e,t,{config:{themeVariables:n}}){const{lineColor:a}=n;const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let i;if(t.look==="handDrawn"){let e=sj.svg(r),t=e.circle(0,0,14,sL(a));i=r.insert(()=>t);i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else{i=r.insert("circle",":first-child");i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}cj(t,i);t.intersect=function(e){return Bj.circle(t,7,e)};return r}Xi($H,"stateStart");async function WH(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=((t===null||t===void 0?void 0:t.padding)||0)/2;const s=i.width+t.padding;const l=i.height+t.padding;const d=-i.width/2-o;const c=-i.height/2-o;const h=[{x:0,y:0},{x:s,y:0},{x:s,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){let e=sj.svg(r),n=uL(t,{}),a=e.rectangle(d-8,c,s+16,l,n),i=e.line(d,c,d,c+l,n),o=e.line(d+s,c,d+s,c+l,n);r.insert(()=>i,":first-child");r.insert(()=>o,":first-child");let h=r.insert(()=>a,":first-child"),{cssStyles:u}=t;h.attr("class","basic label-container").attr("style",BB(u));cj(t,h)}else{let e=jj(r,s,l,h);a&&e.attr("style",a);cj(t,e)}t.intersect=function(e){return Bj.polygon(t,h,e)};return r}Xi(WH,"subroutine");async function zH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const h=Math.max(d.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=-c/2;const p=-h/2;const _=.2*h;const f=.2*h;const{cssStyles:g}=t;const m=sj.svg(l);const y=uL(t,{});const x=[{x:u-_/2,y:p},{x:u+c+_/2,y:p},{x:u+c+_/2,y:p+h},{x:u-_/2,y:p+h}];const b=[{x:u+c-_/2,y:p+h},{x:u+c+_/2,y:p+h},{x:u+c+_/2,y:p+h-f}];if(t.look!=="handDrawn"){y.roughness=0;y.fillStyle="solid"}const v=uj(x);const k=m.path(v,y);const S=uj(b);const w=m.path(S,{...y,fillStyle:"solid"});const C=l.insert(()=>w,":first-child");C.insert(()=>k,":first-child");C.attr("class","basic label-container");g&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",g);s&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",s);cj(t,C);t.intersect=function(e){const n=Bj.polygon(t,x,e);return n};return l}Xi(zH,"taggedRect");async function qH(e,t){var n,a,r,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=hL(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await lj(e,t,hj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const g=Math.max(p.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const m=g/4;const y=.2*f;const x=.2*g;const b=g+m;const{cssStyles:v}=t;const k=sj.svg(u);const S=uL(t,{});if(t.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const w=[{x:-f/2-f/2*.1,y:b/2},...pj(-f/2-f/2*.1,b/2,f/2+f/2*.1,b/2,m,.8),{x:f/2+f/2*.1,y:-b/2},{x:-f/2-f/2*.1,y:-b/2}];const C=-f/2+f/2*.1;const T=-b/2-x*.4;const E=[{x:C+f-y,y:(T+g)*1.4},{x:C+f,y:T+g-x},{x:C+f,y:(T+g)*.9},...pj(C+f,(T+g)*1.3,C+f-y,(T+g)*1.5,-g*.03,.5)];const A=uj(w);const N=k.path(A,S);const P=uj(E);const L=k.path(P,{...S,fillStyle:"solid"});const M=u.insert(()=>L,":first-child");M.insert(()=>N,":first-child");M.attr("class","basic label-container");v&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",v);h&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",h);M.attr("transform",`translate(0,${-m/2})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)-(p.x-((s=p.left)!==null&&s!==void 0?s:0))},${-g/2+((l=t.padding)!==null&&l!==void 0?l:0)-m/2-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);cj(t,M);t.intersect=function(e){const n=Bj.polygon(t,w,e);return n};return u}Xi(qH,"taggedWaveEdgedRectangle");async function UH(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=Math.max(i.width+t.padding,(t===null||t===void 0?void 0:t.width)||0);const s=Math.max(i.height+t.padding,(t===null||t===void 0?void 0:t.height)||0);const l=-o/2;const d=-s/2;const c=r.insert("rect",":first-child");c.attr("class","text").attr("style",a).attr("rx",0).attr("ry",0).attr("x",l).attr("y",d).attr("width",o).attr("height",s);cj(t,c);t.intersect=function(e){return Bj.rect(t,e)};return r}Xi(UH,"text");var YH=Xi((e,t,n,a,r,i)=>`M${e},${t}\n    a${r},${i} 0,0,1 ${0},${-a}\n    l${n},${0}\n    a${r},${i} 0,0,1 ${0},${a}\n    M${n},${-a}\n    a${r},${i} 0,0,0 ${0},${a}\n    l${-n},${0}`,"createCylinderPathD");var GH=Xi((e,t,n,a,r,i)=>[`M${e},${t}`,`M${e+n},${t}`,`a${r},${i} 0,0,0 ${0},${-a}`,`l${-n},0`,`a${r},${i} 0,0,0 ${0},${a}`,`l${n},0`].join(" "),"createOuterCylinderPathD");var VH=Xi((e,t,n,a,r,i)=>[`M${e+n/2},${-a/2}`,`a${r},${i} 0,0,0 0,${a}`].join(" "),"createInnerCylinderPathD");async function XH(e,t){var n,a;const{labelStyles:r,nodeStyles:i}=hL(t);t.labelStyle=r;const{shapeSvg:o,bbox:s,label:l,halfPadding:d}=await lj(e,t,hj(t));const c=t.look==="neo"?d*2:d;const h=s.height+c;const u=h/2;const p=u/(2.5+h/50);const _=s.width+p+c;const{cssStyles:f}=t;let g;if(t.look==="handDrawn"){let e=sj.svg(o),n=GH(0,0,_,h,p,u),a=VH(0,0,_,h,p,u),r=e.path(n,uL(t,{})),i=e.path(a,uL(t,{fill:"none"}));g=o.insert(()=>i,":first-child");g=o.insert(()=>r,":first-child");g.attr("class","basic label-container");f&&g.attr("style",f)}else{let e=YH(0,0,_,h,p,u);g=o.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",BB(f)).attr("style",i);g.attr("class","basic label-container");f&&g.selectAll("path").attr("style",f);i&&g.selectAll("path").attr("style",i)}g.attr("label-offset-x",p);g.attr("transform",`translate(${-_/2}, ${h/2} )`);l.attr("transform",`translate(${-(s.width/2)-p-(s.x-((n=s.left)!==null&&n!==void 0?n:0))}, ${-(s.height/2)-(s.y-((a=s.top)!==null&&a!==void 0?a:0))})`);cj(t,g);t.intersect=function(e){var n,a,r,i,o,s;const l=Bj.rect(t,e);const d=l.y-((n=t.y)!==null&&n!==void 0?n:0);if(u!=0&&(Math.abs(d)<((a=t.height)!==null&&a!==void 0?a:0)/2||Math.abs(d)==((r=t.height)!==null&&r!==void 0?r:0)/2&&Math.abs(l.x-((i=t.x)!==null&&i!==void 0?i:0))>((o=t.width)!==null&&o!==void 0?o:0)/2-p)){let n=p*p*(1-d*d/(u*u));n!=0&&(n=Math.sqrt(Math.abs(n)));n=p-n;e.x-((s=t.x)!==null&&s!==void 0?s:0)>0&&(n=-n);l.x+=n}return l};return o}Xi(XH,"tiltedCylinder");async function KH(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i}=await lj(e,t,hj(t));const o=i.width+t.padding;const s=i.height+t.padding;const l=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}];let d;const{cssStyles:c}=t;if(t.look==="handDrawn"){let e=sj.svg(r),n=uL(t,{}),a=uj(l),i=e.path(a,n);d=r.insert(()=>i,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`);c&&d.attr("style",c)}else{d=jj(r,o,s,l)}a&&d.attr("style",a);t.width=o;t.height=s;cj(t,d);t.intersect=function(e){return Bj.polygon(t,l,e)};return r}Xi(KH,"trapezoid");async function QH(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=60,h=20;const u=Math.max(c,d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const p=Math.max(h,d.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const{cssStyles:_}=t;const f=sj.svg(l);const g=uL(t,{});if(t.look!=="handDrawn"){g.roughness=0;g.fillStyle="solid"}const m=[{x:-u/2*.8,y:-p/2},{x:u/2*.8,y:-p/2},{x:u/2,y:-p/2*.6},{x:u/2,y:p/2},{x:-u/2,y:p/2},{x:-u/2,y:-p/2*.6}];const y=uj(m);const x=f.path(y,g);const b=l.insert(()=>x,":first-child");b.attr("class","basic label-container");_&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",_);s&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",s);cj(t,b);t.intersect=function(e){const n=Bj.polygon(t,m,e);return n};return l}Xi(QH,"trapezoidalPentagon");async function ZH(e,t){var n,a,r,i,o;const{labelStyles:s,nodeStyles:l}=hL(t);t.labelStyle=s;const{shapeSvg:d,bbox:c,label:h}=await lj(e,t,hj(t));const u=Ks((n=Ol().flowchart)===null||n===void 0?void 0:n.htmlLabels);const p=c.width+((a=t.padding)!==null&&a!==void 0?a:0);const _=p+c.height;const f=p+c.height;const g=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-_}];const{cssStyles:m}=t;const y=sj.svg(d);const x=uL(t,{});if(t.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const b=uj(g);const v=y.path(b,x);const k=d.insert(()=>v,":first-child").attr("transform",`translate(${-_/2}, ${_/2})`);m&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",m);l&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",l)
t.width=p;t.height=_;cj(t,k);h.attr("transform",`translate(${-c.width/2-(c.x-((r=c.left)!==null&&r!==void 0?r:0))}, ${_/2-(c.height+((i=t.padding)!==null&&i!==void 0?i:0)/(u?2:1)-(c.y-((o=c.top)!==null&&o!==void 0?o:0)))})`);t.intersect=function(e){Zi.info("Triangle intersect",t,g,e);return Bj.polygon(t,g,e)};return d}Xi(ZH,"triangle");async function JH(e,t){var n,a,r,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=hL(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await lj(e,t,hj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const g=Math.max(p.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const m=g/8;const y=g+m;const{cssStyles:x}=t;const b=70;const v=b-f;const k=v>0?v/2:0;const S=sj.svg(u);const w=uL(t,{});if(t.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const C=[{x:-f/2-k,y:y/2},...pj(-f/2-k,y/2,f/2+k,y/2,m,.8),{x:f/2+k,y:-y/2},{x:-f/2-k,y:-y/2}];const T=uj(C);const E=S.path(T,w);const A=u.insert(()=>E,":first-child");A.attr("class","basic label-container");x&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",x);h&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",h);A.attr("transform",`translate(0,${-m/2})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)-(p.x-((s=p.left)!==null&&s!==void 0?s:0))},${-g/2+((l=t.padding)!==null&&l!==void 0?l:0)-m-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);cj(t,A);t.intersect=function(e){const n=Bj.polygon(t,C,e);return n};return u}Xi(JH,"waveEdgedRectangle");async function e$(e,t){var n,a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await lj(e,t,hj(t));const c=100;const h=50;const u=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const p=Math.max(d.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const _=u/p;let f=u;let g=p;if(f>g*_){g=f/_}else{f=g*_}f=Math.max(f,c);g=Math.max(g,h);const m=Math.min(g*.2,g/4);const y=g+m*2;const{cssStyles:x}=t;const b=sj.svg(l);const v=uL(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:-f/2,y:y/2},...pj(-f/2,y/2,f/2,y/2,m,1),{x:f/2,y:-y/2},...pj(f/2,-y/2,-f/2,-y/2,m,-1)];const S=uj(k);const w=b.path(S,v);const C=l.insert(()=>w,":first-child");C.attr("class","basic label-container");x&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",x);s&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",s);cj(t,C);t.intersect=function(e){const n=Bj.polygon(t,k,e);return n};return l}Xi(e$,"waveRectangle");async function t$(e,t){var n,a,r,i,o,s;const{labelStyles:l,nodeStyles:d}=hL(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const _=Math.max(h.height+((r=t.padding)!==null&&r!==void 0?r:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=5;const g=-p/2;const m=-_/2;const{cssStyles:y}=t;const x=sj.svg(c);const b=uL(t,{});const v=[{x:g-f,y:m-f},{x:g-f,y:m+_},{x:g+p,y:m+_},{x:g+p,y:m-f}];const k=`M${g-f},${m-f} L${g+p},${m-f} L${g+p},${m+_} L${g-f},${m+_} L${g-f},${m-f}\n                M${g-f},${m} L${g+p},${m}\n                M${g},${m-f} L${g},${m+_}`;if(t.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const S=x.path(k,b);const w=c.insert(()=>S,":first-child");w.attr("transform",`translate(${f/2}, ${f/2})`);w.attr("class","basic label-container");y&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",y);d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d);u.attr("transform",`translate(${-(h.width/2)+f/2-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+f/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);cj(t,w);t.intersect=function(e){const n=Bj.polygon(t,v,e);return n};return c}Xi(t$,"windowPane");async function n$(e,t){var n,a,r,i,o,s,l;t.alias&&(t.label=t.alias);if(t.look==="handDrawn"){let{themeVariables:n}=As(),{background:a}=n,r={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${a}`]};await n$(e,r)}const d=As();t.useHtmlLabels=d.htmlLabels;let c=(a=(n=d.er)===null||n===void 0?void 0:n.diagramPadding)!==null&&a!==void 0?a:10;let h=(i=(r=d.er)===null||r===void 0?void 0:r.entityPadding)!==null&&i!==void 0?i:6;const{cssStyles:u}=t;const{labelStyles:p,nodeStyles:_}=hL(t);if(t.attributes.length===0&&t.label){let n={rx:0,ry:0,labelPaddingX:c,labelPaddingY:c*1.5,classes:""};vB(t.label,d)+n.labelPaddingX*2<d.er.minEntityWidth&&(t.width=d.er.minEntityWidth);let a=await gH(e,t,n);if(!Ks(d.htmlLabels)){let e=a.select("text"),t=(o=e.node())===null||o===void 0?void 0:o.getBBox();e.attr("transform",`translate(${-t.width/2}, 0)`)}return a}if(!d.htmlLabels){c*=1.25;h*=1.25}let f=hj(t);f||(f="node default");const g=e.insert("g").attr("class",f).attr("id",t.domId||t.id);const m=await a$(g,(s=t.label)!==null&&s!==void 0?s:"",d,0,0,["name"],p);m.height+=h;let y=0;const x=[];const b=[];let v=0;let k=0;let S=0;let w=0;let C=!0;let T=!0;for(const e of t.attributes){let t=await a$(g,e.type,d,0,y,["attribute-type"],p);v=Math.max(v,t.width+c);let n=await a$(g,e.name,d,0,y,["attribute-name"],p);k=Math.max(k,n.width+c);let a=await a$(g,e.keys.join(),d,0,y,["attribute-keys"],p);S=Math.max(S,a.width+c);let r=await a$(g,e.comment,d,0,y,["attribute-comment"],p);w=Math.max(w,r.width+c);let i=Math.max(t.height,n.height,a.height,r.height)+h;b.push({yOffset:y,rowHeight:i});y+=i}let E=4;if(S<=c){C=!1;S=0;E--}if(w<=c){T=!1;w=0;E--}const A=g.node().getBBox();if(m.width+c*2-(v+k+S+w)>0){let e=m.width+c*2-(v+k+S+w);v+=e/E;k+=e/E;S>0&&(S+=e/E);w>0&&(w+=e/E)}const N=v+k+S+w;const P=sj.svg(g);const L=uL(t,{});if(t.look!=="handDrawn"){L.roughness=0;L.fillStyle="solid"}let M=0;b.length>0&&(M=b.reduce((e,t)=>{var n;return e+((n=t===null||t===void 0?void 0:t.rowHeight)!==null&&n!==void 0?n:0)},0));const D=Math.max(A.width+c*2,(t===null||t===void 0?void 0:t.width)||0,N);const I=Math.max((M!==null&&M!==void 0?M:0)+m.height,(t===null||t===void 0?void 0:t.height)||0);const B=-D/2;const R=-I/2;g.selectAll("g:not(:first-child)").each((e,t,n)=>{const a=$h(n[t]);const r=a.attr("transform");let i=0;let o=0;if(r){let e=RegExp(/translate\(([^,]+),([^)]+)\)/),t=e.exec(r);if(t){i=parseFloat(t[1]);o=parseFloat(t[2]);if(a.attr("class").includes("attribute-name")){i+=v}else if(a.attr("class").includes("attribute-keys")){i+=v+k}else a.attr("class").includes("attribute-comment")&&(i+=v+k+S)}}a.attr("transform",`translate(${B+c/2+i}, ${o+R+m.height+h/2})`)});g.select(".name").attr("transform","translate("+-m.width/2+", "+(R+h/2)+")");const O=P.rectangle(B,R,D,I,L);const F=g.insert(()=>O,":first-child").attr("style",u.join(""));const{themeVariables:j}=As();const{rowEven:H,rowOdd:$,nodeBorder:W}=j;x.push(0);for(const[e,t]of b.entries()){let n=e+1,a=n%2===0&&t.yOffset!==0,r=P.rectangle(B,m.height+R+(t===null||t===void 0?void 0:t.yOffset),D,t===null||t===void 0?void 0:t.rowHeight,{...L,fill:a?H:$,stroke:W});g.insert(()=>r,"g.label").attr("style",u.join("")).attr("class",`row-rect-${a?"even":"odd"}`)}let z=P.line(B,m.height+R,D+B,m.height+R,L);g.insert(()=>z).attr("class","divider");z=P.line(v+B,m.height+R,v+B,I+R,L);g.insert(()=>z).attr("class","divider");if(C){z=P.line(v+k+B,m.height+R,v+k+B,I+R,L);g.insert(()=>z).attr("class","divider")}if(T){z=P.line(v+k+S+B,m.height+R,v+k+S+B,I+R,L);g.insert(()=>z).attr("class","divider")}for(const e of x){z=P.line(B,m.height+R+e,D+B,m.height+R+e,L);g.insert(()=>z).attr("class","divider")}cj(t,F);if(_&&t.look!=="handDrawn"){let e=_.split(";"),t=(l=e===null||e===void 0?void 0:e.filter(e=>e.includes("stroke")))===null||l===void 0?void 0:l.map(e=>`${e}`).join("; ");g.selectAll("path").attr("style",t!==null&&t!==void 0?t:"");g.selectAll(".row-rect-even path").attr("style",_)}t.intersect=function(e){return Bj.rect(t,e)};return g}Xi(n$,"erBox");async function a$(e,t,n,a=0,r=0,i=[],o=""){const s=e.insert("g").attr("class",`label ${i.join(" ")}`).attr("transform",`translate(${a}, ${r})`).attr("style",o);if(t!==Js(t)){t=Js(t);t=t.replaceAll("<","&lt;").replaceAll(">","&gt;")}const l=s.node().appendChild(await hF(s,t,{width:vB(t,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let e=l.children[0];e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");while(e.childNodes[0]){e=e.childNodes[0];e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}}let d=l.getBBox();if(Ks(n.htmlLabels)){let e=l.children[0];e.style.textAlign="start";let t=$h(l);d=e.getBoundingClientRect();t.attr("width",d.width);t.attr("height",d.height)}return d}Xi(a$,"addText");async function r$(e,t,n,a,r){var i;r===void 0&&(r=(i=n.class.padding)!==null&&i!==void 0?i:12);const o=!a?3:0;const s=e.insert("g").attr("class",hj(t)).attr("id",t.domId||t.id);let l=null;let d=null;let c=null;let h=null;let u=0;let p=0;let _=0;l=s.insert("g").attr("class","annotation-group text");if(t.annotations.length>0){let e=t.annotations[0];await i$(l,{text:`${e}`},0);let n=l.node().getBBox();u=n.height}d=s.insert("g").attr("class","label-group text");await i$(d,t,0,["font-weight: bolder"]);const f=d.node().getBBox();p=f.height;c=s.insert("g").attr("class","members-group text");let g=0;for(const e of t.members){let t=await i$(c,e,g,[e.parseClassifier()]);g+=t+o}_=c.node().getBBox().height;_<=0&&(_=r/2);h=s.insert("g").attr("class","methods-group text");let m=0;for(const e of t.methods){let t=await i$(h,e,m,[e.parseClassifier()]);m+=t+o}let y=s.node().getBBox();if(l!==null){let e=l.node().getBBox();l.attr("transform",`translate(${-e.width/2})`)}d.attr("transform",`translate(${-f.width/2}, ${u})`);y=s.node().getBBox();c.attr("transform",`translate(${0}, ${u+p+r*2})`);y=s.node().getBBox();h.attr("transform",`translate(${0}, ${u+p+(_?_+r*4:r*2)})`);y=s.node().getBBox();return{shapeSvg:s,bbox:y}}Xi(r$,"textHelper");async function i$(e,t,n,a=[]){var r;const i=e.insert("g").attr("class","label").attr("style",a.join("; "));const o=As();let s="useHtmlLabels"in t?t.useHtmlLabels:(r=Ks(o.htmlLabels))!==null&&r!==void 0?r:!0;let l="";if("text"in t){l=t.text}else{l=t.label}!s&&l.startsWith("\\")&&(l=l.substring(1));il(l)&&(s=!0);const d=await hF(i,Fl(DB(l)),{width:vB(l,o)+50,classes:"markdown-node-label",useHtmlLabels:s},o);let c;let h=1;if(!s){a.includes("font-weight: bolder")&&$h(d).selectAll("tspan").attr("font-weight","");h=d.children.length;let e=d.children[0];if(d.textContent===""||d.textContent.includes("&gt")){e.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();let t=l[1]===" ";t&&(e.textContent=e.textContent[0]+" "+e.textContent.substring(1))}e.textContent==="undefined"&&(e.textContent="");c=d.getBBox()}else{let e=d.children[0],t=$h(d);h=e.innerHTML.split("<br>").length;e.innerHTML.includes("</math>")&&(h+=e.innerHTML.split("<mrow>").length-1);let n=e.getElementsByTagName("img");if(n){let e=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...n].map(t=>new Promise(n=>{function a(){var a,r;t.style.display="flex";t.style.flexDirection="column";if(e){let e=(r=(a=o.fontSize)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:window.getComputedStyle(document.body).fontSize,n=5,i=parseInt(e,10)*n+"px";t.style.minWidth=i;t.style.maxWidth=i}else{t.style.width="100%"}n(t)}Xi(a,"setupImage");setTimeout(()=>{t.complete&&a()});t.addEventListener("error",a);t.addEventListener("load",a)})))}c=e.getBoundingClientRect();t.attr("width",c.width);t.attr("height",c.height)}i.attr("transform","translate(0,"+(-c.height/(2*h)+n)+")");return c.height}Xi(i$,"addText");async function o$(e,t){var n,a,r,i,o,s,l,d;const c=Ol();const h=(n=c.class.padding)!==null&&n!==void 0?n:12;const u=(r=(a=t.useHtmlLabels)!==null&&a!==void 0?a:Ks(c.htmlLabels))!==null&&r!==void 0?r:!0;const p=t;p.annotations=(i=t.annotations)!==null&&i!==void 0?i:[];p.members=(o=t.members)!==null&&o!==void 0?o:[];p.methods=(s=t.methods)!==null&&s!==void 0?s:[];const{shapeSvg:_,bbox:f}=await r$(e,t,c,u,h);const{labelStyles:g,nodeStyles:m}=hL(t);t.labelStyle=g;t.cssStyles=t.styles||"";const y=((l=t.styles)===null||l===void 0?void 0:l.join(";"))||m||"";t.cssStyles||(t.cssStyles=y.replaceAll("!important","").split(";"));const x=t.members.length===0&&t.methods.length===0&&!((d=c.class)===null||d===void 0?void 0:d.hideEmptyMembersBox);const b=sj.svg(_);const v=uL(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=f.width;let S=f.height;if(t.members.length===0&&t.methods.length===0){S+=h}else t.members.length>0&&t.methods.length===0&&(S+=h*2);const w=-k/2;const C=-S/2;const T=b.rectangle(w-h,C-h-(x?h:t.members.length===0&&t.methods.length===0?-h/2:0),k+2*h,S+2*h+(x?h*2:t.members.length===0&&t.methods.length===0?-h:0),v);const E=_.insert(()=>T,":first-child");E.attr("class","basic label-container");const A=E.node().getBBox();_.selectAll(".text").each((e,n,a)=>{var r;const i=$h(a[n]);const o=i.attr("transform");let s=0;if(o){let e=RegExp(/translate\(([^,]+),([^)]+)\)/),t=e.exec(o);t&&(s=parseFloat(t[2]))}let l=s+C+h-(x?h:t.members.length===0&&t.methods.length===0?-h/2:0);u||(l-=4);let d=w;if(i.attr("class").includes("label-group")||i.attr("class").includes("annotation-group")){d=-((r=i.node())===null||r===void 0?void 0:r.getBBox().width)/2||0;_.selectAll("text").each(function(e,t,n){window.getComputedStyle(n[t]).textAnchor==="middle"&&(d=0)})}i.attr("transform",`translate(${d}, ${l})`)});const N=_.select(".annotation-group").node().getBBox().height-(x?h/2:0)||0;const P=_.select(".label-group").node().getBBox().height-(x?h/2:0)||0;const L=_.select(".members-group").node().getBBox().height-(x?h/2:0)||0;if(t.members.length>0||t.methods.length>0||x){let e=b.line(A.x,N+P+C+h,A.x+A.width,N+P+C+h,v),t=_.insert(()=>e);t.attr("class","divider").attr("style",y)}if(x||t.members.length>0||t.methods.length>0){let e=b.line(A.x,N+P+L+C+h*2+h,A.x+A.width,N+P+L+C+h+h*2,v),t=_.insert(()=>e);t.attr("class","divider").attr("style",y)}t.look!=="handDrawn"&&_.selectAll("path").attr("style",y);E.select(":nth-child(2)").attr("style",y);_.selectAll(".divider").select("path").attr("style",y);if(t.labelStyle){_.selectAll("span").attr("style",t.labelStyle)}else{_.selectAll("span").attr("style",y)}if(!u){let e=RegExp(/color\s*:\s*([^;]*)/),t=e.exec(y);if(t){let e=t[0].replace("color","fill");_.selectAll("tspan").attr("style",e)}else if(g){let t=e.exec(g);if(t){let e=t[0].replace("color","fill");_.selectAll("tspan").attr("style",e)}}}cj(t,E);t.intersect=function(e){return Bj.rect(t,e)};return _}Xi(o$,"classBox");async function s$(e,t){var n,a,r,i,o;const{labelStyles:s,nodeStyles:l}=hL(t);t.labelStyle=s;const d=20;const c=20;const h="verifyMethod"in t;const u=hj(t);const p=e.insert("g").attr("class",u).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);let _;if(h){_=await l$(p,`&lt;&lt;${t.type}&gt;&gt;`,0,t.labelStyle)}else{_=await l$(p,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle)}let f=_;const g=await l$(p,t.name,f,t.labelStyle+"; font-weight: bold;");f+=g+c;if(h){let e=await l$(p,`${t.requirementId?`ID: ${t.requirementId}`:""}`,f,t.labelStyle);f+=e;let n=await l$(p,`${t.text?`Text: ${t.text}`:""}`,f,t.labelStyle);f+=n;let a=await l$(p,`${t.risk?`Risk: ${t.risk}`:""}`,f,t.labelStyle);f+=a;await l$(p,`${t.verifyMethod?`Verification: ${t.verifyMethod}`:""}`,f,t.labelStyle)}else{let e=await l$(p,`${t.type?`Type: ${t.type}`:""}`,f,t.labelStyle);f+=e;await l$(p,`${t.docRef?`Doc Ref: ${t.docRef}`:""}`,f,t.labelStyle)}const m=((r=(a=p.node())===null||a===void 0?void 0:a.getBBox().width)!==null&&r!==void 0?r:200)+d;const y=((o=(i=p.node())===null||i===void 0?void 0:i.getBBox().height)!==null&&o!==void 0?o:200)+d;const x=-m/2;const b=-y/2;const v=sj.svg(p);const k=uL(t,{});if(t.look!=="handDrawn"){k.roughness=0;k.fillStyle="solid"}const S=v.rectangle(x,b,m,y,k);const w=p.insert(()=>S,":first-child");w.attr("class","basic label-container").attr("style",l);p.selectAll(".label").each((e,t,n)=>{const a=$h(n[t]);const r=a.attr("transform");let i=0;let o=0;if(r){let e=RegExp(/translate\(([^,]+),([^)]+)\)/),t=e.exec(r);if(t){i=parseFloat(t[1]);o=parseFloat(t[2])}}const s=o-y/2;let l=x+d/2;(t===0||t===1)&&(l=i);a.attr("transform",`translate(${l}, ${s+d})`)});if(f>_+g+c){let e=v.line(x,b+_+g+c,x+m,b+_+g+c,k),t=p.insert(()=>e);t.attr("style",l)}cj(t,w);t.intersect=function(e){return Bj.rect(t,e)};return p}Xi(s$,"requirementBox");async function l$(e,t,n,a=""){var r;if(t===""){return 0}const i=e.insert("g").attr("class","label").attr("style",a);const o=Ol();const s=(r=o.htmlLabels)!==null&&r!==void 0?r:!0;const l=await hF(i,Fl(DB(t)),{width:vB(t,o)+50,classes:"markdown-node-label",useHtmlLabels:s,style:a},o);let d;if(!s){let e=l.children[0];for(const t of e.children){t.textContent=t.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<");a&&t.setAttribute("style",a)}d=l.getBBox();d.height+=6}else{let e=l.children[0],t=$h(l);d=e.getBoundingClientRect();t.attr("width",d.width);t.attr("height",d.height)}i.attr("transform",`translate(${-d.width/2},${-d.height/2+n})`);return d.height}Xi(l$,"addText");var d$=Xi(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function c$(e,t,{config:n}){var a,r,i;const{labelStyles:o,nodeStyles:s}=hL(t);t.labelStyle=o||"";const l=10;const d=t.width;t.width=((a=t.width)!==null&&a!==void 0?a:200)-10;const{shapeSvg:c,bbox:h,label:u}=await lj(e,t,hj(t));const p=t.padding||10;let _="";let f;if("ticket"in t&&t.ticket&&((r=n===null||n===void 0?void 0:n.kanban)===null||r===void 0?void 0:r.ticketBaseUrl)){_=(i=n===null||n===void 0?void 0:n.kanban)===null||i===void 0?void 0:i.ticketBaseUrl.replace("#TICKET#",t.ticket);f=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",_).attr("target","_blank")}const g={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let m,y;if(f){({label:m,bbox:y}=await dj(f,"ticket"in t&&t.ticket||"",g))}else{({label:m,bbox:y}=await dj(c,"ticket"in t&&t.ticket||"",g))}const{label:x,bbox:b}=await dj(c,"assigned"in t&&t.assigned||"",g);t.width=d;const v=10;const k=(t===null||t===void 0?void 0:t.width)||0;const S=Math.max(y.height,b.height)/2;const w=Math.max(h.height+v*2,(t===null||t===void 0?void 0:t.height)||0)+S;const C=-k/2;const T=-w/2;u.attr("transform","translate("+(p-k/2)+", "+(-S-h.height/2)+")");m.attr("transform","translate("+(p-k/2)+", "+(-S+h.height/2)+")");x.attr("transform","translate("+(p+k/2-b.width-2*l)+", "+(-S+h.height/2)+")");let E;const{rx:A,ry:N}=t;const{cssStyles:P}=t;if(t.look==="handDrawn"){let e=sj.svg(c),n=uL(t,{}),a=A||N?e.path(xj(C,T,k,w,A||0),n):e.rectangle(C,T,k,w,n);E=c.insert(()=>a,":first-child");E.attr("class","basic label-container").attr("style",P?P:null)}else{E=c.insert("rect",":first-child");E.attr("class","basic label-container __APA__").attr("style",s).attr("rx",A!==null&&A!==void 0?A:5).attr("ry",N!==null&&N!==void 0?N:5).attr("x",C).attr("y",T).attr("width",k).attr("height",w);let e="priority"in t&&t.priority;if(e){let t=c.append("line"),n=C+2,a=T+Math.floor((A!==null&&A!==void 0?A:0)/2),r=T+w-Math.floor((A!==null&&A!==void 0?A:0)/2);t.attr("x1",n).attr("y1",a).attr("x2",n).attr("y2",r).attr("stroke-width","4").attr("stroke",d$(e))}}cj(t,E);t.height=w;t.intersect=function(e){return Bj.rect(t,e)};return c}Xi(c$,"kanbanItem");async function h$(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i,halfPadding:o,label:s}=await lj(e,t,hj(t));const l=i.width+10*o;const d=i.height+8*o;const c=.15*l;const{cssStyles:h}=t;const u=i.width+20;const p=i.height+20;const _=Math.max(l,u);const f=Math.max(d,p);s.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`);let g;const m=`M0 0 \n    a${c},${c} 1 0,0 ${_*.25},${-1*f*.1}\n    a${c},${c} 1 0,0 ${_*.25},${0}\n    a${c},${c} 1 0,0 ${_*.25},${0}\n    a${c},${c} 1 0,0 ${_*.25},${f*.1}\n\n    a${c},${c} 1 0,0 ${_*.15},${f*.33}\n    a${c*.8},${c*.8} 1 0,0 0,${f*.34}\n    a${c},${c} 1 0,0 ${-1*_*.15},${f*.33}\n\n    a${c},${c} 1 0,0 ${-1*_*.25},${f*.15}\n    a${c},${c} 1 0,0 ${-1*_*.25},0\n    a${c},${c} 1 0,0 ${-1*_*.25},0\n    a${c},${c} 1 0,0 ${-1*_*.25},${-1*f*.15}\n\n    a${c},${c} 1 0,0 ${-1*_*.1},${-1*f*.33}\n    a${c*.8},${c*.8} 1 0,0 0,${-1*f*.34}\n    a${c},${c} 1 0,0 ${_*.1},${-1*f*.33}\n  H0 V0 Z`;if(t.look==="handDrawn"){let e=sj.svg(r),n=uL(t,{}),a=e.path(m,n);g=r.insert(()=>a,":first-child");g.attr("class","basic label-container").attr("style",BB(h))}else{g=r.insert("path",":first-child").attr("class","basic label-container").attr("style",a).attr("d",m)}g.attr("transform",`translate(${-_/2}, ${-f/2})`);cj(t,g);t.calcIntersect=function(e,t){return Bj.rect(e,t)};t.intersect=function(e){Zi.info("Bang intersect",t,e);return Bj.rect(t,e)};return r}Xi(h$,"bang");async function u$(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i,halfPadding:o,label:s}=await lj(e,t,hj(t));const l=i.width+2*o;const d=i.height+2*o;const c=.15*l;const h=.25*l;const u=.35*l;const p=.2*l;const{cssStyles:_}=t;let f;const g=`M0 0 \n    a${c},${c} 0 0,1 ${l*.25},${-1*l*.1}\n    a${u},${u} 1 0,1 ${l*.4},${-1*l*.1}\n    a${h},${h} 1 0,1 ${l*.35},${l*.2}\n\n    a${c},${c} 1 0,1 ${l*.15},${d*.35}\n    a${p},${p} 1 0,1 ${-1*l*.15},${d*.65}\n\n    a${h},${c} 1 0,1 ${-1*l*.25},${l*.15}\n    a${u},${u} 1 0,1 ${-1*l*.5},0\n    a${c},${c} 1 0,1 ${-1*l*.25},${-1*l*.15}\n\n    a${c},${c} 1 0,1 ${-1*l*.1},${-1*d*.35}\n    a${p},${p} 1 0,1 ${l*.1},${-1*d*.65}\n  H0 V0 Z`;if(t.look==="handDrawn"){let e=sj.svg(r),n=uL(t,{}),a=e.path(g,n);f=r.insert(()=>a,":first-child");f.attr("class","basic label-container").attr("style",BB(_))}else{f=r.insert("path",":first-child").attr("class","basic label-container").attr("style",a).attr("d",g)}s.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`);f.attr("transform",`translate(${-l/2}, ${-d/2})`);cj(t,f);t.calcIntersect=function(e,t){return Bj.rect(e,t)};t.intersect=function(e){Zi.info("Cloud intersect",t,e);return Bj.rect(t,e)};return r}Xi(u$,"cloud");async function p$(e,t){const{labelStyles:n,nodeStyles:a}=hL(t);t.labelStyle=n;const{shapeSvg:r,bbox:i,halfPadding:o,label:s}=await lj(e,t,hj(t));const l=i.width+8*o;const d=i.height+2*o;const c=5;const h=`\n    M${-l/2} ${d/2-c}\n    v${-d+2*c}\n    q0,-${c} ${c},-${c}\n    h${l-2*c}\n    q${c},0 ${c},${c}\n    v${d-2*c}\n    q0,${c} -${c},${c}\n    h${-l+2*c}\n    q-${c},0 -${c},-${c}\n    Z\n  `;const u=r.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",a).attr("d",h);r.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",d/2).attr("x2",l/2).attr("y2",d/2);s.attr("transform",`translate(${-i.width/2}, ${-i.height/2})`);r.append(()=>s.node());cj(t,u);t.calcIntersect=function(e,t){return Bj.rect(e,t)};t.intersect=function(e){return Bj.rect(t,e)};return r}Xi(p$,"defaultMindmapNode");async function _$(e,t){var n;const a={padding:(n=t.padding)!==null&&n!==void 0?n:0};return Wj(e,t,a)}Xi(_$,"mindmapCircle");var f$=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:OH},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:IH},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:FH},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:WH},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:tH},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Wj},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:h$},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:u$},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:PH},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:lH},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:xH},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:yH},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:KH},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:fH},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:aH},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:UH},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Hj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:BH},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:$H},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:HH},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:oH},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:dH},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Yj},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Vj},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Kj},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:bH},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:JH},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:sH},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:XH},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:wH},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Qj},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:nH},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:ZH},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:t$},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:rH},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:QH},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:iH},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:RH},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:EH},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:TH},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Fj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:qj},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:qH},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:zH},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:e$},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:LH},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:CH}];var g$=Xi(()=>{const e={state:jH,choice:$j,note:AH,rectWithTitle:MH,labelRect:mH,iconSquare:pH,iconCircle:hH,icon:cH,iconRounded:uH,imageSquare:_H,anchor:Rj,kanbanItem:c$,mindmapCircle:_$,defaultMindmapNode:p$,classBox:o$,erBox:n$,requirementBox:s$};const t=[...Object.entries(e),...f$.flatMap(e=>{const t=[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]];return t.map(t=>[t,e.handler])})];return Object.fromEntries(t)},"generateShapeMap");var m$=g$();function y$(e){return e in m$}Xi(y$,"isValidShape");var x$=new Map;async function b$(e,t,n){let a;let r;if(t.shape==="rect"){if(t.rx&&t.ry){t.shape="roundedRect"}else{t.shape="squareRect"}}const i=t.shape?m$[t.shape]:void 0;if(!i){throw new Error(`No such shape: ${t.shape}. Please check your syntax.`)}if(t.link){let o;if(n.config.securityLevel==="sandbox"){o="_top"}else t.linkTarget&&(o=t.linkTarget||"_blank");a=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o!==null&&o!==void 0?o:null);r=await i(a,t,n)}else{r=await i(e,t,n);a=r}t.tooltip&&r.attr("title",t.tooltip);x$.set(t.id,a);t.haveCallback&&a.attr("class",a.attr("class")+" clickable");return a}Xi(b$,"insertNode");var v$=Xi((e,t)=>{x$.set(t.id,e)},"setNodeElem");var k$=Xi(()=>{x$.clear()},"clear");var S$=Xi(e=>{const t=x$.get(e.id);Zi.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8;const a=e.diff||0;if(e.clusterNode){t.attr("transform","translate("+(e.x+a-e.width/2)+", "+(e.y-e.height/2-n)+")")}else{t.attr("transform","translate("+e.x+", "+e.y+")")}
return a},"positionNode");var w$=Xi((e,t,n,a,r,i)=>{t.arrowTypeStart&&T$(e,"start",t.arrowTypeStart,n,a,r,i);t.arrowTypeEnd&&T$(e,"end",t.arrowTypeEnd,n,a,r,i)},"addEdgeMarkers");var C$={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}};var T$=Xi((e,t,n,a,r,i,o)=>{var s;const l=C$[n];if(!l){Zi.warn(`Unknown arrow type: ${n}`);return}const d=l.type;const c=t==="start"?"Start":"End";const h=`${r}_${i}-${d}${c}`;if(o&&o.trim()!==""){let n=o.replace(/[^\dA-Za-z]/g,"_"),r=`${h}_${n}`;if(!document.getElementById(r)){let e=document.getElementById(h);if(e){let t=e.cloneNode(!0);t.id=r;let n=t.querySelectorAll("path, circle, line");n.forEach(e=>{e.setAttribute("stroke",o);l.fill&&e.setAttribute("fill",o)});(s=e.parentNode)===null||s===void 0?void 0:s.appendChild(t)}}e.attr(`marker-${t}`,`url(${a}#${r})`)}else{e.attr(`marker-${t}`,`url(${a}#${h})`)}},"addEdgeMarker");var E$=new Map;var A$=new Map;var N$=Xi(()=>{E$.clear();A$.clear()},"clear");var P$=Xi(e=>{let t=e?e.reduce((e,t)=>e+";"+t,""):"";return t},"getLabelStyles");var L$=Xi(async(e,t)=>{let n=Ks(Ol().flowchart.htmlLabels);const{labelStyles:a}=hL(t);t.labelStyle=a;const r=await hF(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});Zi.info("abc82",t,t.labelType);const i=e.insert("g").attr("class","edgeLabel");const o=i.insert("g").attr("class","label").attr("data-id",t.id);o.node().appendChild(r);let s=r.getBBox();if(n){let e=r.children[0],t=$h(r);s=e.getBoundingClientRect();t.attr("width",s.width);t.attr("height",s.height)}o.attr("transform","translate("+-s.width/2+", "+-s.height/2+")");E$.set(t.id,i);t.width=s.width;t.height=s.height;let l;if(t.startLabelLeft){let n=await yj(t.startLabelLeft,P$(t.labelStyle)),a=e.insert("g").attr("class","edgeTerminals"),r=a.insert("g").attr("class","inner");l=r.node().appendChild(n);let i=n.getBBox();r.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");A$.get(t.id)||A$.set(t.id,{});A$.get(t.id).startLeft=a;M$(l,t.startLabelLeft)}if(t.startLabelRight){let n=await yj(t.startLabelRight,P$(t.labelStyle)),a=e.insert("g").attr("class","edgeTerminals"),r=a.insert("g").attr("class","inner");l=a.node().appendChild(n);r.node().appendChild(n);let i=n.getBBox();r.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");A$.get(t.id)||A$.set(t.id,{});A$.get(t.id).startRight=a;M$(l,t.startLabelRight)}if(t.endLabelLeft){let n=await yj(t.endLabelLeft,P$(t.labelStyle)),a=e.insert("g").attr("class","edgeTerminals"),r=a.insert("g").attr("class","inner");l=r.node().appendChild(n);let i=n.getBBox();r.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");a.node().appendChild(n);A$.get(t.id)||A$.set(t.id,{});A$.get(t.id).endLeft=a;M$(l,t.endLabelLeft)}if(t.endLabelRight){let n=await yj(t.endLabelRight,P$(t.labelStyle)),a=e.insert("g").attr("class","edgeTerminals"),r=a.insert("g").attr("class","inner");l=r.node().appendChild(n);let i=n.getBBox();r.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");a.node().appendChild(n);A$.get(t.id)||A$.set(t.id,{});A$.get(t.id).endRight=a;M$(l,t.endLabelRight)}return r},"insertEdgeLabel");function M$(e,t){if(Ol().flowchart.htmlLabels&&e){e.style.width=t.length*9+"px";e.style.height="12px"}}Xi(M$,"setTerminalWidth");var D$=Xi((e,t)=>{Zi.debug("Moving label abc88 ",e.id,e.label,E$.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const a=Ol();const{subGraphTitleTotalMargin:r}=oL(a);if(e.label){let a=E$.get(e.id),i=e.x,o=e.y;if(n){let a=LB.calcLabelPosition(n);Zi.debug("Moving label "+e.label+" from (",i,",",o,") to (",a.x,",",a.y,") abc88");if(t.updatedPath){i=a.x;o=a.y}}a.attr("transform",`translate(${i}, ${o+r/2})`)}if(e.startLabelLeft){let t=A$.get(e.id).startLeft,a=e.x,r=e.y;if(n){let t=LB.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);a=t.x;r=t.y}t.attr("transform",`translate(${a}, ${r})`)}if(e.startLabelRight){let t=A$.get(e.id).startRight,a=e.x,r=e.y;if(n){let t=LB.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);a=t.x;r=t.y}t.attr("transform",`translate(${a}, ${r})`)}if(e.endLabelLeft){let t=A$.get(e.id).endLeft,a=e.x,r=e.y;if(n){let t=LB.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);a=t.x;r=t.y}t.attr("transform",`translate(${a}, ${r})`)}if(e.endLabelRight){let t=A$.get(e.id).endRight,a=e.x,r=e.y;if(n){let t=LB.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);a=t.x;r=t.y}t.attr("transform",`translate(${a}, ${r})`)}},"positionEdgeLabel");var I$=Xi((e,t)=>{const n=e.x;const a=e.y;const r=Math.abs(t.x-n);const i=Math.abs(t.y-a);const o=e.width/2;const s=e.height/2;return r>=o||i>=s},"outsideNode");var B$=Xi((e,t,n)=>{Zi.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(n)}\n  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const a=e.x;const r=e.y;const i=Math.abs(a-n.x);const o=e.width/2;let s=n.x<t.x?o-i:o+i;const l=e.height/2;const d=Math.abs(t.y-n.y);const c=Math.abs(t.x-n.x);if(Math.abs(r-t.y)*o>Math.abs(a-t.x)*l){let e=n.y<t.y?t.y-l-r:r-l-t.y;s=c*e/d;let a={x:n.x<t.x?n.x+s:n.x-c+s,y:n.y<t.y?n.y+d-e:n.y-d+e};if(s===0){a.x=t.x;a.y=t.y}c===0&&(a.x=t.x);d===0&&(a.y=t.y);Zi.debug(`abc89 top/bottom calc, Q ${d}, q ${e}, R ${c}, r ${s}`,a);return a}else{if(n.x<t.x){s=t.x-o-a}else{s=a-o-t.x}let e=d*s/c,r=n.x<t.x?n.x+c-s:n.x-c+s,i=n.y<t.y?n.y+e:n.y-e;Zi.debug(`sides calc abc89, Q ${d}, q ${e}, R ${c}, r ${s}`,{_x:r,_y:i});if(s===0){r=t.x;i=t.y}c===0&&(r=t.x);d===0&&(i=t.y);return{x:r,y:i}}},"intersection");var R$=Xi((e,t)=>{Zi.warn("abc88 cutPathAtIntersect",e,t);let n=[];let a=e[0];let r=!1;e.forEach(e=>{Zi.info("abc88 checking point",e,t);if(!I$(t,e)&&!r){let i=B$(t,a,e);Zi.debug("abc88 inside",e,a,i);Zi.debug("abc88 intersection",i,t);let o=!1;n.forEach(e=>{o=o||e.x===i.x&&e.y===i.y});if(!n.some(e=>e.x===i.x&&e.y===i.y)){n.push(i)}else{Zi.warn("abc88 no intersect",i,n)}r=!0}else{Zi.warn("abc88 outside",e,a);a=e;r||n.push(e)}});Zi.debug("returning points",n);return n},"cutPathAtIntersect");function O$(e){const t=[];const n=[];for(let a=1;a<e.length-1;a++){let r=e[a-1],i=e[a],o=e[a+1];if(r.x===i.x&&i.y===o.y&&Math.abs(i.x-o.x)>5&&Math.abs(i.y-r.y)>5){t.push(i);n.push(a)}else if(r.y===i.y&&i.x===o.x&&Math.abs(i.x-r.x)>5&&Math.abs(i.y-o.y)>5){t.push(i);n.push(a)}}return{cornerPoints:t,cornerPointPositions:n}}Xi(O$,"extractCornerPoints");var F$=Xi(function(e,t,n){const a=t.x-e.x;const r=t.y-e.y;const i=Math.sqrt(a*a+r*r);const o=n/i;return{x:t.x-o*a,y:t.y-o*r}},"findAdjacentPoint");var j$=Xi(function(e){const{cornerPointPositions:t}=O$(e);const n=[];for(let a=0;a<e.length;a++){if(t.includes(a)){let t=e[a-1],r=e[a+1],i=e[a],o=F$(t,i,5),s=F$(r,i,5),l=s.x-o.x,d=s.y-o.y;n.push(o);let c=Math.sqrt(2)*2,h={x:i.x,y:i.y};if(Math.abs(r.x-t.x)>10&&Math.abs(r.y-t.y)>=10){Zi.debug("Corner point fixing",Math.abs(r.x-t.x),Math.abs(r.y-t.y));let e=5;if(i.x===o.x){h={x:l<0?o.x-e+c:o.x+e-c,y:d<0?o.y-c:o.y+c}}else{h={x:l<0?o.x-c:o.x+c,y:d<0?o.y-e+c:o.y+e-c}}}else{Zi.debug("Corner point skipping fixing",Math.abs(r.x-t.x),Math.abs(r.y-t.y))}n.push(h,s)}else{n.push(e[a])}}return n},"fixCorners");var H$=Xi((e,t,n)=>{const a=e-t-n;const r=2;const i=2;const o=r+i;const s=Math.floor(a/o);const l=Array(s).fill(`${r} ${i}`).join(" ");const d=`0 ${t} ${l} ${n}`;return d},"generateDashArray");var $$=Xi(function(e,t,n,a,r,i,o,s=!1){var l;const{handDrawnSeed:d}=Ol();let c=t.points;let h=!1;const u=[];for(const e in t.cssCompiledStyles){if(cL(e)){continue}u.push(t.cssCompiledStyles[e])}Zi.debug("UIO intersect check",t.points,i.x,r.x);if(i.intersect&&r.intersect&&!s){c=c.slice(1,t.points.length-1);c.unshift(r.intersect(c[0]));Zi.debug("Last point UIO",t.start,"--\x3e",t.end,c[c.length-1],i,i.intersect(c[c.length-1]));c.push(i.intersect(c[c.length-1]))}const p=btoa(JSON.stringify(c));if(t.toCluster){Zi.info("to cluster abc88",n.get(t.toCluster));c=R$(t.points,n.get(t.toCluster).node);h=!0}if(t.fromCluster){Zi.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(c,null,2));c=R$(c.reverse(),n.get(t.fromCluster).node).reverse();h=!0}let _=c.filter(e=>!Number.isNaN(e.y));_=j$(_);let f=PT;f=uT;switch(t.curve){case"linear":f=uT;break;case"basis":f=PT;break;case"cardinal":f=jT;break;case"bumpX":f=vT;break;case"bumpY":f=kT;break;case"catmullRom":f=YT;break;case"monotoneX":f=oE;break;case"monotoneY":f=sE;break;case"natural":f=cE;break;case"step":f=uE;break;case"stepAfter":f=_E;break;case"stepBefore":f=pE;break;default:f=PT}const{x:g,y:m}=iL(t);const y=fT().x(g).y(m).curve(f);let x;switch(t.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-invisible";break;default:x="edge-thickness-normal"}switch(t.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break;default:x+=" edge-pattern-solid"}let b;let v=t.curve==="rounded"?W$(q$(_,t),5):y(_);const k=Array.isArray(t.style)?t.style:[t.style];let S=k.find(e=>e===null||e===void 0?void 0:e.startsWith("stroke:"));let w=!1;if(t.look==="handDrawn"){let n=sj.svg(e);Object.assign([],_);let a=n.path(v,{roughness:.3,seed:d});x+=" transition";b=$h(a).select("path").attr("id",t.id).attr("class"," "+x+(t.classes?" "+t.classes:"")).attr("style",k?k.reduce((e,t)=>e+";"+t,""):"");let r=b.attr("d");b.attr("d",r);e.node().appendChild(b.node())}else{let n=u.join(";"),a=k?k.reduce((e,t)=>e+t+";",""):"",r="";t.animate&&(r=" edge-animation-fast");t.animation&&(r=" edge-animation-"+t.animation);let i=(n?n+";"+a+";":a)+";"+(k?k.reduce((e,t)=>e+";"+t,""):"");b=e.append("path").attr("d",v).attr("id",t.id).attr("class"," "+x+(t.classes?" "+t.classes:"")+(r!==null&&r!==void 0?r:"")).attr("style",i);S=(l=i.match(/stroke:([^;]+)/))===null||l===void 0?void 0:l[1];w=t.animate===!0||!!t.animation||n.includes("animation");let o=b.node(),s=typeof o.getTotalLength==="function"?o.getTotalLength():0,d=nL[t.arrowTypeStart]||0,c=nL[t.arrowTypeEnd]||0;if(t.look==="neo"&&!w){let e=t.pattern==="dotted"||t.pattern==="dashed"?H$(s,d,c):`0 ${d} ${s-d-c} ${c}`,n=`stroke-dasharray: ${e}; stroke-dashoffset: 0;`;b.attr("style",n+b.attr("style"))}}b.attr("data-edge",!0);b.attr("data-et","edge");b.attr("data-id",t.id);b.attr("data-points",p);t.showPoints&&_.forEach(t=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",t.x).attr("cy",t.y)});let C="";if(Ol().flowchart.arrowMarkerAbsolute||Ol().state.arrowMarkerAbsolute){C=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;C=C.replace(/\(/g,"\\(").replace(/\)/g,"\\)")}Zi.info("arrowTypeStart",t.arrowTypeStart);Zi.info("arrowTypeEnd",t.arrowTypeEnd);w$(b,t,C,o,a,S);const T=Math.floor(c.length/2);const E=c[T];LB.isLabelCoordinateInPath(E,b.attr("d"))||(h=!0);let A={};h&&(A.updatedPath=c);A.originalPath=t.points;return A},"insertEdge");function W$(e,t){if(e.length<2){return""}let n="";const a=e.length;const r=1E-05;for(let i=0;i<a;i++){let o=e[i],s=e[i-1],l=e[i+1];if(i===0){n+=`M${o.x},${o.y}`}else if(i===a-1){n+=`L${o.x},${o.y}`}else{let e=o.x-s.x,a=o.y-s.y,i=l.x-o.x,d=l.y-o.y,c=Math.hypot(e,a),h=Math.hypot(i,d);if(c<r||h<r){n+=`L${o.x},${o.y}`;continue}let u=e/c,p=a/c,_=i/h,f=d/h,g=u*_+p*f,m=Math.max(-1,Math.min(1,g)),y=Math.acos(m);if(y<r||Math.abs(Math.PI-y)<r){n+=`L${o.x},${o.y}`;continue}let x=Math.min(t/Math.sin(y/2),c/2,h/2),b=o.x-u*x,v=o.y-p*x,k=o.x+_*x,S=o.y+f*x;n+=`L${b},${v}`;n+=`Q${o.x},${o.y} ${k},${S}`}}return n}Xi(W$,"generateRoundedPath");function z$(e,t){if(!e||!t){return{angle:0,deltaX:0,deltaY:0}}const n=t.x-e.x;const a=t.y-e.y;const r=Math.atan2(a,n);return{angle:r,deltaX:n,deltaY:a}}Xi(z$,"calculateDeltaAndAngle");function q$(e,t){const n=e.map(e=>({...e}));if(e.length>=2&&tL[t.arrowTypeStart]){let a=tL[t.arrowTypeStart],r=e[0],i=e[1],{angle:o}=z$(r,i),s=a*Math.cos(o),l=a*Math.sin(o);n[0].x=r.x+s;n[0].y=r.y+l}const a=e.length;if(a>=2&&tL[t.arrowTypeEnd]){let r=tL[t.arrowTypeEnd],i=e[a-1],o=e[a-2],{angle:s}=z$(o,i),l=r*Math.cos(s),d=r*Math.sin(s);n[a-1].x=i.x-l;n[a-1].y=i.y-d}return n}Xi(q$,"applyMarkerOffsetsToPoints");var U$=Xi((e,t,n,a)=>{t.forEach(t=>{sW[t](e,n,a)})},"insertMarkers");var Y$=Xi((e,t,n)=>{Zi.trace("Making markers for ",n);e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension");var G$=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition");var V$=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation");var X$=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency");var K$=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6);e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop");var Q$=Xi((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point");var Z$=Xi((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle");var J$=Xi((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0");e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross");var eW=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb");var tW=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18");e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one");var nW=Xi((e,t,n)=>{const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6);a.append("path").attr("d","M9,0 L9,18");const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6);r.append("path").attr("d","M21,0 L21,18")},"zero_or_one");var aW=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more");var rW=Xi((e,t,n)=>{const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6);a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6);r.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more");var iW=Xi((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0\n      L20,10\n      M20,10\n      L0,20`)},"requirement_arrow");var oW=Xi((e,t,n)=>{const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none");a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10);a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains");var sW={extension:Y$,composition:G$,aggregation:V$,dependency:X$,lollipop:K$,point:Q$,circle:Z$,cross:J$,barb:eW,only_one:tW,zero_or_one:nW,one_or_more:aW,zero_or_more:rW,requirement_arrow:iW,requirement_contains:oW};var lW=cM(NL,"WeakMap");var dW=cD(Object.keys,Object);var cW=Object.prototype;var hW=cW.hasOwnProperty;function uW(e){if(!pD(e)){return dW(e)}var t=[];for(var n in Object(e)){hW.call(e,n)&&n!="constructor"&&t.push(n)}return t}var pW=cM(NL,"DataView");var _W=cM(NL,"Promise");var fW=cM(NL,"Set");var gW="[object Map]",mW="[object Object]",yW="[object Promise]",xW="[object Set]",bW="[object WeakMap]";var vW="[object DataView]";var kW=eM(pW),SW=eM(IM),wW=eM(_W),CW=eM(fW),TW=eM(lW);var EW=WL;(pW&&EW(new pW(new ArrayBuffer(1)))!=vW||IM&&EW(new IM)!=gW||_W&&EW(_W.resolve())!=yW||fW&&EW(new fW)!=xW||lW&&EW(new lW)!=bW)&&(EW=function(t){var n=WL(t),a=n==mW?t.constructor:e,r=a?eM(a):"";if(r){switch(r){case kW:return vW;case SW:return gW;case wW:return yW;case CW:return xW;case TW:return bW}}return n});var AW=EW;var NW="[object Map]",PW="[object Set]";var LW=Object.prototype;var MW=LW.hasOwnProperty;function DW(e){if(e==null){return!0}if(CD(e)&&(kD(e)||typeof e=="string"||typeof e.splice=="function"||AD(e)||hI(e)||vD(e))){return!e.length}var t=AW(e);if(t==NW||t==PW){return!e.size}if(pD(e)){return!uW(e).length}for(var n in e){if(MW.call(e,n)){return!1}}return!0}var IW={common:cl,getConfig:As,insertCluster:Ej,insertEdge:$$,insertEdgeLabel:L$,insertMarkers:U$,insertNode:b$,interpolateToCurve:tB,labelHelper:lj,log:Zi,positionEdgeLabel:D$};var BW={};var RW=Xi(e=>{for(const t of e){BW[t.name]=t}},"registerLayoutLoaders");var OW=Xi(()=>{RW([{name:"dagre",loader:Xi(async()=>await r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("e.js","d").then(function(){return r("f.js","e")})})}),"loader")},...!0?[{name:"cose-bilkent",loader:Xi(async()=>await r("h.js","g").then(function(){return r("g.js","f").then(function(){return r("i.js","h")})}),"loader")}]:[]])},"registerDefaultLayoutLoaders");OW();var FW=Xi(async(e,t)=>{if(!(e.layoutAlgorithm in BW)){throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`)}const n=BW[e.layoutAlgorithm];const a=await n.loader();return a.render(e,t,IW,{algorithm:n.algorithm})},"render");var jW=Xi((e="",{fallback:t="dagre"}={})=>{if(e in BW){return e}if(t in BW){Zi.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`);return t}throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm");var HW="comm";var $W="rule";var WW="decl";var zW="@import";var qW="@namespace";var UW="@keyframes";var YW="@layer";var GW=Math.abs;var VW=String.fromCharCode;function XW(e){return e.trim()}function KW(e,t,n){return e.replace(t,n)}function QW(e,t,n){return e.indexOf(t,n)}function ZW(e,t){return e.charCodeAt(t)|0}function JW(e,t,n){return e.slice(t,n)}function ez(e){return e.length}function tz(e){return e.length}function nz(e,t){return t.push(e),e}var az=1;var rz=1;var iz=0;var oz=0;var sz=0;var lz="";function dz(e,t,n,a,r,i,o,s){return{value:e,root:t,parent:n,type:a,props:r,children:i,line:az,column:rz,length:o,return:"",siblings:s}}function cz(){return sz}function hz(){sz=oz>0?ZW(lz,--oz):0;(rz--,sz===10)&&(rz=1,az--);return sz}function uz(){sz=oz<iz?ZW(lz,oz++):0;(rz++,sz===10)&&(rz=1,az++);return sz}function pz(){return ZW(lz,oz)}function _z(){return oz}function fz(e,t){return JW(lz,e,t)}function gz(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mz(e){return az=rz=1,iz=ez(lz=e),oz=0,[]}function yz(e){return lz="",e}function xz(e){return XW(fz(oz-1,kz(e===91?e+2:e===40?e+1:e)))}function bz(e){while(sz=pz())if(sz<33)uz();else break;return gz(e)>2||gz(sz)>3?"":" "}function vz(e,t){while(--t&&uz())if(sz<48||sz>102||sz>57&&sz<65||sz>70&&sz<97)break;return fz(e,_z()+(t<6&&pz()==32&&uz()==32))}function kz(e){while(uz())switch(sz){case e:return oz;case 34:case 39:e!==34&&e!==39&&kz(sz);break;case 40:e===41&&kz(e);break;case 92:uz();break}return oz}function Sz(e,t){while(uz())if(e+sz===47+10)break;else if(e+sz===42+42&&pz()===47)break;return"/*"+fz(t,oz-1)+"*"+VW(e===47?e:uz())}function wz(e){while(!gz(pz()))uz();return fz(e,oz)}function Cz(e){return yz(Tz("",null,null,null,[""],e=mz(e),0,[0],e))}function Tz(e,t,n,a,r,i,o,s,l){var d=0;var c=0;var h=o;var u=0;var p=0;var _=0;var f=1;var g=1;var m=1;var y=0;var x="";var b=r;var v=i;var k=a;var S=x;while(g)switch(_=y,y=uz()){case 40:if(_!=108&&ZW(S,h-1)==58){QW(S+=KW(xz(y),"&","&\f"),"&\f",GW(d?s[d-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:S+=xz(y);break;case 9:case 10:case 13:case 32:S+=bz(_);break;case 92:S+=vz(_z()-1,7);continue;case 47:switch(pz()){case 42:case 47:nz(Az(Sz(uz(),_z()),t,n,l),l);(gz(_||1)==5||gz(pz()||1)==5)&&ez(S)&&JW(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*f:s[d++]=ez(S)*m;case 125*f:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:m==-1&&(S=KW(S,/\f/g,""));p>0&&(ez(S)-h||f===0&&_===47)&&nz(p>32?Nz(S+";",a,n,h-1,l):Nz(KW(S," ","")+";",a,n,h-2,l),l);break;case 59:S+=";";default:nz(k=Ez(S,t,n,d,c,r,s,x,b=[],v=[],h,i),i);if(y===123)if(c===0)Tz(S,t,k,k,b,i,h,s,v);else{switch(u){case 99:if(ZW(S,3)===110)break;case 108:if(ZW(S,2)===97)break;default:c=0;case 100:case 109:case 115:}if(c)Tz(e,k,k,a&&nz(Ez(e,k,k,0,0,r,s,x,r,b=[],h,v),v),r,v,h,s,a?b:v);else Tz(S,k,k,k,[""],v,0,s,v)}}d=c=p=0,f=m=1,x=S="",h=o;break;case 58:h=1+ez(S),p=_;default:if(f<1)if(y==123)--f;else if(y==125&&f++==0&&hz()==125)continue;switch(S+=VW(y),y*f){case 38:m=c>0?1:(S+="\f",-1);break;case 44:s[d++]=(ez(S)-1)*m,m=1;break;case 64:pz()===45&&(S+=xz(uz()));u=pz(),c=h=ez(x=S+=wz(_z())),y++;break;case 45:_===45&&ez(S)==2&&(f=0)}}return i}function Ez(e,t,n,a,r,i,o,s,l,d,c,h){var u=r-1;var p=r===0?i:[""];var _=tz(p);for(var f=0,g=0,m=0;f<a;++f)for(var y=0,x=JW(e,u+1,u=GW(g=o[f])),b=e;y<_;++y)(b=XW(g>0?p[y]+" "+x:KW(x,/&\f/g,p[y])))&&(l[m++]=b);return dz(e,t,n,r===0?$W:s,l,d,c,h)}function Az(e,t,n,a){return dz(e,t,n,HW,VW(cz()),JW(e,2,-2),0,a)}function Nz(e,t,n,a,r){return dz(e,t,n,WW,JW(e,0,a),JW(e,a+1,-1),a,r)}function Pz(e,t){var n="";for(var a=0;a<e.length;a++)n+=t(e[a],a,e,t)||"";return n}function Lz(e,t,n,a){switch(e.type){case YW:if(e.children.length)break;case zW:case qW:case WW:return e.return=e.return||e.value;case HW:return"";case UW:return e.return=e.value+"{"+Pz(e.children,a)+"}";case $W:if(!ez(e.value=e.props.join(",")))return""}return ez(n=Pz(e.children,a))?e.return=e.value+"{"+n+"}":""}var Mz;var Dz="c4";var Iz=Xi(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector");var Bz=Xi(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("k.js","j")});return{id:Dz,diagram:e}},"loader");var Rz={id:Dz,detector:Iz,loader:Bz};var Oz="flowchart";var Fz=Xi((e,t)=>{var n,a;if(((n=t===null||t===void 0?void 0:t.flowchart)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"||((a=t===null||t===void 0?void 0:t.flowchart)===null||a===void 0?void 0:a.defaultRenderer)==="elk"){return!1}return/^\s*graph/.test(e)},"detector");var jz=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("o.js","n")})})});return{id:Oz,diagram:e}},"loader");var Hz={id:Oz,detector:Fz,loader:jz};var $z="flowchart-v2";var Wz=Xi((e,t)=>{var n,a,r;if(((n=t===null||t===void 0?void 0:t.flowchart)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-d3"){return!1}((a=t===null||t===void 0?void 0:t.flowchart)===null||a===void 0?void 0:a.defaultRenderer)==="elk"&&(t.layout="elk");if(/^\s*graph/.test(e)&&((r=t===null||t===void 0?void 0:t.flowchart)===null||r===void 0?void 0:r.defaultRenderer)==="dagre-wrapper"){return!0}return/^\s*flowchart/.test(e)},"detector");var zz=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("o.js","n")})})});return{id:$z,diagram:e}},"loader");var qz={id:$z,detector:Wz,loader:zz};var Uz="er";var Yz=Xi(e=>/^\s*erDiagram/.test(e),"detector");var Gz=Xi(async()=>{const{diagram:e}=await r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("p.js","o")})});return{id:Uz,diagram:e}},"loader");var Vz={id:Uz,detector:Yz,loader:Gz};var Xz="gitGraph";var Kz=Xi(e=>/^\s*gitGraph/.test(e),"detector");var Qz=Xi(async()=>{const{diagram:e}=await r("q.js","p").then(function(){return r("r.js","q").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("aa.js","z")})})})})});return{id:Xz,diagram:e}},"loader");var Zz={id:Xz,detector:Kz,loader:Qz};var Jz="gantt";var eq=Xi(e=>/^\s*gantt/.test(e),"detector");var tq=Xi(async()=>{const{diagram:e}=await r("ba.js","A");return{id:Jz,diagram:e}},"loader");var nq={id:Jz,detector:eq,loader:tq};var aq="info";var rq=Xi(e=>/^\s*info/.test(e),"detector");var iq=Xi(async()=>{const{diagram:e}=await r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("ca.js","B")})})});return{id:aq,diagram:e}},"loader");var oq={id:aq,detector:rq,loader:iq};var sq="pie";var lq=Xi(e=>/^\s*pie/.test(e),"detector");var dq=Xi(async()=>{const{diagram:e}=await r("q.js","p").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("da.js","C")})})})});return{id:sq,diagram:e}},"loader");var cq={id:sq,detector:lq,loader:dq};var hq="quadrantChart";var uq=Xi(e=>/^\s*quadrantChart/.test(e),"detector");var pq=Xi(async()=>{const{diagram:e}=await r("ea.js","D");return{id:hq,diagram:e}},"loader");var _q={id:hq,detector:uq,loader:pq};var fq="xychart";var gq=Xi(e=>/^\s*xychart(-beta)?/.test(e),"detector");var mq=Xi(async()=>{const{diagram:e}=await r("fa.js","E");return{id:fq,diagram:e}},"loader");var yq={id:fq,detector:gq,loader:mq};var xq="requirement";var bq=Xi(e=>/^\s*requirement(Diagram)?/.test(e),"detector");var vq=Xi(async()=>{const{diagram:e}=await r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("ga.js","F")})})
return{id:xq,diagram:e}},"loader");var kq={id:xq,detector:bq,loader:vq};var Sq="sequence";var wq=Xi(e=>/^\s*sequenceDiagram/.test(e),"detector");var Cq=Xi(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("r.js","q").then(function(){return r("ha.js","G")})});return{id:Sq,diagram:e}},"loader");var Tq={id:Sq,detector:wq,loader:Cq};var Eq="class";var Aq=Xi((e,t)=>{var n;if(((n=t===null||t===void 0?void 0:t.class)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!1}return/^\s*classDiagram/.test(e)},"detector");var Nq=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("ia.js","H").then(function(){return r("ja.js","I")})})})});return{id:Eq,diagram:e}},"loader");var Pq={id:Eq,detector:Aq,loader:Nq};var Lq="classDiagram";var Mq=Xi((e,t)=>{var n;if(/^\s*classDiagram/.test(e)&&((n=t===null||t===void 0?void 0:t.class)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!0}return/^\s*classDiagram-v2/.test(e)},"detector");var Dq=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("ia.js","H").then(function(){return r("ka.js","J")})})})});return{id:Lq,diagram:e}},"loader");var Iq={id:Lq,detector:Mq,loader:Dq};var Bq="state";var Rq=Xi((e,t)=>{var n;if(((n=t===null||t===void 0?void 0:t.state)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!1}return/^\s*stateDiagram/.test(e)},"detector");var Oq=Xi(async()=>{const{diagram:e}=await r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("la.js","K").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("e.js","d").then(function(){return r("ma.js","L")})})})})})});return{id:Bq,diagram:e}},"loader");var Fq={id:Bq,detector:Rq,loader:Oq};var jq="stateDiagram";var Hq=Xi((e,t)=>{var n;if(/^\s*stateDiagram-v2/.test(e)){return!0}if(/^\s*stateDiagram/.test(e)&&((n=t===null||t===void 0?void 0:t.state)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!0}return!1},"detector");var $q=Xi(async()=>{const{diagram:e}=await r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("la.js","K").then(function(){return r("na.js","M")})})});return{id:jq,diagram:e}},"loader");var Wq={id:jq,detector:Hq,loader:$q};var zq="journey";var qq=Xi(e=>/^\s*journey/.test(e),"detector");var Uq=Xi(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("l.js","k").then(function(){return r("oa.js","N")})});return{id:zq,diagram:e}},"loader");var Yq={id:zq,detector:qq,loader:Uq};var Gq=Xi((e,t,n)=>{Zi.debug("rendering svg for syntax error\n");const a=yE(t);const r=a.append("g");a.attr("viewBox","0 0 2412 512");pl(a,100,512,!0);r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z");r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z");r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z");r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z");r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z");r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z");r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text");r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw");var Vq={draw:Gq};var Xq={db:{},renderer:Vq,parser:{parse:Xi(()=>{return},"parse")}};var Kq="flowchart-elk";var Qq=Xi((e,t={})=>{var n;if(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((n=t===null||t===void 0?void 0:t.flowchart)===null||n===void 0?void 0:n.defaultRenderer)==="elk"){t.layout="elk";return!0}return!1},"detector");var Zq=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("o.js","n")})})});return{id:Kq,diagram:e}},"loader");var Jq={id:Kq,detector:Qq,loader:Zq};var eU="timeline";var tU=Xi(e=>/^\s*timeline/.test(e),"detector");var nU=Xi(async()=>{const{diagram:e}=await r("pa.js","O");return{id:eU,diagram:e}},"loader");var aU={id:eU,detector:tU,loader:nU};var rU="mindmap";var iU=Xi(e=>/^\s*mindmap/.test(e),"detector");var oU=Xi(async()=>{const{diagram:e}=await r("m.js","l").then(function(){return r("n.js","m").then(function(){return r("qa.js","P")})});return{id:rU,diagram:e}},"loader");var sU={id:rU,detector:iU,loader:oU};var lU="kanban";var dU=Xi(e=>/^\s*kanban/.test(e),"detector");var cU=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("ra.js","Q")});return{id:lU,diagram:e}},"loader");var hU={id:lU,detector:dU,loader:cU};var uU="sankey";var pU=Xi(e=>/^\s*sankey(-beta)?/.test(e),"detector");var _U=Xi(async()=>{const{diagram:e}=await r("sa.js","R");return{id:uU,diagram:e}},"loader");var fU={id:uU,detector:pU,loader:_U};var gU="packet";var mU=Xi(e=>/^\s*packet(-beta)?/.test(e),"detector");var yU=Xi(async()=>{const{diagram:e}=await r("q.js","p").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("ta.js","S")})})})});return{id:gU,diagram:e}},"loader");var xU={id:gU,detector:mU,loader:yU};var bU="radar";var vU=Xi(e=>/^\s*radar-beta/.test(e),"detector");var kU=Xi(async()=>{const{diagram:e}=await r("q.js","p").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("ua.js","T")})})})});return{id:bU,diagram:e}},"loader");var SU={id:bU,detector:vU,loader:kU};var wU="block";var CU=Xi(e=>/^\s*block(-beta)?/.test(e),"detector");var TU=Xi(async()=>{const{diagram:e}=await r("l.js","k").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("va.js","U")})})});return{id:wU,diagram:e}},"loader");var EU={id:wU,detector:CU,loader:TU};var AU="architecture";var NU=Xi(e=>/^\s*architecture/.test(e),"detector");var PU=Xi(async()=>{const{diagram:e}=await r("h.js","g").then(function(){return r("q.js","p").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("g.js","f").then(function(){return r("wa.js","V")})})})})})});return{id:AU,diagram:e}},"loader");var LU={id:AU,detector:NU,loader:PU};var MU="treemap";var DU=Xi(e=>/^\s*treemap/.test(e),"detector");var IU=Xi(async()=>{const{diagram:e}=await r("n.js","m").then(function(){return r("q.js","p").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("s.js","r").then(function(){return r("xa.js","W")})})})})});return{id:MU,diagram:e}},"loader");var BU={id:MU,detector:DU,loader:IU};var RU=!1;var OU=Xi(()=>{if(RU){return}RU=!0;$l("error",Xq,e=>e.toLowerCase().trim()==="error");$l("---",{db:{clear:Xi(()=>{},"clear")},styles:{},renderer:{draw:Xi(()=>{},"draw")},parser:{parse:Xi(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:Xi(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---"));{Yo(Jq,sU,LU)}Yo(Rz,hU,Iq,Pq,Vz,nq,oq,cq,kq,Tq,qz,Hz,aU,Zz,Wq,Fq,Yq,_q,fU,xU,yq,EU,SU,BU)},"addDiagrams");var FU=Xi(async()=>{Zi.debug(`Loading registered diagrams`);const e=await Promise.allSettled(Object.entries(qo).map(async([e,{detector:t,loader:n}])=>{if(!n){return}try{Wl(e)}catch{try{let{diagram:a,id:r}=await n();$l(r,a,t)}catch(t){Zi.error(`Failed to load external diagram with key ${e}. Removing from detectors.`);delete qo[e];throw t}}}));const t=e.filter(e=>e.status==="rejected");if(t.length>0){Zi.error(`Failed to load ${t.length} external diagrams`);for(const e of t){Zi.error(e)}throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams");var jU="graphics-document document";function HU(e,t){e.attr("role",jU);t!==""&&e.attr("aria-roledescription",t)}Xi(HU,"setA11yDiagramInfo");function $U(e,t,n,a){if(e.insert===void 0){return}if(n){let t=`chart-desc-${a}`;e.attr("aria-describedby",t);e.insert("desc",":first-child").attr("id",t).text(n)}if(t){let n=`chart-title-${a}`;e.attr("aria-labelledby",n);e.insert("title",":first-child").attr("id",n).text(t)}}Xi($U,"addSVGa11yTitleDescription");var WU=(Mz=class _Diagram{constructor(e,t,n,a,r){this.type=e;this.text=t;this.db=n;this.parser=a;this.renderer=r}static async fromText(e,t={}){var n,a;const r=As();const i=Uo(e,r);e=MB(e)+"\n";try{Wl(i)}catch{const e=Vo(i);if(!e){throw new zo(`Diagram ${i} not found.`)}const{id:t,diagram:n}=await e();$l(t,n)}const{db:o,parser:s,renderer:l,init:d}=Wl(i);if(s.parser){s.parser.yy=o}(n=o.clear)===null||n===void 0?void 0:n.call(o);d===null||d===void 0?void 0:d(r);if(t.title){(a=o.setDiagramTitle)===null||a===void 0?void 0:a.call(o,t.title)}await s.parse(e);return new Mz(i,e,o,s,l)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},(()=>{Xi(Mz,"Diagram")})(),Mz);var zU=[];var qU=Xi(()=>{zU.forEach(e=>{e()});zU=[]},"attachFunctions");var UU=Xi(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function YU(e){var t;const n=e.match(Ho);if(!n){return{text:e,metadata:{}}}let a=(t=eL(n[1],{schema:cA}))!==null&&t!==void 0?t:{};a=typeof a==="object"&&!Array.isArray(a)?a:{};const r={};a.displayMode&&(r.displayMode=a.displayMode.toString());a.title&&(r.title=a.title.toString());a.config&&(r.config=a.config);return{text:e.slice(n[0].length),metadata:r}}Xi(YU,"extractFrontMatter");var GU=Xi(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,n)=>"<"+t+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText");var VU=Xi(e=>{const{text:t,metadata:n}=YU(e);const{displayMode:a,title:r,config:i={}}=n;if(a){i.gantt||(i.gantt={});i.gantt.displayMode=a}return{title:r,config:i,text:t}},"processFrontmatter");var XU=Xi(e=>{var t;const n=(t=LB.detectInit(e))!==null&&t!==void 0?t:{};const a=LB.detectDirective(e,"wrap");if(Array.isArray(a)){n.wrap=a.some(({type:e})=>e==="wrap")}else(a===null||a===void 0?void 0:a.type)==="wrap"&&(n.wrap=!0);return{text:JI(e),directive:n}},"processDirectives");function KU(e){const t=GU(e);const n=VU(t);const a=XU(n.text);const r=PB(n.config,a.directive);e=UU(a.text);return{code:e,title:n.title,config:r}}Xi(KU,"preprocessDiagram");function QU(e){const t=(new TextEncoder).encode(e);const n=Array.from(t,e=>String.fromCodePoint(e)).join("");return btoa(n)}Xi(QU,"toBase64");var ZU=5e4;var JU="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";var eY="sandbox";var tY="loose";var nY="http://www.w3.org/2000/svg";var aY="http://www.w3.org/1999/xlink";var rY="http://www.w3.org/1999/xhtml";var iY="100%";var oY="100%";var sY="border:0;margin:0;";var lY="margin:0";var dY="allow-top-navigation-by-user-activation allow-popups";var cY='The "iframe" tag is not supported by your browser.';var hY=["foreignobject"];var uY=["dominant-baseline"];function pY(e){var t;const n=KU(e);Ls();Ps((t=n.config)!==null&&t!==void 0?t:{});return n}Xi(pY,"processAndSetConfigs");async function _Y(e,t){OU();try{let{code:n,config:a}=pY(e),r=await CY(n);return{diagramType:r.type,config:a}}catch(e){if(t===null||t===void 0?void 0:t.suppressErrors){return!1}throw e}}Xi(_Y,"parse");var fY=Xi((e,t,n=[])=>`\n.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles");var gY=Xi((e,t=new Map)=>{var n,a;let r="";e.themeCSS!==void 0&&(r+=`\n${e.themeCSS}`);e.fontFamily!==void 0&&(r+=`\n:root { --mermaid-font-family: ${e.fontFamily}}`);e.altFontFamily!==void 0&&(r+=`\n:root { --mermaid-alt-font-family: ${e.altFontFamily}}`);if(t instanceof Map){let i=(n=e.htmlLabels)!==null&&n!==void 0?n:(a=e.flowchart)===null||a===void 0?void 0:a.htmlLabels,o=["> *","span"],s=["rect","polygon","ellipse","circle","path"],l=i?o:s;t.forEach(e=>{DW(e.styles)||l.forEach(t=>{r+=fY(e.id,t,e.styles)});DW(e.textStyles)||(r+=fY(e.id,"tspan",((e===null||e===void 0?void 0:e.textStyles)||[]).map(e=>e.replace("color","fill"))))})}return r},"createCssStyles");var mY=Xi((e,t,n,a)=>{const r=gY(e,n);const i=gl(t,r,e.themeVariables);return Pz(Cz(`${a}{${i}}`),Lz)},"createUserStyles");var yY=Xi((e="",t,n)=>{let a=e;!n&&!t&&(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#'));a=DB(a);a=a.replace(/<br>/g,"<br/>");return a},"cleanUpSvgCode");var xY=Xi((e="",t)=>{var n,a;const r=((a=(n=t===null||t===void 0?void 0:t.viewBox)===null||n===void 0?void 0:n.baseVal)===null||a===void 0?void 0:a.height)?t.viewBox.baseVal.height+"px":oY;const i=QU(`<body style="${lY}">${e}</body>`);return`<iframe style="width:${iY};height:${r};${sY}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${dY}">\n  ${cY}\n</iframe>`},"putIntoIFrame");var bY=Xi((e,t,n,a,r)=>{const i=e.append("div");i.attr("id",n);a&&i.attr("style",a);const o=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",nY);r&&o.attr("xmlns:xlink",r);o.append("g");return e},"appendDivSvgG");function vY(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}Xi(vY,"sandboxedIframe");var kY=Xi((e,t,n,a)=>{var r,i,o;(r=e.getElementById(t))===null||r===void 0?void 0:r.remove();(i=e.getElementById(n))===null||i===void 0?void 0:i.remove();(o=e.getElementById(a))===null||o===void 0?void 0:o.remove()},"removeExistingElements");var SY=Xi(async function(e,t,n){var a,r,i,o,s,l,d;OU();const c=pY(t);t=c.code;const h=As();Zi.debug(h);t.length>((a=h===null||h===void 0?void 0:h.maxTextSize)!==null&&a!==void 0?a:ZU)&&(t=JU);const u="#"+e;const p="i"+e;const _="#"+p;const f="d"+e;const g="#"+f;const m=Xi(()=>{const e=x?_:g;const t=$h(e).node();t&&"remove"in t&&t.remove()},"removeTempElements");let y=$h("body");const x=h.securityLevel===eY;const b=h.securityLevel===tY;const v=h.fontFamily;if(n!==void 0){n&&(n.innerHTML="");if(x){let e=vY($h(n),p);y=$h(e.nodes()[0].contentDocument.body);y.node().style.margin=0}else{y=$h(n)}bY(y,e,f,`font-family: ${v}`,aY)}else{kY(document,e,f,p);if(x){let e=vY($h("body"),p);y=$h(e.nodes()[0].contentDocument.body);y.node().style.margin=0}else{y=$h("body")}bY(y,e,f)}let k;let S;try{k=await WU.fromText(t,{title:c.title})}catch(e){if(h.suppressErrorRendering){m();throw e}k=await WU.fromText("error");S=e}const w=y.select(g).node();const C=k.type;const T=w.firstChild;const E=T.firstChild;const A=(i=(r=k.renderer).getClasses)===null||i===void 0?void 0:i.call(r,t,k);const N=mY(h,C,A,u);const P=document.createElement("style");P.innerHTML=N;T.insertBefore(P,E);try{await k.renderer.draw(t,e,Yi.version,k)}catch(n){if(h.suppressErrorRendering){m()}else{Vq.draw(t,e,Yi.version)}throw n}const L=y.select(`${g} svg`);const M=(s=(o=k.db).getAccTitle)===null||s===void 0?void 0:s.call(o);const D=(d=(l=k.db).getAccDescription)===null||d===void 0?void 0:d.call(l);TY(C,L,M,D);y.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",rY);let I=y.select(g).node().innerHTML;Zi.debug("config.arrowMarkerAbsolute",h.arrowMarkerAbsolute);I=yY(I,x,Ks(h.arrowMarkerAbsolute));if(x){let e=y.select(g+" svg").node();I=xY(I,e)}else b||(I=Mo.sanitize(I,{ADD_TAGS:hY,ADD_ATTR:uY,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));qU();if(S){throw S}m();return{diagramType:C,svg:I,bindFunctions:k.db.bindFunctions}},"render");function wY(e={}){var t;const n=Xo({},e);if((n===null||n===void 0?void 0:n.fontFamily)&&!((t=n.themeVariables)===null||t===void 0?void 0:t.fontFamily)){n.themeVariables||(n.themeVariables={});n.themeVariables.fontFamily=n.fontFamily}Ss(n);if((n===null||n===void 0?void 0:n.theme)&&n.theme in ds){n.themeVariables=ds[n.theme].getThemeVariables(n.themeVariables)}else n&&(n.themeVariables=ds.default.getThemeVariables(n.themeVariables));const a=typeof n==="object"?ks(n):Cs();Ji(a.logLevel);OU()}Xi(wY,"initialize");var CY=Xi((e,t={})=>{const{code:n}=KU(e);return WU.fromText(n,t)},"getDiagramFromText");function TY(e,t,n,a){HU(t,e);$U(t,n,a,t.attr("id"))}Xi(TY,"addA11yInfo");var EY=Object.freeze({render:SY,parse:_Y,getDiagramFromText:CY,initialize:wY,getConfig:As,setConfig:Ts,getSiteConfig:Cs,updateSiteConfig:ws,reset:Xi(()=>{Ls()},"reset"),globalReset:Xi(()=>{Ls(gs)},"globalReset"),defaultConfig:gs});Ji(As().logLevel);Ls(As());var AY=Xi((e,t,n)=>{Zi.warn(e);if(TB(e)){n&&n(e.str,e.hash);t.push({...e,message:e.str,error:e})}else{n&&n(e);e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e})}},"handleError");var NY=Xi(async function(e={querySelector:".mermaid"}){try{await PY(e)}catch(t){TB(t)&&Zi.error(t.str);WY.parseError&&WY.parseError(t);if(!e.suppressErrors){Zi.error("Use the suppressErrors option to suppress these errors");throw t}}},"run");var PY=Xi(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const a=EY.getConfig();Zi.debug(`${!e?"No ":""}Callback function found`);let r;if(n){r=n}else if(t){r=document.querySelectorAll(t)}else{throw new Error("Nodes and querySelector are both undefined")}Zi.debug(`Found ${r.length} diagrams`);if((a===null||a===void 0?void 0:a.startOnLoad)!==void 0){Zi.debug("Start On Load: "+(a===null||a===void 0?void 0:a.startOnLoad));EY.updateSiteConfig({startOnLoad:a===null||a===void 0?void 0:a.startOnLoad})}const i=new LB.InitIDGenerator(a.deterministicIds,a.deterministicIDSeed);let o;const s=[];for(const t of Array.from(r)){Zi.info("Rendering diagram: "+t.id);if(t.getAttribute("data-processed")){continue}t.setAttribute("data-processed","true");let n=`mermaid-${i.next()}`;o=t.innerHTML;o=$O(LB.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");let a=LB.detectInit(o);a&&Zi.debug("Detected early reinit: ",a);try{let{svg:a,bindFunctions:r}=await HY(n,o,t);t.innerHTML=a;e&&await e(n);r&&r(t)}catch(e){AY(e,s,WY.parseError)}}if(s.length>0){throw s[0]}},"runThrowsErrors");var LY=Xi(function(e){EY.initialize(e)},"initialize");var MY=Xi(async function(e,t,n){Zi.warn("mermaid.init is deprecated. Please use run instead.");e&&LY(e);const a={postRenderCallback:n,querySelector:".mermaid"};if(typeof t==="string"){a.querySelector=t}else if(t){if(t instanceof HTMLElement){a.nodes=[t]}else{a.nodes=t}}await NY(a)},"init");var DY=Xi(async(e,{lazyLoad:t=!0}={})=>{OU();Yo(...e);t===!1&&await FU()},"registerExternalDiagrams");var IY=Xi(function(){if(WY.startOnLoad){let{startOnLoad:e}=EY.getConfig();e&&WY.run().catch(e=>Zi.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document!=="undefined"&&window.addEventListener("load",IY,!1);var BY=Xi(function(e){WY.parseError=e},"setParseErrorHandler");var RY=[];var OY=!1;var FY=Xi(async()=>{if(OY){return}OY=!0;while(RY.length>0){let e=RY.shift();if(e){try{await e()}catch(e){Zi.error("Error executing queue",e)}}}OY=!1},"executeQueue");var jY=Xi(async(e,t)=>new Promise((n,a)=>{const r=Xi(()=>new Promise((r,i)=>{EY.parse(e,t).then(e=>{r(e);n(e)},e=>{var t;Zi.error("Error parsing",e);(t=WY.parseError)===null||t===void 0?void 0:t.call(WY,e);i(e);a(e)})}),"performCall");RY.push(r);FY().catch(a)}),"parse");var HY=Xi((e,t,n)=>new Promise((a,r)=>{const i=Xi(()=>new Promise((i,o)=>{EY.render(e,t,n).then(e=>{i(e);a(e)},e=>{var t;Zi.error("Error parsing",e);(t=WY.parseError)===null||t===void 0?void 0:t.call(WY,e);o(e);r(e)})}),"performCall");RY.push(i);FY().catch(r)}),"render");var $Y=Xi(()=>Object.keys(qo).map(e=>({id:e})),"getRegisteredDiagramsMetadata");var WY={startOnLoad:!0,mermaidAPI:EY,parse:jY,render:HY,init:MY,run:NY,registerExternalDiagrams:DY,registerLayoutLoaders:RW,initialize:LY,parseError:void 0,contentLoaded:IY,setParseErrorHandler:BY,detectType:Uo,registerIconPacks:UO,getRegisteredDiagramsMetadata:$Y};var zY=WY;const qY={startOnLoad:!0,securityLevel:"strict",theme:"default",logLevel:5,darkMode:!1,suppressErrorRendering:!0};const UY=new Set;let YY=0;function GY(){YY++;UY.forEach(e=>e(e()+1))}function VY(e){if(qY.theme!==e){qY.theme=e;GY()}}const XY=new Map;let KY=0;function QY(t){let n=XY.get(t);if(n){if(n.ci===YY){n.frame=Vt();return n.result}}else{let a=Vt();n={ci:0,id:0,result:e,frame:a};XY.set(t,n);for(const[e,t]of XY){a-2>t.frame&&XY.delete(e)}}n.frame=Vt();n.ci=YY;n.id=KY++;n.result=(async()=>{zY.initialize(qY);const e=await zY.render(`mermaid-${n.id}-svg`,t);return e})();return n.result}function ZY(e){const t=tn(QY(e.children));const n=XY.get(e.children);ca(()=>{var e,a;n.frame=Vt();(e=t.bindFunctions)===null||e===void 0?void 0:e.call(t,Te((a=re())===null||a===void 0?void 0:a.me))});const a=ta(0);UY.add(a);oa(()=>{UY.delete(a)});return On("div",{key:"$mermaid#"+n.id,style:e.style},{tag:"/",children:t.svg})}const JY=["default","base","dark","forest","neutral","null"];Mt(()=>{const e=ta(0);VY(JY[e()]);return On(jn,null,On("h1",null,"Demo page for ",On("a",{href:"https://github.com/bobril/mermaid"},"@bobril/mermaid")),On("div",null,"Theme:",JY.map((t,n)=>On("button",{key:t,onClick:()=>e(n),disabled:e()===n},t))),On(nn,{fallback:e=>On("div",null,"Error occurred ",e.message)},On(en,{fallback:On("div",null,"Rendering...")},On(ZY,null,`graph TD;\n                        A--\x3eB;\n                        A--\x3eC;\n                        B--\x3eD;\n                        C--\x3eD;\n                    `))))});__bbb.X=fD;__bbb.Y=WL;__bbb.Z=PL;__bbb.$=kD;__bbb._=zL;__bbb.aa=lW;__bbb.ba=MI;__bbb.ca=dD;__bbb.da=NL;__bbb.ea=sD;__bbb.fa=$I;__bbb.ha=WI;__bbb.ia=bI;__bbb.ja=DI;__bbb.ka=CD;__bbb.la=SI;__bbb.ma=uW;__bbb.na=UI;__bbb.oa=pD;__bbb.pa=gI;__bbb.ra=fI;__bbb.sa=AI;__bbb.ta=qM;__bbb.ua=vD;__bbb.wa=BI;__bbb.xa=BD;__bbb.ya=zI;__bbb.za=JM;__bbb.Aa=qI;__bbb.Ba=hD;__bbb.Ca=iD;__bbb.Da=oD;__bbb.Ea=AW;__bbb.Fa=dI;__bbb.Ga=lI;__bbb.Ha=AD;__bbb.Ia=aD;__bbb.Ja=_D;__bbb.Ka=QM;__bbb.Ma=WM;__bbb.Na=rD;__bbb.Oa=CM;__bbb.Qa=hI;__bbb.Ra=wD;__bbb.Sa=nD;__bbb.Ua=LI;__bbb.Va=TD;__bbb.Wa=tD;__bbb.Ya=VL;__bbb.Za=RI;__bbb.$a=XL;__bbb._a=ED;__bbb.ab=lM;__bbb.cb=mI;__bbb.db=fW;__bbb.fb=DW;__bbb.ib=NI;__bbb.jb=YI;__bbb.Mb=Xi;__bbb.Nb=Zi;__bbb.Ob=cj;__bbb.Pb=v$;__bbb.Qb=b$;__bbb.Rb=L$;__bbb.Tb=oL;__bbb.Ub=S$;__bbb.Vb=Ej;__bbb.Wb=$$;__bbb.Xb=D$;__bbb.Yb=U$;__bbb.Zb=k$;__bbb.$b=N$;__bbb._b=Aj;__bbb.ac=Ol;__bbb.dc=$h;__bbb.ec=Os;__bbb.fc=TL;__bbb.gc=zs;__bbb.hc=Tl;__bbb.ic=Al;__bbb.jc=Ml;__bbb.kc=Pl;__bbb.nc=cl;__bbb.oc=Xo;__bbb.pc=yB;__bbb.qc=bB;__bbb.rc=vB;__bbb.sc=pl;__bbb.tc=Il;__bbb.uc=Rl;__bbb.vc=eL;__bbb.wc=cA;__bbb.xc=y$;__bbb.yc=IB;__bbb.zc=LB;__bbb.Ac=wl;__bbb.Bc=gs;__bbb.Dc=jW;__bbb.Ec=FW;__bbb.Gc=go;__bbb.Hc=fo;__bbb.Jc=Ts;__bbb.Kc=Ki;__bbb.dd=PB;__bbb.ed=hs;__bbb.fd=As;__bbb.hd=fB;__bbb.kd=_l;__bbb.ld=Gi;__bbb.md=sS;__bbb.nd=lS;__bbb.od=dS;__bbb.pd=cS;__bbb.qd=hS;__bbb.rd=uS;__bbb.sd=oS;__bbb.td=lC;__bbb.ud=gd;__bbb.vd=fd;__bbb.wd=Fk;__bbb.xd=Xp;__bbb.yd=Bd;__bbb.zd=Jw;__bbb.Ad=zk;__bbb.Bd=Qk;__bbb.Cd=Zk;__bbb.Dd=eS;__bbb.Ed=nS;__bbb.Fd=vS;__bbb.Gd=Id;__bbb.Hd=Yi;__bbb.Id=yE;__bbb.Jd=yT;__bbb.Kd=NB;__bbb.Ld=lT;__bbb.Md=Sk;__bbb.Nd=rs;__bbb.Od=sF;__bbb.Pd=wk;__bbb.Qd=fT;__bbb.Rd=dl;__bbb.Sd=VI;__bbb.Vd=il;__bbb.Yd=ol;__bbb.Zd=Xs;__bbb.$d=Js;__bbb.de=pB;__bbb.fe=PT;__bbb.ke=yl;__bbb.le=_l;__bbb.me=xo;__bbb.ne=vo;__bbb.oe=ko;__bbb.pe=Rs;__bbb.qe=vd;__bbb.re=TT;__bbb.se=cC;__bbb.te=Ks;__bbb.ue=cF;__bbb.ve=DB;__bbb.we=hF;__bbb.xe=iL;__bbb.ye=hB;__bbb.ze=WO;__bbb.Ae=VO;__bbb.Be=UO;__bbb.Ce=cL;__bbb.De=Jm;__bbb.Ee=Kv;__bbb.Fe=pk;__bbb.Ge=hL}).call(this)