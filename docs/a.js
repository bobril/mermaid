var __bbb={};(function(e){"use strict";var t=function(e){if(!("default"in e))return e;var t=e.default;if(typeof t==="object"||typeof t==="function"){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&n!=="default"&&(t[n]=e[n])}return t};var n=function(e,t,n){typeof t==="symbol"&&(t=t.description?"[".concat(t.description,"]"):"");return Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})};var r=function(t,n){var r=__bbb;var a=__bbb[n];if(a!==e){if(a instanceof Promise)return a;return Promise.resolve(a)}a=new Promise(function(i,o){var s=document.createElement("script");var l=setTimeout(d,12e4);function d(){s.onload=s.onerror=e;clearTimeout(l);if(__bbb[n]===a){r[n]=e;o(new Error("Fail to load "+t))}else i(__bbb[n])}s.charset="utf-8";s.onload=s.onerror=d;s.src=t;document.head.appendChild(s)});return __bbb[n]=a};var a=!1;function i(e){return typeof e=="number"}function o(e){return typeof e=="string"}function s(e){return typeof e=="boolean"}function l(e){return typeof e=="function"}function d(e){return typeof e==="object"}function c(e){return e&&l(e.then)}var h=Array.isArray;(()=>{var e=[];function t(){var t=e;e=[];for(var n=0,r=t.length;n<r;n++){t[n]()}}return n=>{e.push(n);e.length===1&&Promise.resolve().then(t)}})();function u(){return e}function p(){return Object.create(null)}var _=Object.is;var f=Object.prototype.hasOwnProperty;function m(e){return document.createTextNode(e)}var g=u;var y=u;var x=u;function b(e){var t=y;y=e;return t}function v(e){var t=x;x=e;return t}var k;const w=1;const S=2;const C=4;const T=8;const E=16;const A=32;class BobrilCtx{constructor(t,n){this.data=t;this.me=n;this.cfg=e;this.refs=e;this.disposables=e;this.$hookFlags=0;this.$hooks=e;this.$bobxCtx=e}}const N={};function P(e){return document.createElement(e)}var L=Object.assign;var M=!1;var D=!1;var I=[];var R=[];var B=[];const O=/^input$|^select$|^textarea$|^button$/;const F="tabindex";function j(t,n){if(t==e)return!1;if(t==="input"&&n&&n["disabled"])return!1;if(O.test(t))return!0;if(t==="a"&&n!=null&&n.href!=null)return!0;return!1}function H(t,n,r,a,i){var o,s,d,c,h;let u=!1;if(r!=null)for(o in r){s=r[o];d=a[o];if(i&&o===F){s=-1;u=!0}else if(o===hn&&!M){if(l(s)){a[ln]=s;s=s()}c=d;h=s;a[o]=s;continue}if(d!==s){a[o]=s;if(M){if(o==="href")n.setAttributeNS("http://www.w3.org/1999/xlink","href",s);else n.setAttribute(o,s)}else if(o in n&&!(o==="list"||o==="form")){n[o]=s}else n.setAttribute(o,s)}}if(i&&!u&&j(t.tag,r)){n.setAttribute(F,"-1");a[F]=-1}if(r==e){for(o in a){if(a[o]!==e){if(i&&o===F)continue;if(o===ln)continue;a[o]=e;n.removeAttribute(o)}}}else{for(o in a){if(a[o]!==e&&!(o in r)){if(i&&o===F)continue;if(o===ln)continue;a[o]=e;n.removeAttribute(o)}}}h!==e&&W(n,t,h,c);return a}function W(t,n,r,a){var i=t.tagName;var o=i==="SELECT";var s=i==="INPUT"||i==="TEXTAREA";if(!s&&!o){r!==a&&(t[hn]=r);return}if(n.ctx===e){n.ctx=new BobrilCtx(e,n);n.component=N}a===e&&(n.ctx[ln]=r);var l=o&&t.multiple;var d=!1;if(l){var c=t.options,h=fn(c);if(!pn(r,h)){if(a===e||pn(h,a)||!pn(r,n.ctx[ln])){for(var u=0;u<c.length;u++){c[u].selected=_n(r,c[u].value)}h=fn(c);pn(h,r)&&(d=!0)}else{d=!0}}}else if(s||o){if(s&&un(t)){var p=t.checked;if(r!==p){if(a===e||p===a||r!==n.ctx[ln]){t.checked=r}else{d=!0}}}else{var _=o&&t.size<2,f=t[hn];if(r!==f){if(a===e||f===a||r!==n.ctx[ln]){if(o){if(r===""){t.selectedIndex=_?0:-1}else{t[hn]=r}if(r!==""||_){f=t[hn];r!==f&&(d=!0)}}else{t[hn]=r}}else{d=!0}}}}if(d){mn(e,t,n)}else{n.ctx[ln]=r}}function z(e){var t=e.component;if(t){let n=t[Xn];if(n){I.push(n);R.push(e)}let r=$(e);if(r&w){I.push(hr);R.push(e)}r&A&&B.push(e)}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&w){I.push(hr);R.push(e)}t&A&&B.push(e)}}}function $(t){let n=t.ctx.$hookFlags|0;t.ctxStyle!=e&&(n=t.ctxStyle.$hookFlags|n);return n}function U(e){var t=e.component;if(t){let n=t[Kn];if(n){I.push(n);R.push(e)}let r=$(e);if(r&S){I.push(ur);R.push(e)}n=t[Qn];if(n){I.push(n);R.push(e)}if(r&C){I.push(pr);R.push(e)}r&A&&B.push(e)}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&S){I.push(ur);R.push(e)}if(t&C){I.push(pr);R.push(e)}t&A&&B.push(e)}}}function q(e){var t=e.component;if(t){let n=t[Qn];if(n){I.push(n);R.push(e)}if($(e)&C){I.push(pr);R.push(e)}}else{var n=e.ctxStyle;if(n){let t=n.$hookFlags|0;if(t&C){I.push(pr);R.push(e)}}}}function G(t){var n;while(t){n=t.cfg;if(n!==e)break;if(t.ctx!==e&&t.component!==N){n=t.ctx.cfg;break}t=t.parent}return n}function Y(t,n){if(t===e)return;if("current"in t){t.current=n}else if(l(t)){t(n)}else if(h(t)){let r=t[0],a=r.refs;if(a===e){a=p();r.refs=a}a[t[1]]=n}}function V(t,n){if(t===e)return;if("current"in t){t.current==n&&(t.current=e)}else if(l(t)){t(e,n)}else if(h(t)){let r=t[0],a=r.refs;if(a===e){a=p();r.refs=a}a[t[1]]==n&&(a[t[1]]=e)}}let X=[];let K=null;let Q;let Z;let J;function ee(e,t,n){Q=e;Z=t;J=n}let te;let ne=-1;function re(){return te}let ae=!1;let ie=!1;function oe(t,n,r,a){var i=[e];se(t,i,0,n,r,a);return i[0]}function se(t,n,r,s,l,d){var c={tag:t.tag,key:t.key,ref:t.ref,className:t.className,style:t.style,attrs:t.attrs,children:t.children,component:t.component,data:t.data,cfg:e,parent:s,element:e,ctx:e,orig:t};n[r]=c;var h=M;var u=D;var p=c.component;var _;var f;try{Y(c.ref,c);if(p){var g;if(p.ctxClass){g=new p.ctxClass(c.data||{},c);g.data===e&&(g.data=c.data||{});g.me===e&&(g.me=c)}else{g=new BobrilCtx(c.data||{},c)}g.cfg=t.cfg===e?G(s):t.cfg;c.ctx=g;te=g;try{if(p.init){var y;try{p.init(g,c)}catch(e){le(e,g,!0)}finally{if(a&&ie)kt(y)}}if(p.render){ne=0;var y;try{p.render(g,c)}catch(e){le(e,g,!0)}finally{ne=-1;if(a&&ie)kt(y)}}}catch(e){ne=-1;le(e,g,!0)}finally{te=e}}else{}var x=c.tag;if(x==="-"){c.tag=e;c.children=e;return}else if(x==="@"){l=c.data;d=null;x=e}var b=c.children,v=!1;if(i(b)){b=""+b;c.children=b}if(x===e){if(o(b)){_=m(b);c.element=_;ve.set(_,c);l.insertBefore(_,d)}else{try{fe(c,l,d)}catch(e){le(e,c.ctx,!0)}}if(p){if(p.postRender){var y;try{p.postRender(c.ctx,c)}catch(e){le(e,c.ctx,!0)}finally{if(a&&ie)kt(y)}}z(c)}return}if(x==="/"){var k=b;if(k===""){}else if(d==e){var w=l.lastChild;l.insertAdjacentHTML("beforeend",k);c.element=[];if(w){w=w.nextSibling}else{w=l.firstChild}while(w){ve.set(w,c);c.element.push(w);w=w.nextSibling}}else{_=d;var S=d.previousSibling,C=!1,T=l;if(!_.insertAdjacentHTML){_=T.insertBefore(P("i"),_);C=!0}_.insertAdjacentHTML("beforebegin",k);if(S){S=S.nextSibling}else{S=T.firstChild}var E=[];while(S!==_){ve.set(S,c);E.push(S);S=S.nextSibling}c.element=E;C&&T.removeChild(_)}if(p){if(p.postRender){var y;p.postRender(c.ctx,c)}z(c)}return}if(M||x==="svg"){_=document.createElementNS("http://www.w3.org/2000/svg",x);v=x==="foreignObject";M=!v}else{_=P(x)}l.insertBefore(_,d);ve.set(_,c);c.element=_;try{fe(c,_,null)}catch(e){le(e,c.ctx,!0)}if(p){if(p.postRender){var y;p.postRender(c.ctx,c)}}D&&K===c&&(D=!1);v&&(M=!0);let[n,r,A]=ue(c,c);(A||D)&&(c.attrs=H(c,_,A,{},D));Q(_,r,n,c,M);M=h;D=u;z(c)}finally{if(a&&p&&ae)kt(f,`${p.id} create`)}}function le(t,n,r){if(tn==e||n==e||!lr(tn,n).handle(t,n,r))throw t}function de(t,n){var r=n.ctxStyle;var a=te;if(r===e){r=new BobrilCtx(t,n);n.ctxStyle=r;te=r}else{te=r}ne=0;try{var i=t()}catch(e){ne=-1;te=a;le(e,r,!0)}ne=-1;te=a;try{return J({},i)}catch(e){le(e,r,!0)}return{}}function ce(t){let n=t.ctxStyle;if(n!==e){te=n;let t=n.disposables;if(h(t)){for(let e=t.length;e-- >0;){let r=t[e];if(l(r))r(n);else r.dispose()}}te=e}}function he(t){if(l(t)){ue=t}else if(t){ue=((t,n)=>{var r="";do{var a=t.key;a&&(r=" "+a+r);t=t.parent}while(t!=e&&t.element==e);if(!r.length)r=n.className;else{if(n.className)r=n.className+r;else r=r.slice(1)}return[r,n.style,n.attrs]})}else{ue=((e,t)=>[t.className,t.style,t.attrs])}}let ue;he();const pe={render(e,t){t.children=e.data()}};function _e(t){if(t===!1||t===!0||t===null)return e;if(o(t)){return{children:t}}if(i(t)){return{children:""+t}}if(l(t)){return{component:pe,data:t}}return t}function fe(e,t,n){var r=e.children;if(o(r)){t.textContent=r;return}let a=[];Oe(a,r);for(let r=0;r<a.length;r++){try{a[r]=oe(a[r],e,t,n)}catch(t){le(t,e.ctx,!0)}}e.children=a}function me(t){V(t.ref,t);let n=t.children;if(h(n)){for(let e=0,t=n.length;e<t;e++){me(n[e])}}let r=t.component;if(r){let n=t.ctx;te=n;r.destroy&&r.destroy(n,t,t.element);let a=n.disposables;if(h(a)){for(let e=a.length;e-- >0;){let t=a[e];if(l(t))t(n);else t.dispose()}}te=e}ce(t);t.tag==="@"&&ye(t)}function ge(t,n){let r=t.disposables;if(r==e){r=[];t.disposables=r}r.push(n)}function ye(e){var t=e.element;if(h(t)){var n=t[0].parentNode;if(n){for(let e=0;e<t.length;e++){n.removeChild(t[e])}}}else if(t!=null){let e=t.parentNode;e&&e.removeChild(t)}else{var r=e.children;if(h(r)){for(var a=0,i=r.length;a<i;a++){ye(r[a])}}}}function xe(e){me(e);ye(e)}var be=p();var ve=new WeakMap;function ke(t){var n=[];while(t!=e){var r=ve.get(t);if(r!==e){do{n.push(r);r=r.parent}while(r!==e);n.reverse();return n}t=t.parentNode}return n}function we(t){while(t!=e){var n=ve.get(t);if(n!==e){return n}t=t.parentNode}return e}function Se(t,n,r){if(r){if(r.postRender){te=n.ctx;r.postRender(te,t,n);te=e}}n.data=t.data;U(n)}function Ce(t,n,r){te=e;if(h(t.children)){let e=M,a=D;if(t.tag==="svg"){M=!0}else M&&t.tag==="foreignObject"&&(M=!1);D&&K===t&&(D=!1);pt(t.children,t.element||n,t.element!=null?null:r);M=e;D=a}q(t)}function Te(t,n,r,s,l,d,c){var p=n[r];if(p==e){throw Error("updateNode for non created node")}if(t==e){throw Error("updateNode for undefined node in "+je(p))}var _=t.component;var f=!1;var m=p.ctx;var y;try{if(_!=null&&m!=null){let n=!1;if(m[Ve]>=tt){d=Math.max(d,m[Xe]);n=!0;m[Ve]=tt}if(_.id!==p.component.id){f=!0}else{te=m;if(t.cfg!==e)m.cfg=t.cfg;else m.cfg=G(p.parent);if(_.shouldChange)if(!St&&!n){var x;let e=_.shouldChange(m,t,p);if(!e){Ce(p,s,l);return}}m.data=t.data||{};p.component=_;g!==u&&(c?2:1);if(_.render){p.orig=t;t=L({},t);p.cfg=e;t.cfg!==e&&(t.cfg=e);ne=0;var x;try{_.render(m,t,p)}catch(e){le(e,m,!0)}finally{ne=-1;if(a&&ie)kt(x)}if(t.cfg!==e){if(p.cfg===e)p.cfg=t.cfg;else L(p.cfg,t.cfg)}}te=e}}else{if(p.orig===t&&!St){Ce(p,s,l);return}p.orig=t}var b=t.children,v=p.children,k=t.tag;if(k==="-"){Ce(p,s,l);return}let A=M,P=D;i(b)&&(b=""+b);if(f||_!=e&&m==e||_==e&&m!=e&&m.me.component!==N){}else if(k==="/"){if(p.tag==="/"&&v===b){Se(t,p,_);return}}else if(k===p.tag){if(k==="@"){if(t.data!==p.data){se(t,n,r,p.parent,t.data,null);xe(p);return}s=t.data;l=Ae(p);l!=null&&(l=l.nextSibling);k=e}if(k===e){if(o(b)&&o(v)){if(b!==v){var w=p.element;w.textContent=b;p.children=b}}else{D&&K===p&&(D=!1);if(d<=0){h(v)&&pt(p.children,s,l)}else{Fe(s,b,v,p,l,d-1)}M=A;D=P}Se(t,p,_);return}else{var S=!1;if(k==="svg"){M=!0}else if(M&&k==="foreignObject"){S=!0;M=!1}D&&K===p&&(D=!1);var w=p.element;if(w==e){throw Error("updateNode for undefined element for "+k+" in "+je(p))}if(o(b)&&!h(v)){if(b!==v){w.textContent=b;p.children=b}}else{if(d<=0){h(v)&&pt(p.children,w,null)}else{Fe(w,b,v,p,null,d-1)}}S&&(M=!0);Se(t,p,_);let[n,r,a]=ue(p,t);(p.attrs||a||D)&&(p.attrs=H(p,w,a,p.attrs||{},D));Z(w,r,n,p,M);M=A;D=P;return}}var C=Ee(p),T=p.element;h(T)&&(T=T[0]);T!=e&&(T=T.parentNode);if(T==e){T=s;C!=e&&C.parentNode!=T&&(C=l)}C==e&&(C=l);var E=oe(t,p.parent,T,C);xe(p);n[r]=E}finally{if(a&&_&&ae)kt(y,`${_.id} update`)}}function Ee(t){if(t===e||t.tag=="@")return null;var n=t.element;if(n!=null){if(h(n))return n[0];return n}var r=t.children;if(!h(r))return null;for(var a=0;a<r.length;a++){n=Ee(r[a]);if(n)return n}return null}function Ae(t){if(t===e)return null;var n=t.element;if(n!=null){if(h(n))return n[n.length-1];return n}var r=t.children;if(!h(r))return null;for(var a=r.length;a-- >0;){n=Ae(r[a]);if(n)return n}return null}function Ne(t,n,r,a){while(++n<r){var i=t[n];if(i==e)continue;var o=Ee(i);if(o!=null)return o}return a}function Pe(){var t=R.length;for(var n=0;n<t;n++){var r=R[n];te=r.ctx;if(te){var i;try{I[n].call(r.component,te,r,r.element)}catch(e){le(e,te,!1)}finally{if(a&&ie)kt(i)}}te=r.ctxStyle;if(te){var i;try{I[n].call(r.component,te,r,r.element)}catch(e){le(e,te,!1)}finally{if(a&&ie)kt(i)}}}te=e;I=[];R=[]}function Le(){var t=B.length;for(var n=0;n<t;n++){var r=B[n];te=r.ctx;if(te){var i;try{let t=te.$hooks,n=t.length;for(let r=0;r<n;r++){let n=t[r],a=n.useEffect;a!==e&&a.call(n,te)}}catch(e){le(e,te,!1)}finally{te=e;if(a&&ie)kt(i)}}te=r.ctxStyle;if(te){var i;try{let t=te.$hooks,n=t.length;for(let r=0;r<n;r++){let n=t[r],a=n.useEffect;a!==e&&a.call(n,te)}}catch(e){le(e,te,!1)}finally{te=e;if(a&&ie)kt(i)}}}B=[]}function Me(e,t,n,r,a,i,o){Te(e,t,n,i,Ne(t,n,r,a),o)}function De(e,t,n){var r=e.element;if(r!=null){if(h(r)){for(var a=0;a<r.length;a++){t.insertBefore(r[a],n)}}else t.insertBefore(r,n);return}var i=e.children;if(!h(i))return;for(var a=0;a<i.length;a++){De(i[a],t,n)}}function Ie(e,t,n,r,a){var i=Ne(e,t,n,r);var o=e[t];var s=Ee(o);s!=null&&s!==i&&De(o,a,i)}function Re(e,t,n,r,a,i,o){var s=Ne(t,n,r,a);var l=t[n];var d=Ee(l);d!=null&&d!==s&&De(l,i,s);Te(e,t,n,i,s,o)}function Be(t,n){if(n==e)return;if(h(n)){for(let e=0;e<n.length;e++){Be(t,n[e])}}else{let r=_e(n);r!==e&&t.push(r)}}function Oe(e,t){Be(e,t)}function Fe(t,n,r,a,i,o){if(r==e){r=[];a&&(a.children=r)}else if(!h(r)){t.firstChild&&t.removeChild(t.firstChild);r=[];a&&(a.children=r)}let s=[];Oe(s,n);He(t,s,r,a,i,o)}function je(t){var n;if(t==e)return"";return je(t.parent)+">"+(t.tag!=e?t.tag+":":"")+t.key+"@"+((n=t.component)===null||n===void 0?void 0:n.id)}function He(t,n,r,a,i,o){let s=n.length;var l=r.length;let d=l;let c=0;let h=0;while(c<s&&h<d){if(n[c].key===r[h].key){Me(n[c],r,h,l,i,t,o);c++;h++;continue}while(!0){if(n[s-1].key===r[d-1].key){s--;d--;Me(n[s],r,d,l,i,t,o);if(c<s&&h<d)continue}break}if(c<s&&h<d){if(n[c].key===r[d-1].key&&n[s-1].key===r[h].key){var u=r[h];r[h]=r[d-1];r[d-1]=u;Re(n[c],r,h,l,i,t,o);c++;h++;s--;d--;Re(n[s],r,d,l,i,t,o);continue}}break}if(h===d){if(c===s){return r}while(c<s){r.splice(h,0,e);l++;se(n[c],r,h,a,t,Ne(r,h,l,i));h++;d++;c++}return r}if(c===s){while(h<d){d--;xe(r[d]);r.splice(d,1)}return r}var p=new Map;var _=new Map;var f;var m;var g=c;var y=h;var x=0;for(;h<d;h++){m=r[h];f=m.key;if(f!=e){if(p.has(f)){throw new Error("Duplicate cached node key "+f+" "+je(a))}p.set(f,h)}else x--}var b=-x-x;for(;c<s;c++){m=n[c];f=m.key;if(f!=e){if(_.has(f)){throw new Error("Duplicate new node key "+f+" "+je(a))}_.set(f,c)}else x++}b+=x;var v=0;c=g;h=y;var k;while(h<d&&c<s){if(r[h]===null){r.splice(h,1);d--;l--;v--;continue}k=r[h].key;if(k==e){h++;continue}f=n[c].key;if(f==e){c++;while(c<s){f=n[c].key;if(f!=e)break;c++}if(f==e)break}var w=p.get(f);if(w===e){r.splice(h,0,e);l++;try{se(n[c],r,h,a,t,Ne(r,h,l,i))}catch(e){le(e,a.ctx,!0)}v++;c++;h++;d++;continue}if(!_.has(k)){xe(r[h]);r.splice(h,1);v--;d--;l--;continue}if(h===w+v){Me(n[c],r,h,l,i,t,o);c++;h++}else{r.splice(h,0,r[w+v]);v++;r[w+v]=null;Re(n[c],r,h,l,i,t,o);h++;d++;l++;c++}}while(h<d){if(r[h]===null){r.splice(h,1);d--;l--;continue}if(r[h].key!=null){xe(r[h]);r.splice(h,1);d--;l--;continue}h++}while(c<s){f=n[c].key;if(f!=null){r.splice(h,0,e);l++;se(n[c],r,h,a,t,Ne(r,h,l,i));d++;v++;h++}c++}if(!b)return r;b=b-Math.abs(x)>>1;c=g;h=y;while(c<s){if(h<d){k=r[h].key;if(k!=null){h++;continue}}f=n[c].key;if(c<d&&f===r[c].key){if(f!=null){c++;continue}Me(n[c],r,c,l,i,t,o);b--;c++;h=c;continue}if(f!=null){if(b===0&&x<0){while(!0){xe(r[h]);r.splice(h,1);d--;l--;x++;if(r[h].key!=null)break}continue}while(r[h].key==e)h++;r[h].key;r.splice(c,0,r[h]);r.splice(h+1,1);Ie(r,c,l,i,t);c++;h=c;continue}if(h<d){r.splice(c,0,r[h]);r.splice(h+1,1);Re(n[c],r,c,l,i,t,o);b--;c++;h++}else{r.splice(c,0,e);l++;se(n[c],r,c,a,t,Ne(r,c,l,i));d++;c++;h++}}while(d>c){d--;xe(r[d]);r.splice(d,1)}return r}var We=!1;var ze=window.requestAnimationFrame;ze&&ze(e=>{e===+e&&(We=!0)});const $e=window.setTimeout;var Ue=Date.now||(()=>(new Date).getTime());var qe=Ue();var Ge=0;function Ye(e){if(We){ze(e)}else{var t=50/3+Ge-Ue();t<0&&(t=0);$e(()=>{Ge=Ue();e(Ge-qe)},t)}}var Ve="$invalidated";var Xe="$deepness";var Ke=!0;var Qe=!1;let Ze=!0;var Je=0;var tt=0;var nt=0;var rt=0;var at=p();var it;function lt(t,n,r){it==e&&(it=p());var a=it[t]||[];a.push({priority:n,callback:r});it[t]=a}function dt(e,t,n,r){var a=at[e];if(a)for(var i=0;i<a.length;i++){if(a[i](t,n,r))return!0}return!1}var ct=0;function ht(e,t,n){if(t[0]=="!")return;var r=t[0]=="^";var a=t;if(t[0]=="@"){if(n)return;a=t.slice(1);e=document}if(r){if(n)return;a=t.slice(1)}function i(n){var r=n.target||e;var a=we(r);ct++;dt(t,n,r,a);ct--;ct==0&&ft&&mt()}n||"on"+a in window&&(e=window);e.addEventListener(a,i,{capture:r,passive:!1})}function ut(){if(it===e)return;var t=Object.keys(it);for(var n=0;n<t.length;n++){var r=t[n],a=it[r];a=a.sort((e,t)=>e.priority-t.priority);at[r]=a.map(e=>e.callback)}it=e;var i=document.body;for(var o=0;o<t.length;o++){ht(i,t[o],!1)}}function pt(t,n,r){var a=t.length;for(var i=0;i<a;i++){var o=t[i],s=o.ctx;if(s!=null&&s[Ve]>=tt){try{Te(o.orig,t,i,n,Ne(t,i,a,r),s[Xe],!0)}catch(e){le(e,s,!0)}}else{s=o.ctxStyle;s!=null&&s[Ve]>=tt&&Z(o.element,s.data,e,o,M);if(h(o.children)){var l=M,d=D;D&&K===o&&(D=!1);if(o.tag==="svg")M=!0;else M&&o.tag==="foreignObject"&&(M=!1);var c=o.element;try{if(c!=e){pt(o.children,c,null)}else{pt(o.children,n,Ne(t,i,a,r))}}catch(e){le(e,o.ctx,!0)}finally{q(o);M=l;D=d}}}}}function _t(t,n,r){while(n!=null){if(t===n)return!0;let o=n.parent;if(o==e){for(var a=0;a<r.length;a++){var i=be[r[a]];if(!i)continue;if(i.n===n){o=i.p;break}}}n=o}return!1}var ft=!1;function mt(){ft=!1;vt(Ue()-qe)}function gt(){if(ct>0){ft=!0;return}mt()}function yt(e){Qe=!1;vt(e)}var xt;const bt=On({render(t,n){const r=t.data;let a=r.f(r);if(a===e){n.tag="-"}else{n.children=a}}});function vt(t){rt=Ue();ut();tt++;St=wt;wt=!1;Je=t;y();ct++;var n;try{for(let t=0;t<100;t++){let t=!1;if(Ke){Ke=!1;t=!0}ft=!1;K=X.length===0?null:X[X.length-1];D=!1;xt=Object.keys(be);for(var r=0;r<xt.length;r++){var i=be[xt[r]];if(!i)continue;var o=i.n,s=null;for(var l=r+1;l<xt.length;l++){let t=be[xt[l]];if(t===e)continue;s=Ee(t.n);if(s!=null)break}K&&(D=!_t(K,i.p,xt));i.e===e&&(i.e=document.body);if(o){if(t||o.ctx[Ve]>=tt){let e=bt(i),n=[o];try{Te(e,n,0,i.e,s,t?1e6:o.ctx[Xe]);o=n[0]}catch(e){o=n[0];le(e,o.ctx,!0)}}else{h(i.c)&&pt(i.c,i.e,s)}}else{let t=bt(i),n=[o];try{se(t,n,0,e,i.e,s)}catch(e){o=n[0];le(e,o.ctx,!0)}o=n[0];i.n=o}i.c=o.children}Pe();ft||Le();if(!ft)break}}finally{ct--;xt=e;let t=be["0"];x(t?t.c:null);if(a&&(ie||ae))kt(n,"render");nt=Ue()-rt}}function kt(e,t){window.performance.measure(t!==null&&t!==void 0?t:e.name,{start:e.name,end:window.performance.mark(e.name+"-end").name})}var wt=!1;var St=!1;function Ct(){wt=!0;k()}function Tt(e){let t=k;k=e;return t}var Et=(t,n,r)=>{if(t!=null){n==e&&(n=1e6);if(t[Ve]!==tt+1){t[Ve]=tt+1;t[Xe]=n}else{n>t[Xe]&&(t[Xe]=n)}}else{Ke=!0}if(r){ft=!0;return}if(Qe||Ze)return;Qe=!0;Ye(yt)};k=Et;var At;var Nt=0;function Pt(t,n,r){Nt++;var a=""+Nt;be[a]={f:t,e:n!==null&&n!==void 0?n:At,c:[],p:r,n:e};if(xt!=null){xt.push(a)}else{Rt()}return a}function Lt(e){var t=be[e];if(!t)return;t.n&&xe(t.n);delete be[e]}function Mt(){return be}function Dt(){Ze=!1;k()}var It=Dt;function Rt(){Ze=!0;It();It=Dt}function Bt(t,n){Lt("0");be["0"]={f:t,e:n,c:[],p:e,n:e};Rt()}function Ot(e){let t=It;It=(()=>{e(t)})}let Ft;document.addEventListener("DOMContentLoaded",()=>{l(Ft)&&Ft();Ft=!0});Ot(e=>{if(Ft===!0){e()}else{Ft=e}});let jt;function Ht(e,t){var n=jt;jt=t;try{return e()}finally{jt=n}}function Wt(t,n,r){if(r==e){r={target:t}}else d(r)&&r.target==e&&(r.target=t);Ln(r);qt(n,r);if(r.propagationStopped)return r._ctx;const a=jt;while(t){var i=t.component,o=t.ctxStyle;if(o){jt=o;if(((o.$hookFlags|0)&T)===T){var s=o.$hooks;for(var l=0,c=s.length;l<c;l++){var h=s[l];if(h instanceof EventsHook){var u=h.events[n];if(u!==e){zt(r,u.call(o,r));if(r.immediatePropagationStopped){jt=a;return r._ctx}}}}}}if(i){o=t.ctx;jt=o;if(((o.$hookFlags|0)&T)===T){var s=o.$hooks;for(var l=0,c=s.length;l<c;l++){var h=s[l];if(h instanceof EventsHook){var u=h.events[n];if(u!==e){zt(r,u.call(o,r));if(r.immediatePropagationStopped){jt=a;return r._ctx}}}}}var u=i[n];if(u){zt(r,u.call(i,o,r));if(r.immediatePropagationStopped){jt=a;return r._ctx}}u=i.handleGenericEvent;if(u){zt(r,u.call(i,o,n,r));if(r.immediatePropagationStopped){jt=a;return r._ctx}}u=i.shouldStopBubble;if(u){if(u.call(i,o,n,r)){r.stopPropagation();break}}}t=t.parent;if(r.propagationStopped)break}jt=a;return r._ctx}function zt(e,t){t=+t;if(t==1){e.preventDefault();e.stopImmediatePropagation()}else if(t==2){e.stopImmediatePropagation()}else t==3&&e.preventDefault()}function $t(t,n,r){if(!t)return e;var a=t.component;if(a){var i=t.ctx,o=jt;jt=i;if(((i.$hookFlags|0)&T)===T){var s=i.$hooks;for(var l=0,d=s.length;l<d;l++){var c=s[l];if(c instanceof EventsHook){var u=c.events[n];if(u!==e){zt(r,u.call(i,r));if(r.immediatePropagationStopped){jt=o;return r._ctx}}}}}var u=a[n];if(u){zt(r,u.call(a,i,r));if(r.immediatePropagationStopped){jt=o;return r._ctx}}u=a.shouldStopBroadcast;if(u){if(u.call(a,i,n,r)){jt=o;return r._ctx}}jt=o;if(r.propagationStopped)return r._ctx}var p=t.children;if(h(p)){for(var l=0;l<p.length;l++){$t(p[l],n,r);if(r.propagationStopped)return r._ctx}}return r._ctx}function Ut(t,n,r){if(!t)return e;var a=t.component;var i=t.ctxStyle;if(i){if((i.$hookFlags&E)===E){var o=i.$hooks,s=jt;jt=i;for(var l=0,d=o.length;l<d;l++){var c=o[l];if(c instanceof CaptureEventsHook){var u=c.events[n];if(u!==e){zt(r,u.call(i,r));if(r.immediatePropagationStopped){jt=s;return r._ctx}}}}jt=s}}if(a){i=t.ctx;if((i.$hookFlags&E)===E){var o=i.$hooks,s=jt;jt=i;for(var l=0,d=o.length;l<d;l++){var c=o[l];if(c instanceof CaptureEventsHook){var u=c.events[n];if(u!==e){zt(r,u.call(i,r));if(r.immediatePropagationStopped){jt=s;return r._ctx}}}}jt=s}}if(r.propagationStopped)return r._ctx;var p=t.children;if(h(p)){for(var l=0,d=p.length;l<d;l++){Ut(p[l],n,r);if(r.propagationStopped)return r._ctx}}return r._ctx}function qt(e,t){Ln(t);var n=Object.keys(be);for(var r=0;r<n.length;r++){var a=be[n[r]].n;if(a!=null){Ut(a,e,t);if(t.propagationStopped)return t._ctx}}return t._ctx}function Gt(e,t){qt(e,t);if(t.propagationStopped)return t._ctx;var n=Object.keys(be);for(var r=0;r<n.length;r++){var a=be[n[r]].n;if(a!=null){$t(a,e,t);if(t.propagationStopped)return t._ctx}}return t._ctx}let Yt=0;function Vt(){return Yt++}function Xt(e){e.preventDefault();e.stopPropagation()}function Kt(e){e=e.slice(0);for(var t=0;t<e.length;t++){var n=e[t];if(h(n)){e[t]=Kt(n)}else if(l(n)){e[t]=n}else d(n)&&(e[t]=Qt(n))}return e}function Qt(e){var t=L({},e);t.attrs&&(t.attrs=L({},t.attrs));var n=t.style;d(n)&&!l(n)&&(t.style=L({},n));var r=t.children;if(r){if(h(r)){t.children=Kt(r)}else if(l(r)){t.children=r}else d(r)&&(t.children=Qt(r))}return t}function Zt(){return tt}function Jt(){throw new NotReadyError}class NotReadyError extends Error{constructor(){super("NotReady")}}const en=new WeakMap;var tn;function nn(){tn===e&&(tn=or({handle:(e,t,n)=>{if(e instanceof NotReadyError){return!0}return!1},ctx:e,resume:()=>{k()}},"__b#e"));return tn}var rn={};(function(e){e[e["First"]=0]="First";e[e["Fallback"]=1]="Fallback";e[e["RealContent"]=2]="RealContent";e[e["Destroyed"]=3]="Destroyed"})(rn);function an(e){const t=ir(2);const n=ir(Je);cr(()=>{t(3)});let r=nn();let a=sr(r);switch(t()){default:return null;case 1:return Rn($n({children:e.fallback}),"f");case 2:dr(r,{handle:(r,i,o)=>{var s;if(r instanceof NotReadyError){if(t()==2){let r=Je-n()-((s=e.expectedLoadTimeMs)!==null&&s!==void 0?s:200);if(r<0){t(0);$e(()=>{t()==rn.First&&t(1)},-r)}else{t(1)}gt()}return!0}return a.handle(r,i,o)},ctx:te,resume:()=>{t()!=rn.RealContent&&t(2)}});return Rn($n({children:e.children}),"r")}}function on(t){if(c(t)){var n=sr(nn());let r=en.get(t);if(r){if(r[0]==e){r[2].has(n.ctx)||r[2].set(n.ctx,()=>n.resume());Jt()}if(r[0])return r[1];throw r[1]}en.set(t,[e,new NotReadyError,new Map([[n.ctx,()=>n.resume()]])]);t.then(e=>{var n=en.get(t);n[0]=!0;n[1]=e;for(let[e,t]of n[2]){t()}},e=>{var n=en.get(t);n[0]=!1;n[1]=e;for(let[e,t]of n[2]){t()}});Jt()}return sr(t)}class UnwindError extends Error{constructor(){super("Unwind")}}function sn(t){const n=ir(e);let r=nn();let a=sr(r);let i=te;if(n()!=e){return Rn($n(l(t.fallback)&&t.fallback.length>=1?{children:t.fallback(n,()=>n(e))}:{children:t.fallback}),"f")}dr(r,{handle:(e,t,r)=>{if(e instanceof NotReadyError){return a.handle(e,t,r)}if(e instanceof UnwindError){if(i!=t)throw e;return!0}n(e);gt();if(r&&i!=t)throw new UnwindError;return!0},ctx:a.ctx,resume:a.resume});return Rn($n({children:t.children}),"r")}var ln="b$value";var dn="b$selStart";var cn="b$selEnd";var hn="value";function un(e){var t=e.type;return t==="checkbox"||t==="radio"}function pn(t,n){if(t===n)return!0;if(t==e||n==e)return!1;var r=t.length;if(r!==n.length)return!1;for(var a=0;a<r;a++){if(t[a]!==n[a])return!1}return!0}function _n(t,n){if(t==e)return!1;for(var r=0;r<t.length;r++){if(t[r]===n)return!0}return!1}function fn(e){var t=[];for(var n=0;n<e.length;n++){e[n].selected&&t.push(e[n].value)}return t}function mn(t,n,r){if(n&&n.nodeName==="OPTION"){n=document.activeElement;r=we(n)}if(!r){return!1}if(r.ctx===e){r.ctx=new BobrilCtx(e,r);r.component=N}var a=r.ctx;var i=n.tagName;var o=i==="SELECT";var s=o&&n.multiple;if(s){var l=fn(n.options);if(!pn(a[ln],l)){a[ln]=l;gn(r,l,t)}}else if(un(n)){if(t&&t.type==="change"){$e(()=>{mn(e,n,r)},10);return!1}if(n.type==="radio"){var d=document.getElementsByName(n.name);for(var c=0;c<d.length;c++){var h=d[c],u=we(h);if(!u)continue;var p=u.ctx,_=h.checked;if(p[ln]!==_){p[ln]=_;gn(u,_,t)}}}else{var f=n.checked;if(a[ln]!==f){a[ln]=f;gn(r,f,t)}}}else{var m=n.value;if(a[ln]!==m){a[ln]=m;gn(r,m,t)}let i=n.selectionStart,o=n.selectionEnd,s=n.selectionDirection,l=!1,d=a[dn];if(s==e){o===d&&(l=!0)}else s==="backward"&&(l=!0);if(l){let e=i;i=o;o=e}yn(r,i,o,t)}return!1}function gn(e,t,n){var r=jt;var a=e.ctx;var i=e.component;jt=a;const o=e.attrs&&e.attrs[ln];l(o)&&o(t);const s=i&&i.onChange;l(s)&&s(a,t);jt=r;Wt(e,"onInput",{target:e,value:t,originalEvent:n})}function yn(e,t,n,r){let a=e.component;let i=e.ctx;if(a&&(i[dn]!==t||i[cn]!==n)){i[dn]=t;i[cn]=n;Wt(e,"onSelectionChange",{target:e,originalEvent:r,startPosition:t,endPosition:n})}}function xn(e,t,n){let r=Pn();r&&mn(e,r.element,r);return!1}var bn=["input","cut","paste","keydown","keypress","keyup","click","change"];for(var vn=0;vn<bn.length;vn++)lt(bn[vn],10,mn);var kn=["!PointerDown","!PointerMove","!PointerUp","!PointerCancel"];for(var vn=0;vn<kn.length;vn++)lt(kn[vn],2,xn);let wn=e;let Sn=e;let Cn=[];let Tn=!1;const En=new Set;function An(t){if(Tn)return!1;Tn=!0;while(!0){let s=document.hasFocus()||t?document.activeElement:e;if(s===wn)break;wn=s;var n=ke(wn),r=0;while(r<Cn.length&&r<n.length&&Cn[r]===n[r])r++;var a=Cn.length-1,i,o;if(a>=r){i=Cn[a];Wt(i,"onBlur");a--}while(a>=r){i=Cn[a];o=i.component;o&&o.onFocusOut&&o.onFocusOut(i.ctx);a--}a=r;while(a+1<n.length){i=n[a];o=i.component;o&&o.onFocusIn&&o.onFocusIn(i.ctx);a++}if(a<n.length){i=n[a];Wt(i,"onFocus")}Cn=n;Sn=Cn.length==0?e:Cn[Cn.length-1];En.forEach(e=>e.update(n))}Tn=!1;return!1}function Nn(){$e(()=>An(!1),10);return!1}lt("^focus",50,()=>An(!0));lt("^blur",50,Nn);function Pn(){return Sn}function Ln(t){if(t.propagationStopped!=e)return;t.defaultPrevented=!1;t.preventDefault=(()=>{t.defaultPrevented=!0;t._ctx=jt});t.propagationStopped=!1;t.immediatePropagationStopped=!1;t.stopPropagation=(()=>{t.propagationStopped=!0});t.stopImmediatePropagation=(()=>{t.immediatePropagationStopped=!0;t.stopPropagation()})}function Mn(t){if(t.propagationStopped==e)return;t.defaultPrevented=!1;t.propagationStopped=!1;t.immediatePropagationStopped=!1;t._ctx=e}var Dn=[];function In(e,t,n){let r={node:n,target:n,originalEvent:e};Ln(r);for(var a=0;a<Dn.length;a++){Dn[a](r)}qt("onScroll",r);return!1}lt("^scroll",10,In);class CSSMatrix{constructor(e){this.data=e}static fromString(e){var t=e.match(/matrix3?d?\(([^\)]+)\)/i)[1].split(",");t.length===6&&(t=[t[0],t[1],"0","0",t[2],t[3],"0","0","0","0","1","0",t[4],t[5],"0","1"]);return new CSSMatrix([parseFloat(t[0]),parseFloat(t[4]),parseFloat(t[8]),parseFloat(t[12]),parseFloat(t[1]),parseFloat(t[5]),parseFloat(t[9]),parseFloat(t[13]),parseFloat(t[2]),parseFloat(t[6]),parseFloat(t[10]),parseFloat(t[14]),parseFloat(t[3]),parseFloat(t[7]),parseFloat(t[11]),parseFloat(t[15])])}static identity(){return new CSSMatrix([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}multiply(e){var t=this.data;var n=e.data;return new CSSMatrix([t[0]*n[0]+t[1]*n[4]+t[2]*n[8]+t[3]*n[12],t[0]*n[1]+t[1]*n[5]+t[2]*n[9]+t[3]*n[13],t[0]*n[2]+t[1]*n[6]+t[2]*n[10]+t[3]*n[14],t[0]*n[3]+t[1]*n[7]+t[2]*n[11]+t[3]*n[15],t[4]*n[0]+t[5]*n[4]+t[6]*n[8]+t[7]*n[12],t[4]*n[1]+t[5]*n[5]+t[6]*n[9]+t[7]*n[13],t[4]*n[2]+t[5]*n[6]+t[6]*n[10]+t[7]*n[14],t[4]*n[3]+t[5]*n[7]+t[6]*n[11]+t[7]*n[15],t[8]*n[0]+t[9]*n[4]+t[10]*n[8]+t[11]*n[12],t[8]*n[1]+t[9]*n[5]+t[10]*n[9]+t[11]*n[13],t[8]*n[2]+t[9]*n[6]+t[10]*n[10]+t[11]*n[14],t[8]*n[3]+t[9]*n[7]+t[10]*n[11]+t[11]*n[15],t[12]*n[0]+t[13]*n[4]+t[14]*n[8]+t[15]*n[12],t[12]*n[1]+t[13]*n[5]+t[14]*n[9]+t[15]*n[13],t[12]*n[2]+t[13]*n[6]+t[14]*n[10]+t[15]*n[14],t[12]*n[3]+t[13]*n[7]+t[14]*n[11]+t[15]*n[15]])}translate(e,t,n){var r=new CSSMatrix([1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1]);return this.multiply(r)}inverse(){var e=this.data;var t=e[0];var n=e[1];var r=e[2];var a=e[4];var i=e[5];var o=e[6];var s=e[8];var l=e[9];var d=e[10];var c=i*d-o*l;var h=o*s-a*d;var u=a*l-i*s;var p=r*l-n*d;var _=t*d-r*s;var f=n*s-t*l;var m=n*o-r*i;var g=r*a-t*o;var y=t*i-n*a;var x=t*c+n*h+r*u;var b=new CSSMatrix([c/x,p/x,m/x,0,h/x,_/x,g/x,0,u/x,f/x,y/x,0,0,0,0,1]);var v=new CSSMatrix([1,0,0,-e[3],0,1,0,-e[7],0,0,1,-e[11],0,0,0,1]);return b.multiply(v)}transformPoint(e,t){var n=this.data;return[n[0]*e+n[1]*t+n[3],n[4]*e+n[5]*t+n[7]]}}function Rn(e,t){if(d(e)&&!l(e)&&!h(e)){e.key=t;return e}return{key:t,children:e}}function Bn(t,n,r){var a=t.me.cfg;if(a!==e){a[n]=r}else{a=Object.assign({},t.cfg);a[n]=r;t.me.cfg=a}}function On(t){return(n,r)=>{if(r!==e){n==e&&(n={});n.children=r}return{data:n,component:t}}}const Fn=new Map;function jn(e){var t=new Map;do{Object.getOwnPropertyNames(e).forEach(function(t){this.has(t)||this.set(t,Object.getOwnPropertyDescriptor(e,t))},t)}while(e=Object.getPrototypeOf(e));return t}const Hn=new Set("key className component data children".split(" "));function Wn(t,n){let r;const a=arguments.length-2;if(a===0){}else if(a===1){r=arguments[2]}else{r=new Array(a);for(let e=0;e<a;e++){r[e]=arguments[e+2]}}if(o(t)){var i=a===0?{tag:t}:{tag:t,children:r};if(n==e){return i}var s,d;for(var c in n){if(!f.call(n,c))continue;var h=n[c];if(Hn.has(c)){i[c]=h}else if(c==="style"){if(l(h)){i[c]=h}else{J(i,h)}}else if(c==="ref"){if(o(h)){re();i.ref=[re(),h]}else i.ref=h}else if(c.startsWith("on")&&l(h)){if(d==e){d=p();i.component=d}d[c]=h.call.bind(h);continue}else{if(s==e){s=p();i.attrs=s}s[c]=h}}return i}else{let i,o=Fn.get(t);if(o===e){o=tr(t);Fn.set(t,o)}if(a==0){i=o(n)}else{if(o.length==1){if(n==e)n={children:r};else n.children=r;i=o(n)}else{i=o(n,r)}}if(i==e)return i;if(n!=e){if(n.ref!==e){i.ref=n.ref;delete n.ref}if(n.key!==e){i.key=n.key;delete n.key}}return i}}var zn={tag:"-"};function $n(e){return{children:e.children}}class Component extends BobrilCtx{constructor(e,t){super(e,t)}}function Un(t){return(n,r,a)=>{var i,o;var s=t.call(n,n.data);if(s===zn){r.tag="-";return}var l=(i=s===null||s===void 0?void 0:s.component)===null||i===void 0?void 0:i.src;l===$n&&s.key===e&&(s=(o=s.data)===null||o===void 0?void 0:o.children);r.children=s}}function qn(e){return t=>{e.call(t,t.data)}}function Gn(e){return(t,n,r)=>e.call(t,n.data,r.data)}function Yn(e){return e.call.bind(e)}function Vn(t,n,r){const a=t[n];if(a!=e){t[n]=((e,t)=>{a(e,t);r.call(e,t)})}else{t[n]=Yn(r)}}const Xn="postInitDom";const Kn="postUpdateDom";const Qn="postUpdateDomEverytime";const Zn=["destroy",Xn,Kn,Qn];function Jn(t,n){const r={};if(t.prototype instanceof Component){let a=t.prototype,i=a.constructor;r.id=er(n,i);let o=jn(a);o.forEach((t,n)=>{const a=t.value;if(a==e)return;let i=e;if(n==="render"){i=Un(a)}else if(n==="init"){i=qn(a)}else if(n==="shouldChange"){i=Gn(a)}else if(Zn.indexOf(n)>=0){Vn(r,n,a)}else if(n==="postRenderDom"){
Vn(r,Zn[1],a);Vn(r,Zn[2],a)}else l(a)&&/^(?:canDeactivate$|on[A-Z])/.test(n)&&(i=Yn(a));i!==e&&(r[n]=i)});r.ctxClass=t;r.canActivate=i.canActivate}else{r.id=er(n,t);r.render=Un(t)}r.src=t;return e=>({data:e,component:r})}function er(e,t){return e||t.id||t.name+"_"+Vt()}function tr(e){if(e.prototype instanceof Component){return Jn(e)}else if(e.length==2){return e}else{return Jn(e)}}function nr(){let t=te.$hooks;if(t===e){t=[];te.$hooks=t}return t}function rr(e){l(e)&&(e=e(this[0]));if(!_(e,this[0])){this[0]=e;k(this[2])}}function ar(){var e=0;var t=this;return{next:function(){return{value:t[e++],done:!1}}}}function ir(t){const n=ne++;const r=nr();const a=te;let i=r[n];if(i===e){l(t)&&(t=t());i=((...e)=>{if(e.length==1&&!_(e[0],i[0])){i[0]=e[0];k(i[2])}return i[0]});i[0]=t;i[1]=rr.bind(i);i[2]=a;i[Symbol.iterator]=ar;r[n]=i}return i}function or(t,n){n===e&&(n="__b#"+Vt());return{id:n,dv:t}}function sr(t){if(te==e)throw new Error("use like hooks could be used only from component context");const n=te.me.cfg||te.cfg;if(o(t)){if(n==e)return e;return n[t]}else{if(n==e||!(t.id in n))return t.dv;return n[t.id]}}function lr(t,n){const r=n.me.cfg||n.cfg;if(r==e||!(t.id in r))return t.dv;return r[t.id]}function dr(e,t){Bn(te,o(e)?e:e.id,t)}function cr(t){const n=ne++;const r=nr();let a=r[n];if(a===e){a={dispose(){l(t)?t(te):t.dispose()},disposer:t};r[n]=a;ge(te,a)}else{a.disposer=t}}function hr(t){const n=t.$hooks;const r=n.length;for(let a=0;a<r;a++){let r=n[a],i=r[Xn];i!==e&&i.call(r,t)}}function ur(t){const n=t.$hooks;const r=n.length;for(let a=0;a<r;a++){let r=n[a],i=r[Kn];i!==e&&i.call(r,t)}}function pr(t){const n=t.$hooks;const r=n.length;for(let a=0;a<r;a++){let r=n[a],i=r[Qn];i!==e&&i.call(r,t)}}class DepsChangeDetector{detectChange(t){let n=!1;if(t!=e){let r=this.deps;if(r==e){n=!0}else{let e=t.length;if(e!=r.length)n=!0;else{for(let a=0;a<e;a++){if(!_(t[a],r[a])){n=!0;break}}}}}else n=!0;this.deps=t;return n}}class CommonEffectHook extends DepsChangeDetector{constructor(){super(...arguments);this.shouldRun=!1}update(e,t){this.callback=e;this.detectChange(t)&&this.doRun()}doRun(){this.shouldRun=!0}run(){const t=this.callback;if(t!=e){this.dispose();this.lastDisposer=t()}}dispose(){this.callback=e;l(this.lastDisposer)&&this.lastDisposer();this.lastDisposer=e}}class LayoutEffectHook extends CommonEffectHook{postInitDom(e){this[Qn].call(this,e)}postUpdateDomEverytime(e){if(this.shouldRun){this.shouldRun=!1;this.run();e[Ve]>tt&&gt()}}}function _r(t,n){const r=ne++;const a=nr();let i=a[r];if(i===e){te.$hookFlags|=w|C;i=new LayoutEffectHook;ge(te,i);a[r]=i}i.update(t,n)}class EventsHook{}class CaptureEventsHook{}const fr={Up:"ArrowUp",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Del:"Delete",Crsel:"CrSel",Exsel:"ExSel",Esc:"Escape",Apps:"ContextMenu",OS:"Meta",Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Nonconvert:"NonConvert",Decimal:".",Separator:",",Multiply:"*",Add:"+",Divide:"/",Subtract:"-",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",MediaFastForward:"FastFwd",Live:"TV",Zoom:"ZoomToggle",SelectMedia:"LaunchMediaPlayer",MediaSelect:"LaunchMediaPlayer",VolumeUp:"AudioVolumeUp",VolumeDown:"AudioVolumeDown",VolumeMute:"AudioVolumeMute"};function mr(t){return{target:e,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,meta:t.metaKey||!1,which:t.which||t.keyCode,key:fr[t.key]||t.key,repeat:t.repeat,originalEvent:t}}function gr(e,t,n){if(!n)return!1;var r=mr(e);if(Wt(n,"onKeyDown",r)){Xt(e);return!0}return!1}function yr(e,t,n){if(!n)return!1;var r=mr(e);if(Wt(n,"onKeyUp",r)){Xt(e);return!0}return!1}function xr(e,t,n){if(!n)return!1;if(e.which===0||e.altKey)return!1;var r={charCode:e.which||e.keyCode,key:fr[e.key]||e.key,originalEvent:e};if(Wt(n,"onKeyPress",r)){Xt(e);return!0}return!1}lt("keydown",50,gr);lt("keyup",50,yr);lt("keypress",50,xr);var br;const vr=13;const kr=750;const wr=500;const Sr=50;let Cr=null;const Tr="onClick";const Er="onDoubleClick";function Ar(t,n){Ln(n);if(Cr==e){return!1}var r=Cr.me.component;var a=r[t];if(!a){return!1}var i=Ht(()=>a.call(r,Cr,n),Cr);return i}function Nr(e,t){lt(e,5,t)}var Pr=["PointerDown","PointerMove","PointerUp","PointerCancel"];var Lr;function Mr(e){if(e==="mouse"||e===4)return 0;if(e==="pen"||e===3)return 2;return 1}function Dr(e){return function t(n,r,a){r=n.target;a=we(r);let i=n.button+1;let o=Mr(n.pointerType);let s=n.buttons;if(i===0&&o===0&&s){i=1;while(!(s&1)){s=s>>1;i++}}var l={target:a,id:n.pointerId,cancelable:ua(n),type:o,x:n.clientX,y:n.clientY,button:i,shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail};if(dt("!"+e,l,r,a)){Xt(n);return!0}return!1}}function Ir(e){return function t(n,r,a){var i=!1;for(var o=0;o<n.changedTouches.length;o++){var s=n.changedTouches[o];r=s.target;a=we(r);var l={target:a,id:s.identifier+2,cancelable:ua(n),type:1,x:s.clientX,y:s.clientY,button:1,shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail,originalEvent:n};dt("!"+e,l,r,a)&&(i=!0)}if(i){Xt(n);return!0}return!1}}function Rr(e){return function t(n,r,a){r=n.target;a=we(r);var i={target:a,id:1,type:0,cancelable:ua(n),x:n.clientX,y:n.clientY,button:ha(n),shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail,originalEvent:n};if(dt("!"+e,i,r,a)){Xt(n);return!0}return!1}}function Br(){Nr("mousedown",Rr(Pr[0]));Nr("mousemove",Rr(Pr[1]));Nr("mouseup",Rr(Pr[2]))}if(window.ontouchstart!==e){Nr("touchstart",Ir(Pr[0]));Nr("touchmove",Ir(Pr[1]));Nr("touchend",Ir(Pr[2]));Nr("touchcancel",Ir(Pr[3]));Br()}else if(window.onpointerdown!==e){for(Lr=0;Lr<4;Lr++){var Or=Pr[Lr];Nr(Or.toLowerCase(),Dr(Or))}}else{Br()}for(var Fr=0;Fr<4;Fr++){(t=>{var n="on"+t;lt("!"+t,50,(t,r,a)=>Ar(n,t)||Wt(a,n,t)!=e)})(Pr[Fr])}var jr=p();var Hr=[];var Wr=-1;var zr=0;var $r=0;var Ur=0;var qr=!1;function Gr(e,t,n){return Math.abs(e-t)<n}var Yr=[];var Vr="!PointerRevalidate";lt(Vr,3,Qr);function Xr(t){var n=[];while(t!=e){n.push(t);t=t.parent}return n.reverse()}const Kr=new Set;function Qr(e){var t=e.target;var n=Xr(t);Kr.forEach(e=>e.update(n));Wt(t,"onMouseOver",e);Mn(e);var r=0;while(r<Yr.length&&r<n.length&&Yr[r]===n[r])r++;var a;var i;var o=Yr.length;if(o>0&&(o>r||o!=n.length)){a=Yr[o-1];if(a){i=a.component;i&&i.onMouseOut&&i.onMouseOut(a.ctx,e)}}while(o>r){o--;a=Yr[o];if(a){i=a.component;i&&i.onMouseLeave&&i.onMouseLeave(a.ctx,e)}}while(o<n.length){a=n[o];if(a){i=a.component;i&&i.onMouseEnter&&i.onMouseEnter(a.ctx,e)}o++}Yr=n;if(o>0&&(o>r||o!=Yr.length)){a=Yr[o-1];if(a){i=a.component;i&&i.onMouseIn&&i.onMouseIn(a.ctx,e)}}return!1}function Zr(){return Object.keys(jr).length===0}function Jr(e,t,n){if(Wr===-1&&Zr()){Wr=e.id;zr=Ue();$r=e.x;Ur=e.y;qr=!1;Qr(e)}jr[e.id]=e.type;Wr!==e.id&&(qr=!0);return!1}function ea(e,t,n){if(e.type===0&&e.button===0&&jr[e.id]!=null){e.button=1;dt("!PointerUp",e,t,n);e.button=0}if(Wr===e.id){Qr(e);(!Gr($r,e.x,vr)||!Gr(Ur,e.y,vr))&&(qr=!0)}else Zr()&&Qr(e);return!1}let ta=0;let na=0;function ra(e){if(na==0)return!1;let t=Ue();if(t<ta+1e3&&e>=na){ta=t;na=e;return!0}na=0;return!1}function aa(e,t,n){delete jr[e.id];if(Wr==e.id){Qr(e);Wr=-1;if(e.type==1&&!qr){if(Ue()-zr<kr){dt("!PointerCancel",e,t,n);ra(1);var r=Ar(Tr,e)||Wt(n,Tr,e)!=null;Hr.push([e.x,e.y,Ue()+wr,r?1:0]);return r}}else qr&&br(e.x,e.y)}return!1}function ia(e,t,n){delete jr[e.id];Wr==e.id&&(Wr=-1);return!1}function oa(e,t,n){var r=Ue();for(var a=0;a<Hr.length;a++){var i=Hr[a];if(i[2]<r){Hr.splice(a,1);a--;continue}if(Gr(i[0],e.clientX,Sr)&&Gr(i[1],e.clientY,Sr)){Hr.splice(a,1);i[3]&&Xt(e);return!0}}return!1}var sa=["!PointerDown","!PointerMove","!PointerUp","!PointerCancel","click"];var la=[Jr,ea,aa,ia,oa];for(var Lr=0;Lr<5;Lr++){lt(sa[Lr],3,la[Lr])}function da(e){return(t,n,r)=>{if(Wr!=t.id&&!Zr())return!1;if(Ar(e,t)||Wt(r,e,t)){return!0}return!1}}var ca=["Down","Move","Up","Up"];for(var Lr=0;Lr<4;Lr++){lt(sa[Lr],80,da("onMouse"+ca[Lr]))}function ha(e){return e.which||e.button}function ua(e){var t=e.cancelable;return!s(t)||t}function pa(e,t){return(n,r,a)=>{let i=ha(n)||1;if(!t&&i!==1)return!1;let o={target:a,x:n.clientX,y:n.clientY,button:i,cancelable:ua(n),shift:n.shiftKey,ctrl:n.ctrlKey,alt:n.altKey,meta:n.metaKey||!1,count:n.detail||1,originalEvent:n};e==Er&&(o.count=2);if(ra(o.count)||Ar(e,o)||Wt(a,e,o)){Xt(n);return!0}return!1}}function _a(e,t){return we(document.elementFromPoint(e,t))}Nr("click",pa(Tr));Nr("dblclick",pa(Er));Nr("contextmenu",pa("onContextMenu",!0));function fa(e,t,n){let r=e.button+1;let a=e.buttons;if(r===0&&a){r=1;while(!(a&1)){a=a>>1;r++}}let i=e.deltaX;let o=e.deltaY;var s={target:n,dx:i,dy:o,x:e.clientX,y:e.clientY,cancelable:ua(e),button:r,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey||!1,count:e.detail,originalEvent:e};if(Ar("onMouseWheel",s)||Wt(n,"onMouseWheel",s)){Xt(e);return!0}return!1}Nr("wheel",fa);const ma=(e,t)=>{Hr.push([e,t,Ue()+wr,1])};br=ma;lt(sa[0],2,()=>!1);lt("keydown",2,e=>{!e.metaKey&&!e.altKey&&e.ctrlKey;return!1});var ga=null;var ya=[[414,800,900],[736,1280,1440]];function xa(){ga=null;k();return!1}var ba=["resize","orientationchange"];for(var va=0;va<ba.length;va++)lt(ba[va],10,xa);var ka=window.document.documentElement;var wa=/Android/i.test(navigator.userAgent);var Sa;function Ca(){if(ga==e){var t=ka.clientWidth,n=ka.clientHeight,r=window.orientation,a=n>=t;if(r==e)r=a?0:90;else r=+r;if(wa){let t=Math.abs(r)%180===90;if(Sa==e){Sa=t===a}else{a=t===Sa}}var i=0;while(t>ya[+!a][i])i++;ga={width:t,height:n,orientation:r,deviceCategory:i,portrait:a,dppx:window.devicePixelRatio}}return ga}const Ta=["Webkit","Moz","O"];const Ea=document.createElement("div").style;function Aa(e){return o(Ea[e])}var Na=new Map;var Pa=new Set("boxFlex boxFlexGroup columnCount flex flexGrow flexNegative flexPositive flexShrink fontWeight lineClamp lineHeight opacity order orphans strokeDashoffset widows zIndex zoom".split(" "));function La(t){return(n,r,a)=>{n[t]=r;n[a]=e}}function Ma(t){return(n,r,a)=>{if(i(r)){n[t]=r+"px"}else{n[t]=r}n[a]=e}}function Da(e,t,n){i(t)&&(e[n]=t+"px")}function Ia(t){var n=Object.keys(t);for(var r=0,a=n.length;r<a;r++){var i=n[r],o=Na.get(i),s=t[i];if(s===e)continue;if(o===e){if(Aa(i)){o=Pa.has(i)?u:Da}else{var l=i.replace(/^\w/,e=>e.toUpperCase());for(var d=0;d<Ta.length;d++){if(Aa(Ta[d]+l)){o=(Pa.has(i)?La:Ma)(Ta[d]+l);break}}o===e&&(o=Pa.has(i)?u:Da)}Na.set(i,o)}o(t,s,i)}}function Ra(e,t){e.removeProperty(si(t))}function Ba(e,t,n){let r=n.length;if(r>11&&n.substr(r-11,11)===" !important"){e.setProperty(si(t),n.substr(0,r-11),"important");return}e.setProperty(si(t),n)}function Oa(e,t,n){if(n)e.setAttribute("class",t);else e.className=t}function Fa(t,n,r){var a=t.style;if(n!==e){Ia(n);var i;if(r!==e){for(i in r){if(r[i]===e)continue;n[i]===e&&Ra(a,i)}for(i in n){var o=n[i];o!==e&&r[i]!==o&&Ba(a,i,o)}}else{for(i in n){var o=n[i];o!==e&&Ba(a,i,o)}}}else{if(r!==e){for(i in r){Ra(a,i)}}}}function ja(t,n,r,a,i){if(l(n)){var o=de(n,a);n=o.style;r=o.className}n&&Fa(t,n,e);r&&Oa(t,r,i)}function Ha(e,t,n,r,a){if(l(t)){var i=de(t,r);t=i.style;n=i.className}else{ce(r)}Fa(e,t,r.style);r.style=t;if(n!==r.className){Oa(e,n||"",a);r.className=n}}var Wa=p();var za=p();var $a=p();var Ua=[];var qa=new Map;var Ga=p();var Ya="";var Va=!1;var Xa=null;var Ka=0;var Qa=v(ni);const Za=/\:|\ |\>/;function Ja(e){let t=Za.exec(e);if(!t)return Wa[e].name;let n=t.index;return Wa[e.substring(0,n)].name+e.substring(n)}function ei(e,t){let n="";if(e){if(h(e)){for(let r=0;r<e.length;r++){r>0&&(n+=",");n+="."+Ja(e[r])+"."+t}}else{n="."+Ja(e)+"."+t}}else{n="."+t}return n}function ti(t,n,r,a){if(o(r)){if(qa.has(r)){qa.get(r).used=!0;qa.delete(r);ci()}let a=Wa[r];if(a===e){throw new Error("Unknown style "+r)}ti(t,n,a.style,a.pseudo)}else if(l(r)){r(t,n)}else if(h(r)){for(let a=0;a<r.length;a++){ti(t,n,r[a],e)}}else if(d(r)){for(let e in r){if(!f.call(r,e))continue;let n=r[e];l(n)&&(n=n(t,e));t[e]=n}}if(a!=e&&n!=e){for(let t in a){let r=n[t];if(r===e){r=p();n[t]=r}ti(r,e,a[t],e)}}}function ni(t){Ca().dppx;if(Va){Va=!1;var n,n;for(let t=0;t<Ua.length;t++){let r=Ua[t],a=Ga[r.url];if(a==e)continue;let i=r.color();if(i!==r.lastColor){r.lastColor=i;r.width==e&&(r.width=a.width);r.height==e&&(r.height=a.height);let t=pi(a,i,r.width,r.height,r.left,r.top);var n=Wa[r.styleId];n.style={backgroundImage:`url(${t})`,width:r.width,height:r.height,backgroundPosition:0}}}var r=Ya;for(var a in za){var i=za[a];r+="@keyframes "+i.name+" {";for(var s in i.def){let t=i.def[s],n=p();ti(n,e,t,e);Ia(n);r+=s+(s=="from"||s=="to"?"":"%")+" {"+li(n)+"}\n"}r+="}\n"}for(var a in Wa){var d=Wa[a];let t=d.parent,n=d.name,i=d.pseudo,c=d.style;l(c)&&c.length===0&&([c,i]=c());if(o(c)&&i==e){d.realName=c;continue}d.realName=n;let h=p(),u=p();ti(e,u,e,i);ti(h,u,c,e);Ia(h);let _=li(h);_.length>0&&(r+=(n==e?t:ei(t,n))+" {"+_+"}\n");for(var s in u){let a=u[s];Ia(a);r+=(n==e?t+ri(s):ei(t,n+ri(s)))+" {"+li(a)+"}\n"}}for(var a in $a){var c=$a[a];r+="@media "+a+"{";for(var h of c){for(var s in h){let t=h[s],n=p();ti(n,e,t,e);Ia(n);r+="."+s+" {"+li(n)+"}\n"}}r+="}\n"}if(r.length>0){var u=document.createElement("style");u.appendChild(m(r));var _=document.head;if(Xa!=null){_.replaceChild(u,Xa)}else{_.appendChild(u)}Xa=u}}Qa(t)}function ri(e){var t=e.charCodeAt(0);if(t==32||t==91||t==46)return e;return":"+e}function ai(t,...n){let r=t.className;let a=t.style;let i=null;let s=0;let d=n;while(!0){if(d.length===s){if(i===null||i.length===0)break;d=i.pop();s=i.pop()+1;continue}let t=d[s];if(t==e||t===!0||t===!1||t===""||t===0){}else if(o(t)){if(qa.has(t)){qa.get(t).used=!0;qa.delete(t);Va=!0}var c=Wa[t];c!=e&&(t=c.realName);if(r==e)r=t;else r+=" "+t}else if(h(t)){if(d.length>s+1){i==e&&(i=[]);i.push(s);i.push(d)}d=t;s=0;continue}else{a==e&&(a=p());for(let e in t){if(f.call(t,e)){let n=t[e];l(n)&&(n=n());a[e]=n}}}s++}t.className=r;t.style=a;return t}const ii=/([A-Z])/g;const oi=new Map([["cssFloat","float"]]);function si(t){var n=oi.get(t);if(n===e){n=t.replace(ii,"-$1").toLowerCase();oi.set(t,n)}return n}function li(t){var n="";for(var r in t){var a=t[r];if(a===e)continue;n+=si(r)+":"+(a===""?'""':a)+";"}n=n.slice(0,-1);return n}function di(e,t,n){Wa["b-"+Ka++]={name:null,realName:null,parent:e,style:t,pseudo:n};Va=!0}function ci(){Va=!0;k()}const hi=/\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d+|\d*\.\d+)\s*\)\s*/;function ui(e,t){var n=document.createElement("canvas");n.width=e;n.height=t;return[n,n.getContext("2d")]}function pi(e,t,n,r,a,i){let[o,s]=ui(n,r);let l=s.createImageData(n,r);let d=l.data;let c=hi.exec(t);let h,u,p,_;if(c){h=parseInt(c[1],10);u=parseInt(c[2],10);p=parseInt(c[3],10);_=Math.round(parseFloat(c[4])*255)}else{h=parseInt(t.slice(1,3),16);u=parseInt(t.slice(3,5),16);p=parseInt(t.slice(5,7),16);_=t.length==9?parseInt(t.slice(7,9),16):255}let f=0;let m=4*n;let g=e.data;let y=4*e.width;let x=a*4+i*y;for(let e=0;e<r;e++){d.subarray(f,f+m).set(g.subarray(x,x+m));f+=m;x+=y}if(_===255){for(let e=0;e<d.length;e+=4){let t=d[e];if(t===d[e+1]&&t===d[e+2]&&(t===128||d[e+3]<255&&t>112)){d[e]=h;d[e+1]=u;d[e+2]=p}}}else{for(let e=0;e<d.length;e+=4){let t=d[e],n=d[e+3];if(t===d[e+1]&&t===d[e+2]&&(t===128||n<255&&t>112)){if(n===255){d[e]=h;d[e+1]=u;d[e+2]=p;d[e+3]=_}else{n=n*(1/255);d[e]=Math.round(h*n);d[e+1]=Math.round(u*n);d[e+2]=Math.round(p*n);d[e+3]=Math.round(_*n)}}}}s.putImageData(l,0,0);return o.toDataURL()}function _i(e,t){Na.set(e,t)}_i("float",La("cssFloat"));ee(ja,Ha,ai);var fi=-1;function mi(){fi>=0&&clearTimeout(fi);fi=-1;k();return!1}lt("hashchange",10,mi);let gi=0;lt("popstate",5,t=>{var n;let r=(n=t.state)===null||n===void 0?void 0:n.historyDeepness;if(r!=e){t.state.state;r!=gi&&k();gi=r}return!1});const yi=["none","link","copy","move"];var xi=["none","link","copy","copyLink","move","linkMove","copyMove","all"];var bi=0;var vi=[];var ki=null;var wi=null;var Si=function(t){this.id=++bi;this.pointerid=t;this.enabledOperations=7;this.operation=0;this.started=!1;this.beforeDrag=!0;this.local=!0;this.system=!1;this.ended=!1;this.cursor=null;this.overNode=e;this.targetCtx=null;this.dragView=e;this.startX=0;this.startY=0;this.distanceToStart=10;this.x=0;this.y=0;this.deltaX=0;this.deltaY=0;this.totalX=0;this.totalY=0;this.lastX=0;this.lastY=0;this.shift=!1;this.ctrl=!1;this.alt=!1;this.meta=!1;this.data=p();t>=0&&(Di[t]=this);vi.push(this)};const Ci="b-dragging";let Ti=!0;function Ei(){if(wi==e){if(Ti){di("html."+Ci+" *",{cursor:"inherit !important",userSelect:"none !important"});Ti=!1}var t=document.documentElement;t.classList.add(Ci);wi=Pt(Li)}}var Ai={render(e,t){var n=e.data;t.tag="div";t.style={position:"absolute",left:n.x,top:n.y};t.children=n.dragView(n)}};function Ni(){let e="no-drop";if(vi.length!==0){let t=vi[0];if(t.beforeDrag)return"";if(t.cursor!=null)return t.cursor;if(t.system)return"";switch(t.operation){case 3:e="move";break;case 1:e="alias";break;case 2:e="copy";break}}return e}var Pi={render(e,t){var n=[];for(var r=0;r<vi.length;r++){var a=vi[r];if(a.beforeDrag)continue;a.dragView!=null&&(a.x!=0||a.y!=0)&&n.push({key:""+a.id,data:a,component:Ai})}t.tag="div";t.style={position:"fixed",zIndex:1e9,pointerEvents:"none",userSelect:"none",left:0,top:0,right:0,bottom:0};let i=document.documentElement.style;let o=Ni();if(o){i.cursor!==o&&i.setProperty("cursor",o,"important")}else{i.setProperty("cursor","")}t.children=n},onDrag(e){k(e);return!1}};function Li(){return{component:Pi}}var Mi=Si.prototype;Mi.setOperation=function(e){this.operation=e};Mi.setDragNodeView=function(e){this.dragView=e};Mi.addData=function(e,t){this.data[e]=t;return!0};Mi.listData=function(){return Object.keys(this.data)};Mi.hasData=function(t){return this.data[t]!==e};Mi.getData=function(e){return this.data[e]};Mi.setEnabledOps=function(e){this.enabledOperations=e};Mi.cancelDnd=function(){Ri(e,this);this.destroy()};Mi.destroy=function(){this.ended=!0;Mn(this);this.started&&Gt("onDragEnd",this);Mn(this);delete Di[this.pointerid];for(var e=0;e<vi.length;e++){if(vi[e]===this){vi.splice(e,1);break}}ki===this&&(ki=null);if(vi.length===0&&wi!=null){Lt(wi);wi=null;var t=document.documentElement;t.classList.remove(Ci);t.style.setProperty("cursor","")}};var Di=p();function Ii(t,n,r){var a=Di[t.id];a&&a.cancelDnd();if(t.button<=1){a=new Si(t.id);a.startX=t.x;a.startY=t.y;a.lastX=t.x;a.lastY=t.y;a.overNode=r;Bi(a,t);var i=Wt(r,"onDragStart",a);Mn(a);if(i){var o=Ee(i.me);if(o==e){a.destroy();return!1}a.started=!0;var s=o.getBoundingClientRect;if(s){var l=s.call(o);a.deltaX=l.left-t.x;a.deltaY=l.top-t.y}if(a.distanceToStart<=0){a.beforeDrag=!1;Ri(r,a)}Ei()}else{a.destroy()}}return!1}function Ri(t,n){n.overNode=t;Mn(n);n.targetCtx=Wt(t,"onDragOver",n);n.targetCtx==e&&(n.operation=0);Mn(n);Gt("onDrag",n);Mn(n)}function Bi(e,t){e.shift=t.shift;e.ctrl=t.ctrl;e.alt=t.alt;e.meta=t.meta;e.x=t.x;e.y=t.y}function Oi(e,t,n){var r=Di[e.id];if(!r)return!1;r.totalX+=Math.abs(e.x-r.lastX);r.totalY+=Math.abs(e.y-r.lastY);if(r.beforeDrag){if(r.totalX+r.totalY<=r.distanceToStart){r.lastX=e.x;r.lastY=e.y;return!1}r.beforeDrag=!1}Bi(r,e);Ri(n,r);r.lastX=e.x;r.lastY=e.y;return!0}function Fi(e,t,n){var r=Di[e.id];if(!r)return!1;if(!r.beforeDrag){Bi(r,e);Ri(n,r);var a=r.targetCtx;if(a&&Wt(a.me,"onDrop",r)){r.destroy()}else{r.cancelDnd()}Mn(r);br(e.x,e.y);return!0}r.destroy();return!1}function ji(e,t,n){var r=Di[e.id];if(!r)return!1;if(r.system)return!1;if(!r.beforeDrag){r.cancelDnd()}else{r.destroy()}return!1}function Hi(e,t){e.shift=t.shiftKey;e.ctrl=t.ctrlKey;e.alt=t.altKey;e.meta=t.metaKey;e.x=t.clientX;e.y=t.clientY;e.totalX+=Math.abs(e.x-e.lastX);e.totalY+=Math.abs(e.y-e.lastY);var n=_a(e.x,e.y);Ri(n,e);e.lastX=e.x;e.lastY=e.y;e.originalEvent=t}function Wi(t,n,r){var i=ki;i!=null&&i.destroy();var s=Object.keys(Di);if(s.length>0){i=Di[s[0]];i.system=!0;ki=i}else{var l=t.clientX,d=t.clientY;i=new Si(-1);i.system=!0;ki=i;i.x=l;i.y=d;i.lastX=l;i.lastY=d;i.startX=l;i.startY=d;var c=Wt(r,"onDragStart",i);Mn(i);if(c){var h=Ee(c.me);if(h==e){i.destroy();return!1}i.started=!0;var u=h.getBoundingClientRect;if(u){var p=u.call(h);i.deltaX=p.left-l;i.deltaY=p.top-d}Ei()}else{i.destroy();return!1}}i.beforeDrag=!1;var _=xi[i.enabledOperations];var f=t.dataTransfer;if(f!=e){f.effectAllowed=_;var m=document.createElement("div");m.style.pointerEvents="none";f.setDragImage(m,0,0);var g=i.data,y=Object.keys(g);for(var x=0;x<y.length;x++){try{var b=y[x],v=g[b];o(v)||(v=JSON.stringify(v));f.setData(b,v)}catch(e){if(a)if(window.console)console.log("Cannot set dnd data to "+y[x])}}}Hi(i,t);return!1}function zi(t,n){var r=t.dataTransfer;if(r==e)return;r.dropEffect=yi[n]}function $i(t,n,r){var a=ki;if(a==e){a=new Si(-1);a.system=!0;ki=a;a.x=t.clientX;a.y=t.clientY;a.startX=a.x;a.startY=a.y;a.local=!1;var i=t.dataTransfer,o=0;if(i!=e){var s=e;try{s=i.effectAllowed}catch(e){}for(;o<7;o++){if(xi[o]===s)break}var l=i.types;if(l){for(var d=0;d<l.length;d++){var c=l[d];if(c==="text/plain")c="Text";else c==="text/uri-list"&&(c="Url");a.data[c]=null}}else{i.getData("Text")!==e&&(a.data["Text"]=null)}}a.enabledOperations=o}Hi(a,t);zi(t,a.operation);if(a.operation!=0){Xt(t);return!0}return!1}function Ui(e,t,n){var r=e.clientX;var a=e.clientY;var i=Ca();if(ki!=null&&(r===0&&a===0||r<0||a<0||r>=i.width||a>=i.height)){ki.x=0;ki.y=0;ki.operation=0;Gt("onDrag",ki);Mn(ki)}return!0}function qi(e,t,n){ki!=null&&ki.destroy();return!1}function Gi(t,n,r){var a=ki;if(a==e)return!1;a.x=t.clientX;a.y=t.clientY;if(!a.local){var i=Object.keys(a.data),o=t.dataTransfer;if(o!=e){for(let e=0;e<i.length;e++){var s=i[e],l;if(s==="Files"){l=[].slice.call(o.files,0)}else{l=o.getData(s)}a.data[s]=l}}}Hi(a,t);var d=a.targetCtx;if(d&&Wt(d.me,"onDrop",a)){Mn(a);zi(t,a.operation);a.destroy();Xt(t)}else{Mn(a);a.cancelDnd()}return!0}function Yi(e,t,n){Xt(e);return!0}function Vi(e,t,n){if(vi.length===0)return!1;Xt(e);return!0}lt("!PointerDown",4,Ii);lt("!PointerMove",4,Oi);lt(Vr,4,Oi);lt("!PointerUp",4,Fi);lt("!PointerCancel",4,ji);lt("selectstart",4,Vi);lt("dragstart",5,Wi);lt("dragover",5,$i);lt("dragend",5,qi);lt("drag",5,Ui);lt("drop",5,Gi);lt("dragenter",5,Yi);lt("dragleave",5,Yi);const Xi=()=>vi;window.b||(window.b={deref:we,getRoots:Mt,setInvalidate:Tt,invalidateStyles:ci,ignoreShouldChange:Ct,setAfterFrame:v,setBeforeFrame:b,getDnds:Xi,setBeforeInit:Ot,setKeysInClassNames:he});var Ki=function(){var e={};var n={exports:e};!function(t,r){"object"==typeof e&&"undefined"!=typeof n?n.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs=r()}(this,function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",i="minute",o="hour",s="day",l="week",d="month",c="quarter",h="year",u="date",p="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,d),i=n-a<0,o=t.clone().add(r+(i?-1:1),d);return+(-(r+(n-a)/(i?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:h,w:l,d:s,D:u,h:o,m:i,s:a,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",b={};b[x]=m;var v="$isDayjsObject",k=function(e){return e instanceof C||!(!e||!e[v])},w=function e(t,n,r){var a;if(!t)return x;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(a=i),n&&(b[i]=n,a=i);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var s=t.name;b[s]=t,a=s}return!r&&a&&(x=a),a||!r&&x},S=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)};y.l=w,y.i=k,y.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[v]=!0}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(_);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return y},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return S(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<S(e)},g.$g=function(e,t,n){return y.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!y.u(t)||t,c=y.p(e),p=function(e,t){var a=y.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(s)},_=function(e,t){return y.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case h:return r?p(1,0):p(31,11);case d:return r?p(1,m):p(0,m+1);case l:var x=this.$locale().weekStart||0,b=(f<x?f+7:f)-x;return p(r?g-b:g+(6-b),m);case s:case u:return _(y+"Hours",0);case o:return _(y+"Minutes",1);case i:return _(y+"Seconds",2);case a:return _(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,l=y.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[s]=c+"Date",n[u]=c+"Date",n[d]=c+"Month",n[h]=c+"FullYear",n[o]=c+"Hours",n[i]=c+"Minutes",n[a]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],_=l===s?this.$D+(t-this.$W):t;if(l===d||l===h){var f=this.clone().set(u,1);f.$d[p](_),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](_);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[y.p(e)]()},g.add=function(r,c){var u,p=this;r=Number(r);var _=y.p(c),f=function(e){var t=S(p);return y.w(t.date(t.date()+Math.round(e*r)),p)};if(_===d)return this.set(d,this.$M+r);if(_===h)return this.set(h,this.$y+r);if(_===s)return f(1);if(_===l)return f(7);var m=(u={},u[i]=t,u[o]=n,u[a]=e,u)[_]||1,g=this.$d.getTime()+r*m;return y.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=y.z(this),i=this.$H,o=this.$m,s=this.$M,l=n.weekdays,d=n.months,c=n.meridiem,h=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].slice(0,i)},u=function(e){return y.s(i%12||12,e,"0")},_=c||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(f,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return y.s(t.$y,4,"0");case"M":return s+1;case"MM":return y.s(s+1,2,"0");case"MMM":return h(n.monthsShort,s,d,3);case"MMMM":return h(d,s);case"D":return t.$D;case"DD":return y.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return y.s(i,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return _(i,o,!0);case"A":return _(i,o,!1);case"m":return String(o);case"mm":return y.s(o,2,"0");case"s":return String(t.$s);case"ss":return y.s(t.$s,2,"0");case"SSS":return y.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,u,p){var _,f=this,m=y.p(u),g=S(r),y=(g.utcOffset()-this.utcOffset())*t,x=this-g,b=function(){return y.m(f,g)};switch(m){case h:_=b()/12;break;case d:_=b();break;case c:_=b()/3;break;case l:_=(x-y)/6048e5;break;case s:_=(x-y)/864e5;break;case o:_=x/n;break;case i:_=x/t;break;case a:_=x/e;break;default:_=x}return p?_:y.a(_)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return y.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),T=C.prototype;return S.prototype=T,[["$ms",r],["$s",a],["$m",i],["$H",o],["$W",s],["$M",d],["$y",h],["$D",u]].forEach(function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=w,S.isDayjs=k,S.unix=function(e){return S(1e3*e)},S.en=b[x],S.Ls=b,S.p={},S});return t(n.exports)}.call(window);const Qi={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>{n<0&&(n+=1);n>1&&(n-=1);if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e},hsl2rgb:({h:e,s:t,l:n},r)=>{if(!t)return n*2.55;e/=360;t/=100;n/=100;const a=n<.5?n*(1+t):n+t-n*t;const i=2*n-a;switch(r){case"r":return Qi.hue2rgb(i,a,e+1/3)*255;case"g":return Qi.hue2rgb(i,a,e)*255;case"b":return Qi.hue2rgb(i,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},r)=>{e/=255;t/=255;n/=255;const a=Math.max(e,t,n);const i=Math.min(e,t,n);const o=(a+i)/2;if(r==="l")return o*100;if(a===i)return 0;const s=a-i;const l=o>.5?s/(2-a-i):s/(a+i);if(r==="s")return l*100;switch(a){case e:return((t-n)/s+(t<n?6:0))*60;case t:return((n-e)/s+2)*60;case n:return((e-t)/s+4)*60;default:return-1}}};const Zi={clamp:(e,t,n)=>{if(t>n)return Math.min(t,Math.max(n,e));return Math.min(n,Math.max(t,e))},round:e=>Math.round(e*1e10)/1e10};const Ji={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}};const eo={channel:Qi,lang:Zi,unit:Ji};const to={};for(let e=0;e<=255;e++)to[e]=eo.unit.dec2hex(e);const no={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=no.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=no.ALL}is(e){return this.type===e}}class Channels{constructor(e,t){this.color=t;this.changed=!1;this.data=e;this.type=new Type}set(e,t){this.color=t;this.changed=!1;this.data=e;this.type.type=no.ALL;return this}_ensureHSL(){const t=this.data;const{h:n,s:r,l:a}=t;n===e&&(t.h=eo.channel.rgb2hsl(t,"h"));r===e&&(t.s=eo.channel.rgb2hsl(t,"s"));a===e&&(t.l=eo.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data;const{r:n,g:r,b:a}=t;n===e&&(t.r=eo.channel.hsl2rgb(t,"r"));r===e&&(t.g=eo.channel.hsl2rgb(t,"g"));a===e&&(t.b=eo.channel.hsl2rgb(t,"b"))}get r(){const t=this.data;const n=t.r;if(!this.type.is(no.HSL)&&n!==e)return n;this._ensureHSL();return eo.channel.hsl2rgb(t,"r")}get g(){const t=this.data;const n=t.g;if(!this.type.is(no.HSL)&&n!==e)return n;this._ensureHSL();return eo.channel.hsl2rgb(t,"g")}get b(){const t=this.data;const n=t.b;if(!this.type.is(no.HSL)&&n!==e)return n;this._ensureHSL();return eo.channel.hsl2rgb(t,"b")}get h(){const t=this.data;const n=t.h;if(!this.type.is(no.RGB)&&n!==e)return n
this._ensureRGB();return eo.channel.rgb2hsl(t,"h")}get s(){const t=this.data;const n=t.s;if(!this.type.is(no.RGB)&&n!==e)return n;this._ensureRGB();return eo.channel.rgb2hsl(t,"s")}get l(){const t=this.data;const n=t.l;if(!this.type.is(no.RGB)&&n!==e)return n;this._ensureRGB();return eo.channel.rgb2hsl(t,"l")}get a(){return this.data.a}set r(e){this.type.set(no.RGB);this.changed=!0;this.data.r=e}set g(e){this.type.set(no.RGB);this.changed=!0;this.data.g=e}set b(e){this.type.set(no.RGB);this.changed=!0;this.data.b=e}set h(e){this.type.set(no.HSL);this.changed=!0;this.data.h=e}set s(e){this.type.set(no.HSL);this.changed=!0;this.data.s=e}set l(e){this.type.set(no.HSL);this.changed=!0;this.data.l=e}set a(e){this.changed=!0;this.data.a=e}}const ro=new Channels({r:0,g:0,b:0,a:0},"transparent");const ao={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(ao.re);if(!t)return;const n=t[1];const r=parseInt(n,16);const a=n.length;const i=a%4===0;const o=a>4;const s=o?1:17;const l=o?8:4;const d=i?0:-1;const c=o?255:15;return ro.set({r:(r>>l*(d+3)&c)*s,g:(r>>l*(d+2)&c)*s,b:(r>>l*(d+1)&c)*s,a:i?(r&c)*s/255:1},e)},stringify:e=>{const{r:t,g:n,b:r,a:a}=e;if(a<1){return`#${to[Math.round(t)]}${to[Math.round(n)]}${to[Math.round(r)]}${to[Math.round(a*255)]}`}else{return`#${to[Math.round(t)]}${to[Math.round(n)]}${to[Math.round(r)]}`}}};const io={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(io.hueRe);if(t){let[,e,n]=t;switch(n){case"grad":return eo.channel.clamp.h(parseFloat(e)*.9);case"rad":return eo.channel.clamp.h(parseFloat(e)*180/Math.PI);case"turn":return eo.channel.clamp.h(parseFloat(e)*360)}}return eo.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(io.re);if(!n)return;const[,r,a,i,o,s]=n;return ro.set({h:io._hue2deg(r),s:eo.channel.clamp.s(parseFloat(a)),l:eo.channel.clamp.l(parseFloat(i)),a:o?eo.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:n,l:r,a:a}=e;if(a<1){return`hsla(${eo.lang.round(t)}, ${eo.lang.round(n)}%, ${eo.lang.round(r)}%, ${a})`}else{return`hsl(${eo.lang.round(t)}, ${eo.lang.round(n)}%, ${eo.lang.round(r)}%)`}}};const oo={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=oo.colors[e];if(!t)return;return ao.parse(t)},stringify:e=>{const t=ao.stringify(e);for(const e in oo.colors){if(oo.colors[e]===t)return e}return}};const so={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(so.re);if(!n)return;const[,r,a,i,o,s,l,d,c]=n;return ro.set({r:eo.channel.clamp.r(a?parseFloat(r)*2.55:parseFloat(r)),g:eo.channel.clamp.g(o?parseFloat(i)*2.55:parseFloat(i)),b:eo.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:d?eo.channel.clamp.a(c?parseFloat(d)/100:parseFloat(d)):1},e)},stringify:e=>{const{r:t,g:n,b:r,a:a}=e;if(a<1){return`rgba(${eo.lang.round(t)}, ${eo.lang.round(n)}, ${eo.lang.round(r)}, ${eo.lang.round(a)})`}else{return`rgb(${eo.lang.round(t)}, ${eo.lang.round(n)}, ${eo.lang.round(r)})`}}};const lo={format:{keyword:oo,hex:ao,rgb:so,rgba:so,hsl:io,hsla:io},parse:e=>{if(typeof e!=="string")return e;const t=ao.parse(e)||so.parse(e)||io.parse(e)||oo.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:t=>{if(!t.changed&&t.color)return t.color;if(t.type.is(no.HSL)||t.data.r===e){return io.stringify(t)}else if(t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)){return so.stringify(t)}else{return ao.stringify(t)}}};const co=(e,t)=>{const n=lo.parse(e);for(const e in t){n[e]=eo.channel.clamp[e](t[e])}return lo.stringify(n)};const ho=(e,t,n=0,r=1)=>{if(typeof e!=="number")return co(e,{a:t});const a=ro.set({r:eo.channel.clamp.r(e),g:eo.channel.clamp.g(t),b:eo.channel.clamp.b(n),a:eo.channel.clamp.a(r)});return lo.stringify(a)};const uo=(e,t)=>eo.lang.round(lo.parse(e)[t]);const po=e=>{const{r:t,g:n,b:r}=lo.parse(e);const a=.2126*eo.channel.toLinear(t)+.7152*eo.channel.toLinear(n)+.0722*eo.channel.toLinear(r);return eo.lang.round(a)};const _o=e=>po(e)>=.5;const fo=e=>!_o(e);const mo=(e,t,n)=>{const r=lo.parse(e);const a=r[t];const i=eo.channel.clamp[t](a+n);a!==i&&(r[t]=i);return lo.stringify(r)};const go=(e,t)=>mo(e,"l",t);const yo=(e,t)=>mo(e,"l",-t);const xo=(e,t)=>{const n=lo.parse(e);const r={};for(const e in t){if(!t[e])continue;r[e]=n[e]+t[e]}return co(e,r)};const bo=(e,t,n=50)=>{const{r:r,g:a,b:i,a:o}=lo.parse(e);const{r:s,g:l,b:d,a:c}=lo.parse(t);const h=n/100;const u=h*2-1;const p=o-c;const _=u*p===-1?u:(u+p)/(1+u*p);const f=(_+1)/2;const m=1-f;const g=r*f+s*m;const y=a*f+l*m;const x=i*f+d*m;const b=o*h+c*(1-h);return ho(g,y,x,b)};const vo=(e,t=100)=>{const n=lo.parse(e);n.r=255-n.r;n.g=255-n.g;n.b=255-n.b;return bo(n,e,t)};var ko=ho;var wo=fo;var So=go;var Co=yo;var To=xo;var Eo=vo;var Ao=function(){var n={};var r={exports:n};(function(e,t){typeof n==="object"&&typeof r!=="undefined"?r.exports=t():typeof define==="function"&&define.amd?define(t):(e=typeof globalThis!=="undefined"?globalThis:e||self,e.DOMPurify=t())})(this,function(){"use strict";const{entries:t,setPrototypeOf:n,isFrozen:r,getPrototypeOf:a,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:s,create:l}=Object;let{apply:d,construct:c}=typeof Reflect!=="undefined"&&Reflect;o||(o=function e(t){return t});s||(s=function e(t){return t});d||(d=function e(t,n,r){return t.apply(n,r)});c||(c=function e(t,n){return new t(...n)});const h=C(Array.prototype.forEach);const u=C(Array.prototype.lastIndexOf);const p=C(Array.prototype.pop);const _=C(Array.prototype.push);const f=C(Array.prototype.splice);const m=C(String.prototype.toLowerCase);const g=C(String.prototype.toString);const y=C(String.prototype.match);const x=C(String.prototype.replace);const b=C(String.prototype.indexOf);const v=C(String.prototype.trim);const k=C(Object.prototype.hasOwnProperty);const w=C(RegExp.prototype.test);const S=T(TypeError);function C(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++){r[a-1]=arguments[a]}return d(e,t,r)}}function T(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return c(e,n)}}function E(t,a){let i=arguments.length>2&&arguments[2]!==e?arguments[2]:m;n&&n(t,null);let o=a.length;while(o--){let e=a[o];if(typeof e==="string"){let t=i(e);if(t!==e){r(a)||(a[o]=t);e=t}}t[e]=!0}return t}function A(e){for(let t=0;t<e.length;t++){let n=k(e,t);n||(e[t]=null)}return e}function N(e){const n=l(null);for(const[r,a]of t(e)){let t=k(e,r);if(t){if(Array.isArray(a)){n[r]=A(a)}else if(a&&typeof a==="object"&&a.constructor===Object){n[r]=N(a)}else{n[r]=a}}}return n}function P(e,t){while(e!==null){let n=i(e,t);if(n){if(n.get){return C(n.get)}if(typeof n.value==="function"){return C(n.value)}}e=a(e)}function n(){return null}return n}const L=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);const M=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);const D=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);const I=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);const R=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]);const B=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);const O=o(["#text"]);const F=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]);const j=o(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);const H=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);const W=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);const z=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm);const $=s(/<%[\w\W]*|[\w\W]*%>/gm);const U=s(/\$\{[\w\W]*/gm);const q=s(/^data-[\-\w.\u00B7-\uFFFF]+$/);const G=s(/^aria-[\-\w]+$/);const Y=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);const V=s(/^(?:\w+script|data):/i);const X=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);const K=s(/^html$/i);const Q=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z=Object.freeze({__proto__:null,ARIA_ATTR:G,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:Q,DATA_ATTR:q,DOCTYPE_NAME:K,ERB_EXPR:$,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:z,TMPLIT_EXPR:U});const J={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};const ee=function e(){return typeof window==="undefined"?null:window};const te=function e(t,n){if(typeof t!=="object"||typeof t.createPolicy!=="function"){return null}let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){console.warn("TrustedTypes policy "+i+" could not be created.");return null}};const ne=function e(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function re(){let n=arguments.length>0&&arguments[0]!==e?arguments[0]:ee();const r=e=>re(e);r.version="3.2.6";r.removed=[];if(!n||!n.document||n.document.nodeType!==J.document||!n.Element){r.isSupported=!1;return r}let{document:a}=n;const i=a;const s=i.currentScript;const{DocumentFragment:d,HTMLTemplateElement:c,Node:C,Element:T,NodeFilter:A,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:$,DOMParser:U,trustedTypes:q}=n;const G=T.prototype;const V=P(G,"cloneNode");const X=P(G,"remove");const Q=P(G,"nextSibling");const ae=P(G,"childNodes");const ie=P(G,"parentNode");if(typeof c==="function"){let e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let oe;let se="";const{implementation:le,createNodeIterator:de,createDocumentFragment:ce,getElementsByTagName:he}=a;const{importNode:ue}=i;let pe=ne();r.isSupported=typeof t==="function"&&typeof ie==="function"&&le&&le.createHTMLDocument!==e;const{MUSTACHE_EXPR:_e,ERB_EXPR:fe,TMPLIT_EXPR:me,DATA_ATTR:ge,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:xe,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:ve}=Z;let{IS_ALLOWED_URI:ke}=Z;let we=null;const Se=E({},[...L,...M,...D,...R,...O]);let Ce=null;const Te=E({},[...F,...j,...H,...W]);let Ee=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}}));let Ae=null;let Ne=null;let Pe=!0;let Le=!0;let Me=!1;let De=!0;let Ie=!1;let Re=!0;let Be=!1;let Oe=!1;let Fe=!1;let je=!1;let He=!1;let We=!1;let ze=!0;let $e=!1;const Ue="user-content-";let qe=!0;let Ge=!1;let Ye={};let Ve=null;const Xe=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const Qe=E({},["audio","video","img","source","image","track"]);let Ze=null;const Je=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);const et="http://www.w3.org/1998/Math/MathML";const tt="http://www.w3.org/2000/svg";const nt="http://www.w3.org/1999/xhtml";let rt=nt;let at=!1;let it=null;const ot=E({},[et,tt,nt],g);let st=E({},["mi","mo","mn","ms","mtext"]);let lt=E({},["annotation-xml"]);const dt=E({},["title","style","font","a","script"]);let ct=null;const ht=["application/xhtml+xml","text/html"];const ut="text/html";let pt=null;let _t=null;const ft=a.createElement("form");const mt=function e(t){return t instanceof RegExp||t instanceof Function};const gt=function t(){let n=arguments.length>0&&arguments[0]!==e?arguments[0]:{};if(_t&&_t===n){return}(!n||typeof n!=="object")&&(n={});n=N(n);ct=ht.indexOf(n.PARSER_MEDIA_TYPE)===-1?ut:n.PARSER_MEDIA_TYPE;pt=ct==="application/xhtml+xml"?g:m;we=k(n,"ALLOWED_TAGS")?E({},n.ALLOWED_TAGS,pt):Se;Ce=k(n,"ALLOWED_ATTR")?E({},n.ALLOWED_ATTR,pt):Te;it=k(n,"ALLOWED_NAMESPACES")?E({},n.ALLOWED_NAMESPACES,g):ot;Ze=k(n,"ADD_URI_SAFE_ATTR")?E(N(Je),n.ADD_URI_SAFE_ATTR,pt):Je;Ke=k(n,"ADD_DATA_URI_TAGS")?E(N(Qe),n.ADD_DATA_URI_TAGS,pt):Qe;Ve=k(n,"FORBID_CONTENTS")?E({},n.FORBID_CONTENTS,pt):Xe;Ae=k(n,"FORBID_TAGS")?E({},n.FORBID_TAGS,pt):N({});Ne=k(n,"FORBID_ATTR")?E({},n.FORBID_ATTR,pt):N({});Ye=k(n,"USE_PROFILES")?n.USE_PROFILES:!1;Pe=n.ALLOW_ARIA_ATTR!==!1;Le=n.ALLOW_DATA_ATTR!==!1;Me=n.ALLOW_UNKNOWN_PROTOCOLS||!1;De=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1;Ie=n.SAFE_FOR_TEMPLATES||!1;Re=n.SAFE_FOR_XML!==!1;Be=n.WHOLE_DOCUMENT||!1;je=n.RETURN_DOM||!1;He=n.RETURN_DOM_FRAGMENT||!1;We=n.RETURN_TRUSTED_TYPE||!1;Fe=n.FORCE_BODY||!1;ze=n.SANITIZE_DOM!==!1;$e=n.SANITIZE_NAMED_PROPS||!1;qe=n.KEEP_CONTENT!==!1;Ge=n.IN_PLACE||!1;ke=n.ALLOWED_URI_REGEXP||Y;rt=n.NAMESPACE||nt;st=n.MATHML_TEXT_INTEGRATION_POINTS||st;lt=n.HTML_INTEGRATION_POINTS||lt;Ee=n.CUSTOM_ELEMENT_HANDLING||{};n.CUSTOM_ELEMENT_HANDLING&&mt(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck);n.CUSTOM_ELEMENT_HANDLING&&mt(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck);n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"&&(Ee.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements);Ie&&(Le=!1);He&&(je=!0);if(Ye){we=E({},O);Ce=[];if(Ye.html===!0){E(we,L);E(Ce,F)}if(Ye.svg===!0){E(we,M);E(Ce,j);E(Ce,W)}if(Ye.svgFilters===!0){E(we,D);E(Ce,j);E(Ce,W)}if(Ye.mathMl===!0){E(we,R);E(Ce,H);E(Ce,W)}}if(n.ADD_TAGS){we===Se&&(we=N(we));E(we,n.ADD_TAGS,pt)}if(n.ADD_ATTR){Ce===Te&&(Ce=N(Ce));E(Ce,n.ADD_ATTR,pt)}n.ADD_URI_SAFE_ATTR&&E(Ze,n.ADD_URI_SAFE_ATTR,pt);if(n.FORBID_CONTENTS){Ve===Xe&&(Ve=N(Ve));E(Ve,n.FORBID_CONTENTS,pt)}qe&&(we["#text"]=!0);Be&&E(we,["html","head","body"]);if(we.table){E(we,["tbody"]);delete Ae.tbody}if(n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!=="function"){throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.')}if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!=="function"){throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.')}oe=n.TRUSTED_TYPES_POLICY;se=oe.createHTML("")}else{oe===e&&(oe=te(q,s));oe!==null&&typeof se==="string"&&(se=oe.createHTML(""))}o&&o(n);_t=n};const yt=E({},[...M,...D,...I]);const xt=E({},[...R,...B]);const bt=function e(t){let n=ie(t);(!n||!n.tagName)&&(n={namespaceURI:rt,tagName:"template"});const r=m(t.tagName);const a=m(n.tagName);if(!it[t.namespaceURI]){return!1}if(t.namespaceURI===tt){if(n.namespaceURI===nt){return r==="svg"}if(n.namespaceURI===et){return r==="svg"&&(a==="annotation-xml"||st[a])}return Boolean(yt[r])}if(t.namespaceURI===et){if(n.namespaceURI===nt){return r==="math"}if(n.namespaceURI===tt){return r==="math"&&lt[a]}return Boolean(xt[r])}if(t.namespaceURI===nt){if(n.namespaceURI===tt&&!lt[a]){return!1}if(n.namespaceURI===et&&!st[a]){return!1}return!xt[r]&&(dt[r]||!yt[r])}if(ct==="application/xhtml+xml"&&it[t.namespaceURI]){return!0}return!1};const vt=function e(t){_(r.removed,{element:t});try{ie(t).removeChild(t)}catch(e){X(t)}};const kt=function e(t,n){try{_(r.removed,{attribute:n.getAttributeNode(t),from:n})}catch(e){_(r.removed,{attribute:null,from:n})}n.removeAttribute(t);if(t==="is"){if(je||He){try{vt(n)}catch(e){}}else{try{n.setAttribute(t,"")}catch(e){}}}};const wt=function e(t){let n=null;let r=null;if(Fe){t="<remove></remove>"+t}else{let e=y(t,/^[\r\n\t ]+/);r=e&&e[0]}ct==="application/xhtml+xml"&&rt===nt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const i=oe?oe.createHTML(t):t;if(rt===nt){try{n=(new U).parseFromString(i,ct)}catch(e){}}if(!n||!n.documentElement){n=le.createDocument(rt,"template",null);try{n.documentElement.innerHTML=at?se:i}catch(e){}}const o=n.body||n.documentElement;t&&r&&o.insertBefore(a.createTextNode(r),o.childNodes[0]||null);if(rt===nt){return he.call(n,Be?"html":"body")[0]}return Be?n.documentElement:o};const St=function e(t){return de.call(t.ownerDocument||t,t,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)};const Ct=function e(t){return t instanceof $&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof z)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function"||typeof t.hasChildNodes!=="function")};const Tt=function e(t){return typeof C==="function"&&t instanceof C};function Et(e,t,n){h(e,e=>{e.call(r,t,n,_t)})}const At=function e(t){let n=null;Et(pe.beforeSanitizeElements,t,null);if(Ct(t)){vt(t);return!0}const a=pt(t.nodeName);Et(pe.uponSanitizeElement,t,{tagName:a,allowedTags:we});if(Re&&t.hasChildNodes()&&!Tt(t.firstElementChild)&&w(/<[/\w!]/g,t.innerHTML)&&w(/<[/\w!]/g,t.textContent)){vt(t);return!0}if(t.nodeType===J.progressingInstruction){vt(t);return!0}if(Re&&t.nodeType===J.comment&&w(/<[/\w]/g,t.data)){vt(t);return!0}if(!we[a]||Ae[a]){if(!Ae[a]&&Pt(a)){if(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,a)){return!1}if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(a)){return!1}}if(qe&&!Ve[a]){let e=ie(t)||t.parentNode,n=ae(t)||t.childNodes;if(n&&e){let r=n.length;for(let a=r-1;a>=0;--a){let r=V(n[a],!0);r.__removalCount=(t.__removalCount||0)+1;e.insertBefore(r,Q(t))}}}vt(t);return!0}if(t instanceof T&&!bt(t)){vt(t);return!0}if((a==="noscript"||a==="noembed"||a==="noframes")&&w(/<\/no(script|embed|frames)/i,t.innerHTML)){vt(t);return!0}if(Ie&&t.nodeType===J.text){n=t.textContent;h([_e,fe,me],e=>{n=x(n,e," ")});if(t.textContent!==n){_(r.removed,{element:t.cloneNode()});t.textContent=n}}Et(pe.afterSanitizeElements,t,null);return!1};const Nt=function e(t,n,r){if(ze&&(n==="id"||n==="name")&&(r in a||r in ft)){return!1}if(Le&&!Ne[n]&&w(ge,n));else if(Pe&&w(ye,n));else if(!Ce[n]||Ne[n]){if(Pt(t)&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,t)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(t))&&(Ee.attributeNameCheck instanceof RegExp&&w(Ee.attributeNameCheck,n)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(n))||n==="is"&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&w(Ee.tagNameCheck,r)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(r)));else{return!1}}else if(Ze[n]);else if(w(ke,x(r,be,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&t!=="script"&&b(r,"data:")===0&&Ke[t]);else if(Me&&!w(xe,x(r,be,"")));else if(r){return!1}else;return!0};const Pt=function e(t){return t!=="annotation-xml"&&y(t,ve)};const Lt=function t(n){Et(pe.beforeSanitizeAttributes,n,null);const{attributes:a}=n;if(!a||Ct(n)){return}const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce,forceKeepAttr:e};let o=a.length;while(o--){let t=a[o],{name:s,namespaceURI:l,value:d}=t,c=pt(s),u=d,_=s==="value"?u:v(u);i.attrName=c;i.attrValue=_;i.keepAttr=!0;i.forceKeepAttr=e;Et(pe.uponSanitizeAttribute,n,i);_=i.attrValue;if($e&&(c==="id"||c==="name")){kt(s,n);_=Ue+_}if(Re&&w(/((--!?|])>)|<\/(style|title)/i,_)){kt(s,n);continue}if(i.forceKeepAttr){continue}if(!i.keepAttr){kt(s,n);continue}if(!De&&w(/\/>/i,_)){kt(s,n);continue}Ie&&h([_e,fe,me],e=>{_=x(_,e," ")});let f=pt(n.nodeName);if(!Nt(f,c,_)){kt(s,n);continue}if(oe&&typeof q==="object"&&typeof q.getAttributeType==="function"){if(l);else{switch(q.getAttributeType(f,c)){case"TrustedHTML":_=oe.createHTML(_);break;case"TrustedScriptURL":_=oe.createScriptURL(_);break}}}if(_!==u){try{if(l){n.setAttributeNS(l,s,_)}else{n.setAttribute(s,_)}if(Ct(n)){vt(n)}else{p(r.removed)}}catch(e){kt(s,n)}}}Et(pe.afterSanitizeAttributes,n,null)};const Mt=function e(t){let n=null;const r=St(t);Et(pe.beforeSanitizeShadowDOM,t,null);while(n=r.nextNode()){Et(pe.uponSanitizeShadowNode,n,null);At(n);Lt(n);n.content instanceof d&&e(n.content)}Et(pe.afterSanitizeShadowDOM,t,null)};r.sanitize=function(t){let n=arguments.length>1&&arguments[1]!==e?arguments[1]:{};let a=null;let o=null;let s=null;let l=null;at=!t;at&&(t="\x3c!--\x3e");if(typeof t!=="string"&&!Tt(t)){if(typeof t.toString==="function"){t=t.toString();if(typeof t!=="string"){throw S("dirty is not a string, aborting")}}else{throw S("toString is not a function")}}if(!r.isSupported){return t}Oe||gt(n);r.removed=[];typeof t==="string"&&(Ge=!1);if(Ge){if(t.nodeName){let e=pt(t.nodeName);if(!we[e]||Ae[e]){throw S("root node is forbidden and cannot be sanitized in-place")}}}else if(t instanceof C){a=wt("\x3c!----\x3e");o=a.ownerDocument.importNode(t,!0);if(o.nodeType===J.element&&o.nodeName==="BODY"){a=o}else if(o.nodeName==="HTML"){a=o}else{a.appendChild(o)}}else{if(!je&&!Ie&&!Be&&t.indexOf("<")===-1){return oe&&We?oe.createHTML(t):t}a=wt(t);if(!a){return je?null:We?se:""}}a&&Fe&&vt(a.firstChild);const c=St(Ge?t:a);while(s=c.nextNode()){At(s);Lt(s);s.content instanceof d&&Mt(s.content)}if(Ge){return t}if(je){if(He){l=ce.call(a.ownerDocument);while(a.firstChild){l.appendChild(a.firstChild)}}else{l=a}(Ce.shadowroot||Ce.shadowrootmode)&&(l=ue.call(i,l,!0));return l}let u=Be?a.outerHTML:a.innerHTML;Be&&we["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&w(K,a.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+u);Ie&&h([_e,fe,me],e=>{u=x(u,e," ")});return oe&&We?oe.createHTML(u):u};r.setConfig=function(){let t=arguments.length>0&&arguments[0]!==e?arguments[0]:{};gt(t);Oe=!0};r.clearConfig=function(){_t=null;Oe=!1};r.isValidAttribute=function(e,t,n){_t||gt({});const r=pt(e);const a=pt(t);return Nt(r,a,n)};r.addHook=function(e,t){if(typeof t!=="function"){return}_(pe[e],t)};r.removeHook=function(t,n){if(n!==e){let r=u(pe[t],n);return r===-1?e:f(pe[t],r,1)[0]}return p(pe[t])};r.removeHooks=function(e){pe[e]=[]};r.removeAllHooks=function(){pe=ne()};return r}var ae=re();return ae});return t(r.exports)}.call(window);var No,Po,Lo,Mo,Do,Io,Ro;var Bo=Object.defineProperty;var Oo=(e,t)=>Bo(e,"name",{value:t,configurable:!0});var Fo=(e,t)=>{for(var n in t)Bo(e,n,{get:t[n],enumerable:!0})};var jo={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};var Ho={trace:Oo((...e)=>{},"trace"),debug:Oo((...e)=>{},"debug"),info:Oo((...e)=>{},"info"),warn:Oo((...e)=>{},"warn"),error:Oo((...e)=>{},"error"),fatal:Oo((...e)=>{},"fatal")};var Wo=Oo(function(e="fatal"){let t=jo.fatal;if(typeof e==="string"){e.toLowerCase()in jo&&(t=jo[e])}else typeof e==="number"&&(t=e);Ho.trace=(()=>{});Ho.debug=(()=>{});Ho.info=(()=>{});Ho.warn=(()=>{});Ho.error=(()=>{});Ho.fatal=(()=>{});t<=jo.fatal&&(Ho.fatal=console.error?console.error.bind(console,zo("FATAL"),"color: orange"):console.log.bind(console,"\x1b[35m",zo("FATAL")))
t<=jo.error&&(Ho.error=console.error?console.error.bind(console,zo("ERROR"),"color: orange"):console.log.bind(console,"\x1b[31m",zo("ERROR")));t<=jo.warn&&(Ho.warn=console.warn?console.warn.bind(console,zo("WARN"),"color: orange"):console.log.bind(console,`\x1b[33m`,zo("WARN")));t<=jo.info&&(Ho.info=console.info?console.info.bind(console,zo("INFO"),"color: lightblue"):console.log.bind(console,"\x1b[34m",zo("INFO")));t<=jo.debug&&(Ho.debug=console.debug?console.debug.bind(console,zo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",zo("DEBUG")));t<=jo.trace&&(Ho.trace=console.debug?console.debug.bind(console,zo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1b[32m",zo("TRACE")))},"setLogLevel");var zo=Oo(e=>{const t=Ki().format("ss.SSS");return`%c${t} : ${e} : `},"format");var $o=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;var Uo=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi;var qo=/\s*%%.*\n/gm;var Go=(No=class extends Error{constructor(e){super(e);this.name="UnknownDiagramError"}},n(No,"UnknownDiagramError"),(()=>{Oo(No,"UnknownDiagramError")})(),No);var Yo={};var Vo=Oo(function(e,t){e=e.replace($o,"").replace(Uo,"").replace(qo,"\n");for(const[n,{detector:r}]of Object.entries(Yo)){let a=r(e,t);if(a){return n}}throw new Go(`No diagram type detected matching given configuration for text: ${e}`)},"detectType");var Xo=Oo((...e)=>{for(const{id:t,detector:n,loader:r}of e){Ko(t,n,r)}},"registerLazyLoadedDiagrams");var Ko=Oo((e,t,n)=>{Yo[e]&&Ho.warn(`Detector with key ${e} already exists. Overwriting.`);Yo[e]={detector:t,loader:n};Ho.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector");var Qo=Oo(e=>Yo[e].loader,"getDiagramLoader");var Zo=Oo((e,t,{depth:n=2,clobber:r=!1}={})=>{const a={depth:n,clobber:r};if(Array.isArray(t)&&!Array.isArray(e)){t.forEach(t=>Zo(e,t,a));return e}else if(Array.isArray(t)&&Array.isArray(e)){t.forEach(t=>{e.includes(t)||e.push(t)});return e}if(e===void 0||n<=0){if(e!==void 0&&e!==null&&typeof e==="object"&&typeof t==="object"){return Object.assign(e,t)}else{return t}}t!==void 0&&typeof e==="object"&&typeof t==="object"&&Object.keys(t).forEach(a=>{if(typeof t[a]==="object"&&(e[a]===void 0||typeof e[a]==="object")){e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{});e[a]=Zo(e[a],t[a],{depth:n-1,clobber:r})}else(r||typeof e[a]!=="object"&&typeof t[a]!=="object")&&(e[a]=t[a])});return e},"assignWithDepth");var Jo="#ffffff";var es="#f2f2f2";var ts=Oo((e,t)=>t?xo(e,{s:-40,l:10}):xo(e,{s:-40,l:-10}),"mkBorder");var ns=(Po=class{constructor(){this.background="#f4f4f4";this.primaryColor="#fff4dd";this.noteBkgColor="#fff5ad";this.noteTextColor="#333";this.THEME_COLOR_LIMIT=12;this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px"}updateColors(){var e,t,n,r,a,i,o,s,l,d,c,h,u,p,_,f,m,g,y,x,b;this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333");this.secondaryColor=this.secondaryColor||To(this.primaryColor,{h:-120});this.tertiaryColor=this.tertiaryColor||To(this.primaryColor,{h:180,l:5});this.primaryBorderColor=this.primaryBorderColor||ts(this.primaryColor,this.darkMode);this.secondaryBorderColor=this.secondaryBorderColor||ts(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=this.tertiaryBorderColor||ts(this.tertiaryColor,this.darkMode);this.noteBorderColor=this.noteBorderColor||ts(this.noteBkgColor,this.darkMode);this.noteBkgColor=this.noteBkgColor||"#fff5ad";this.noteTextColor=this.noteTextColor||"#333";this.secondaryTextColor=this.secondaryTextColor||Eo(this.secondaryColor);this.tertiaryTextColor=this.tertiaryTextColor||Eo(this.tertiaryColor);this.lineColor=this.lineColor||Eo(this.background);this.arrowheadColor=this.arrowheadColor||Eo(this.background);this.textColor=this.textColor||this.primaryTextColor;this.border2=this.border2||this.tertiaryBorderColor;this.nodeBkg=this.nodeBkg||this.primaryColor;this.mainBkg=this.mainBkg||this.primaryColor;this.nodeBorder=this.nodeBorder||this.primaryBorderColor;this.clusterBkg=this.clusterBkg||this.tertiaryColor;this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor;this.defaultLinkColor=this.defaultLinkColor||this.lineColor;this.titleColor=this.titleColor||this.tertiaryTextColor;this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Co(this.secondaryColor,30):this.secondaryColor);this.nodeTextColor=this.nodeTextColor||this.primaryTextColor;this.actorBorder=this.actorBorder||this.primaryBorderColor;this.actorBkg=this.actorBkg||this.mainBkg;this.actorTextColor=this.actorTextColor||this.primaryTextColor;this.actorLineColor=this.actorLineColor||this.actorBorder;this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg;this.signalColor=this.signalColor||this.textColor;this.signalTextColor=this.signalTextColor||this.textColor;this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder;this.labelTextColor=this.labelTextColor||this.actorTextColor;this.loopTextColor=this.loopTextColor||this.actorTextColor;this.activationBorderColor=this.activationBorderColor||Co(this.secondaryColor,10);this.activationBkgColor=this.activationBkgColor||this.secondaryColor;this.sequenceNumberColor=this.sequenceNumberColor||Eo(this.lineColor);this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor;this.altSectionBkgColor=this.altSectionBkgColor||"white";this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor;this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor;this.excludeBkgColor=this.excludeBkgColor||"#eeeeee";this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor;this.taskBkgColor=this.taskBkgColor||this.primaryColor;this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor;this.activeTaskBkgColor=this.activeTaskBkgColor||So(this.primaryColor,23);this.gridColor=this.gridColor||"lightgrey";this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey";this.doneTaskBorderColor=this.doneTaskBorderColor||"grey";this.critBorderColor=this.critBorderColor||"#ff8888";this.critBkgColor=this.critBkgColor||"red";this.todayLineColor=this.todayLineColor||"red";this.vertLineColor=this.vertLineColor||"navy";this.taskTextColor=this.taskTextColor||this.textColor;this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor;this.taskTextLightColor=this.taskTextLightColor||this.textColor;this.taskTextColor=this.taskTextColor||this.primaryTextColor;this.taskTextDarkColor=this.taskTextDarkColor||this.textColor;this.taskTextClickableColor=this.taskTextClickableColor||"#003163";this.personBorder=this.personBorder||this.primaryBorderColor;this.personBkg=this.personBkg||this.mainBkg;if(this.darkMode){this.rowOdd=this.rowOdd||Co(this.mainBkg,5)||"#ffffff";this.rowEven=this.rowEven||Co(this.mainBkg,10)}else{this.rowOdd=this.rowOdd||So(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||So(this.mainBkg,5)}this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||this.tertiaryColor;this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.nodeBorder;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.specialStateColor=this.lineColor;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||To(this.primaryColor,{h:30});this.cScale4=this.cScale4||To(this.primaryColor,{h:60});this.cScale5=this.cScale5||To(this.primaryColor,{h:90});this.cScale6=this.cScale6||To(this.primaryColor,{h:120});this.cScale7=this.cScale7||To(this.primaryColor,{h:150});this.cScale8=this.cScale8||To(this.primaryColor,{h:210,l:150});this.cScale9=this.cScale9||To(this.primaryColor,{h:270});this.cScale10=this.cScale10||To(this.primaryColor,{h:300});this.cScale11=this.cScale11||To(this.primaryColor,{h:330});if(this.darkMode){for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=Co(this["cScale"+e],75)}}else{for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=Co(this["cScale"+e],25)}}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Eo(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){if(this.darkMode){this["cScalePeer"+e]=this["cScalePeer"+e]||So(this["cScale"+e],10)}else{this["cScalePeer"+e]=this["cScalePeer"+e]||Co(this["cScale"+e],10)}}this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}const v=this.darkMode?-4:-1;for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||To(this.mainBkg,{h:180,s:-15,l:v*(5+e*3)});this["surfacePeer"+e]=this["surfacePeer"+e]||To(this.mainBkg,{h:180,s:-15,l:v*(8+e*3)})}this.classText=this.classText||this.textColor;this.fillType0=this.fillType0||this.primaryColor;this.fillType1=this.fillType1||this.secondaryColor;this.fillType2=this.fillType2||To(this.primaryColor,{h:64});this.fillType3=this.fillType3||To(this.secondaryColor,{h:64});this.fillType4=this.fillType4||To(this.primaryColor,{h:-64});this.fillType5=this.fillType5||To(this.secondaryColor,{h:-64});this.fillType6=this.fillType6||To(this.primaryColor,{h:128});this.fillType7=this.fillType7||To(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||this.tertiaryColor;this.pie4=this.pie4||To(this.primaryColor,{l:-10});this.pie5=this.pie5||To(this.secondaryColor,{l:-10});this.pie6=this.pie6||To(this.tertiaryColor,{l:-10});this.pie7=this.pie7||To(this.primaryColor,{h:60,l:-10});this.pie8=this.pie8||To(this.primaryColor,{h:-60,l:-10});this.pie9=this.pie9||To(this.primaryColor,{h:120,l:0});this.pie10=this.pie10||To(this.primaryColor,{h:60,l:-20});this.pie11=this.pie11||To(this.primaryColor,{h:-60,l:-20});this.pie12=this.pie12||To(this.primaryColor,{h:120,l:-10});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.radar={axisColor:((e=this.radar)===null||e===void 0?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((t=this.radar)===null||t===void 0?void 0:t.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)===null||n===void 0?void 0:n.axisLabelFontSize)||12,curveOpacity:((r=this.radar)===null||r===void 0?void 0:r.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)===null||a===void 0?void 0:a.curveStrokeWidth)||2,graticuleColor:((i=this.radar)===null||i===void 0?void 0:i.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)===null||o===void 0?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((s=this.radar)===null||s===void 0?void 0:s.graticuleOpacity)||.3,legendBoxSize:((l=this.radar)===null||l===void 0?void 0:l.legendBoxSize)||12,legendFontSize:((d=this.radar)===null||d===void 0?void 0:d.legendFontSize)||12};this.archEdgeColor=this.archEdgeColor||"#777";this.archEdgeArrowColor=this.archEdgeArrowColor||"#777";this.archEdgeWidth=this.archEdgeWidth||"3";this.archGroupBorderColor=this.archGroupBorderColor||"#000";this.archGroupBorderWidth=this.archGroupBorderWidth||"2px";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||To(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||To(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||To(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||To(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||To(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||To(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||wo(this.quadrant1Fill)?So(this.quadrant1Fill):Co(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:((c=this.xyChart)===null||c===void 0?void 0:c.backgroundColor)||this.background,titleColor:((h=this.xyChart)===null||h===void 0?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((u=this.xyChart)===null||u===void 0?void 0:u.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)===null||p===void 0?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)===null||_===void 0?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((f=this.xyChart)===null||f===void 0?void 0:f.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((m=this.xyChart)===null||m===void 0?void 0:m.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((g=this.xyChart)===null||g===void 0?void 0:g.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)===null||y===void 0?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((x=this.xyChart)===null||x===void 0?void 0:x.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)===null||b===void 0?void 0:b.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Co(this.secondaryColor,30):this.secondaryColor);this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||To(this.primaryColor,{h:-30});this.git4=this.git4||To(this.primaryColor,{h:-60});this.git5=this.git5||To(this.primaryColor,{h:-90});this.git6=this.git6||To(this.primaryColor,{h:60});this.git7=this.git7||To(this.primaryColor,{h:120});if(this.darkMode){this.git0=So(this.git0,25);this.git1=So(this.git1,25);this.git2=So(this.git2,25);this.git3=So(this.git3,25);this.git4=So(this.git4,25);this.git5=So(this.git5,25);this.git6=So(this.git6,25);this.git7=So(this.git7,25)}else{this.git0=Co(this.git0,25);this.git1=Co(this.git1,25);this.git2=Co(this.git2,25);this.git3=Co(this.git3,25);this.git4=Co(this.git4,25);this.git5=Co(this.git5,25);this.git6=Co(this.git6,25);this.git7=Co(this.git7,25)}this.gitInv0=this.gitInv0||Eo(this.git0);this.gitInv1=this.gitInv1||Eo(this.git1);this.gitInv2=this.gitInv2||Eo(this.git2);this.gitInv3=this.gitInv3||Eo(this.git3);this.gitInv4=this.gitInv4||Eo(this.git4);this.gitInv5=this.gitInv5||Eo(this.git5);this.gitInv6=this.gitInv6||Eo(this.git6);this.gitInv7=this.gitInv7||Eo(this.git7);this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor);this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor;this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor;this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor;this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor;this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor;this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor;this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor;this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jo;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||es}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},n(Po,"Theme"),(()=>{Oo(Po,"Theme")})(),Po);var rs=Oo(e=>{const t=new ns;t.calculate(e);return t},"getThemeVariables");var as=(Lo=class{constructor(){this.background="#333";this.primaryColor="#1f2020";this.secondaryColor=So(this.primaryColor,16);this.tertiaryColor=To(this.primaryColor,{h:-160});this.primaryBorderColor=Eo(this.background);this.secondaryBorderColor=ts(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=ts(this.tertiaryColor,this.darkMode);this.primaryTextColor=Eo(this.primaryColor);this.secondaryTextColor=Eo(this.secondaryColor);this.tertiaryTextColor=Eo(this.tertiaryColor);this.lineColor=Eo(this.background);this.textColor=Eo(this.background);this.mainBkg="#1f2020";this.secondBkg="calculated";this.mainContrastColor="lightgrey";this.darkTextColor=So(Eo("#323D47"),10);this.lineColor="calculated";this.border1="#ccc";this.border2=ko(255,255,255,.25);this.arrowheadColor="calculated";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="#181818";this.textColor="#ccc";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="#F9FFFE";this.edgeLabelBackground="calculated";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="calculated";this.actorLineColor="calculated";this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="calculated";this.activationBkgColor="calculated";this.sequenceNumberColor="black";this.sectionBkgColor=Co("#EAE8D9",30);this.altSectionBkgColor="calculated";this.sectionBkgColor2="#EAE8D9";this.excludeBkgColor=Co(this.sectionBkgColor,10);this.taskBorderColor=ko(255,255,255,70);this.taskBkgColor="calculated";this.taskTextColor="calculated";this.taskTextLightColor="calculated";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor=ko(255,255,255,50);this.activeTaskBkgColor="#81B1DB";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="grey";this.critBorderColor="#E83737";this.critBkgColor="#E83737";this.taskTextDarkColor="calculated";this.todayLineColor="#DB5757";this.vertLineColor="#00BFFF";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd=this.rowOdd||So(this.mainBkg,5)||"#ffffff";this.rowEven=this.rowEven||Co(this.mainBkg,10);this.labelColor="calculated";this.errorBkgColor="#a44141";this.errorTextColor="#ddd"}updateColors(){var e,t,n,r,a,i,o,s,l,d,c,h,u,p,_,f,m,g,y,x,b;this.secondBkg=So(this.mainBkg,16);this.lineColor=this.mainContrastColor;this.arrowheadColor=this.mainContrastColor;this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.edgeLabelBackground=So(this.labelBackground,25);this.actorBorder=this.border1;this.actorBkg=this.mainBkg;this.actorTextColor=this.mainContrastColor;this.actorLineColor=this.actorBorder;this.signalColor=this.mainContrastColor;this.signalTextColor=this.mainContrastColor;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.mainContrastColor;this.loopTextColor=this.mainContrastColor;this.noteBorderColor=this.secondaryBorderColor;this.noteBkgColor=this.secondBkg;this.noteTextColor=this.secondaryTextColor;this.activationBorderColor=this.border1;this.activationBkgColor=this.secondBkg;this.altSectionBkgColor=this.background;this.taskBkgColor=So(this.mainBkg,23);this.taskTextColor=this.darkTextColor;this.taskTextLightColor=this.mainContrastColor;this.taskTextOutsideColor=this.taskTextLightColor;this.gridColor=this.mainContrastColor;this.doneTaskBkgColor=this.mainContrastColor;this.taskTextDarkColor=this.darkTextColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#555";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.primaryBorderColor;this.specialStateColor="#f4f4f4";this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=To(this.primaryColor,{h:64});this.fillType3=To(this.secondaryColor,{h:64});this.fillType4=To(this.primaryColor,{h:-64});this.fillType5=To(this.secondaryColor,{h:-64});this.fillType6=To(this.primaryColor,{h:128});this.fillType7=To(this.secondaryColor,{h:128});this.cScale1=this.cScale1||"#0b0000";this.cScale2=this.cScale2||"#4d1037";this.cScale3=this.cScale3||"#3f5258";this.cScale4=this.cScale4||"#4f2f1b";this.cScale5=this.cScale5||"#6e0a0a";this.cScale6=this.cScale6||"#3b0048";this.cScale7=this.cScale7||"#995a01";this.cScale8=this.cScale8||"#154706";this.cScale9=this.cScale9||"#161722";this.cScale10=this.cScale10||"#00296f";this.cScale11=this.cScale11||"#01629c";this.cScale12=this.cScale12||"#010029";this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||To(this.primaryColor,{h:30});this.cScale4=this.cScale4||To(this.primaryColor,{h:60});this.cScale5=this.cScale5||To(this.primaryColor,{h:90});this.cScale6=this.cScale6||To(this.primaryColor,{h:120});this.cScale7=this.cScale7||To(this.primaryColor,{h:150});this.cScale8=this.cScale8||To(this.primaryColor,{h:210});this.cScale9=this.cScale9||To(this.primaryColor,{h:270});this.cScale10=this.cScale10||To(this.primaryColor,{h:300});this.cScale11=this.cScale11||To(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Eo(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScalePeer"+e]=this["cScalePeer"+e]||So(this["cScale"+e],10)}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||To(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)});this["surfacePeer"+e]=this["surfacePeer"+e]||To(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)})}this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["pie"+e]=this["cScale"+e]}this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||To(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||To(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||To(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||To(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||To(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||To(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||wo(this.quadrant1Fill)?So(this.quadrant1Fill):Co(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:((e=this.xyChart)===null||e===void 0?void 0:e.backgroundColor)||this.background,titleColor:((t=this.xyChart)===null||t===void 0?void 0:t.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)===null||n===void 0?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)===null||r===void 0?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)===null||a===void 0?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((i=this.xyChart)===null||i===void 0?void 0:i.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)===null||o===void 0?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((s=this.xyChart)===null||s===void 0?void 0:s.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((l=this.xyChart)===null||l===void 0?void 0:l.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)===null||d===void 0?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((c=this.xyChart)===null||c===void 0?void 0:c.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"};this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background};this.radar={axisColor:((h=this.radar)===null||h===void 0?void 0:h.axisColor)||this.lineColor,axisStrokeWidth:((u=this.radar)===null||u===void 0?void 0:u.axisStrokeWidth)||2,axisLabelFontSize:((p=this.radar)===null||p===void 0?void 0:p.axisLabelFontSize)||12,curveOpacity:((_=this.radar)===null||_===void 0?void 0:_.curveOpacity)||.5,curveStrokeWidth:((f=this.radar)===null||f===void 0?void 0:f.curveStrokeWidth)||2,graticuleColor:((m=this.radar)===null||m===void 0?void 0:m.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((g=this.radar)===null||g===void 0?void 0:g.graticuleStrokeWidth)||1,graticuleOpacity:((y=this.radar)===null||y===void 0?void 0:y.graticuleOpacity)||.3,legendBoxSize:((x=this.radar)===null||x===void 0?void 0:x.legendBoxSize)||12,legendFontSize:((b=this.radar)===null||b===void 0?void 0:b.legendFontSize)||12};this.classText=this.primaryTextColor;this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Co(this.secondaryColor,30):this.secondaryColor);this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=So(this.secondaryColor,20);this.git1=So(this.pie2||this.secondaryColor,20);this.git2=So(this.pie3||this.tertiaryColor,20);this.git3=So(this.pie4||To(this.primaryColor,{h:-30}),20);this.git4=So(this.pie5||To(this.primaryColor,{h:-60}),20);this.git5=So(this.pie6||To(this.primaryColor,{h:-90}),10);this.git6=So(this.pie7||To(this.primaryColor,{h:60}),10);this.git7=So(this.pie8||To(this.primaryColor,{h:120}),20);this.gitInv0=this.gitInv0||Eo(this.git0);this.gitInv1=this.gitInv1||Eo(this.git1);this.gitInv2=this.gitInv2||Eo(this.git2);this.gitInv3=this.gitInv3||Eo(this.git3);this.gitInv4=this.gitInv4||Eo(this.git4);this.gitInv5=this.gitInv5||Eo(this.git5);this.gitInv6=this.gitInv6||Eo(this.git6);this.gitInv7=this.gitInv7||Eo(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||Eo(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||Eo(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||So(this.background,12);this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||So(this.background,2);this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},n(Lo,"Theme2"),(()=>{Oo(Lo,"Theme")})(),Lo);var is=Oo(e=>{const t=new as;t.calculate(e);return t},"getThemeVariables");var os=(Mo=class{constructor(){this.background="#f4f4f4";this.primaryColor="#ECECFF";this.secondaryColor=To(this.primaryColor,{h:120});this.secondaryColor="#ffffde";this.tertiaryColor=To(this.primaryColor,{h:-160});this.primaryBorderColor=ts(this.primaryColor,this.darkMode);this.secondaryBorderColor=ts(this.secondaryColor,this.darkMode)
this.tertiaryBorderColor=ts(this.tertiaryColor,this.darkMode);this.primaryTextColor=Eo(this.primaryColor);this.secondaryTextColor=Eo(this.secondaryColor);this.tertiaryTextColor=Eo(this.tertiaryColor);this.lineColor=Eo(this.background);this.textColor=Eo(this.background);this.background="white";this.mainBkg="#ECECFF";this.secondBkg="#ffffde";this.lineColor="#333333";this.border1="#9370DB";this.border2="#aaaa33";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="rgba(232,232,232, 0.8)";this.textColor="#333";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="calculated";this.edgeLabelBackground="calculated";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="black";this.actorLineColor="calculated";this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="calculated";this.sectionBkgColor2="calculated";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="calculated";this.taskTextLightColor="calculated";this.taskTextColor=this.taskTextLightColor;this.taskTextDarkColor="calculated";this.taskTextOutsideColor=this.taskTextDarkColor;this.taskTextClickableColor="calculated";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="calculated";this.critBorderColor="calculated";this.critBkgColor="calculated";this.todayLineColor="calculated";this.vertLineColor="calculated";this.sectionBkgColor=ko(102,102,255,.49);this.altSectionBkgColor="white";this.sectionBkgColor2="#fff400";this.taskBorderColor="#534fbc";this.taskBkgColor="#8a90dd";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="#534fbc";this.activeTaskBkgColor="#bfc7ff";this.gridColor="lightgrey";this.doneTaskBkgColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.critBkgColor="red";this.todayLineColor="red";this.vertLineColor="navy";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd="calculated";this.rowEven="calculated";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222";this.updateColors()}updateColors(){var e,t,n,r,a,i,o,s,l,d,c,h,u,p,_,f,m,g,y,x,b;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||To(this.primaryColor,{h:30});this.cScale4=this.cScale4||To(this.primaryColor,{h:60});this.cScale5=this.cScale5||To(this.primaryColor,{h:90});this.cScale6=this.cScale6||To(this.primaryColor,{h:120});this.cScale7=this.cScale7||To(this.primaryColor,{h:150});this.cScale8=this.cScale8||To(this.primaryColor,{h:210});this.cScale9=this.cScale9||To(this.primaryColor,{h:270});this.cScale10=this.cScale10||To(this.primaryColor,{h:300});this.cScale11=this.cScale11||To(this.primaryColor,{h:330});this["cScalePeer1"]=this["cScalePeer1"]||Co(this.secondaryColor,45);this["cScalePeer2"]=this["cScalePeer2"]||Co(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=Co(this["cScale"+e],10);this["cScalePeer"+e]=this["cScalePeer"+e]||Co(this["cScale"+e],25)}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||To(this["cScale"+e],{h:180})}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||To(this.mainBkg,{h:30,l:-(5+e*5)});this["surfacePeer"+e]=this["surfacePeer"+e]||To(this.mainBkg,{h:30,l:-(7+e*5)})}this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;if(this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Eo(this.labelTextColor);this.cScaleLabel3=this.cScaleLabel3||Eo(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.textColor;this.edgeLabelBackground=this.labelBackground;this.actorBorder=So(this.border1,23);this.actorBkg=this.mainBkg;this.labelBoxBkgColor=this.actorBkg;this.signalColor=this.textColor;this.signalTextColor=this.textColor;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.actorTextColor;this.loopTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.actorLineColor=this.actorBorder;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.rowOdd=this.rowOdd||So(this.primaryColor,75)||"#ffffff";this.rowEven=this.rowEven||So(this.primaryColor,1);this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f0f0f0";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.nodeBorder;this.specialStateColor=this.lineColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=To(this.primaryColor,{h:64});this.fillType3=To(this.secondaryColor,{h:64});this.fillType4=To(this.primaryColor,{h:-64});this.fillType5=To(this.secondaryColor,{h:-64});this.fillType6=To(this.primaryColor,{h:128});this.fillType7=To(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||To(this.tertiaryColor,{l:-40});this.pie4=this.pie4||To(this.primaryColor,{l:-10});this.pie5=this.pie5||To(this.secondaryColor,{l:-30});this.pie6=this.pie6||To(this.tertiaryColor,{l:-20});this.pie7=this.pie7||To(this.primaryColor,{h:60,l:-20});this.pie8=this.pie8||To(this.primaryColor,{h:-60,l:-40});this.pie9=this.pie9||To(this.primaryColor,{h:120,l:-40});this.pie10=this.pie10||To(this.primaryColor,{h:60,l:-40});this.pie11=this.pie11||To(this.primaryColor,{h:-90,l:-40});this.pie12=this.pie12||To(this.primaryColor,{h:120,l:-30});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||To(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||To(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||To(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||To(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||To(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||To(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||wo(this.quadrant1Fill)?So(this.quadrant1Fill):Co(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.radar={axisColor:((e=this.radar)===null||e===void 0?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((t=this.radar)===null||t===void 0?void 0:t.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)===null||n===void 0?void 0:n.axisLabelFontSize)||12,curveOpacity:((r=this.radar)===null||r===void 0?void 0:r.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)===null||a===void 0?void 0:a.curveStrokeWidth)||2,graticuleColor:((i=this.radar)===null||i===void 0?void 0:i.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)===null||o===void 0?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((s=this.radar)===null||s===void 0?void 0:s.graticuleOpacity)||.3,legendBoxSize:((l=this.radar)===null||l===void 0?void 0:l.legendBoxSize)||12,legendFontSize:((d=this.radar)===null||d===void 0?void 0:d.legendFontSize)||12};this.xyChart={backgroundColor:((c=this.xyChart)===null||c===void 0?void 0:c.backgroundColor)||this.background,titleColor:((h=this.xyChart)===null||h===void 0?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((u=this.xyChart)===null||u===void 0?void 0:u.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)===null||p===void 0?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)===null||_===void 0?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((f=this.xyChart)===null||f===void 0?void 0:f.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((m=this.xyChart)===null||m===void 0?void 0:m.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((g=this.xyChart)===null||g===void 0?void 0:g.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)===null||y===void 0?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((x=this.xyChart)===null||x===void 0?void 0:x.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)===null||b===void 0?void 0:b.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.labelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||To(this.primaryColor,{h:-30});this.git4=this.git4||To(this.primaryColor,{h:-60});this.git5=this.git5||To(this.primaryColor,{h:-90});this.git6=this.git6||To(this.primaryColor,{h:60});this.git7=this.git7||To(this.primaryColor,{h:120});if(this.darkMode){this.git0=So(this.git0,25);this.git1=So(this.git1,25);this.git2=So(this.git2,25);this.git3=So(this.git3,25);this.git4=So(this.git4,25);this.git5=So(this.git5,25);this.git6=So(this.git6,25);this.git7=So(this.git7,25)}else{this.git0=Co(this.git0,25);this.git1=Co(this.git1,25);this.git2=Co(this.git2,25);this.git3=Co(this.git3,25);this.git4=Co(this.git4,25);this.git5=Co(this.git5,25);this.git6=Co(this.git6,25);this.git7=Co(this.git7,25)}this.gitInv0=this.gitInv0||Co(Eo(this.git0),25);this.gitInv1=this.gitInv1||Eo(this.git1);this.gitInv2=this.gitInv2||Eo(this.git2);this.gitInv3=this.gitInv3||Eo(this.git3);this.gitInv4=this.gitInv4||Eo(this.git4);this.gitInv5=this.gitInv5||Eo(this.git5);this.gitInv6=this.gitInv6||Eo(this.git6);this.gitInv7=this.gitInv7||Eo(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||Eo(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||Eo(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jo;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||es}calculate(e){Object.keys(this).forEach(e=>{if(this[e]==="calculated"){this[e]=void 0}});if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},n(Mo,"Theme3"),(()=>{Oo(Mo,"Theme")})(),Mo);var ss=Oo(e=>{const t=new os;t.calculate(e);return t},"getThemeVariables");var ls=(Do=class{constructor(){this.background="#f4f4f4";this.primaryColor="#cde498";this.secondaryColor="#cdffb2";this.background="white";this.mainBkg="#cde498";this.secondBkg="#cdffb2";this.lineColor="green";this.border1="#13540c";this.border2="#6eaa49";this.arrowheadColor="green";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.tertiaryColor=So("#cde498",10);this.primaryBorderColor=ts(this.primaryColor,this.darkMode);this.secondaryBorderColor=ts(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=ts(this.tertiaryColor,this.darkMode);this.primaryTextColor=Eo(this.primaryColor);this.secondaryTextColor=Eo(this.secondaryColor);this.tertiaryTextColor=Eo(this.primaryColor);this.lineColor=Eo(this.background);this.textColor=Eo(this.background);this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="#333";this.edgeLabelBackground="#e8e8e8";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="black";this.actorLineColor="calculated";this.signalColor="#333";this.signalTextColor="#333";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="#326932";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="#6eaa49";this.altSectionBkgColor="white";this.sectionBkgColor2="#6eaa49";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="#487e3a";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="lightgrey";this.doneTaskBkgColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.critBkgColor="red";this.todayLineColor="red";this.vertLineColor="#00BFFF";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222"}updateColors(){var e,t,n,r,a,i,o,s,l,d,c,h,u,p,_,f,m,g,y,x,b;this.actorBorder=Co(this.mainBkg,20);this.actorBkg=this.mainBkg;this.labelBoxBkgColor=this.actorBkg;this.labelTextColor=this.actorTextColor;this.loopTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.actorLineColor=this.actorBorder;this.cScale0=this.cScale0||this.primaryColor;this.cScale1=this.cScale1||this.secondaryColor;this.cScale2=this.cScale2||this.tertiaryColor;this.cScale3=this.cScale3||To(this.primaryColor,{h:30});this.cScale4=this.cScale4||To(this.primaryColor,{h:60});this.cScale5=this.cScale5||To(this.primaryColor,{h:90});this.cScale6=this.cScale6||To(this.primaryColor,{h:120});this.cScale7=this.cScale7||To(this.primaryColor,{h:150});this.cScale8=this.cScale8||To(this.primaryColor,{h:210});this.cScale9=this.cScale9||To(this.primaryColor,{h:270});this.cScale10=this.cScale10||To(this.primaryColor,{h:300});this.cScale11=this.cScale11||To(this.primaryColor,{h:330});this["cScalePeer1"]=this["cScalePeer1"]||Co(this.secondaryColor,45);this["cScalePeer2"]=this["cScalePeer2"]||Co(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScale"+e]=Co(this["cScale"+e],10);this["cScalePeer"+e]=this["cScalePeer"+e]||Co(this["cScale"+e],25)}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||To(this["cScale"+e],{h:180})}this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||To(this.mainBkg,{h:30,s:-30,l:-(5+e*5)});this["surfacePeer"+e]=this["surfacePeer"+e]||To(this.mainBkg,{h:30,s:-30,l:-(8+e*5)})}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.taskBorderColor=this.border1;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.rowOdd=this.rowOdd||So(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||So(this.mainBkg,20);this.transitionColor=this.transitionColor||this.lineColor;this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f0f0f0";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.compositeBorder=this.compositeBorder||this.nodeBorder;this.innerEndBackground=this.primaryBorderColor;this.specialStateColor=this.lineColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.transitionColor=this.transitionColor||this.lineColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=To(this.primaryColor,{h:64});this.fillType3=To(this.secondaryColor,{h:64});this.fillType4=To(this.primaryColor,{h:-64});this.fillType5=To(this.secondaryColor,{h:-64});this.fillType6=To(this.primaryColor,{h:128});this.fillType7=To(this.secondaryColor,{h:128});this.pie1=this.pie1||this.primaryColor;this.pie2=this.pie2||this.secondaryColor;this.pie3=this.pie3||this.tertiaryColor;this.pie4=this.pie4||To(this.primaryColor,{l:-30});this.pie5=this.pie5||To(this.secondaryColor,{l:-30});this.pie6=this.pie6||To(this.tertiaryColor,{h:40,l:-40});this.pie7=this.pie7||To(this.primaryColor,{h:60,l:-10});this.pie8=this.pie8||To(this.primaryColor,{h:-60,l:-10});this.pie9=this.pie9||To(this.primaryColor,{h:120,l:0});this.pie10=this.pie10||To(this.primaryColor,{h:60,l:-50});this.pie11=this.pie11||To(this.primaryColor,{h:-60,l:-50});this.pie12=this.pie12||To(this.primaryColor,{h:120,l:-50});this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||To(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||To(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||To(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||To(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||To(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||To(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||wo(this.quadrant1Fill)?So(this.quadrant1Fill):Co(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg};this.radar={axisColor:((e=this.radar)===null||e===void 0?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((t=this.radar)===null||t===void 0?void 0:t.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)===null||n===void 0?void 0:n.axisLabelFontSize)||12,curveOpacity:((r=this.radar)===null||r===void 0?void 0:r.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)===null||a===void 0?void 0:a.curveStrokeWidth)||2,graticuleColor:((i=this.radar)===null||i===void 0?void 0:i.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)===null||o===void 0?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((s=this.radar)===null||s===void 0?void 0:s.graticuleOpacity)||.3,legendBoxSize:((l=this.radar)===null||l===void 0?void 0:l.legendBoxSize)||12,legendFontSize:((d=this.radar)===null||d===void 0?void 0:d.legendFontSize)||12};this.xyChart={backgroundColor:((c=this.xyChart)===null||c===void 0?void 0:c.backgroundColor)||this.background,titleColor:((h=this.xyChart)===null||h===void 0?void 0:h.titleColor)||this.primaryTextColor,xAxisTitleColor:((u=this.xyChart)===null||u===void 0?void 0:u.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((p=this.xyChart)===null||p===void 0?void 0:p.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)===null||_===void 0?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((f=this.xyChart)===null||f===void 0?void 0:f.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((m=this.xyChart)===null||m===void 0?void 0:m.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((g=this.xyChart)===null||g===void 0?void 0:g.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)===null||y===void 0?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((x=this.xyChart)===null||x===void 0?void 0:x.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)===null||b===void 0?void 0:b.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=this.git0||this.primaryColor;this.git1=this.git1||this.secondaryColor;this.git2=this.git2||this.tertiaryColor;this.git3=this.git3||To(this.primaryColor,{h:-30});this.git4=this.git4||To(this.primaryColor,{h:-60});this.git5=this.git5||To(this.primaryColor,{h:-90});this.git6=this.git6||To(this.primaryColor,{h:60});this.git7=this.git7||To(this.primaryColor,{h:120});if(this.darkMode){this.git0=So(this.git0,25);this.git1=So(this.git1,25);this.git2=So(this.git2,25);this.git3=So(this.git3,25);this.git4=So(this.git4,25);this.git5=So(this.git5,25);this.git6=So(this.git6,25);this.git7=So(this.git7,25)}else{this.git0=Co(this.git0,25);this.git1=Co(this.git1,25);this.git2=Co(this.git2,25);this.git3=Co(this.git3,25);this.git4=Co(this.git4,25);this.git5=Co(this.git5,25);this.git6=Co(this.git6,25);this.git7=Co(this.git7,25)}this.gitInv0=this.gitInv0||Eo(this.git0);this.gitInv1=this.gitInv1||Eo(this.git1);this.gitInv2=this.gitInv2||Eo(this.git2);this.gitInv3=this.gitInv3||Eo(this.git3);this.gitInv4=this.gitInv4||Eo(this.git4);this.gitInv5=this.gitInv5||Eo(this.git5);this.gitInv6=this.gitInv6||Eo(this.git6);this.gitInv7=this.gitInv7||Eo(this.git7);this.gitBranchLabel0=this.gitBranchLabel0||Eo(this.labelTextColor);this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor;this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor;this.gitBranchLabel3=this.gitBranchLabel3||Eo(this.labelTextColor);this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor;this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor;this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor;this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jo;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||es}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},n(Do,"Theme4"),(()=>{Oo(Do,"Theme")})(),Do);var ds=Oo(e=>{const t=new ls;t.calculate(e);return t},"getThemeVariables");var cs=(Io=class{constructor(){this.primaryColor="#eee";this.contrast="#707070";this.secondaryColor=So(this.contrast,55);this.background="#ffffff";this.tertiaryColor=To(this.primaryColor,{h:-160});this.primaryBorderColor=ts(this.primaryColor,this.darkMode);this.secondaryBorderColor=ts(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=ts(this.tertiaryColor,this.darkMode);this.primaryTextColor=Eo(this.primaryColor);this.secondaryTextColor=Eo(this.secondaryColor);this.tertiaryTextColor=Eo(this.tertiaryColor);this.lineColor=Eo(this.background);this.textColor=Eo(this.background);this.mainBkg="#eee";this.secondBkg="calculated";this.lineColor="#666";this.border1="#999";this.border2="calculated";this.note="#ffa";this.text="#333";this.critical="#d42";this.done="#bbb";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.THEME_COLOR_LIMIT=12;this.nodeBkg="calculated";this.nodeBorder="calculated";this.clusterBkg="calculated";this.clusterBorder="calculated";this.defaultLinkColor="calculated";this.titleColor="calculated";this.edgeLabelBackground="white";this.actorBorder="calculated";this.actorBkg="calculated";this.actorTextColor="calculated";this.actorLineColor=this.actorBorder;this.signalColor="calculated";this.signalTextColor="calculated";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="calculated";this.labelTextColor="calculated";this.loopTextColor="calculated";this.noteBorderColor="calculated";this.noteBkgColor="calculated";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="white";this.sectionBkgColor2="calculated";this.excludeBkgColor="#eeeeee";this.taskBorderColor="calculated";this.taskBkgColor="calculated";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="calculated";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor="calculated";this.activeTaskBkgColor="calculated";this.gridColor="calculated";this.doneTaskBkgColor="calculated";this.doneTaskBorderColor="calculated";this.critBkgColor="calculated";this.critBorderColor="calculated";this.todayLineColor="calculated";this.vertLineColor="calculated";this.personBorder=this.primaryBorderColor;this.personBkg=this.mainBkg;this.archEdgeColor="calculated";this.archEdgeArrowColor="calculated";this.archEdgeWidth="3";this.archGroupBorderColor=this.primaryBorderColor;this.archGroupBorderWidth="2px";this.rowOdd=this.rowOdd||So(this.mainBkg,75)||"#ffffff";this.rowEven=this.rowEven||"#f4f4f4";this.labelColor="black";this.errorBkgColor="#552222";this.errorTextColor="#552222"}updateColors(){var e,t,n,r,a,i,o,s,l,d,c,h,u,p,_,f,m,g,y,x,b;this.secondBkg=So(this.contrast,55);this.border2=this.contrast;this.actorBorder=So(this.border1,23);this.actorBkg=this.mainBkg;this.actorTextColor=this.text;this.actorLineColor=this.actorBorder;this.signalColor=this.text;this.signalTextColor=this.text;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.labelTextColor=this.text;this.loopTextColor=this.text;this.noteBorderColor="#999";this.noteBkgColor="#666";this.noteTextColor="#fff";this.cScale0=this.cScale0||"#555";this.cScale1=this.cScale1||"#F4F4F4";this.cScale2=this.cScale2||"#555";this.cScale3=this.cScale3||"#BBB";this.cScale4=this.cScale4||"#777";this.cScale5=this.cScale5||"#999";this.cScale6=this.cScale6||"#DDD";this.cScale7=this.cScale7||"#FFF";this.cScale8=this.cScale8||"#DDD";this.cScale9=this.cScale9||"#BBB";this.cScale10=this.cScale10||"#999"
this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleInv"+e]=this["cScaleInv"+e]||Eo(this["cScale"+e])}for(let e=0;e<this.THEME_COLOR_LIMIT;e++){if(this.darkMode){this["cScalePeer"+e]=this["cScalePeer"+e]||So(this["cScale"+e],10)}else{this["cScalePeer"+e]=this["cScalePeer"+e]||Co(this["cScale"+e],10)}}this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);this.cScaleLabel0=this.cScaleLabel0||this.cScale1;this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor}for(let e=0;e<5;e++){this["surface"+e]=this["surface"+e]||To(this.mainBkg,{l:-(5+e*5)});this["surfacePeer"+e]=this["surfacePeer"+e]||To(this.mainBkg,{l:-(8+e*5)})}this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.text;this.sectionBkgColor=So(this.contrast,30);this.sectionBkgColor2=So(this.contrast,30);this.taskBorderColor=Co(this.contrast,10);this.taskBkgColor=this.contrast;this.taskTextColor=this.taskTextLightColor;this.taskTextDarkColor=this.text;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.gridColor=So(this.border1,30);this.doneTaskBkgColor=this.done;this.doneTaskBorderColor=this.lineColor;this.critBkgColor=this.critical;this.critBorderColor=Co(this.critBkgColor,10);this.todayLineColor=this.critBkgColor;this.vertLineColor=this.critBkgColor;this.archEdgeColor=this.lineColor;this.archEdgeArrowColor=this.lineColor;this.transitionColor=this.transitionColor||"#000";this.transitionLabelColor=this.transitionLabelColor||this.textColor;this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor;this.stateBkg=this.stateBkg||this.mainBkg;this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg;this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor;this.altBackground=this.altBackground||"#f4f4f4";this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg;this.stateBorder=this.stateBorder||"#000";this.innerEndBackground=this.primaryBorderColor;this.specialStateColor="#222";this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=To(this.primaryColor,{h:64});this.fillType3=To(this.secondaryColor,{h:64});this.fillType4=To(this.primaryColor,{h:-64});this.fillType5=To(this.secondaryColor,{h:-64});this.fillType6=To(this.primaryColor,{h:128});this.fillType7=To(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++){this["pie"+e]=this["cScale"+e]}this.pie12=this.pie0;this.pieTitleTextSize=this.pieTitleTextSize||"25px";this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor;this.pieSectionTextSize=this.pieSectionTextSize||"17px";this.pieSectionTextColor=this.pieSectionTextColor||this.textColor;this.pieLegendTextSize=this.pieLegendTextSize||"17px";this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor;this.pieStrokeColor=this.pieStrokeColor||"black";this.pieStrokeWidth=this.pieStrokeWidth||"2px";this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px";this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black";this.pieOpacity=this.pieOpacity||"0.7";this.quadrant1Fill=this.quadrant1Fill||this.primaryColor;this.quadrant2Fill=this.quadrant2Fill||To(this.primaryColor,{r:5,g:5,b:5});this.quadrant3Fill=this.quadrant3Fill||To(this.primaryColor,{r:10,g:10,b:10});this.quadrant4Fill=this.quadrant4Fill||To(this.primaryColor,{r:15,g:15,b:15});this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor;this.quadrant2TextFill=this.quadrant2TextFill||To(this.primaryTextColor,{r:-5,g:-5,b:-5});this.quadrant3TextFill=this.quadrant3TextFill||To(this.primaryTextColor,{r:-10,g:-10,b:-10});this.quadrant4TextFill=this.quadrant4TextFill||To(this.primaryTextColor,{r:-15,g:-15,b:-15});this.quadrantPointFill=this.quadrantPointFill||wo(this.quadrant1Fill)?So(this.quadrant1Fill):Co(this.quadrant1Fill);this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor;this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor;this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor;this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor;this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor;this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor;this.xyChart={backgroundColor:((e=this.xyChart)===null||e===void 0?void 0:e.backgroundColor)||this.background,titleColor:((t=this.xyChart)===null||t===void 0?void 0:t.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)===null||n===void 0?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)===null||r===void 0?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)===null||a===void 0?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((i=this.xyChart)===null||i===void 0?void 0:i.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)===null||o===void 0?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((s=this.xyChart)===null||s===void 0?void 0:s.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((l=this.xyChart)===null||l===void 0?void 0:l.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)===null||d===void 0?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((c=this.xyChart)===null||c===void 0?void 0:c.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"};this.radar={axisColor:((h=this.radar)===null||h===void 0?void 0:h.axisColor)||this.lineColor,axisStrokeWidth:((u=this.radar)===null||u===void 0?void 0:u.axisStrokeWidth)||2,axisLabelFontSize:((p=this.radar)===null||p===void 0?void 0:p.axisLabelFontSize)||12,curveOpacity:((_=this.radar)===null||_===void 0?void 0:_.curveOpacity)||.5,curveStrokeWidth:((f=this.radar)===null||f===void 0?void 0:f.curveStrokeWidth)||2,graticuleColor:((m=this.radar)===null||m===void 0?void 0:m.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((g=this.radar)===null||g===void 0?void 0:g.graticuleStrokeWidth)||1,graticuleOpacity:((y=this.radar)===null||y===void 0?void 0:y.graticuleOpacity)||.3,legendBoxSize:((x=this.radar)===null||x===void 0?void 0:x.legendBoxSize)||12,legendFontSize:((b=this.radar)===null||b===void 0?void 0:b.legendFontSize)||12};this.requirementBackground=this.requirementBackground||this.primaryColor;this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor;this.requirementBorderSize=this.requirementBorderSize||"1";this.requirementTextColor=this.requirementTextColor||this.primaryTextColor;this.relationColor=this.relationColor||this.lineColor;this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground;this.relationLabelColor=this.relationLabelColor||this.actorTextColor;this.git0=Co(this.pie1,25)||this.primaryColor;this.git1=this.pie2||this.secondaryColor;this.git2=this.pie3||this.tertiaryColor;this.git3=this.pie4||To(this.primaryColor,{h:-30});this.git4=this.pie5||To(this.primaryColor,{h:-60});this.git5=this.pie6||To(this.primaryColor,{h:-90});this.git6=this.pie7||To(this.primaryColor,{h:60});this.git7=this.pie8||To(this.primaryColor,{h:120});this.gitInv0=this.gitInv0||Eo(this.git0);this.gitInv1=this.gitInv1||Eo(this.git1);this.gitInv2=this.gitInv2||Eo(this.git2);this.gitInv3=this.gitInv3||Eo(this.git3);this.gitInv4=this.gitInv4||Eo(this.git4);this.gitInv5=this.gitInv5||Eo(this.git5);this.gitInv6=this.gitInv6||Eo(this.git6);this.gitInv7=this.gitInv7||Eo(this.git7);this.branchLabelColor=this.branchLabelColor||this.labelTextColor;this.gitBranchLabel0=this.branchLabelColor;this.gitBranchLabel1="white";this.gitBranchLabel2=this.branchLabelColor;this.gitBranchLabel3="white";this.gitBranchLabel4=this.branchLabelColor;this.gitBranchLabel5=this.branchLabelColor;this.gitBranchLabel6=this.branchLabelColor;this.gitBranchLabel7=this.branchLabelColor;this.tagLabelColor=this.tagLabelColor||this.primaryTextColor;this.tagLabelBackground=this.tagLabelBackground||this.primaryColor;this.tagLabelBorder=this.tagBorder||this.primaryBorderColor;this.tagLabelFontSize=this.tagLabelFontSize||"10px";this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor;this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor;this.commitLabelFontSize=this.commitLabelFontSize||"10px";this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jo;this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||es}calculate(e){if(typeof e!=="object"){this.updateColors();return}const t=Object.keys(e);t.forEach(t=>{this[t]=e[t]});this.updateColors();t.forEach(t=>{this[t]=e[t]})}},n(Io,"Theme5"),(()=>{Oo(Io,"Theme")})(),Io);var hs=Oo(e=>{const t=new cs;t.calculate(e);return t},"getThemeVariables");var us={base:{getThemeVariables:rs},dark:{getThemeVariables:is},default:{getThemeVariables:ss},forest:{getThemeVariables:ds},neutral:{getThemeVariables:hs}};var ps={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1};var _s={...ps,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:us.default.getThemeVariables(),sequence:{...ps.sequence,messageFont:Oo(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:Oo(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:Oo(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ps.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ps.c4,useWidth:void 0,personFont:Oo(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...ps.flowchart,inheritDir:!1},external_personFont:Oo(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:Oo(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:Oo(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:Oo(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:Oo(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:Oo(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:Oo(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:Oo(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:Oo(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:Oo(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:Oo(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:Oo(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:Oo(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:Oo(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:Oo(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:Oo(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:Oo(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:Oo(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:Oo(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:Oo(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:Oo(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ps.pie,useWidth:984},xyChart:{...ps.xyChart,useWidth:void 0},requirement:{...ps.requirement,useWidth:void 0},packet:{...ps.packet},radar:{...ps.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}};var fs=Oo((e,t="")=>Object.keys(e).reduce((n,r)=>{if(Array.isArray(e[r])){return n}else if(typeof e[r]==="object"&&e[r]!==null){return[...n,t+r,...fs(e[r],"")]}return[...n,t+r]},[]),"keyify");var ms=new Set(fs(_s,""));var gs=Oo(e=>{Ho.debug("sanitizeDirective called with",e);if(typeof e!=="object"||e==null){return}if(Array.isArray(e)){e.forEach(e=>gs(e));return}for(const t of Object.keys(e)){Ho.debug("Checking key",t);if(t.startsWith("__")||t.includes("proto")||t.includes("constr")||!ms.has(t)||e[t]==null){Ho.debug("sanitize deleting key: ",t);delete e[t];continue}if(typeof e[t]==="object"){Ho.debug("sanitizing object",t);gs(e[t]);continue}let n=["themeCSS","fontFamily","altFontFamily"];for(const r of n){if(t.includes(r)){Ho.debug("sanitizing css option",t);e[t]=ys(e[t])}}}if(e.themeVariables){for(const t of Object.keys(e.themeVariables)){let n=e.themeVariables[t];(n===null||n===void 0?void 0:n.match)&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}}Ho.debug("After sanitization",e)},"sanitizeDirective");var ys=Oo(e=>{let t=0;let n=0;for(const r of e){if(t<n){return"{ /* ERROR: Unbalanced CSS */ }"}if(r==="{"){t++}else r==="}"&&n++}if(t!==n){return"{ /* ERROR: Unbalanced CSS */ }"}return e},"sanitizeCss");var xs=Object.freeze(_s);var bs=Zo({},xs);var vs;var ks=[];var ws=Zo({},xs);var Ss=Oo((e,t)=>{let n=Zo({},e);let r={};for(const e of t){Ms(e);r=Zo(r,e)}n=Zo(n,r);if(r.theme&&r.theme in us){let e=Zo({},vs),t=Zo(e.themeVariables||{},r.themeVariables);n.theme&&n.theme in us&&(n.themeVariables=us[n.theme].getThemeVariables(t))}ws=n;Fs(ws);return ws},"updateCurrentConfig");var Cs=Oo(e=>{bs=Zo({},xs);bs=Zo(bs,e);e.theme&&us[e.theme]&&(bs.themeVariables=us[e.theme].getThemeVariables(e.themeVariables));Ss(bs,ks);return bs},"setSiteConfig");var Ts=Oo(e=>{vs=Zo({},e)},"saveConfigFromInitialize");var Es=Oo(e=>{bs=Zo(bs,e);Ss(bs,ks);return bs},"updateSiteConfig");var As=Oo(()=>Zo({},bs),"getSiteConfig");var Ns=Oo(e=>{Fs(e);Zo(ws,e);return Ps()},"setConfig");var Ps=Oo(()=>Zo({},ws),"getConfig");var Ls=Ps;var Ms=Oo(e=>{var t;if(!e){return}["secure",...(t=bs.secure)!==null&&t!==void 0?t:[]].forEach(t=>{if(Object.hasOwn(e,t)){Ho.debug(`Denied attempt to modify a secure key ${t}`,e[t]);delete e[t]}});Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]});Object.keys(e).forEach(t=>{typeof e[t]==="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t];typeof e[t]==="object"&&Ms(e[t])})},"sanitize");var Ds=Oo(e=>{var t;gs(e);e.fontFamily&&!((t=e.themeVariables)===null||t===void 0?void 0:t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily});ks.push(e);Ss(bs,ks)},"addDirective");var Is=Oo((e=bs)=>{ks=[];Ss(e,ks)},"reset");var Rs={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."};var Bs={};var Os=Oo(e=>{if(Bs[e]){return}Ho.warn(Rs[e]);Bs[e]=!0},"issueWarning");var Fs=Oo(e=>{if(!e){return}(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&Os("LAZY_LOAD_DEPRECATED")},"checkConfig");var js=/<br\s*\/?>/gi;var Hs=Oo(e=>{if(!e){return[""]}const t=Ks(e).replace(/\\n/g,"#br#");return t.split("#br#")},"getRows");var Ws=(()=>{let e=!1;return()=>{if(!e){zs();e=!0}}})();function zs(){const e="data-temp-href-target";Ao.addHook("beforeSanitizeAttributes",t=>{var n;t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,(n=t.getAttribute("target"))!==null&&n!==void 0?n:"")});Ao.addHook("afterSanitizeAttributes",t=>{var n;if(t.tagName==="A"&&t.hasAttribute(e)){t.setAttribute("target",(n=t.getAttribute(e))!==null&&n!==void 0?n:"");t.removeAttribute(e);t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener")}})}Oo(zs,"setupDompurifyHooks");var $s=Oo(e=>{Ws();const t=Ao.sanitize(e);return t},"removeScript");var Us=Oo((e,t)=>{var n;if(((n=t.flowchart)===null||n===void 0?void 0:n.htmlLabels)!==!1){let n=t.securityLevel;if(n==="antiscript"||n==="strict"){e=$s(e)}else if(n!=="loose"){e=Ks(e);e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");e=e.replace(/=/g,"&equals;");e=Xs(e)}}return e},"sanitizeMore");var qs=Oo((e,t)=>{if(!e){return e}if(t.dompurifyConfig){e=Ao.sanitize(Us(e,t),t.dompurifyConfig).toString()}else{e=Ao.sanitize(Us(e,t),{FORBID_TAGS:["style"]}).toString()}return e},"sanitizeText");var Gs=Oo((e,t)=>{if(typeof e==="string"){return qs(e,t)}return e.flat().map(e=>qs(e,t))},"sanitizeTextOrArray");var Ys=Oo(e=>js.test(e),"hasBreaks");var Vs=Oo(e=>e.split(js),"splitBreaks");var Xs=Oo(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak");var Ks=Oo(e=>e.replace(js,"#br#"),"breakToPlaceholder");var Qs=Oo(e=>{let t="";if(e){t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;t=CSS.escape(t)}return t},"getUrl");var Zs=Oo(e=>e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())?!1:!0,"evaluate");var Js=Oo(function(...e){const t=e.filter(e=>!isNaN(e));return Math.max(...t)},"getMax");var el=Oo(function(...e){const t=e.filter(e=>!isNaN(e));return Math.min(...t)},"getMin");var tl=Oo(function(e){const t=e.split(/(,)/);const n=[];for(let e=0;e<t.length;e++){let r=t[e];if(r===","&&e>0&&e+1<t.length){let a=t[e-1],i=t[e+1];if(rl(a,i)){r=a+","+i;e++;n.pop()}}n.push(al(r))}return n.join("")},"parseGenericTypes");var nl=Oo((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence");var rl=Oo((e,t)=>{const n=nl(e,"~");const r=nl(t,"~");return n===1&&r===1},"shouldCombineSets");var al=Oo(e=>{const t=nl(e,"~");let n=!1;if(t<=1){return e}if(t%2!==0&&e.startsWith("~")){e=e.substring(1);n=!0}const r=[...e];let a=r.indexOf("~");let i=r.lastIndexOf("~");while(a!==-1&&i!==-1&&a!==i){r[a]="<";r[i]=">";a=r.indexOf("~");i=r.lastIndexOf("~")}n&&r.unshift("~");return r.join("")},"processSet");var il=Oo(()=>window.MathMLElement!==void 0,"isMathMLSupported");var ol=/\$\$(.*)\$\$/g;var sl=Oo(e=>{var t,n;return((n=(t=e.match(ol))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)>0},"hasKatex");var ll=Oo(async(e,t)=>{const n=document.createElement("div");n.innerHTML=await cl(e,t);n.id="katex-temp";n.style.visibility="hidden";n.style.position="absolute";n.style.top="0";const r=document.querySelector("body");r===null||r===void 0?void 0:r.insertAdjacentElement("beforeend",n);const a={width:n.clientWidth,height:n.clientHeight};n.remove();return a},"calculateMathMLDimensions");var dl=Oo(async(e,t)=>{if(!sl(e)){return e}if(!(il()||t.legacyMathML||t.forceLegacyMathML)){return e.replace(ol,"MathML is unsupported in this environment.")}{let{default:n}=await r("b.js","a"),a=t.forceLegacyMathML||!il()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(js).map(e=>sl(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`).join("").replace(ol,(e,t)=>n.renderToString(t,{throwOnError:!0,displayMode:!0,output:a}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return e.replace(ol,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized");var cl=Oo(async(e,t)=>qs(await dl(e,t),t),"renderKatexSanitized");var hl=cl;var ul={getRows:Hs,sanitizeText:qs,sanitizeTextOrArray:Gs,hasBreaks:Ys,splitBreaks:Vs,lineBreakRegex:js,removeScript:$s,getUrl:Qs,evaluate:Zs,getMax:Js,getMin:el};var pl=Oo(function(e,t){for(let n of t){e.attr(n[0],n[1])}},"d3Attrs");var _l=Oo(function(e,t,n){let r=new Map;if(n){r.set("width","100%");r.set("style",`max-width: ${t}px;`)}else{r.set("height",e);r.set("width",t)}return r},"calculateSvgSizeAttrs");var fl=Oo(function(e,t,n,r){const a=_l(t,n,r);pl(e,a)},"configureSvgSize");var ml=Oo(function(e,t,n,r){const a=t.node().getBBox();const i=a.width;const o=a.height;Ho.info(`SVG bounds: ${i}x${o}`,a)
let s=0;let l=0;Ho.info(`Graph bounds: ${s}x${l}`,e);s=i+n*2;l=o+n*2;Ho.info(`Calculated bounds: ${s}x${l}`);fl(t,l,s,r);const d=`${a.x-n} ${a.y-n} ${a.width+2*n} ${a.height+2*n}`;t.attr("viewBox",d)},"setupGraphViewbox");var gl={};var yl=Oo((e,t,n)=>{let r="";if(e in gl&&gl[e]){r=gl[e](n)}else{Ho.warn(`No theme found for ${e}`)}return` & {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n    fill: ${n.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${n.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${n.errorTextColor};\n    stroke: ${n.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${n.lineColor};\n    stroke: ${n.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${n.lineColor};\n  }\n\n  & svg {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${r}\n\n  ${t}\n`},"getStyles");var xl=Oo((e,t)=>{t!==void 0&&(gl[e]=t)},"addStylesForDiagram");var bl={};Fo(bl,{clear:()=>Cl,getAccDescription:()=>Dl,getAccTitle:()=>Nl,getDiagramTitle:()=>Ol,setAccDescription:()=>Ll,setAccTitle:()=>El,setDiagramTitle:()=>Rl});var vl="";var kl="";var wl="";var Sl=Oo(e=>qs(e,Ps()),"sanitizeText");var Cl=Oo(()=>{vl="";wl="";kl=""},"clear");var Tl=Cl;var El=Oo(e=>{vl=Sl(e).replace(/^\s+/g,"")},"setAccTitle");var Al=El;var Nl=Oo(()=>vl,"getAccTitle");var Pl=Nl;var Ll=Oo(e=>{wl=Sl(e).replace(/\n\s+/g,"\n")},"setAccDescription");var Ml=Ll;var Dl=Oo(()=>wl,"getAccDescription");var Il=Dl;var Rl=Oo(e=>{kl=Sl(e)},"setDiagramTitle");var Bl=Rl;var Ol=Oo(()=>kl,"getDiagramTitle");var Fl=Ol;var jl=Ps;var Hl=Oo(e=>qs(e,jl()),"sanitizeText");var Wl=Oo(()=>bl,"getCommonDb");var zl={};var $l=Oo((e,t,n)=>{var r;zl[e]&&Ho.warn(`Diagram with id ${e} already registered. Overwriting.`);zl[e]=t;n&&Ko(e,n);xl(e,t.styles);(r=t.injectUtils)===null||r===void 0?void 0:r.call(t,Ho,Wo,jl,Hl,ml,Wl(),()=>{})},"registerDiagram");var Ul=Oo(e=>{if(e in zl){return zl[e]}throw new ql(e)},"getDiagram");var ql=(Ro=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},n(Ro,"DiagramNotFoundError"),(()=>{Oo(Ro,"DiagramNotFoundError")})(),Ro);function Gl(e){return typeof e==="undefined"||e===null}Oo(Gl,"isNothing");function Yl(e){return typeof e==="object"&&e!==null}Oo(Yl,"isObject");function Vl(e){if(Array.isArray(e))return e;else if(Gl(e))return[];return[e]}Oo(Vl,"toArray");function Xl(e,t){var n,r,a,i;if(t){i=Object.keys(t);for(n=0,r=i.length;n<r;n+=1){a=i[n];e[a]=t[a]}}return e}Oo(Xl,"extend");function Kl(e,t){var n="",r;for(r=0;r<t;r+=1){n+=e}return n}Oo(Kl,"repeat");function Ql(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Oo(Ql,"isNegativeZero");var Zl={isNothing:Gl,isObject:Yl,toArray:Vl,repeat:Kl,isNegativeZero:Ql,extend:Xl};function Jl(e,t){var n="",r=e.reason||"(unknown reason)";if(!e.mark)return r;e.mark.name&&(n+='in "'+e.mark.name+'" ');n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")";!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet);return r+" "+n}Oo(Jl,"formatError");function ed(e,t){Error.call(this);this.name="YAMLException";this.reason=e;this.mark=t;this.message=Jl(this,!1);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}}Oo(ed,"YAMLException$1");ed.prototype=Object.create(Error.prototype);ed.prototype.constructor=ed;ed.prototype.toString=Oo(function e(t){return this.name+": "+Jl(this,t)},"toString");function td(e,t,n,r,a){var i="";var o="";var s=Math.floor(a/2)-1;if(r-t>s){i=" ... ";t=r-s+i.length}if(n-r>s){o=" ...";n=r+s-o.length}return{str:i+e.slice(t,n).replace(/\t/g,"")+o,pos:r-t+i.length}}Oo(td,"getLine");function nd(e,t){return Zl.repeat(" ",t-e.length)+e}Oo(nd,"padStart");function rd(e,t){t=Object.create(t||null);if(!e.buffer)return null;t.maxLength||(t.maxLength=79);typeof t.indent!=="number"&&(t.indent=1);typeof t.linesBefore!=="number"&&(t.linesBefore=3);typeof t.linesAfter!=="number"&&(t.linesAfter=2);var n=/\r?\n|\r|\0/g;var r=[0];var a=[];var i;var o=-1;while(i=n.exec(e.buffer)){a.push(i.index);r.push(i.index+i[0].length);e.position<=i.index&&o<0&&(o=r.length-2)}o<0&&(o=r.length-1);var s="",l,d;var c=Math.min(e.line+t.linesAfter,a.length).toString().length;var h=t.maxLength-(t.indent+c+3);for(l=1;l<=t.linesBefore;l++){if(o-l<0)break;d=td(e.buffer,r[o-l],a[o-l],e.position-(r[o]-r[o-l]),h);s=Zl.repeat(" ",t.indent)+nd((e.line-l+1).toString(),c)+" | "+d.str+"\n"+s}d=td(e.buffer,r[o],a[o],e.position,h);s+=Zl.repeat(" ",t.indent)+nd((e.line+1).toString(),c)+" | "+d.str+"\n";s+=Zl.repeat("-",t.indent+c+3+d.pos)+"^\n";for(l=1;l<=t.linesAfter;l++){if(o+l>=a.length)break;d=td(e.buffer,r[o+l],a[o+l],e.position-(r[o]-r[o+l]),h);s+=Zl.repeat(" ",t.indent)+nd((e.line+l+1).toString(),c)+" | "+d.str+"\n"}return s.replace(/\n$/,"")}Oo(rd,"makeSnippet");var ad=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"];var id=["scalar","sequence","mapping"];function od(e){var t={};e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})});return t}Oo(od,"compileStyleAliases");function sd(e,t){t=t||{};Object.keys(t).forEach(function(t){if(ad.indexOf(t)===-1){throw new ed('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}});this.options=t;this.tag=e;this.kind=t["kind"]||null;this.resolve=t["resolve"]||function(){return!0};this.construct=t["construct"]||function(e){return e};this.instanceOf=t["instanceOf"]||null;this.predicate=t["predicate"]||null;this.represent=t["represent"]||null;this.representName=t["representName"]||null;this.defaultStyle=t["defaultStyle"]||null;this.multi=t["multi"]||!1;this.styleAliases=od(t["styleAliases"]||null);if(id.indexOf(this.kind)===-1){throw new ed('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}}Oo(sd,"Type$1");function ld(e,t){var n=[];e[t].forEach(function(e){var t=n.length;n.forEach(function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)});n[t]=e});return n}Oo(ld,"compileList");function dd(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(t){if(t.multi){e.multi[t.kind].push(t);e.multi["fallback"].push(t)}else{e[t.kind][t.tag]=e["fallback"][t.tag]=t}}Oo(r,"collectType");for(t=0,n=arguments.length;t<n;t+=1){arguments[t].forEach(r)}return e}Oo(dd,"compileMap");function cd(e){return this.extend(e)}Oo(cd,"Schema$1");cd.prototype.extend=Oo(function e(t){var n=[];var r=[];if(t instanceof sd){r.push(t)}else if(Array.isArray(t)){r=r.concat(t)}else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit))){t.implicit&&(n=n.concat(t.implicit));t.explicit&&(r=r.concat(t.explicit))}else{throw new ed("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })")}n.forEach(function(e){if(!(e instanceof sd)){throw new ed("Specified list of YAML types (or a single Type object) contains a non-Type object.")}if(e.loadKind&&e.loadKind!=="scalar"){throw new ed("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}if(e.multi){throw new ed("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}});r.forEach(function(e){if(!(e instanceof sd)){throw new ed("Specified list of YAML types (or a single Type object) contains a non-Type object.")}});var a=Object.create(cd.prototype);a.implicit=(this.implicit||[]).concat(n);a.explicit=(this.explicit||[]).concat(r);a.compiledImplicit=ld(a,"implicit");a.compiledExplicit=ld(a,"explicit");a.compiledTypeMap=dd(a.compiledImplicit,a.compiledExplicit);return a},"extend");var hd=new sd("tag:yaml.org,2002:str",{kind:"scalar",construct:Oo(function(e){return e!==null?e:""},"construct")});var ud=new sd("tag:yaml.org,2002:seq",{kind:"sequence",construct:Oo(function(e){return e!==null?e:[]},"construct")});var pd=new sd("tag:yaml.org,2002:map",{kind:"mapping",construct:Oo(function(e){return e!==null?e:{}},"construct")});var _d=new cd({explicit:[hd,ud,pd]});function fd(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}Oo(fd,"resolveYamlNull");function md(){return null}Oo(md,"constructYamlNull");function gd(e){return e===null}Oo(gd,"isNull");var yd=new sd("tag:yaml.org,2002:null",{kind:"scalar",resolve:fd,construct:md,predicate:gd,represent:{canonical:Oo(function(){return"~"},"canonical"),lowercase:Oo(function(){return"null"},"lowercase"),uppercase:Oo(function(){return"NULL"},"uppercase"),camelcase:Oo(function(){return"Null"},"camelcase"),empty:Oo(function(){return""},"empty")},defaultStyle:"lowercase"});function xd(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}Oo(xd,"resolveYamlBoolean");function bd(e){return e==="true"||e==="True"||e==="TRUE"}Oo(bd,"constructYamlBoolean");function vd(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Oo(vd,"isBoolean");var kd=new sd("tag:yaml.org,2002:bool",{kind:"scalar",resolve:xd,construct:bd,predicate:vd,represent:{lowercase:Oo(function(e){return e?"true":"false"},"lowercase"),uppercase:Oo(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:Oo(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function wd(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}Oo(wd,"isHexCode");function Sd(e){return 48<=e&&e<=55}Oo(Sd,"isOctCode");function Cd(e){return 48<=e&&e<=57}Oo(Cd,"isDecCode");function Td(e){if(e===null)return!1;var t=e.length,n=0,r=!1,a;if(!t)return!1;a=e[n];(a==="-"||a==="+")&&(a=e[++n]);if(a==="0"){if(n+1===t)return!0;a=e[++n];if(a==="b"){n++;for(;n<t;n++){a=e[n];if(a==="_")continue;if(a!=="0"&&a!=="1")return!1;r=!0}return r&&a!=="_"}if(a==="x"){n++;for(;n<t;n++){a=e[n];if(a==="_")continue;if(!wd(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}if(a==="o"){n++;for(;n<t;n++){a=e[n];if(a==="_")continue;if(!Sd(e.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}}if(a==="_")return!1;for(;n<t;n++){a=e[n];if(a==="_")continue;if(!Cd(e.charCodeAt(n))){return!1}r=!0}if(!r||a==="_")return!1;return!0}Oo(Td,"resolveYamlInteger");function Ed(e){var t=e,n=1,r;t.indexOf("_")!==-1&&(t=t.replace(/_/g,""));r=t[0];if(r==="-"||r==="+"){r==="-"&&(n=-1);t=t.slice(1);r=t[0]}if(t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}Oo(Ed,"constructYamlInteger");function Ad(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1===0&&!Zl.isNegativeZero(e))}Oo(Ad,"isInteger");var Nd=new sd("tag:yaml.org,2002:int",{kind:"scalar",resolve:Td,construct:Ed,predicate:Ad,represent:{binary:Oo(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:Oo(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:Oo(function(e){return e.toString(10)},"decimal"),hexadecimal:Oo(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}});var Pd=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ld(e){if(e===null)return!1;if(!Pd.test(e)||e[e.length-1]==="_"){return!1}return!0}Oo(Ld,"resolveYamlFloat");function Md(e){var t,n;t=e.replace(/_/g,"").toLowerCase();n=t[0]==="-"?-1:1;"+-".indexOf(t[0])>=0&&(t=t.slice(1));if(t===".inf"){return n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(t===".nan"){return NaN}return n*parseFloat(t,10)}Oo(Md,"constructYamlFloat");var Dd=/^[-+]?[0-9]+e/;function Id(e,t){var n;if(isNaN(e)){switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===e){switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===e){switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(Zl.isNegativeZero(e)){return"-0.0"}n=e.toString(10);return Dd.test(n)?n.replace("e",".e"):n}Oo(Id,"representYamlFloat");function Rd(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Zl.isNegativeZero(e))}Oo(Rd,"isFloat");var Bd=new sd("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ld,construct:Md,predicate:Rd,represent:Id,defaultStyle:"lowercase"});var Od=_d.extend({implicit:[yd,kd,Nd,Bd]});var Fd=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$");var jd=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Hd(e){if(e===null)return!1;if(Fd.exec(e)!==null)return!0;if(jd.exec(e)!==null)return!0;return!1}Oo(Hd,"resolveYamlTimestamp");function Wd(e){var t,n,r,a,i,o,s,l=0,d=null,c,h,u;t=Fd.exec(e);t===null&&(t=jd.exec(e));if(t===null)throw new Error("Date resolve error");n=+t[1];r=+t[2]-1;a=+t[3];if(!t[4]){return new Date(Date.UTC(n,r,a))}i=+t[4];o=+t[5];s=+t[6];if(t[7]){l=t[7].slice(0,3);while(l.length<3){l+="0"}l=+l}if(t[9]){c=+t[10];h=+(t[11]||0);d=(c*60+h)*6e4;t[9]==="-"&&(d=-d)}u=new Date(Date.UTC(n,r,a,i,o,s,l));d&&u.setTime(u.getTime()-d);return u}Oo(Wd,"constructYamlTimestamp");function zd(e){return e.toISOString()}Oo(zd,"representYamlTimestamp");var $d=new sd("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Hd,construct:Wd,instanceOf:Date,represent:zd});function Ud(e){return e==="<<"||e===null}Oo(Ud,"resolveYamlMerge");var qd=new sd("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ud});var Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function Yd(e){if(e===null)return!1;var t,n,r=0,a=e.length;for(n=0;n<a;n++){t=Gd.indexOf(e.charAt(n));if(t>64)continue;if(t<0)return!1;r+=6}return r%8===0}Oo(Yd,"resolveYamlBinary");function Vd(e){var t,n,r=e.replace(/[\r\n=]/g,""),a=r.length,i=0,o=[];for(t=0;t<a;t++){if(t%4===0&&t){o.push(i>>16&255);o.push(i>>8&255);o.push(i&255)}i=i<<6|Gd.indexOf(r.charAt(t))}n=a%4*6;if(n===0){o.push(i>>16&255);o.push(i>>8&255);o.push(i&255)}else if(n===18){o.push(i>>10&255);o.push(i>>2&255)}else n===12&&o.push(i>>4&255);return new Uint8Array(o)}Oo(Vd,"constructYamlBinary");function Xd(e){var t="",n=0,r,a,i=e.length;for(r=0;r<i;r++){if(r%3===0&&r){t+=Gd[n>>18&63];t+=Gd[n>>12&63];t+=Gd[n>>6&63];t+=Gd[n&63]}n=(n<<8)+e[r]}a=i%3;if(a===0){t+=Gd[n>>18&63];t+=Gd[n>>12&63];t+=Gd[n>>6&63];t+=Gd[n&63]}else if(a===2){t+=Gd[n>>10&63];t+=Gd[n>>4&63];t+=Gd[n<<2&63];t+=Gd[64]}else if(a===1){t+=Gd[n>>2&63];t+=Gd[n<<4&63];t+=Gd[64];t+=Gd[64]}return t}Oo(Xd,"representYamlBinary");function Kd(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Oo(Kd,"isBinary");var Qd=new sd("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Yd,construct:Vd,predicate:Kd,represent:Xd});var Zd=Object.prototype.hasOwnProperty;var Jd=Object.prototype.toString;function ec(e){if(e===null)return!0;var t=[],n,r,a,i,o;for(n=0,r=e.length;n<r;n+=1){a=e[n];o=!1;if(Jd.call(a)!=="[object Object]")return!1;for(i in a){if(Zd.call(a,i)){if(!o)o=!0;else return!1}}if(!o)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}Oo(ec,"resolveYamlOmap");function tc(e){return e!==null?e:[]}Oo(tc,"constructYamlOmap");var nc=new sd("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ec,construct:tc});var rc=Object.prototype.toString;function ac(e){if(e===null)return!0;var t,n,r,a,i;i=new Array(e.length);for(t=0,n=e.length;t<n;t+=1){r=e[t];if(rc.call(r)!=="[object Object]")return!1;a=Object.keys(r);if(a.length!==1)return!1;i[t]=[a[0],r[a[0]]]}return!0}Oo(ac,"resolveYamlPairs");function ic(e){if(e===null)return[];var t,n,r,a,i;i=new Array(e.length);for(t=0,n=e.length;t<n;t+=1){r=e[t];a=Object.keys(r);i[t]=[a[0],r[a[0]]]}return i}Oo(ic,"constructYamlPairs");var oc=new sd("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ac,construct:ic});var sc=Object.prototype.hasOwnProperty;function lc(e){if(e===null)return!0;var t;for(t in e){if(sc.call(e,t)){if(e[t]!==null)return!1}}return!0}Oo(lc,"resolveYamlSet");function dc(e){return e!==null?e:{}}Oo(dc,"constructYamlSet");var cc=new sd("tag:yaml.org,2002:set",{kind:"mapping",resolve:lc,construct:dc});var hc=Od.extend({implicit:[$d,qd],explicit:[Qd,nc,oc,cc]});var uc=Object.prototype.hasOwnProperty;var pc=1;var _c=2;var fc=3;var mc=4;var gc=1;var yc=2;var xc=3;var bc=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var vc=/[\x85\u2028\u2029]/;var kc=/[,\[\]\{\}]/;var wc=/^(?:!|!!|![a-z\-]+!)$/i;var Sc=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Cc(e){return Object.prototype.toString.call(e)}Oo(Cc,"_class");function Tc(e){return e===10||e===13}Oo(Tc,"is_EOL");function Ec(e){return e===9||e===32}Oo(Ec,"is_WHITE_SPACE");function Ac(e){return e===9||e===32||e===10||e===13}Oo(Ac,"is_WS_OR_EOL");function Nc(e){return e===44||e===91||e===93||e===123||e===125}Oo(Nc,"is_FLOW_INDICATOR");function Pc(e){var t;if(48<=e&&e<=57){return e-48}t=e|32;if(97<=t&&t<=102){return t-97+10}return-1}Oo(Pc,"fromHexCode");function Lc(e){if(e===120){return 2}if(e===117){return 4}if(e===85){return 8}return 0}Oo(Lc,"escapedHexLen");function Mc(e){if(48<=e&&e<=57){return e-48}return-1}Oo(Mc,"fromDecimalCode");function Dc(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116?"\t":e===9?"\t":e===110?"\n":e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1b":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}Oo(Dc,"simpleEscapeSequence");function Ic(e){if(e<=65535){return String.fromCharCode(e)}return String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}Oo(Ic,"charFromCodepoint");var Rc=new Array(256);var Bc=new Array(256);for(Oc=0;Oc<256;Oc++){Rc[Oc]=Dc(Oc)?1:0;Bc[Oc]=Dc(Oc)}var Oc;function Fc(e,t){this.input=e;this.filename=t["filename"]||null;this.schema=t["schema"]||hc;this.onWarning=t["onWarning"]||null;this.legacy=t["legacy"]||!1;this.json=t["json"]||!1;this.listener=t["listener"]||null;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=e.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.firstTabInLine=-1;this.documents=[]}Oo(Fc,"State$1");function jc(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};n.snippet=rd(n);return new ed(t,n)}Oo(jc,"generateError");function Hc(e,t){throw jc(e,t)}Oo(Hc,"throwError");function Wc(e,t){e.onWarning&&e.onWarning.call(null,jc(e,t))}Oo(Wc,"throwWarning");var zc={YAML:Oo(function e(t,n,r){var a,i,o;t.version!==null&&Hc(t,"duplication of %YAML directive");r.length!==1&&Hc(t,"YAML directive accepts exactly one argument");a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]);a===null&&Hc(t,"ill-formed argument of the YAML directive");i=parseInt(a[1],10);o=parseInt(a[2],10);i!==1&&Hc(t,"unacceptable YAML version of the document");t.version=r[0];t.checkLineBreaks=o<2;o!==1&&o!==2&&Wc(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:Oo(function e(t,n,r){var a,i;r.length!==2&&Hc(t,"TAG directive accepts exactly two arguments");a=r[0];i=r[1];wc.test(a)||Hc(t,"ill-formed tag handle (first argument) of the TAG directive");uc.call(t.tagMap,a)&&Hc(t,'there is a previously declared suffix for "'+a+'" tag handle');Sc.test(i)||Hc(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(e){Hc(t,"tag prefix is malformed: "+i)}t.tagMap[a]=i},"handleTagDirective")};function $c(e,t,n,r){var a,i,o,s;if(t<n){s=e.input.slice(t,n);if(r){for(a=0,i=s.length;a<i;a+=1){o=s.charCodeAt(a);o===9||32<=o&&o<=1114111||Hc(e,"expected valid JSON character")}}else bc.test(s)&&Hc(e,"the stream contains non-printable characters");e.result+=s}}Oo($c,"captureSegment");function Uc(e,t,n,r){var a,i,o,s;Zl.isObject(n)||Hc(e,"cannot merge mappings; the provided source object is unacceptable");a=Object.keys(n);for(o=0,s=a.length;o<s;o+=1){i=a[o];if(!uc.call(t,i)){t[i]=n[i];r[i]=!0}}}Oo(Uc,"mergeMappings");function qc(e,t,n,r,a,i,o,s,l){var d,c;if(Array.isArray(a)){a=Array.prototype.slice.call(a);for(d=0,c=a.length;d<c;d+=1){Array.isArray(a[d])&&Hc(e,"nested arrays are not supported inside keys");typeof a==="object"&&Cc(a[d])==="[object Object]"&&(a[d]="[object Object]")}}typeof a==="object"&&Cc(a)==="[object Object]"&&(a="[object Object]");a=String(a);t===null&&(t={});if(r==="tag:yaml.org,2002:merge"){if(Array.isArray(i)){for(d=0,c=i.length;d<c;d+=1){Uc(e,t,i[d],n)}}else{Uc(e,t,i,n)}}else{if(!e.json&&!uc.call(n,a)&&uc.call(t,a)){e.line=o||e.line;e.lineStart=s||e.lineStart;e.position=l||e.position;Hc(e,"duplicated mapping key")}if(a==="__proto__"){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:i})}else{t[a]=i}delete n[a]}return t}Oo(qc,"storeMappingPair");function Gc(e){var t;t=e.input.charCodeAt(e.position);if(t===10){e.position++}else if(t===13){e.position++;e.input.charCodeAt(e.position)===10&&e.position++}else{Hc(e,"a line break is expected")}e.line+=1;e.lineStart=e.position;e.firstTabInLine=-1}Oo(Gc,"readLineBreak");function Yc(e,t,n){var r=0,a=e.input.charCodeAt(e.position);while(a!==0){while(Ec(a)){a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position);a=e.input.charCodeAt(++e.position)}if(t&&a===35){do{a=e.input.charCodeAt(++e.position)}while(a!==10&&a!==13&&a!==0)}if(Tc(a)){Gc(e);a=e.input.charCodeAt(e.position);r++;e.lineIndent=0;while(a===32){e.lineIndent++;a=e.input.charCodeAt(++e.position)}}else{break}}n!==-1&&r!==0&&e.lineIndent<n&&Wc(e,"deficient indentation");return r}Oo(Yc,"skipSeparationSpace");function Vc(e){var t=e.position,n;n=e.input.charCodeAt(t);if((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)){t+=3;n=e.input.charCodeAt(t);if(n===0||Ac(n)){return!0}}return!1}Oo(Vc,"testDocumentSeparator");function Xc(e,t){if(t===1){e.result+=" "}else t>1&&(e.result+=Zl.repeat("\n",t-1))}Oo(Xc,"writeFoldedLines");function Kc(e,t,n){var r,a,i,o,s,l,d,c,h=e.kind,u=e.result,p;p=e.input.charCodeAt(e.position);if(Ac(p)||Nc(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96){return!1}if(p===63||p===45){a=e.input.charCodeAt(e.position+1);if(Ac(a)||n&&Nc(a)){return!1}}e.kind="scalar";e.result="";i=o=e.position;s=!1;while(p!==0){if(p===58){a=e.input.charCodeAt(e.position+1);if(Ac(a)||n&&Nc(a)){break}}else if(p===35){r=e.input.charCodeAt(e.position-1);if(Ac(r)){break}}else if(e.position===e.lineStart&&Vc(e)||n&&Nc(p)){break}else if(Tc(p)){l=e.line;d=e.lineStart;c=e.lineIndent;Yc(e,!1,-1);if(e.lineIndent>=t){s=!0;p=e.input.charCodeAt(e.position);continue}else{e.position=o;e.line=l;e.lineStart=d;e.lineIndent=c;break}}if(s){$c(e,i,o,!1);Xc(e,e.line-l);i=o=e.position;s=!1}Ec(p)||(o=e.position+1);p=e.input.charCodeAt(++e.position)}$c(e,i,o,!1);if(e.result){return!0}e.kind=h;e.result=u;return!1}Oo(Kc,"readPlainScalar");function Qc(e,t){var n,r,a;n=e.input.charCodeAt(e.position);if(n!==39){return!1}e.kind="scalar";e.result="";e.position++;r=a=e.position;while((n=e.input.charCodeAt(e.position))!==0){if(n===39){$c(e,r,e.position,!0);n=e.input.charCodeAt(++e.position);if(n===39){r=e.position;e.position++;a=e.position}else{return!0}}else if(Tc(n)){$c(e,r,a,!0);Xc(e,Yc(e,!1,t));r=a=e.position}else if(e.position===e.lineStart&&Vc(e)){Hc(e,"unexpected end of the document within a single quoted scalar")}else{e.position++;a=e.position}}Hc(e,"unexpected end of the stream within a single quoted scalar")}Oo(Qc,"readSingleQuotedScalar");function Zc(e,t){var n,r,a,i,o,s;s=e.input.charCodeAt(e.position);if(s!==34){return!1}e.kind="scalar";e.result="";e.position++;n=r=e.position;while((s=e.input.charCodeAt(e.position))!==0){if(s===34){$c(e,n,e.position,!0);e.position++;return!0}else if(s===92){$c(e,n,e.position,!0);s=e.input.charCodeAt(++e.position);if(Tc(s)){Yc(e,!1,t)}else if(s<256&&Rc[s]){e.result+=Bc[s];e.position++}else if((o=Lc(s))>0){a=o;i=0;for(;a>0;a--){s=e.input.charCodeAt(++e.position);if((o=Pc(s))>=0){i=(i<<4)+o}else{Hc(e,"expected hexadecimal character")}}e.result+=Ic(i);e.position++}else{Hc(e,"unknown escape sequence")}n=r=e.position}else if(Tc(s)){$c(e,n,r,!0);Xc(e,Yc(e,!1,t));n=r=e.position}else if(e.position===e.lineStart&&Vc(e)){Hc(e,"unexpected end of the document within a double quoted scalar")}else{e.position++;r=e.position}}Hc(e,"unexpected end of the stream within a double quoted scalar")}Oo(Zc,"readDoubleQuotedScalar");function Jc(e,t){var n=!0,r,a,i,o=e.tag,s,l=e.anchor,d,c,h,u,p,_=Object.create(null),f,m,g,y;y=e.input.charCodeAt(e.position);if(y===91){c=93;p=!1;s=[]}else if(y===123){c=125;p=!0;s={}}else{return!1}e.anchor!==null&&(e.anchorMap[e.anchor]=s);y=e.input.charCodeAt(++e.position);while(y!==0){Yc(e,!0,t);y=e.input.charCodeAt(e.position);if(y===c){e.position++;e.tag=o;e.anchor=l;e.kind=p?"mapping":"sequence";e.result=s;return!0}else if(!n){Hc(e,"missed comma between flow collection entries")}else y===44&&Hc(e,"expected the node content, but found ','");m=f=g=null;h=u=!1;if(y===63){d=e.input.charCodeAt(e.position+1);if(Ac(d)){h=u=!0;e.position++;Yc(e,!0,t)}}r=e.line;a=e.lineStart;i=e.position;oh(e,t,pc,!1,!0);m=e.tag;f=e.result;Yc(e,!0,t);y=e.input.charCodeAt(e.position);if((u||e.line===r)&&y===58){h=!0;y=e.input.charCodeAt(++e.position);Yc(e,!0,t);oh(e,t,pc,!1,!0);g=e.result}if(p){qc(e,s,_,m,f,g,r,a,i)}else if(h){s.push(qc(e,null,_,m,f,g,r,a,i))}else{s.push(f)}Yc(e,!0,t);y=e.input.charCodeAt(e.position);if(y===44){n=!0;y=e.input.charCodeAt(++e.position)}else{n=!1}}Hc(e,"unexpected end of the stream within a flow collection")}Oo(Jc,"readFlowCollection");function eh(e,t){var n,r,a=gc,i=!1,o=!1,s=t,l=0,d=!1,c,h;h=e.input.charCodeAt(e.position);if(h===124){r=!1}else if(h===62){r=!0}else{return!1}e.kind="scalar";e.result="";while(h!==0){h=e.input.charCodeAt(++e.position);if(h===43||h===45){if(gc===a){a=h===43?xc:yc}else{Hc(e,"repeat of a chomping mode identifier")}}else if((c=Mc(h))>=0){if(c===0){Hc(e,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!o){s=t+c-1;o=!0}else{Hc(e,"repeat of an indentation width identifier")}}else{break}}if(Ec(h)){do{h=e.input.charCodeAt(++e.position)}while(Ec(h));if(h===35){do{h=e.input.charCodeAt(++e.position)}while(!Tc(h)&&h!==0)}}while(h!==0){Gc(e);e.lineIndent=0;h=e.input.charCodeAt(e.position);while((!o||e.lineIndent<s)&&h===32){e.lineIndent++;h=e.input.charCodeAt(++e.position)}!o&&e.lineIndent>s&&(s=e.lineIndent);if(Tc(h)){l++;continue}if(e.lineIndent<s){if(a===xc){e.result+=Zl.repeat("\n",i?1+l:l)}else a===gc&&(i&&(e.result+="\n"));break}if(r){if(Ec(h)){d=!0;e.result+=Zl.repeat("\n",i?1+l:l)}else if(d){d=!1;e.result+=Zl.repeat("\n",l+1)}else if(l===0){i&&(e.result+=" ")}else{e.result+=Zl.repeat("\n",l)}}else{e.result+=Zl.repeat("\n",i?1+l:l)}i=!0;o=!0;l=0;n=e.position;while(!Tc(h)&&h!==0){h=e.input.charCodeAt(++e.position)}$c(e,n,e.position,!1)}return!0}Oo(eh,"readBlockScalar");function th(e,t){var n,r=e.tag,a=e.anchor,i=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;e.anchor!==null&&(e.anchorMap[e.anchor]=i);l=e.input.charCodeAt(e.position);while(l!==0){if(e.firstTabInLine!==-1){e.position=e.firstTabInLine;Hc(e,"tab characters must not be used in indentation")}if(l!==45){break}o=e.input.charCodeAt(e.position+1);if(!Ac(o)){break}s=!0;e.position++;if(Yc(e,!0,-1)){if(e.lineIndent<=t){i.push(null);l=e.input.charCodeAt(e.position);continue}}n=e.line;oh(e,t,fc,!1,!0);i.push(e.result);Yc(e,!0,-1);l=e.input.charCodeAt(e.position);if((e.line===n||e.lineIndent>t)&&l!==0){Hc(e,"bad indentation of a sequence entry")}else if(e.lineIndent<t){break}}if(s){e.tag=r;e.anchor=a;e.kind="sequence";e.result=i;return!0}return!1}Oo(th,"readBlockSequence");function nh(e,t,n){var r,a,i,o,s,l,d=e.tag,c=e.anchor,h={},u=Object.create(null),p=null,_=null,f=null,m=!1,g=!1,y;if(e.firstTabInLine!==-1)return!1;e.anchor!==null&&(e.anchorMap[e.anchor]=h);y=e.input.charCodeAt(e.position);while(y!==0){if(!m&&e.firstTabInLine!==-1){e.position=e.firstTabInLine;Hc(e,"tab characters must not be used in indentation")}r=e.input.charCodeAt(e.position+1);i=e.line;if((y===63||y===58)&&Ac(r)){if(y===63){if(m){qc(e,h,u,p,_,null,o,s,l);p=_=f=null}g=!0;m=!0;a=!0}else if(m){m=!1;a=!0}else{Hc(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line")}e.position+=1;y=r}else{o=e.line;s=e.lineStart;l=e.position;if(!oh(e,n,_c,!1,!0)){break}if(e.line===i){y=e.input.charCodeAt(e.position);while(Ec(y)){y=e.input.charCodeAt(++e.position)}if(y===58){y=e.input.charCodeAt(++e.position);Ac(y)||Hc(e,"a whitespace character is expected after the key-value separator within a block mapping");if(m){qc(e,h,u,p,_,null,o,s,l);p=_=f=null}g=!0;m=!1;a=!1;p=e.tag;_=e.result}else if(g){Hc(e,"can not read an implicit mapping pair; a colon is missed")}else{e.tag=d;e.anchor=c;return!0}}else if(g){Hc(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{e.tag=d;e.anchor=c;return!0}}if(e.line===i||e.lineIndent>t){if(m){o=e.line;s=e.lineStart;l=e.position}if(oh(e,t,mc,!0,a)){if(m){_=e.result}else{f=e.result}}if(!m){qc(e,h,u,p,_,f,o,s,l);p=_=f=null}Yc(e,!0,-1);y=e.input.charCodeAt(e.position)}if((e.line===i||e.lineIndent>t)&&y!==0){Hc(e,"bad indentation of a mapping entry")}else if(e.lineIndent<t){break}}m&&qc(e,h,u,p,_,null,o,s,l);if(g){e.tag=d;e.anchor=c;e.kind="mapping";e.result=h}return g}Oo(nh,"readBlockMapping");function rh(e){var t,n=!1,r=!1,a,i,o;o=e.input.charCodeAt(e.position);if(o!==33)return!1;e.tag!==null&&Hc(e,"duplication of a tag property");o=e.input.charCodeAt(++e.position);if(o===60){n=!0;o=e.input.charCodeAt(++e.position)}else if(o===33){r=!0;a="!!";o=e.input.charCodeAt(++e.position)}else{a="!"}t=e.position;if(n){do{o=e.input.charCodeAt(++e.position)}while(o!==0&&o!==62);if(e.position<e.length){i=e.input.slice(t,e.position);o=e.input.charCodeAt(++e.position)}else{Hc(e,"unexpected end of the stream within a verbatim tag")}}else{while(o!==0&&!Ac(o)){if(o===33){if(!r){a=e.input.slice(t-1,e.position+1);wc.test(a)||Hc(e,"named tag handle cannot contain such characters");r=!0;t=e.position+1}else{Hc(e,"tag suffix cannot contain exclamation marks")}}o=e.input.charCodeAt(++e.position)}i=e.input.slice(t,e.position);kc.test(i)&&Hc(e,"tag suffix cannot contain flow indicator characters")}i&&!Sc.test(i)&&Hc(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch(t){Hc(e,"tag name is malformed: "+i)}if(n){e.tag=i}else if(uc.call(e.tagMap,a)){e.tag=e.tagMap[a]+i}else if(a==="!"){e.tag="!"+i}else if(a==="!!"){e.tag="tag:yaml.org,2002:"+i}else{Hc(e,'undeclared tag handle "'+a+'"')}return!0}Oo(rh,"readTagProperty");function ah(e){var t,n;n=e.input.charCodeAt(e.position);if(n!==38)return!1;e.anchor!==null&&Hc(e,"duplication of an anchor property")
n=e.input.charCodeAt(++e.position);t=e.position;while(n!==0&&!Ac(n)&&!Nc(n)){n=e.input.charCodeAt(++e.position)}e.position===t&&Hc(e,"name of an anchor node must contain at least one character");e.anchor=e.input.slice(t,e.position);return!0}Oo(ah,"readAnchorProperty");function ih(e){var t,n,r;r=e.input.charCodeAt(e.position);if(r!==42)return!1;r=e.input.charCodeAt(++e.position);t=e.position;while(r!==0&&!Ac(r)&&!Nc(r)){r=e.input.charCodeAt(++e.position)}e.position===t&&Hc(e,"name of an alias node must contain at least one character");n=e.input.slice(t,e.position);uc.call(e.anchorMap,n)||Hc(e,'unidentified alias "'+n+'"');e.result=e.anchorMap[n];Yc(e,!0,-1);return!0}Oo(ih,"readAlias");function oh(e,t,n,r,a){var i,o,s,l=1,d=!1,c=!1,h,u,p,_,f,m;e.listener!==null&&e.listener("open",e);e.tag=null;e.anchor=null;e.kind=null;e.result=null;i=o=s=mc===n||fc===n;if(r){if(Yc(e,!0,-1)){d=!0;if(e.lineIndent>t){l=1}else if(e.lineIndent===t){l=0}else e.lineIndent<t&&(l=-1)}}if(l===1){while(rh(e)||ah(e)){if(Yc(e,!0,-1)){d=!0;s=i;if(e.lineIndent>t){l=1}else if(e.lineIndent===t){l=0}else e.lineIndent<t&&(l=-1)}else{s=!1}}}s&&(s=d||a);if(l===1||mc===n){if(pc===n||_c===n){f=t}else{f=t+1}m=e.position-e.lineStart;if(l===1){if(s&&(th(e,m)||nh(e,m,f))||Jc(e,f)){c=!0}else{if(o&&eh(e,f)||Qc(e,f)||Zc(e,f)){c=!0}else if(ih(e)){c=!0;(e.tag!==null||e.anchor!==null)&&Hc(e,"alias node should not have any properties")}else if(Kc(e,f,pc===n)){c=!0;e.tag===null&&(e.tag="?")}e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)}}else l===0&&(c=s&&th(e,m))}if(e.tag===null){e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)}else if(e.tag==="?"){e.result!==null&&e.kind!=="scalar"&&Hc(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"');for(h=0,u=e.implicitTypes.length;h<u;h+=1){_=e.implicitTypes[h];if(_.resolve(e.result)){e.result=_.construct(e.result);e.tag=_.tag;e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}}else if(e.tag!=="!"){if(uc.call(e.typeMap[e.kind||"fallback"],e.tag)){_=e.typeMap[e.kind||"fallback"][e.tag]}else{_=null;p=e.typeMap.multi[e.kind||"fallback"];for(h=0,u=p.length;h<u;h+=1){if(e.tag.slice(0,p[h].tag.length)===p[h].tag){_=p[h];break}}}_||Hc(e,"unknown tag !<"+e.tag+">");e.result!==null&&_.kind!==e.kind&&Hc(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"');if(!_.resolve(e.result,e.tag)){Hc(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}else{e.result=_.construct(e.result,e.tag);e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)}}e.listener!==null&&e.listener("close",e);return e.tag!==null||e.anchor!==null||c}Oo(oh,"composeNode");function sh(e){var t=e.position,n,r,a,i=!1,o;e.version=null;e.checkLineBreaks=e.legacy;e.tagMap=Object.create(null);e.anchorMap=Object.create(null);while((o=e.input.charCodeAt(e.position))!==0){Yc(e,!0,-1);o=e.input.charCodeAt(e.position);if(e.lineIndent>0||o!==37){break}i=!0;o=e.input.charCodeAt(++e.position);n=e.position;while(o!==0&&!Ac(o)){o=e.input.charCodeAt(++e.position)}r=e.input.slice(n,e.position);a=[];r.length<1&&Hc(e,"directive name must not be less than one character in length");while(o!==0){while(Ec(o)){o=e.input.charCodeAt(++e.position)}if(o===35){do{o=e.input.charCodeAt(++e.position)}while(o!==0&&!Tc(o));break}if(Tc(o))break;n=e.position;while(o!==0&&!Ac(o)){o=e.input.charCodeAt(++e.position)}a.push(e.input.slice(n,e.position))}o!==0&&Gc(e);if(uc.call(zc,r)){zc[r](e,r,a)}else{Wc(e,'unknown document directive "'+r+'"')}}Yc(e,!0,-1);if(e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45){e.position+=3;Yc(e,!0,-1)}else i&&Hc(e,"directives end mark is expected");oh(e,e.lineIndent-1,mc,!1,!0);Yc(e,!0,-1);e.checkLineBreaks&&vc.test(e.input.slice(t,e.position))&&Wc(e,"non-ASCII line breaks are interpreted as content");e.documents.push(e.result);if(e.position===e.lineStart&&Vc(e)){if(e.input.charCodeAt(e.position)===46){e.position+=3;Yc(e,!0,-1)}return}if(e.position<e.length-1){Hc(e,"end of the stream or a document separator is expected")}else{return}}Oo(sh,"readDocument");function lh(e,t){e=String(e);t=t||{};if(e.length!==0){e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+="\n");e.charCodeAt(0)===65279&&(e=e.slice(1))}var n=new Fc(e,t);var r=e.indexOf("\0");if(r!==-1){n.position=r;Hc(n,"null byte is not allowed in input")}n.input+="\0";while(n.input.charCodeAt(n.position)===32){n.lineIndent+=1;n.position+=1}while(n.position<n.length-1){sh(n)}return n.documents}Oo(lh,"loadDocuments");function dh(e,t,n){if(t!==null&&typeof t==="object"&&typeof n==="undefined"){n=t;t=null}var r=lh(e,n);if(typeof t!=="function"){return r}for(var a=0,i=r.length;a<i;a+=1){t(r[a])}}Oo(dh,"loadAll$1");function ch(e,t){var n=lh(e,t);if(n.length===0){return void 0}else if(n.length===1){return n[0]}throw new ed("expected a single document in the stream, but found more")}Oo(ch,"load$1");var hh={loadAll:dh,load:ch};var uh=Object.prototype.toString;var ph=Object.prototype.hasOwnProperty;var _h=65279;var fh=9;var mh=10;var gh=13;var yh=32;var xh=33;var bh=34;var vh=35;var kh=37;var wh=38;var Sh=39;var Ch=42;var Th=44;var Eh=45;var Ah=58;var Nh=61;var Ph=62;var Lh=63;var Mh=64;var Dh=91;var Ih=93;var Rh=96;var Bh=123;var Oh=124;var Fh=125;var jh={};jh[0]="\\0";jh[7]="\\a";jh[8]="\\b";jh[9]="\\t";jh[10]="\\n";jh[11]="\\v";jh[12]="\\f";jh[13]="\\r";jh[27]="\\e";jh[34]='\\"';jh[92]="\\\\";jh[133]="\\N";jh[160]="\\_";jh[8232]="\\L";jh[8233]="\\P";var Hh=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];var Wh=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function zh(e,t){var n,r,a,i,o,s,l;if(t===null)return{};n={};r=Object.keys(t);for(a=0,i=r.length;a<i;a+=1){o=r[a];s=String(t[o]);o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2));l=e.compiledTypeMap["fallback"][o];l&&ph.call(l.styleAliases,s)&&(s=l.styleAliases[s]);n[o]=s}return n}Oo(zh,"compileStyleMap");function $h(e){var t,n,r;t=e.toString(16).toUpperCase();if(e<=255){n="x";r=2}else if(e<=65535){n="u";r=4}else if(e<=4294967295){n="U";r=8}else{throw new ed("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+n+Zl.repeat("0",r-t.length)+t}Oo($h,"encodeHex");var Uh=1;var qh=2;function Gh(e){this.schema=e["schema"]||hc;this.indent=Math.max(1,e["indent"]||2);this.noArrayIndent=e["noArrayIndent"]||!1;this.skipInvalid=e["skipInvalid"]||!1;this.flowLevel=Zl.isNothing(e["flowLevel"])?-1:e["flowLevel"];this.styleMap=zh(this.schema,e["styles"]||null);this.sortKeys=e["sortKeys"]||!1;this.lineWidth=e["lineWidth"]||80;this.noRefs=e["noRefs"]||!1;this.noCompatMode=e["noCompatMode"]||!1;this.condenseFlow=e["condenseFlow"]||!1;this.quotingType=e["quotingType"]==='"'?qh:Uh;this.forceQuotes=e["forceQuotes"]||!1;this.replacer=typeof e["replacer"]==="function"?e["replacer"]:null;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}Oo(Gh,"State");function Yh(e,t){var n=Zl.repeat(" ",t),r=0,a=-1,i="",o,s=e.length;while(r<s){a=e.indexOf("\n",r);if(a===-1){o=e.slice(r);r=s}else{o=e.slice(r,a+1);r=a+1}o.length&&o!=="\n"&&(i+=n);i+=o}return i}Oo(Yh,"indentString");function Vh(e,t){return"\n"+Zl.repeat(" ",e.indent*t)}Oo(Vh,"generateNextLine");function Xh(e,t){var n,r,a;for(n=0,r=e.implicitTypes.length;n<r;n+=1){a=e.implicitTypes[n];if(a.resolve(t)){return!0}}return!1}Oo(Xh,"testImplicitResolving");function Kh(e){return e===yh||e===fh}Oo(Kh,"isWhitespace");function Qh(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==_h||65536<=e&&e<=1114111}Oo(Qh,"isPrintable");function Zh(e){return Qh(e)&&e!==_h&&e!==gh&&e!==mh}Oo(Zh,"isNsCharOrWhitespace");function Jh(e,t,n){var r=Zh(e);var a=r&&!Kh(e);return(n?r:r&&e!==Th&&e!==Dh&&e!==Ih&&e!==Bh&&e!==Fh)&&e!==vh&&!(t===Ah&&!a)||Zh(t)&&!Kh(t)&&e===vh||t===Ah&&a}Oo(Jh,"isPlainSafe");function eu(e){return Qh(e)&&e!==_h&&!Kh(e)&&e!==Eh&&e!==Lh&&e!==Ah&&e!==Th&&e!==Dh&&e!==Ih&&e!==Bh&&e!==Fh&&e!==vh&&e!==wh&&e!==Ch&&e!==xh&&e!==Oh&&e!==Nh&&e!==Ph&&e!==Sh&&e!==bh&&e!==kh&&e!==Mh&&e!==Rh}Oo(eu,"isPlainSafeFirst");function tu(e){return!Kh(e)&&e!==Ah}Oo(tu,"isPlainSafeLast");function nu(e,t){var n=e.charCodeAt(t),r;if(n>=55296&&n<=56319&&t+1<e.length){r=e.charCodeAt(t+1);if(r>=56320&&r<=57343){return(n-55296)*1024+r-56320+65536}}return n}Oo(nu,"codePointAt");function ru(e){var t=/^\n* /;return t.test(e)}Oo(ru,"needIndentIndicator");var au=1;var iu=2;var ou=3;var su=4;var lu=5;function du(e,t,n,r,a,i,o,s){var l;var d=0;var c=null;var h=!1;var u=!1;var p=r!==-1;var _=-1;var f=eu(nu(e,0))&&tu(nu(e,e.length-1));if(t||o){for(l=0;l<e.length;d>=65536?l+=2:l++){d=nu(e,l);if(!Qh(d)){return lu}f=f&&Jh(d,c,s);c=d}}else{for(l=0;l<e.length;d>=65536?l+=2:l++){d=nu(e,l);if(d===mh){h=!0;if(p){u=u||l-_-1>r&&e[_+1]!==" ";_=l}}else if(!Qh(d)){return lu}f=f&&Jh(d,c,s);c=d}u=u||p&&(l-_-1>r&&e[_+1]!==" ")}if(!h&&!u){if(f&&!o&&!a(e)){return au}return i===qh?lu:iu}if(n>9&&ru(e)){return lu}if(!o){return u?su:ou}return i===qh?lu:iu}Oo(du,"chooseScalarStyle");function cu(e,t,n,r,a){e.dump=function(){if(t.length===0){return e.quotingType===qh?'""':"''"}if(!e.noCompatMode){if(Hh.indexOf(t)!==-1||Wh.test(t)){return e.quotingType===qh?'"'+t+'"':"'"+t+"'"}}var i=e.indent*Math.max(1,n);var o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i);var s=r||e.flowLevel>-1&&n>=e.flowLevel;function l(t){return Xh(e,t)}Oo(l,"testAmbiguity");switch(du(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!r,a)){case au:return t;case iu:return"'"+t.replace(/'/g,"''")+"'";case ou:return"|"+hu(t,e.indent)+uu(Yh(t,i));case su:return">"+hu(t,e.indent)+uu(Yh(pu(t,o),i));case lu:return'"'+fu(t)+'"';default:throw new ed("impossible error: invalid scalar style")}}()}Oo(cu,"writeScalar");function hu(e,t){var n=ru(e)?String(t):"";var r=e[e.length-1]==="\n";var a=r&&(e[e.length-2]==="\n"||e==="\n");var i=a?"+":r?"":"-";return n+i+"\n"}Oo(hu,"blockHeader");function uu(e){return e[e.length-1]==="\n"?e.slice(0,-1):e}Oo(uu,"dropEndingNewline");function pu(e,t){var n=/(\n+)([^\n]*)/g;var r=function(){var r=e.indexOf("\n");r=r!==-1?r:e.length;n.lastIndex=r;return _u(e.slice(0,r),t)}();var a=e[0]==="\n"||e[0]===" ";var i;var o;while(o=n.exec(e)){var s=o[1],l=o[2];i=l[0]===" ";r+=s+(!a&&!i&&l!==""?"\n":"")+_u(l,t);a=i}return r}Oo(pu,"foldString");function _u(e,t){if(e===""||e[0]===" ")return e;var n=/ [^ ]/g;var r;var a=0,i,o=0,s=0;var l="";while(r=n.exec(e)){s=r.index;if(s-a>t){i=o>a?o:s;l+="\n"+e.slice(a,i);a=i+1}o=s}l+="\n";if(e.length-a>t&&o>a){l+=e.slice(a,o)+"\n"+e.slice(o+1)}else{l+=e.slice(a)}return l.slice(1)}Oo(_u,"foldLine");function fu(e){var t="";var n=0;var r;for(var a=0;a<e.length;n>=65536?a+=2:a++){n=nu(e,a);r=jh[n];if(!r&&Qh(n)){t+=e[a];n>=65536&&(t+=e[a+1])}else{t+=r||$h(n)}}return t}Oo(fu,"escapeString");function mu(e,t,n){var r="",a=e.tag,i,o,s;for(i=0,o=n.length;i<o;i+=1){s=n[i];e.replacer&&(s=e.replacer.call(n,String(i),s));if(vu(e,t,s,!1,!1)||typeof s==="undefined"&&vu(e,t,null,!1,!1)){r!==""&&(r+=","+(!e.condenseFlow?" ":""));r+=e.dump}}e.tag=a;e.dump="["+r+"]"}Oo(mu,"writeFlowSequence");function gu(e,t,n,r){var a="",i=e.tag,o,s,l;for(o=0,s=n.length;o<s;o+=1){l=n[o];e.replacer&&(l=e.replacer.call(n,String(o),l));if(vu(e,t+1,l,!0,!0,!1,!0)||typeof l==="undefined"&&vu(e,t+1,null,!0,!0,!1,!0)){(!r||a!=="")&&(a+=Vh(e,t));if(e.dump&&mh===e.dump.charCodeAt(0)){a+="-"}else{a+="- "}a+=e.dump}}e.tag=i;e.dump=a||"[]"}Oo(gu,"writeBlockSequence");function yu(e,t,n){var r="",a=e.tag,i=Object.keys(n),o,s,l,d,c;for(o=0,s=i.length;o<s;o+=1){c="";r!==""&&(c+=", ");e.condenseFlow&&(c+='"');l=i[o];d=n[l];e.replacer&&(d=e.replacer.call(n,l,d));if(!vu(e,t,l,!1,!1)){continue}e.dump.length>1024&&(c+="? ");c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" ");if(!vu(e,t,d,!1,!1)){continue}c+=e.dump;r+=c}e.tag=a;e.dump="{"+r+"}"}Oo(yu,"writeFlowMapping");function xu(e,t,n,r){var a="",i=e.tag,o=Object.keys(n),s,l,d,c,h,u;if(e.sortKeys===!0){o.sort()}else if(typeof e.sortKeys==="function"){o.sort(e.sortKeys)}else if(e.sortKeys){throw new ed("sortKeys must be a boolean or a function")}for(s=0,l=o.length;s<l;s+=1){u="";(!r||a!=="")&&(u+=Vh(e,t));d=o[s];c=n[d];e.replacer&&(c=e.replacer.call(n,d,c));if(!vu(e,t+1,d,!0,!0,!0)){continue}h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024;if(h){if(e.dump&&mh===e.dump.charCodeAt(0)){u+="?"}else{u+="? "}}u+=e.dump;h&&(u+=Vh(e,t));if(!vu(e,t+1,c,!0,h)){continue}if(e.dump&&mh===e.dump.charCodeAt(0)){u+=":"}else{u+=": "}u+=e.dump;a+=u}e.tag=i;e.dump=a||"{}"}Oo(xu,"writeBlockMapping");function bu(e,t,n){var r,a,i,o,s,l;a=n?e.explicitTypes:e.implicitTypes;for(i=0,o=a.length;i<o;i+=1){s=a[i];if((s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t==="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n){if(s.multi&&s.representName){e.tag=s.representName(t)}else{e.tag=s.tag}}else{e.tag="?"}if(s.represent){l=e.styleMap[s.tag]||s.defaultStyle;if(uh.call(s.represent)==="[object Function]"){r=s.represent(t,l)}else if(ph.call(s.represent,l)){r=s.represent[l](t,l)}else{throw new ed("!<"+s.tag+'> tag resolver accepts not "'+l+'" style')}e.dump=r}return!0}}return!1}Oo(bu,"detectType");function vu(e,t,n,r,a,i,o){e.tag=null;e.dump=n;bu(e,n,!1)||bu(e,n,!0);var s=uh.call(e.dump);var l=r;var d;r&&(r=e.flowLevel<0||e.flowLevel>t);var c=s==="[object Object]"||s==="[object Array]",h,u;if(c){h=e.duplicates.indexOf(n);u=h!==-1}(e.tag!==null&&e.tag!=="?"||u||e.indent!==2&&t>0)&&(a=!1);if(u&&e.usedDuplicates[h]){e.dump="*ref_"+h}else{c&&u&&!e.usedDuplicates[h]&&(e.usedDuplicates[h]=!0);if(s==="[object Object]"){if(r&&Object.keys(e.dump).length!==0){xu(e,t,e.dump,a);u&&(e.dump="&ref_"+h+e.dump)}else{yu(e,t,e.dump);u&&(e.dump="&ref_"+h+" "+e.dump)}}else if(s==="[object Array]"){if(r&&e.dump.length!==0){if(e.noArrayIndent&&!o&&t>0){gu(e,t-1,e.dump,a)}else{gu(e,t,e.dump,a)}u&&(e.dump="&ref_"+h+e.dump)}else{mu(e,t,e.dump);u&&(e.dump="&ref_"+h+" "+e.dump)}}else if(s==="[object String]"){e.tag!=="?"&&cu(e,e.dump,t,i,l)}else if(s==="[object Undefined]"){return!1}else{if(e.skipInvalid)return!1;throw new ed("unacceptable kind of an object to dump "+s)}if(e.tag!==null&&e.tag!=="?"){d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21");if(e.tag[0]==="!"){d="!"+d}else if(d.slice(0,18)==="tag:yaml.org,2002:"){d="!!"+d.slice(18)}else{d="!<"+d+">"}e.dump=d+" "+e.dump}}return!0}Oo(vu,"writeNode");function ku(e,t){var n=[],r=[],a,i;wu(e,n,r);for(a=0,i=r.length;a<i;a+=1){t.duplicates.push(n[r[a]])}t.usedDuplicates=new Array(i)}Oo(ku,"getDuplicateReferences");function wu(e,t,n){var r,a,i;if(e!==null&&typeof e==="object"){a=t.indexOf(e);if(a!==-1){n.indexOf(a)===-1&&n.push(a)}else{t.push(e);if(Array.isArray(e)){for(a=0,i=e.length;a<i;a+=1){wu(e[a],t,n)}}else{r=Object.keys(e);for(a=0,i=r.length;a<i;a+=1){wu(e[r[a]],t,n)}}}}}Oo(wu,"inspectNode");function Su(e,t){t=t||{};var n=new Gh(t);n.noRefs||ku(e,n);var r=e;n.replacer&&(r=n.replacer.call({"":r},"",r));if(vu(n,0,r,!0,!0))return n.dump+"\n";return""}Oo(Su,"dump$1");var Cu={dump:Su};function Tu(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Oo(Tu,"renamed");var Eu=hh.load;hh.loadAll;Cu.dump;Tu("safeLoad","load");Tu("safeLoadAll","loadAll");Tu("safeDump","dump");var Au={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function Nu(e,t){if(e===void 0||t===void 0){return{angle:0,deltaX:0,deltaY:0}}e=Pu(e);t=Pu(t);const[n,r]=[e.x,e.y];const[a,i]=[t.x,t.y];const o=a-n;const s=i-r;return{angle:Math.atan(s/o),deltaX:o,deltaY:s}}Oo(Nu,"calculateDeltaAndAngle");var Pu=Oo(e=>{if(Array.isArray(e)){return{x:e[0],y:e[1]}}return e},"pointTransformer");var Lu=Oo(e=>({x:Oo(function(t,n,r){let a=0;const i=Pu(r[0]).x<Pu(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Au,e.arrowTypeStart)){let{angle:t,deltaX:n}=Nu(r[0],r[1]);a=Au[e.arrowTypeStart]*Math.cos(t)*(n>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Au,e.arrowTypeEnd)){let{angle:t,deltaX:n}=Nu(r[r.length-1],r[r.length-2]);a=Au[e.arrowTypeEnd]*Math.cos(t)*(n>=0?1:-1)}const o=Math.abs(Pu(t).x-Pu(r[r.length-1]).x);const s=Math.abs(Pu(t).y-Pu(r[r.length-1]).y);const l=Math.abs(Pu(t).x-Pu(r[0]).x);const d=Math.abs(Pu(t).y-Pu(r[0]).y);const c=Au[e.arrowTypeStart];const h=Au[e.arrowTypeEnd];const u=1;if(o<h&&o>0&&s<h){let e=h+u-o;e*=i==="right"?-1:1;a-=e}if(l<c&&l>0&&d<c){let e=c+u-l;e*=i==="right"?-1:1;a+=e}return Pu(t).x+a},"x"),y:Oo(function(t,n,r){let a=0;const i=Pu(r[0]).y<Pu(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Au,e.arrowTypeStart)){let{angle:t,deltaY:n}=Nu(r[0],r[1]);a=Au[e.arrowTypeStart]*Math.abs(Math.sin(t))*(n>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Au,e.arrowTypeEnd)){let{angle:t,deltaY:n}=Nu(r[r.length-1],r[r.length-2]);a=Au[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(n>=0?1:-1)}const o=Math.abs(Pu(t).y-Pu(r[r.length-1]).y);const s=Math.abs(Pu(t).x-Pu(r[r.length-1]).x);const l=Math.abs(Pu(t).y-Pu(r[0]).y);const d=Math.abs(Pu(t).x-Pu(r[0]).x);const c=Au[e.arrowTypeStart];const h=Au[e.arrowTypeEnd];const u=1;if(o<h&&o>0&&s<h){let e=h+u-o;e*=i==="up"?-1:1;a-=e}if(l<c&&l>0&&d<c){let e=c+u-l;e*=i==="up"?-1:1;a+=e}return Pu(t).y+a},"y")}),"getLineFunctionsWithOffset");var Mu=Oo(({flowchart:e})=>{var t,n,r,a;const i=(n=(t=e===null||e===void 0?void 0:e.subGraphTitleMargin)===null||t===void 0?void 0:t.top)!==null&&n!==void 0?n:0;const o=(a=(r=e===null||e===void 0?void 0:e.subGraphTitleMargin)===null||r===void 0?void 0:r.bottom)!==null&&a!==void 0?a:0;const s=i+o;return{subGraphTitleTopMargin:i,subGraphTitleBottomMargin:o,subGraphTitleTotalMargin:s}},"getSubGraphTitleMargins");var Du=Oo(e=>{const{handDrawnSeed:t}=jl();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill");var Iu=Oo(e=>{const t=Ru([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles");var Ru=Oo(e=>{const t=new Map;e.forEach(e=>{const[n,r]=e.split(":");t.set(n.trim(),r===null||r===void 0?void 0:r.trim())});return t},"styles2Map");var Bu=Oo(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle");var Ou=Oo(e=>{const{stylesArray:t}=Iu(e);const n=[];const r=[];const a=[];const i=[];t.forEach(e=>{const t=e[0];if(Bu(t)){n.push(e.join(":")+" !important")}else{r.push(e.join(":")+" !important");t.includes("stroke")&&a.push(e.join(":")+" !important");t==="fill"&&i.push(e.join(":")+" !important")}});return{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:i}},"styles2String");var Fu=Oo((e,t)=>{var n;const{themeVariables:r,handDrawnSeed:a}=jl();const{nodeBorder:i,mainBkg:o}=r;const{stylesMap:s}=Iu(e);const l=Object.assign({roughness:.7,fill:s.get("fill")||o,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:a,strokeWidth:((n=s.get("stroke-width"))===null||n===void 0?void 0:n.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:ju(s.get("stroke-dasharray"))},t);return l},"userNodeOverrides");var ju=Oo(e=>{if(!e){return[0,0]}const t=e.trim().split(/\s+/).map(Number);if(t.length===1){let e=isNaN(t[0])?0:t[0];return[e,e]}const n=isNaN(t[0])?0:t[0];const r=isNaN(t[1])?0:t[1];return[n,r]},"getStrokeDashArray");var Hu=/^([^\w]*)(javascript|data|vbscript)/im;var Wu=/&#(\w+)(^\w|;)?/g;var zu=/&(newline|tab);/gi;var $u=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;var Uu=/^.+(:|&colon;)/gim;var qu=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;var Gu=[".","/"];var Yu="about:blank";function Vu(e){return Gu.indexOf(e[0])>-1}function Xu(e){var t=e.replace($u,"");return t.replace(Wu,function(e,t){return String.fromCharCode(t)})}function Ku(e){return URL.canParse(e)}function Qu(e){try{return decodeURIComponent(e)}catch(t){return e}}function Zu(e){if(!e){return Yu}var t;var n=Qu(e.trim());do{n=Xu(n).replace(zu,"").replace($u,"").replace(qu,"").trim();n=Qu(n);t=n.match($u)||n.match(Wu)||n.match(zu)||n.match(qu)}while(t&&t.length>0);var r=n;if(!r){return Yu}if(Vu(r)){return r}var a=r.trimStart();var i=a.match(Uu);if(!i){return r}var o=i[0].toLowerCase().trim();if(Hu.test(o)){return Yu}var s=a.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://")){return s}if(o==="http:"||o==="https:"){if(!Ku(s)){return Yu}var l=new URL(s);l.protocol=l.protocol.toLowerCase();l.hostname=l.hostname.toLowerCase();return l.toString()}return s}function Ju(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ep(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tp(e){let t,n,r;if(e.length!==2){t=Ju;n=((t,n)=>Ju(e(t),n));r=((t,n)=>e(t)-n)}else{t=e===Ju||e===ep?e:np;n=e;r=e}function a(e,r,a=0,i=e.length){if(a<i){if(t(r,r)!==0)return i;do{let t=a+i>>>1;if(n(e[t],r)<0)a=t+1;else i=t}while(a<i)}return a}function i(e,r,a=0,i=e.length){if(a<i){if(t(r,r)!==0)return i;do{let t=a+i>>>1;if(n(e[t],r)<=0)a=t+1;else i=t}while(a<i)}return a}function o(e,t,n=0,i=e.length){const o=a(e,t,n,i-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o}return{left:a,center:o,right:i}}function np(){return 0}function rp(e){return e===null?NaN:+e}const ap=tp(Ju);var ip=ap.right;ap.left;tp(rp).center;op(cp);op(dp);function op(t){return function(n,r,a=r){if(!((r=+r)>=0))throw new RangeError("invalid rx");if(!((a=+a)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==e?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!r&&!a)return n;const l=r&&t(r);const d=a&&t(a);const c=i.slice();if(l&&d){sp(l,c,i,o,s);sp(l,i,c,o,s);sp(l,c,i,o,s);lp(d,i,c,o,s);lp(d,c,i,o,s);lp(d,i,c,o,s)}else if(l){sp(l,i,c,o,s);sp(l,c,i,o,s);sp(l,i,c,o,s)}else if(d){lp(d,i,c,o,s);lp(d,c,i,o,s);lp(d,i,c,o,s)}return n}}function sp(e,t,n,r,a){for(let i=0,o=r*a;i<o;){e(t,n,i,i+=r,1)}}function lp(e,t,n,r,a){for(let i=0,o=r*a;i<r;++i){e(t,n,i,i+o,r)}}function dp(e){const t=cp(e);return(e,n,r,a,i)=>{r<<=2,a<<=2,i<<=2;t(e,n,r+0,a+0,i);t(e,n,r+1,a+1,i);t(e,n,r+2,a+2,i);t(e,n,r+3,a+3,i)}}function cp(e){const t=Math.floor(e);if(t===e)return hp(e);const n=e-t;const r=2*e+1;return(e,a,i,o,s)=>{if(!((o-=s)>=i))return;let l=t*a[i];const d=s*t;const c=d+s;for(let e=i,t=i+d;e<t;e+=s){l+=a[Math.min(o,e)]}for(let t=i,h=o;t<=h;t+=s){l+=a[Math.min(o,t+d)];e[t]=(l+n*(a[Math.max(i,t-c)]+a[Math.min(o,t+c)]))/r;l-=a[Math.max(i,t-d)]}}}function hp(e){const t=2*e+1;return(n,r,a,i,o)=>{if(!((i-=o)>=a))return;let s=e*r[a];const l=o*e;for(let e=a,t=a+l;e<t;e+=o){s+=r[Math.min(i,e)]}for(let e=a,d=i;e<=d;e+=o){s+=r[Math.min(i,e+l)];n[e]=s/t;s-=r[Math.max(a,e-l)]}}}class Adder{constructor(){this._partials=new Float64Array(32);this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){let a=t[r],i=e+a,o=Math.abs(e)<Math.abs(a)?e-(i-a):a-(i-e);o&&(t[n++]=o);e=i}t[n]=e;this._n=n+1;return this}valueOf(){const e=this._partials;let t=this._n,n,r,a,i=0;if(t>0){i=e[--t];while(t>0){n=i;r=e[--t];i=n+r;a=r-(i-n);if(a)break}if(t>0&&(a<0&&e[t-1]<0||a>0&&e[t-1]>0)){r=a*2;n=i+r;r==n-i&&(i=n)}}return i}}class InternMap extends Map{constructor(e,t=fp){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}});if(e!=null)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(up(this,e))}has(e){return super.has(up(this,e))}set(e,t){return super.set(pp(this,e),t)}delete(e){return super.delete(_p(this,e))}}function up({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pp({_intern:e,_key:t},n){const r=t(n);if(e.has(r))return e.get(r);e.set(r,n);return n}function _p({_intern:e,_key:t},n){const r=t(n);if(e.has(r)){n=e.get(r);e.delete(r)}return n}function fp(e){return e!==null&&typeof e==="object"?e.valueOf():e}var mp=Array.prototype;mp.slice;mp.map;const gp=Math.sqrt(50),yp=Math.sqrt(10),xp=Math.sqrt(2);function bp(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=gp?10:i>=yp?5:i>=xp?2:1;let s,l,d;if(a<0){d=Math.pow(10,-a)/o;s=Math.round(e*d);l=Math.round(t*d);s/d<e&&++s;l/d>t&&--l;d=-d}else{d=Math.pow(10,a)*o;s=Math.round(e/d);l=Math.round(t/d);s*d<e&&++s;l*d>t&&--l}if(l<s&&.5<=n&&n<2)return bp(e,t,n*2);return[s,l,d]}function vp(e,t,n){t=+t,e=+e,n=+n;if(!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?bp(t,e,n):bp(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r){if(o<0)for(let e=0;e<s;++e)l[e]=(i-e)/-o;else for(let e=0;e<s;++e)l[e]=(i-e)*o}else{if(o<0)for(let e=0;e<s;++e)l[e]=(a+e)/-o;else for(let e=0;e<s;++e)l[e]=(a+e)*o}return l}function kp(e,t,n){t=+t,e=+e,n=+n;return bp(e,t,n)[2]}function wp(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?kp(t,e,n):kp(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Sp(t,n){let r;if(n===e){for(const n of t){n!=null&&(r<n||r===e&&n>=n)&&(r=n)}}else{let a=-1;for(let i of t){(i=n(i,++a,t))!=null&&(r<i||r===e&&i>=i)&&(r=i)}}return r}function Cp(t,n){let r;if(n===e){for(const n of t){n!=null&&(r>n||r===e&&n>=n)&&(r=n)}}else{let a=-1;for(let i of t){(i=n(i,++a,t))!=null&&(r>i||r===e&&i>=i)&&(r=i)}}return r}function*Tp(e){for(const t of e){yield*t}}function Ep(e){return Array.from(Tp(e))}function Ap(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);while(++r<a){i[r]=e+r*n}return i}Np(Math.random);function Np(e){return function t(n,r=0,a=n.length){let i=a-(r=+r);while(i){let t=e()*i--|0,a=n[i+r];n[i+r]=n[t+r];n[t+r]=a}return n}}function Pp(t,n){let r=0;if(n===e){for(let e of t){(e=+e)&&(r+=e)}}else{let e=-1;for(let a of t){(a=+n(a,++e,t))&&(r+=a)}}return r}function Lp(e){return e}var Mp=1,Dp=2,Ip=3,Rp=4,Bp=1E-06;function Op(e){return"translate("+e+",0)"}function Fp(e){return"translate(0,"+e+")"}function jp(e){return t=>+e(t)}function Hp(e,t){t=Math.max(0,e.bandwidth()-t*2)/2;e.round()&&(t=Math.round(t));return n=>+e(n)+t}function Wp(){return!this.__axis}function zp(e,t){var n=[],r=null,a=null,i=6,o=6,s=3,l=typeof window!=="undefined"&&window.devicePixelRatio>1?0:.5,d=e===Mp||e===Rp?-1:1,c=e===Rp||e===Dp?"x":"y",h=e===Mp||e===Ip?Op:Fp;function u(u){var p=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,_=a==null?t.tickFormat?t.tickFormat.apply(t,n):Lp:a,f=Math.max(i,0)+s,m=t.range(),g=+m[0]+l,y=+m[m.length-1]+l,x=(t.bandwidth?Hp:jp)(t.copy(),l),b=u.selection?u.selection():u,v=b.selectAll(".domain").data([null]),k=b.selectAll(".tick").data(p,t).order(),w=k.exit(),S=k.enter().append("g").attr("class","tick"),C=k.select("line"),T=k.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));k=k.merge(S);C=C.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",d*i));T=T.merge(S.append("text").attr("fill","currentColor").attr(c,d*f).attr("dy",e===Mp?"0em":e===Ip?"0.71em":"0.32em"));if(u!==b){v=v.transition(u);k=k.transition(u);C=C.transition(u);T=T.transition(u);w=w.transition(u).attr("opacity",Bp).attr("transform",function(e){return isFinite(e=x(e))?h(e+l):this.getAttribute("transform")});S.attr("opacity",Bp).attr("transform",function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:x(e))+l)})}w.remove();v.attr("d",e===Rp||e===Dp?o?"M"+d*o+","+g+"H"+l+"V"+y+"H"+d*o:"M"+l+","+g+"V"+y:o?"M"+g+","+d*o+"V"+l+"H"+y+"V"+d*o:"M"+g+","+l+"H"+y);k.attr("opacity",1).attr("transform",function(e){return h(x(e)+l)});C.attr(c+"2",d*i);T.attr(c,d*f).text(_);b.filter(Wp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Dp?"start":e===Rp?"end":"middle");b.each(function(){this.__axis=x})}u.scale=function(e){return arguments.length?(t=e,u):t};u.ticks=function(){return n=Array.from(arguments),u};u.tickArguments=function(e){return arguments.length?(n=e==null?[]:Array.from(e),u):n.slice()};u.tickValues=function(e){return arguments.length?(r=e==null?null:Array.from(e),u):r&&r.slice()};u.tickFormat=function(e){return arguments.length?(a=e,u):a};u.tickSize=function(e){return arguments.length?(i=o=+e,u):i};u.tickSizeInner=function(e){return arguments.length?(i=+e,u):i};u.tickSizeOuter=function(e){return arguments.length?(o=+e,u):o};u.tickPadding=function(e){return arguments.length?(s=+e,u):s};u.offset=function(e){return arguments.length?(l=+e,u):l};return u}function $p(e){return zp(Mp,e)}function Up(e){return zp(Ip,e)}var qp={value:()=>{}};function Gp(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yp(n)}function Yp(e){this._=e}function Vp(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");r>=0&&(n=e.slice(r+1),e=e.slice(0,r));if(e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}Yp.prototype=Gp.prototype={constructor:Yp,on:function(e,t){var n=this._,r=Vp(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){while(++i<o)if((a=(e=r[i]).type)&&(a=Xp(n[a],e.name)))return a;return}if(t!=null&&typeof t!=="function")throw new Error("invalid callback: "+t);while(++i<o){if(a=(e=r[i]).type)n[a]=Kp(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Kp(n[a],e.name,null)}return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yp(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function Xp(e,t){for(var n=0,r=e.length,a;n<r;++n){if((a=e[n]).name===t){return a.value}}}function Kp(e,t,n){for(var r=0,a=e.length;r<a;++r){if(e[r].name===t){e[r]=qp,e=e.slice(0,r).concat(e.slice(r+1));break}}n!=null&&e.push({name:t,value:n});return e}var Qp="http://www.w3.org/1999/xhtml";var Zp={svg:"http://www.w3.org/2000/svg",xhtml:Qp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jp(e){var t=e+="",n=t.indexOf(":");n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1));return Zp.hasOwnProperty(t)?{space:Zp[t],local:e}:e}function e_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qp&&t.documentElement.namespaceURI===Qp?t.createElement(e):t.createElementNS(n,e)}}function t_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function n_(e){var t=Jp(e);return(t.local?t_:e_)(t)}function r_(){}function a_(e){return e==null?r_:function(){return this.querySelector(e)}}function i_(e){typeof e!=="function"&&(e=a_(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a){for(var i=t[a],o=i.length,s=r[a]=new Array(o),l,d,c=0;c<o;++c){if((l=i[c])&&(d=e.call(l,l.__data__,c,i))){"__data__"in l&&(d.__data__=l.__data__);s[c]=d}}}return new Vf(r,this._parents)}function o_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function s_(){return[]}function l_(e){return e==null?s_:function(){return this.querySelectorAll(e)}}function d_(e){return function(){return o_(e.apply(this,arguments))}}function c_(e){if(typeof e==="function")e=d_(e);else e=l_(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i){for(var o=t[i],s=o.length,l,d=0;d<s;++d){if(l=o[d]){r.push(e.call(l,l.__data__,d,o));a.push(l)}}}return new Vf(r,a)}function h_(e){return function(){return this.matches(e)}}function u_(e){return function(t){return t.matches(e)}}var p_=Array.prototype.find;function __(e){return function(){return p_.call(this.children,e)}}function f_(){return this.firstElementChild}function m_(e){return this.select(e==null?f_:__(typeof e==="function"?e:u_(e)))}
var g_=Array.prototype.filter;function y_(){return Array.from(this.children)}function x_(e){return function(){return g_.call(this.children,e)}}function b_(e){return this.selectAll(e==null?y_:x_(typeof e==="function"?e:u_(e)))}function v_(e){typeof e!=="function"&&(e=h_(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a){for(var i=t[a],o=i.length,s=r[a]=[],l,d=0;d<o;++d){(l=i[d])&&e.call(l,l.__data__,d,i)&&s.push(l)}}return new Vf(r,this._parents)}function k_(e){return new Array(e.length)}function w_(){return new Vf(this._enter||this._groups.map(k_),this._parents)}function S_(e,t){this.ownerDocument=e.ownerDocument;this.namespaceURI=e.namespaceURI;this._next=null;this._parent=e;this.__data__=t}S_.prototype={constructor:S_,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function C_(e){return function(){return e}}function T_(e,t,n,r,a,i){var o=0,s,l=t.length,d=i.length;for(;o<d;++o){if(s=t[o]){s.__data__=i[o];r[o]=s}else{n[o]=new S_(e,i[o])}}for(;o<l;++o){(s=t[o])&&(a[o]=s)}}function E_(e,t,n,r,a,i,o){var s,l,d=new Map,c=t.length,h=i.length,u=new Array(c),p;for(s=0;s<c;++s){if(l=t[s]){u[s]=p=o.call(l,l.__data__,s,t)+"";if(d.has(p)){a[s]=l}else{d.set(p,l)}}}for(s=0;s<h;++s){p=o.call(e,i[s],s,i)+"";if(l=d.get(p)){r[s]=l;l.__data__=i[s];d.delete(p)}else{n[s]=new S_(e,i[s])}}for(s=0;s<c;++s){(l=t[s])&&d.get(u[s])===l&&(a[s]=l)}}function A_(e){return e.__data__}function N_(e,t){if(!arguments.length)return Array.from(this,A_);var n=t?E_:T_,r=this._parents,a=this._groups;typeof e!=="function"&&(e=C_(e));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),d=0;d<i;++d){var c=r[d],h=a[d],u=h.length,p=P_(e.call(c,c&&c.__data__,d,r)),_=p.length,f=s[d]=new Array(_),m=o[d]=new Array(_),g=l[d]=new Array(u);n(c,h,f,m,g,p,t);for(var y=0,x=0,b,v;y<_;++y){if(b=f[y]){y>=x&&(x=y+1);while(!(v=m[x])&&++x<_);b._next=v||null}}}o=new Vf(o,r);o._enter=s;o._exit=l;return o}function P_(e){return typeof e==="object"&&"length"in e?e:Array.from(e)}function L_(){return new Vf(this._exit||this._groups.map(k_),this._parents)}function M_(e,t,n){var r=this.enter(),a=this,i=this.exit();if(typeof e==="function"){r=e(r);r&&(r=r.selection())}else{r=r.append(e+"")}if(t!=null){a=t(a);a&&(a=a.selection())}if(n==null)i.remove();else n(i);return r&&a?r.merge(a).order():a}function D_(e){var t=e.selection?e.selection():e;for(var n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),l=0;l<o;++l){for(var d=n[l],c=r[l],h=d.length,u=s[l]=new Array(h),p,_=0;_<h;++_){(p=d[_]||c[_])&&(u[_]=p)}}for(;l<a;++l){s[l]=n[l]}return new Vf(s,this._parents)}function I_(){for(var e=this._groups,t=-1,n=e.length;++t<n;){for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;){if(o=r[a]){i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i);i=o}}}return this}function R_(e){e||(e=B_);function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,l=a[i]=new Array(s),d,c=0;c<s;++c){(d=o[c])&&(l[c]=d)}l.sort(t)}return new Vf(a,this._parents).order()}function B_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function O_(){var e=arguments[0];arguments[0]=this;e.apply(null,arguments);return this}function F_(){return Array.from(this)}function j_(){for(var e=this._groups,t=0,n=e.length;t<n;++t){for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}}return null}function H_(){let e=0;for(const t of this)++e;return e}function W_(){return!this.node()}function z_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n){for(var a=t[n],i=0,o=a.length,s;i<o;++i){(s=a[i])&&e.call(s,s.__data__,i,a)}}return this}function $_(e){return function(){this.removeAttribute(e)}}function U_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q_(e,t){return function(){this.setAttribute(e,t)}}function G_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Y_(e,t){return function(){var n=t.apply(this,arguments);if(n==null)this.removeAttribute(e);else this.setAttribute(e,n)}}function V_(e,t){return function(){var n=t.apply(this,arguments);if(n==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,n)}}function X_(e,t){var n=Jp(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?U_:$_:typeof t==="function"?n.local?V_:Y_:n.local?G_:q_)(n,t))}function K_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Q_(e){return function(){this.style.removeProperty(e)}}function Z_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function J_(e,t,n){return function(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(e);else this.style.setProperty(e,r,n)}}function ef(e,t,n){return arguments.length>1?this.each((t==null?Q_:typeof t==="function"?J_:Z_)(e,t,n==null?"":n)):tf(this.node(),e)}function tf(e,t){return e.style.getPropertyValue(t)||K_(e).getComputedStyle(e,null).getPropertyValue(t)}function nf(e){return function(){delete this[e]}}function rf(e,t){return function(){this[e]=t}}function af(e,t){return function(){var n=t.apply(this,arguments);if(n==null)delete this[e];else this[e]=n}}function of(e,t){return arguments.length>1?this.each((t==null?nf:typeof t==="function"?af:rf)(e,t)):this.node()[e]}function sf(e){return e.trim().split(/^|\s+/)}function lf(e){return e.classList||new df(e)}function df(e){this._node=e;this._names=sf(e.getAttribute("class")||"")}df.prototype={add:function(e){var t=this._names.indexOf(e);if(t<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function(e){var t=this._names.indexOf(e);if(t>=0){this._names.splice(t,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function(e){return this._names.indexOf(e)>=0}};function cf(e,t){var n=lf(e),r=-1,a=t.length;while(++r<a)n.add(t[r])}function hf(e,t){var n=lf(e),r=-1,a=t.length;while(++r<a)n.remove(t[r])}function uf(e){return function(){cf(this,e)}}function pf(e){return function(){hf(this,e)}}function _f(e,t){return function(){(t.apply(this,arguments)?cf:hf)(this,e)}}function ff(e,t){var n=sf(e+"");if(arguments.length<2){var r=lf(this.node()),a=-1,i=n.length;while(++a<i)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t==="function"?_f:t?uf:pf)(n,t))}function mf(){this.textContent=""}function gf(e){return function(){this.textContent=e}}function yf(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function xf(e){return arguments.length?this.each(e==null?mf:(typeof e==="function"?yf:gf)(e)):this.node().textContent}function bf(){this.innerHTML=""}function vf(e){return function(){this.innerHTML=e}}function kf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function wf(e){return arguments.length?this.each(e==null?bf:(typeof e==="function"?kf:vf)(e)):this.node().innerHTML}function Sf(){this.nextSibling&&this.parentNode.appendChild(this)}function Cf(){return this.each(Sf)}function Tf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ef(){return this.each(Tf)}function Af(e){var t=typeof e==="function"?e:n_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Nf(){return null}function Pf(e,t){var n=typeof e==="function"?e:n_(e),r=t==null?Nf:typeof t==="function"?t:a_(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Lf(){var e=this.parentNode;e&&e.removeChild(this)}function Mf(){return this.each(Lf)}function Df(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function If(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rf(e){return this.select(e?If:Df)}function Bf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Of(e){return function(t){e.call(this,t,this.__data__)}}function Ff(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");n>=0&&(t=e.slice(n+1),e=e.slice(0,n));return{type:e,name:t}})}function jf(e){return function(){var t=this.__on;if(!t)return;for(var n=0,r=-1,a=t.length,i;n<a;++n){if(i=t[n],(!e.type||i.type===e.type)&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options)}else{t[++r]=i}}if(++r)t.length=r;else delete this.__on}}function Hf(e,t,n){return function(){var r=this.__on,a,i=Of(t);if(r)for(var o=0,s=r.length;o<s;++o){if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options);this.addEventListener(a.type,a.listener=i,a.options=n);a.value=t;return}}this.addEventListener(e.type,i,n);a={type:e.type,name:e.name,value:t,listener:i,options:n};if(!r)this.__on=[a];else r.push(a)}}function Wf(e,t,n){var r=Ff(e+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s)for(var l=0,d=s.length,c;l<d;++l){for(a=0,c=s[l];a<i;++a){if((o=r[a]).type===c.type&&o.name===c.name){return c.value}}}return}s=t?Hf:jf;for(a=0;a<i;++a)this.each(s(r[a],t,n));return this}function zf(e,t,n){var r=K_(e),a=r.CustomEvent;if(typeof a==="function"){a=new a(t,n)}else{a=r.document.createEvent("Event");if(n)a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail;else a.initEvent(t,!1,!1)}e.dispatchEvent(a)}function $f(e,t){return function(){return zf(this,e,t)}}function Uf(e,t){return function(){return zf(this,e,t.apply(this,arguments))}}function qf(e,t){return this.each((typeof t==="function"?Uf:$f)(e,t))}function*Gf(){for(var e=this._groups,t=0,n=e.length;t<n;++t){for(var r=e[t],a=0,i=r.length,o;a<i;++a){if(o=r[a])yield o}}}var Yf=[null];function Vf(e,t){this._groups=e;this._parents=t}function Xf(){return new Vf([[document.documentElement]],Yf)}function Kf(){return this}Vf.prototype=Xf.prototype={constructor:Vf,select:i_,selectAll:c_,selectChild:m_,selectChildren:b_,filter:v_,data:N_,enter:w_,exit:L_,join:M_,merge:D_,selection:Kf,order:I_,sort:R_,call:O_,nodes:F_,node:j_,size:H_,empty:W_,each:z_,attr:X_,style:ef,property:of,classed:ff,text:xf,html:wf,raise:Cf,lower:Ef,append:Af,insert:Pf,remove:Mf,clone:Rf,datum:Bf,on:Wf,dispatch:qf,[Symbol.iterator]:Gf};function Qf(e){return typeof e==="string"?new Vf([[document.querySelector(e)]],[document.documentElement]):new Vf([[e]],Yf)}var Zf=0;function Jf(){return new em}function em(){this._="@"+(++Zf).toString(36)}em.prototype=Jf.prototype={constructor:em,get:function(e){var t=this._;while(!(t in e))if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function tm(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:s,dx:l,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}tm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function nm(e,t,n){e.prototype=t.prototype=n;n.constructor=e}function rm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function am(){}var im=.7;var om=1/im;var sm="\\s*([+-]?\\d+)\\s*",lm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cm=/^#([0-9a-f]{3,8})$/,hm=new RegExp(`^rgb\\(${sm},${sm},${sm}\\)\$`),um=new RegExp(`^rgb\\(${dm},${dm},${dm}\\)\$`),pm=new RegExp(`^rgba\\(${sm},${sm},${sm},${lm}\\)\$`),_m=new RegExp(`^rgba\\(${dm},${dm},${dm},${lm}\\)\$`),fm=new RegExp(`^hsl\\(${lm},${dm},${dm}\\)\$`),mm=new RegExp(`^hsla\\(${lm},${dm},${dm},${lm}\\)\$`);var gm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nm(am,km,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ym,formatHex:ym,formatHex8:xm,formatHsl:bm,formatRgb:vm,toString:vm});function ym(){return this.rgb().formatHex()}function xm(){return this.rgb().formatHex8()}function bm(){return Rm(this).formatHsl()}function vm(){return this.rgb().formatRgb()}function km(e){var t,n;e=(e+"").trim().toLowerCase();return(t=cm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wm(t):n===3?new Em(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hm.exec(e))?new Em(t[1],t[2],t[3],1):(t=um.exec(e))?new Em(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pm.exec(e))?Sm(t[1],t[2],t[3],t[4]):(t=_m.exec(e))?Sm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fm.exec(e))?Im(t[1],t[2]/100,t[3]/100,1):(t=mm.exec(e))?Im(t[1],t[2]/100,t[3]/100,t[4]):gm.hasOwnProperty(e)?wm(gm[e]):e==="transparent"?new Em(NaN,NaN,NaN,0):null}function wm(e){return new Em(e>>16&255,e>>8&255,e&255,1)}function Sm(e,t,n,r){r<=0&&(e=t=n=NaN);return new Em(e,t,n,r)}function Cm(e){e instanceof am||(e=km(e));if(!e)return new Em;e=e.rgb();return new Em(e.r,e.g,e.b,e.opacity)}function Tm(e,t,n,r){return arguments.length===1?Cm(e):new Em(e,t,n,r==null?1:r)}function Em(e,t,n,r){this.r=+e;this.g=+t;this.b=+n;this.opacity=+r}nm(Em,Tm,rm(am,{brighter(e){e=e==null?om:Math.pow(om,e);return new Em(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){e=e==null?im:Math.pow(im,e);return new Em(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Em(Mm(this.r),Mm(this.g),Mm(this.b),Lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&(-.5<=this.g&&this.g<255.5)&&(-.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:Am,formatHex:Am,formatHex8:Nm,formatRgb:Pm,toString:Pm}));function Am(){return`#${Dm(this.r)}${Dm(this.g)}${Dm(this.b)}`}function Nm(){return`#${Dm(this.r)}${Dm(this.g)}${Dm(this.b)}${Dm((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pm(){const e=Lm(this.opacity);return`${e===1?"rgb(":"rgba("}${Mm(this.r)}, ${Mm(this.g)}, ${Mm(this.b)}${e===1?")":`, ${e})`}`}function Lm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dm(e){e=Mm(e);return(e<16?"0":"")+e.toString(16)}function Im(e,t,n,r){if(r<=0)e=t=n=NaN;else if(n<=0||n>=1)e=t=NaN;else t<=0&&(e=NaN);return new Om(e,t,n,r)}function Rm(e){if(e instanceof Om)return new Om(e.h,e.s,e.l,e.opacity);e instanceof am||(e=km(e));if(!e)return new Om;if(e instanceof Om)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;if(s){if(t===i)o=(n-r)/s+(n<r)*6;else if(n===i)o=(r-t)/s+2;else o=(t-n)/s+4;s/=l<.5?i+a:2-i-a;o*=60}else{s=l>0&&l<1?0:o}return new Om(o,s,l,e.opacity)}function Bm(e,t,n,r){return arguments.length===1?Rm(e):new Om(e,t,n,r==null?1:r)}function Om(e,t,n,r){this.h=+e;this.s=+t;this.l=+n;this.opacity=+r}nm(Om,Bm,rm(am,{brighter(e){e=e==null?om:Math.pow(om,e);return new Om(this.h,this.s,this.l*e,this.opacity)},darker(e){e=e==null?im:Math.pow(im,e);return new Om(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Em(Hm(e>=240?e-240:e+120,a,r),Hm(e,a,r),Hm(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Om(Fm(this.h),jm(this.s),jm(this.l),Lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl(){const e=Lm(this.opacity);return`${e===1?"hsl(":"hsla("}${Fm(this.h)}, ${jm(this.s)*100}%, ${jm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fm(e){e=(e||0)%360;return e<0?e+360:e}function jm(e){return Math.max(0,Math.min(1,e||0))}function Hm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Wm=Math.PI/180;var zm=180/Math.PI;const $m=18,Um=.96422,qm=1,Gm=.82521,Ym=4/29,Vm=6/29,Xm=3*Vm*Vm,Km=Vm*Vm*Vm;function Qm(e){if(e instanceof Jm)return new Jm(e.l,e.a,e.b,e.opacity);if(e instanceof og)return sg(e);e instanceof Em||(e=Cm(e));var t=rg(e.r),n=rg(e.g),r=rg(e.b),a=eg((.2225045*t+.7168786*n+.0606169*r)/qm),i,o;if(t===n&&n===r)i=o=a;else{i=eg((.4360747*t+.3850649*n+.1430804*r)/Um);o=eg((.0139322*t+.0971045*n+.7141733*r)/Gm)}return new Jm(116*a-16,500*(i-a),200*(a-o),e.opacity)}function Zm(e,t,n,r){return arguments.length===1?Qm(e):new Jm(e,t,n,r==null?1:r)}function Jm(e,t,n,r){this.l=+e;this.a=+t;this.b=+n;this.opacity=+r}nm(Jm,Zm,rm(am,{brighter(e){return new Jm(this.l+$m*(e==null?1:e),this.a,this.b,this.opacity)},darker(e){return new Jm(this.l-$m*(e==null?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;t=Um*tg(t);e=qm*tg(e);n=Gm*tg(n);return new Em(ng(3.1338561*t-1.6168667*e-.4906146*n),ng(-.9787684*t+1.9161415*e+.033454*n),ng(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function eg(e){return e>Km?Math.pow(e,1/3):e/Xm+Ym}function tg(e){return e>Vm?e*e*e:Xm*(e-Ym)}function ng(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rg(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ag(e){if(e instanceof og)return new og(e.h,e.c,e.l,e.opacity);e instanceof Jm||(e=Qm(e));if(e.a===0&&e.b===0)return new og(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*zm;return new og(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ig(e,t,n,r){return arguments.length===1?ag(e):new og(e,t,n,r==null?1:r)}function og(e,t,n,r){this.h=+e;this.c=+t;this.l=+n;this.opacity=+r}function sg(e){if(isNaN(e.h))return new Jm(e.l,0,0,e.opacity);var t=e.h*Wm;return new Jm(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}nm(og,ig,rm(am,{brighter(e){return new og(this.h,this.c,this.l+$m*(e==null?1:e),this.opacity)},darker(e){return new og(this.h,this.c,this.l-$m*(e==null?1:e),this.opacity)},rgb(){return sg(this).rgb()}}));var lg=-.14861,dg=+1.78277,cg=-.29227,hg=-.90649,ug=+1.97294,pg=ug*hg,_g=ug*dg,fg=dg*cg-hg*lg;function mg(e){if(e instanceof yg)return new yg(e.h,e.s,e.l,e.opacity);e instanceof Em||(e=Cm(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(fg*r+pg*t-_g*n)/(fg+pg-_g),i=r-a,o=(ug*(n-a)-cg*i)/hg,s=Math.sqrt(o*o+i*i)/(ug*a*(1-a)),l=s?Math.atan2(o,i)*zm-120:NaN;return new yg(l<0?l+360:l,s,a,e.opacity)}function gg(e,t,n,r){return arguments.length===1?mg(e):new yg(e,t,n,r==null?1:r)}function yg(e,t,n,r){this.h=+e;this.s=+t;this.l=+n;this.opacity=+r}nm(yg,gg,rm(am,{brighter(e){e=e==null?om:Math.pow(om,e);return new yg(this.h,this.s,this.l*e,this.opacity)},darker(e){e=e==null?im:Math.pow(im,e);return new yg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Wm,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new Em(255*(t+n*(lg*r+dg*a)),255*(t+n*(cg*r+hg*a)),255*(t+n*(ug*r)),this.opacity)}}));function xg(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function bg(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return xg((n-r/t)*t,o,a,i,s)}}function vg(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return xg((n-r/t)*t,a,i,o,s)}}var kg=e=>()=>e;function wg(e,t){return function(n){return e+n*t}}function Sg(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Cg(e,t){var n=t-e;return n?wg(e,n>180||n<-180?n-360*Math.round(n/360):n):kg(isNaN(e)?t:e)}function Tg(e){return(e=+e)===1?Eg:function(t,n){return n-t?Sg(t,n,e):kg(isNaN(t)?n:t)}}function Eg(e,t){var n=t-e;return n?wg(e,n):kg(isNaN(e)?t:e)}var Ag=function e(t){var n=Tg(t);function r(e,t){var r=n((e=Tm(e)).r,(t=Tm(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=Eg(e.opacity,t.opacity);return function(t){e.r=r(t);e.g=a(t);e.b=i(t);e.opacity=o(t);return e+""}}r.gamma=e;return r}(1);function Ng(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o){s=Tm(t[o]);r[o]=s.r||0;a[o]=s.g||0;i[o]=s.b||0}r=e(r);a=e(a);i=e(i);s.opacity=1;return function(e){s.r=r(e);s.g=a(e);s.b=i(e);return s+""}}}var Pg=Ng(bg);Ng(vg);function Lg(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Mg(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dg(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=zg(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(e){for(o=0;o<r;++o)i[o]=a[o](e);return i}}function Ig(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Rg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bg(e,t){var n={},r={},a;(e===null||typeof e!=="object")&&(e={});(t===null||typeof t!=="object")&&(t={});for(a in t){if(a in e){n[a]=zg(e[a],t[a])}else{r[a]=t[a]}}return function(e){for(a in n)r[a]=n[a](e);return r}}var Og=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fg=new RegExp(Og.source,"g");function jg(e){return function(){return e}}function Hg(e){return function(t){return e(t)+""}}function Wg(e,t){var n=Og.lastIndex=Fg.lastIndex=0,r,a,i,o=-1,s=[],l=[];e=e+"",t=t+"";while((r=Og.exec(e))&&(a=Fg.exec(t))){if((i=a.index)>n){i=t.slice(n,i);if(s[o])s[o]+=i;else s[++o]=i}if((r=r[0])===(a=a[0])){if(s[o])s[o]+=a;else s[++o]=a}else{s[++o]=null;l.push({i:o,x:Rg(r,a)})}n=Fg.lastIndex}if(n<t.length){i=t.slice(n);if(s[o])s[o]+=i;else s[++o]=i}return s.length<2?l[0]?Hg(l[0].x):jg(t):(t=l.length,function(e){for(var n=0,r;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function zg(e,t){var n=typeof t,r;return t==null||n==="boolean"?kg(t):(n==="number"?Rg:n==="string"?(r=km(t))?(t=r,Ag):Wg:t instanceof km?Ag:t instanceof Date?Ig:Mg(t)?Lg:Array.isArray(t)?Dg:typeof t.valueOf!=="function"&&typeof t.toString!=="function"||isNaN(t)?Bg:Rg)(e,t)}function $g(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ug=180/Math.PI;var qg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gg(e,t,n,r,a,i){var o,s,l;(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o);(l=e*n+t*r)&&(n-=e*l,r-=t*l);(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s);e*r<t*n&&(e=-e,t=-t,l=-l,o=-o);return{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Ug,skewX:Math.atan(l)*Ug,scaleX:o,scaleY:s}}var Yg;function Vg(e){const t=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qg:Gg(t.a,t.b,t.c,t.d,t.e,t.f)}function Xg(e){if(e==null)return qg;Yg||(Yg=document.createElementNS("http://www.w3.org/2000/svg","g"));Yg.setAttribute("transform",e);if(!(e=Yg.transform.baseVal.consolidate()))return qg;e=e.matrix;return Gg(e.a,e.b,e.c,e.d,e.e,e.f)}function Kg(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}function i(e,r,a,i,o,s){if(e!==a||r!==i){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:Rg(e,a)},{i:l-2,x:Rg(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}function o(e,t,n,i){if(e!==t){if(e-t>180)t+=360;else t-e>180&&(e+=360);i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Rg(e,t)})}else t&&n.push(a(n)+"rotate("+t+r)}function s(e,t,n,i){if(e!==t){i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Rg(e,t)})}else t&&n.push(a(n)+"skewX("+t+r)}function l(e,t,n,r,i,o){if(e!==n||t!==r){var s=i.push(a(i)+"scale(",null,",",null,")");o.push({i:s-4,x:Rg(e,n)},{i:s-2,x:Rg(t,r)})}else(n!==1||r!==1)&&i.push(a(i)+"scale("+n+","+r+")")}return function(t,n){var r=[],a=[];t=e(t),n=e(n);i(t.translateX,t.translateY,n.translateX,n.translateY,r,a);o(t.rotate,n.rotate,r,a);s(t.skewX,n.skewX,r,a);l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,a);t=n=null;return function(e){var t=-1,n=a.length,i;while(++t<n)r[(i=a[t]).i]=i.x(e);return r.join("")}}}var Qg=Kg(Vg,"px, ","px)","deg)");var Zg=Kg(Xg,", ",")",")");var Jg=1E-12;function ey(e){return((e=Math.exp(e))+1/e)/2}function ty(e){return((e=Math.exp(e))-1/e)/2}function ny(e){return((e=Math.exp(2*e))-1)/(e+1)}(function e(t,n,r){function a(e,a){var i=e[0],o=e[1],s=e[2],l=a[0],d=a[1],c=a[2],h=l-i,u=d-o,p=h*h+u*u,_,f;if(p<Jg){f=Math.log(c/s)/t;_=function(e){return[i+e*h,o+e*u,s*Math.exp(t*e*f)]}}else{var m=Math.sqrt(p),g=(c*c-s*s+r*p)/(2*s*n*m),y=(c*c-s*s-r*p)/(2*c*n*m),x=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(y*y+1)-y);f=(b-x)/t;_=function(e){var r=e*f,a=ey(x),l=s/(n*m)*(a*ny(t*r+x)-ty(x));return[i+l*h,o+l*u,s*a/ey(t*r+x)]}}_.duration=f*1e3*t/Math.SQRT2;return _}a.rho=function(t){var n=Math.max(.001,+t),r=n*n,a=r*r;return e(n,r,a)};return a})(Math.SQRT2,2,4);function ry(e){return function(t,n){var r=e((t=Bm(t)).h,(n=Bm(n)).h),a=Eg(t.s,n.s),i=Eg(t.l,n.l),o=Eg(t.opacity,n.opacity);return function(e){t.h=r(e);t.s=a(e);t.l=i(e);t.opacity=o(e);return t+""}}}ry(Cg);ry(Eg);function ay(e){return function(t,n){var r=e((t=ig(t)).h,(n=ig(n)).h),a=Eg(t.c,n.c),i=Eg(t.l,n.l),o=Eg(t.opacity,n.opacity);return function(e){t.h=r(e);t.c=a(e);t.l=i(e);t.opacity=o(e);return t+""}}}var iy=ay(Cg);ay(Eg);function oy(e){return function t(n){n=+n;function r(t,r){var a=e((t=gg(t)).h,(r=gg(r)).h),i=Eg(t.s,r.s),o=Eg(t.l,r.l),s=Eg(t.opacity,r.opacity);return function(e){t.h=a(e);t.s=i(e);t.l=o(Math.pow(e,n));t.opacity=s(e);return t+""}}r.gamma=t;return r}(1)}oy(Cg);var sy=oy(Eg);var ly=0,dy=0,cy=0,hy=1e3,uy,py,_y=0,fy=0,my=0,gy=typeof performance==="object"&&performance.now?performance:Date,yy=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xy(){return fy||(yy(by),fy=gy.now()+my)}function by(){fy=0}function vy(){this._call=this._time=this._next=null}vy.prototype=ky.prototype={constructor:vy,restart:function(e,t,n){if(typeof e!=="function")throw new TypeError("callback is not a function");n=(n==null?xy():+n)+(t==null?0:+t);if(!this._next&&py!==this){if(py)py._next=this;else uy=this;py=this}this._call=e;this._time=n;Ey()},stop:function(){if(this._call){this._call=null;this._time=Infinity;Ey()}}};function ky(e,t,n){var r=new vy;r.restart(e,t,n);return r}function wy(){xy();++ly;var t=uy,n;while(t){(n=fy-t._time)>=0&&t._call.call(e,n);t=t._next}--ly}function Sy(){fy=(_y=gy.now())+my;ly=dy=0;try{wy()}finally{ly=0;Ty();fy=0}}function Cy(){var e=gy.now(),t=e-_y;t>hy&&(my-=t,_y=e)}function Ty(){var e,t=uy,n,r=Infinity;while(t){if(t._call){r>t._time&&(r=t._time);e=t,t=t._next}else{n=t._next,t._next=null;t=e?e._next=n:uy=n}}py=e;Ey(r)}function Ey(e){if(ly)return;dy&&(dy=clearTimeout(dy));var t=e-fy;if(t>24){e<Infinity&&(dy=setTimeout(Sy,e-gy.now()-my));cy&&(cy=clearInterval(cy))}else{cy||(_y=gy.now(),cy=setInterval(Cy,hy));ly=1,yy(Sy)}}function Ay(e,t,n){var r=new vy;t=t==null?0:+t;r.restart(n=>{r.stop();e(n+t)},t,n);return r}var Ny=Gp("start","end","cancel","interrupt");var Py=[];var Ly=0;var My=1;var Dy=2;var Iy=3;var Ry=4;var By=5;var Oy=6;function Fy(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;zy(e,n,{name:t,index:r,group:a,on:Ny,tween:Py,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ly})}function jy(e,t){var n=Wy(e,t);if(n.state>Ly)throw new Error("too late; already scheduled");return n}function Hy(e,t){var n=Wy(e,t);if(n.state>Iy)throw new Error("too late; already running");return n}function Wy(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zy(e,t,n){var r=e.__transition,a;r[t]=n;n.timer=ky(i,0,n.time);function i(e){n.state=My;n.timer.restart(o,n.delay,n.time);n.delay<=e&&o(e-n.delay)}function o(i){var d,c,h,u;if(n.state!==My)return l();for(d in r){u=r[d];if(u.name!==n.name)continue;if(u.state===Iy)return Ay(o);if(u.state===Ry){u.state=Oy;u.timer.stop();u.on.call("interrupt",e,e.__data__,u.index,u.group);delete r[d]}else if(+d<t){u.state=Oy;u.timer.stop();u.on.call("cancel",e,e.__data__,u.index,u.group);delete r[d]}}Ay(function(){if(n.state===Iy){n.state=Ry;n.timer.restart(s,n.delay,n.time);s(i)}});n.state=Dy;n.on.call("start",e,e.__data__,n.index,n.group);if(n.state!==Dy)return;n.state=Iy;a=new Array(h=n.tween.length);for(d=0,c=-1;d<h;++d){(u=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++c]=u)}a.length=c+1}function s(t){var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=By,1),i=-1,o=a.length;while(++i<o){a[i].call(e,r)}if(n.state===By){n.on.call("end",e,e.__data__,n.index,n.group);l()}}function l(){n.state=Oy;n.timer.stop();delete r[t];for(var a in r)return;delete e.__transition}}function $y(e,t){var n=e.__transition,r,a,i=!0,o;if(!n)return;t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>Dy&&r.state<By;r.state=Oy;r.timer.stop();r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group);delete n[o]}i&&delete e.__transition}function Uy(e){return this.each(function(){$y(this,e)})}function qy(e,t){var n,r;return function(){
var a=Hy(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o){if(r[o].name===t){r=r.slice();r.splice(o,1);break}}}a.tween=r}}function Gy(e,t,n){var r,a;if(typeof n!=="function")throw new Error;return function(){var i=Hy(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:t,value:n},l=0,d=a.length;l<d;++l){if(a[l].name===t){a[l]=s;break}}l===d&&a.push(s)}i.tween=a}}function Yy(e,t){var n=this._id;e+="";if(arguments.length<2){var r=Wy(this.node(),n).tween;for(var a=0,i=r.length,o;a<i;++a){if((o=r[a]).name===e){return o.value}}return null}return this.each((t==null?qy:Gy)(n,e,t))}function Vy(e,t,n){var r=e._id;e.each(function(){var e=Hy(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)});return function(e){return Wy(e,r).value[t]}}function Xy(e,t){var n;return(typeof t==="number"?Rg:t instanceof km?Ag:(n=km(t))?(t=n,Ag):Wg)(e,t)}function Ky(e){return function(){this.removeAttribute(e)}}function Qy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zy(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function Jy(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function ex(e,t,n){var r,a,i;return function(){var o,s=n(this),l;if(s==null)return void this.removeAttribute(e);o=this.getAttribute(e);l=s+"";return o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}function tx(e,t,n){var r,a,i;return function(){var o,s=n(this),l;if(s==null)return void this.removeAttributeNS(e.space,e.local);o=this.getAttributeNS(e.space,e.local);l=s+"";return o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}function nx(e,t){var n=Jp(e),r=n==="transform"?Zg:Xy;return this.attrTween(e,typeof t==="function"?(n.local?tx:ex)(n,r,Vy(this,"attr."+e,t)):t==null?(n.local?Qy:Ky)(n):(n.local?Jy:Zy)(n,r,t))}function rx(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ax(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ix(e,t){var n,r;function a(){var a=t.apply(this,arguments);a!==r&&(n=(r=a)&&ax(e,a));return n}a._value=t;return a}function ox(e,t){var n,r;function a(){var a=t.apply(this,arguments);a!==r&&(n=(r=a)&&rx(e,a));return n}a._value=t;return a}function sx(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=="function")throw new Error;var r=Jp(e);return this.tween(n,(r.local?ix:ox)(r,t))}function lx(e,t){return function(){jy(this,e).delay=+t.apply(this,arguments)}}function dx(e,t){return t=+t,function(){jy(this,e).delay=t}}function cx(e){var t=this._id;return arguments.length?this.each((typeof e==="function"?lx:dx)(t,e)):Wy(this.node(),t).delay}function hx(e,t){return function(){Hy(this,e).duration=+t.apply(this,arguments)}}function ux(e,t){return t=+t,function(){Hy(this,e).duration=t}}function px(e){var t=this._id;return arguments.length?this.each((typeof e==="function"?hx:ux)(t,e)):Wy(this.node(),t).duration}function _x(e,t){if(typeof t!=="function")throw new Error;return function(){Hy(this,e).ease=t}}function fx(e){var t=this._id;return arguments.length?this.each(_x(t,e)):Wy(this.node(),t).ease}function mx(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=="function")throw new Error;Hy(this,e).ease=n}}function gx(e){if(typeof e!=="function")throw new Error;return this.each(mx(this._id,e))}function yx(e){typeof e!=="function"&&(e=h_(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a){for(var i=t[a],o=i.length,s=r[a]=[],l,d=0;d<o;++d){(l=i[d])&&e.call(l,l.__data__,d,i)&&s.push(l)}}return new Yx(r,this._parents,this._name,this._id)}function xx(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s){for(var l=t[s],d=n[s],c=l.length,h=o[s]=new Array(c),u,p=0;p<c;++p){(u=l[p]||d[p])&&(h[p]=u)}}for(;s<r;++s){o[s]=t[s]}return new Yx(o,this._parents,this._name,this._id)}function bx(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");t>=0&&(e=e.slice(0,t));return!e||e==="start"})}function vx(e,t,n){var r,a,i=bx(t)?jy:Hy;return function(){var o=i(this,e),s=o.on;s!==r&&(a=(r=s).copy()).on(t,n);o.on=a}}function kx(e,t){var n=this._id;return arguments.length<2?Wy(this.node(),n).on.on(e):this.each(vx(n,e,t))}function wx(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sx(){return this.on("end.remove",wx(this._id))}function Cx(e){var t=this._name,n=this._id;typeof e!=="function"&&(e=a_(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o){for(var s=r[o],l=s.length,d=i[o]=new Array(l),c,h,u=0;u<l;++u){if((c=s[u])&&(h=e.call(c,c.__data__,u,s))){"__data__"in c&&(h.__data__=c.__data__);d[u]=h;Fy(d[u],t,n,u,d,Wy(c,n))}}}return new Yx(i,this._parents,t,n)}function Tx(e){var t=this._name,n=this._id;typeof e!=="function"&&(e=l_(e));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s){for(var l=r[s],d=l.length,c,h=0;h<d;++h){if(c=l[h]){for(var u=e.call(c,c.__data__,h,l),p,_=Wy(c,n),f=0,m=u.length;f<m;++f){(p=u[f])&&Fy(p,t,n,f,u,_)}i.push(u);o.push(c)}}}return new Yx(i,o,t,n)}var Ex=Xf.prototype.constructor;function Ax(){return new Ex(this._groups,this._parents)}function Nx(e,t){var n,r,a;return function(){var i=tf(this,e),o=(this.style.removeProperty(e),tf(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function Px(e){return function(){this.style.removeProperty(e)}}function Lx(e,t,n){var r,a=n+"",i;return function(){var o=tf(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function Mx(e,t,n){var r,a,i;return function(){var o=tf(this,e),s=n(this),l=s+"";s==null&&(l=s=(this.style.removeProperty(e),tf(this,e)));return o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}function Dx(t,n){var r,a,i,o="style."+n,s="end."+o,l;return function(){var d=Hy(this,t),c=d.on,h=d.value[o]==null?l||(l=Px(n)):e;(c!==r||i!==h)&&(a=(r=c).copy()).on(s,i=h);d.on=a}}function Ix(e,t,n){var r=(e+="")==="transform"?Qg:Xy;return t==null?this.styleTween(e,Nx(e,r)).on("end.style."+e,Px(e)):typeof t==="function"?this.styleTween(e,Mx(e,r,Vy(this,"style."+e,t))).each(Dx(this._id,e)):this.styleTween(e,Lx(e,r,t),n).on("end.style."+e,null)}function Rx(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Bx(e,t,n){var r,a;function i(){var i=t.apply(this,arguments);i!==a&&(r=(a=i)&&Rx(e,i,n));return r}i._value=t;return i}function Ox(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!=="function")throw new Error;return this.tween(r,Bx(e,t,n==null?"":n))}function Fx(e){return function(){this.textContent=e}}function jx(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Hx(e){return this.tween("text",typeof e==="function"?jx(Vy(this,"text",e)):Fx(e==null?"":e+""))}function Wx(e){return function(t){this.textContent=e.call(this,t)}}function zx(e){var t,n;function r(){var r=e.apply(this,arguments);r!==n&&(t=(n=r)&&Wx(r));return t}r._value=e;return r}function $x(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=="function")throw new Error;return this.tween(t,zx(e))}function Ux(){var e=this._name,t=this._id,n=Xx();for(var r=this._groups,a=r.length,i=0;i<a;++i){for(var o=r[i],s=o.length,l,d=0;d<s;++d){if(l=o[d]){var c=Wy(l,t);Fy(l,e,n,d,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}}}return new Yx(r,this._parents,e,n)}function qx(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a===0&&i()}};n.each(function(){var n=Hy(this,r),a=n.on;if(a!==e){t=(e=a).copy();t._.cancel.push(s);t._.interrupt.push(s);t._.end.push(l)}n.on=t});a===0&&i()})}var Gx=0;function Yx(e,t,n,r){this._groups=e;this._parents=t;this._name=n;this._id=r}function Vx(e){return Xf().transition(e)}function Xx(){return++Gx}var Kx=Xf.prototype;Yx.prototype=Vx.prototype={constructor:Yx,select:Cx,selectAll:Tx,selectChild:Kx.selectChild,selectChildren:Kx.selectChildren,filter:yx,merge:xx,selection:Ax,transition:Ux,call:Kx.call,nodes:Kx.nodes,node:Kx.node,size:Kx.size,empty:Kx.empty,each:Kx.each,on:kx,attr:nx,attrTween:sx,style:Ix,styleTween:Ox,text:Hx,textTween:$x,remove:Sx,tween:Yy,delay:cx,duration:px,ease:fx,easeVarying:gx,end:qx,[Symbol.iterator]:Kx[Symbol.iterator]};function Qx(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Zx=3;(function e(t){t=+t;function n(e){return Math.pow(e,t)}n.exponent=e;return n})(Zx);(function e(t){t=+t;function n(e){return 1-Math.pow(1-e,t)}n.exponent=e;return n})(Zx);(function e(t){t=+t;function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}n.exponent=e;return n})(Zx);function Jx(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var eb=1.70158;(function e(t){t=+t;function n(e){return(e=+e)*e*(t*(e-1)+e)}n.overshoot=e;return n})(eb);(function e(t){t=+t;function n(e){return--e*e*((e+1)*t+e)+1}n.overshoot=e;return n})(eb);(function e(t){t=+t;function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}n.overshoot=e;return n})(eb);var tb=2*Math.PI,nb=1,rb=.3;(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=tb);function a(e){return t*Jx(- --e)*Math.sin((r-e)/n)}a.amplitude=function(t){return e(t,n*tb)};a.period=function(n){return e(t,n)};return a})(nb,rb);(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=tb);function a(e){return 1-t*Jx(e=+e)*Math.sin((e+r)/n)}a.amplitude=function(t){return e(t,n*tb)};a.period=function(n){return e(t,n)};return a})(nb,rb);(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=tb);function a(e){return((e=e*2-1)<0?t*Jx(-e)*Math.sin((r-e)/n):2-t*Jx(e)*Math.sin((r+e)/n))/2}a.amplitude=function(t){return e(t,n*tb)};a.period=function(n){return e(t,n)};return a})(nb,rb);var ab={time:null,delay:0,duration:250,ease:Qx};function ib(e,t){var n;while(!(n=e.__transition)||!(n=n[t])){if(!(e=e.parentNode)){throw new Error(`transition ${t} not found`)}}return n}function ob(e){var t,n;if(e instanceof Yx){t=e._id,e=e._name}else{t=Xx(),(n=ab).time=xy(),e=e==null?null:e+""}for(var r=this._groups,a=r.length,i=0;i<a;++i){for(var o=r[i],s=o.length,l,d=0;d<s;++d){(l=o[d])&&Fy(l,e,t,d,o,n||ib(l,t))}}return new Yx(r,this._parents,e,t)}Xf.prototype.interrupt=Uy;Xf.prototype.transition=ob;const{abs:sb,max:lb,min:db}=Math;["w","e"].map(cb);["n","s"].map(cb);["n","w","e","s","nw","ne","sw","se"].map(cb);function cb(e){return{type:e}}const hb=Math.PI,ub=2*hb,pb=1E-06,_b=ub-pb;function fb(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t){this._+=arguments[t]+e[t]}}function mb(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fb;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t){this._+=Math.round(arguments[t]*n)/n+e[t]}}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=e==null?fb:mb(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._append`Z`}}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;if(a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=n-e,l=r-t,d=i-e,c=o-t,h=d*d+c*c;if(this._x1===null){this._append`M${this._x1=e},${this._y1=t}`}else if(!(h>pb));else if(!(Math.abs(c*s-l*d)>pb)||!a){this._append`L${this._x1=e},${this._y1=t}`}else{let u=n-i,p=r-o,_=s*s+l*l,f=u*u+p*p,m=Math.sqrt(_),g=Math.sqrt(h),y=a*Math.tan((hb-Math.acos((_+h-f)/(2*m*g)))/2),x=y/g,b=y/m;Math.abs(x-1)>pb&&this._append`L${e+x*d},${t+x*c}`;this._append`A${a},${a},0,0,${+(c*u>d*p)},${this._x1=e+b*s},${this._y1=t+b*l}`}}arc(e,t,n,r,a,i){e=+e,t=+t,n=+n,i=!!i;if(n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,d=t+s,c=1^i,h=i?r-a:a-r;if(this._x1===null){this._append`M${l},${d}`}else(Math.abs(this._x1-l)>pb||Math.abs(this._y1-d)>pb)&&this._append`L${l},${d}`;if(!n)return;h<0&&(h=h%ub+ub);if(h>_b){this._append`A${n},${n},0,1,${c},${e-o},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=d}`}else h>pb&&this._append`A${n},${n},0,${+(h>=hb)},${c},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function gb(){return new Path}gb.prototype=Path.prototype;Array.prototype.slice;var yb=Array.prototype;yb.slice;var xb=1.1102230246251565E-16;var bb=134217729;var vb=(3+8*xb)*xb;function kb(e,t,n,r,a){let i,o,s,l;let d=t[0];let c=r[0];let h=0;let u=0;if(c>d===c>-d){i=d;d=t[++h]}else{i=c;c=r[++u]}let p=0;if(h<e&&u<n){if(c>d===c>-d){o=d+i;s=i-(o-d);d=t[++h]}else{o=c+i;s=i-(o-c);c=r[++u]}i=o;s!==0&&(a[p++]=s);while(h<e&&u<n){if(c>d===c>-d){o=i+d;l=o-i;s=i-(o-l)+(d-l);d=t[++h]}else{o=i+c;l=o-i;s=i-(o-l)+(c-l);c=r[++u]}i=o;s!==0&&(a[p++]=s)}}while(h<e){o=i+d;l=o-i;s=i-(o-l)+(d-l);d=t[++h];i=o;s!==0&&(a[p++]=s)}while(u<n){o=i+c;l=o-i;s=i-(o-l)+(c-l);c=r[++u];i=o;s!==0&&(a[p++]=s)}(i!==0||p===0)&&(a[p++]=i);return p}function wb(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Sb(e){return new Float64Array(e)}const Cb=(3+16*xb)*xb;const Tb=(2+12*xb)*xb;const Eb=(9+64*xb)*xb*xb;const Ab=Sb(4);const Nb=Sb(8);const Pb=Sb(12);const Lb=Sb(16);const Mb=Sb(4);function Db(e,t,n,r,a,i,o){let s,l,d,c;let h,u,p,_,f,m,g,y,x,b,v,k,w,S;const C=e-a;const T=n-a;const E=t-i;const A=r-i;b=C*A;u=bb*C;p=u-(u-C);_=C-p;u=bb*A;f=u-(u-A);m=A-f;v=_*m-(b-p*f-_*f-p*m);k=E*T;u=bb*E;p=u-(u-E);_=E-p;u=bb*T;f=u-(u-T);m=T-f;w=_*m-(k-p*f-_*f-p*m);g=v-w;h=v-g;Ab[0]=v-(g+h)+(h-w);y=b+g;h=y-b;x=b-(y-h)+(g-h);g=x-k;h=x-g;Ab[1]=x-(g+h)+(h-k);S=y+g;h=S-y;Ab[2]=y-(S-h)+(g-h);Ab[3]=S;let N=wb(4,Ab);let P=Tb*o;if(N>=P||-N>=P){return N}h=e-C;s=e-(C+h)+(h-a);h=n-T;d=n-(T+h)+(h-a);h=t-E;l=t-(E+h)+(h-i);h=r-A;c=r-(A+h)+(h-i);if(s===0&&l===0&&d===0&&c===0){return N}P=Eb*o+vb*Math.abs(N);N+=C*c+A*s-(E*d+T*l);if(N>=P||-N>=P)return N;b=s*A;u=bb*s;p=u-(u-s);_=s-p;u=bb*A;f=u-(u-A);m=A-f;v=_*m-(b-p*f-_*f-p*m);k=l*T;u=bb*l;p=u-(u-l);_=l-p;u=bb*T;f=u-(u-T);m=T-f;w=_*m-(k-p*f-_*f-p*m);g=v-w;h=v-g;Mb[0]=v-(g+h)+(h-w);y=b+g;h=y-b;x=b-(y-h)+(g-h);g=x-k;h=x-g;Mb[1]=x-(g+h)+(h-k);S=y+g;h=S-y;Mb[2]=y-(S-h)+(g-h);Mb[3]=S;const L=kb(4,Ab,4,Mb,Nb);b=C*c;u=bb*C;p=u-(u-C);_=C-p;u=bb*c;f=u-(u-c);m=c-f;v=_*m-(b-p*f-_*f-p*m);k=E*d;u=bb*E;p=u-(u-E);_=E-p;u=bb*d;f=u-(u-d);m=d-f;w=_*m-(k-p*f-_*f-p*m);g=v-w;h=v-g;Mb[0]=v-(g+h)+(h-w);y=b+g;h=y-b;x=b-(y-h)+(g-h);g=x-k;h=x-g;Mb[1]=x-(g+h)+(h-k);S=y+g;h=S-y;Mb[2]=y-(S-h)+(g-h);Mb[3]=S;const M=kb(L,Nb,4,Mb,Pb);b=s*c;u=bb*s;p=u-(u-s);_=s-p;u=bb*c;f=u-(u-c);m=c-f;v=_*m-(b-p*f-_*f-p*m);k=l*d;u=bb*l;p=u-(u-l);_=l-p;u=bb*d;f=u-(u-d);m=d-f;w=_*m-(k-p*f-_*f-p*m);g=v-w;h=v-g;Mb[0]=v-(g+h)+(h-w);y=b+g;h=y-b;x=b-(y-h)+(g-h);g=x-k;h=x-g;Mb[1]=x-(g+h)+(h-k);S=y+g;h=S-y;Mb[2]=y-(S-h)+(g-h);Mb[3]=S;const D=kb(M,Pb,4,Mb,Lb);return Lb[D-1]}function Ib(e,t,n,r,a,i){const o=(t-i)*(n-a);const s=(e-a)*(r-i);const l=o-s;const d=Math.abs(o+s);if(Math.abs(l)>=Cb*d)return l;return-Db(e,t,n,r,a,i,d)}Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(8);Sb(8);Sb(8);Sb(4);Sb(8);Sb(8);Sb(8);Sb(12);Sb(192);Sb(192);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(8);Sb(8);Sb(8);Sb(8);Sb(8);Sb(8);Sb(8);Sb(8);Sb(8);Sb(4);Sb(4);Sb(4);Sb(8);Sb(16);Sb(16);Sb(16);Sb(32);Sb(32);Sb(48);Sb(64);Sb(1152);Sb(1152);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(4);Sb(24);Sb(24);Sb(24);Sb(24);Sb(24);Sb(24);Sb(24);Sb(24);Sb(24);Sb(24);Sb(1152);Sb(1152);Sb(1152);Sb(1152);Sb(1152);Sb(2304);Sb(2304);Sb(3456);Sb(5760);Sb(8);Sb(8);Sb(8);Sb(16);Sb(24);Sb(48);Sb(48);Sb(96);Sb(192);Sb(384);Sb(384);Sb(384);Sb(768);Sb(96);Sb(96);Sb(96);Sb(1152);const Rb=Math.pow(2,-52);const Bb=new Uint32Array(512);class Delaunator{static from(e,t=Ub,n=qb){const r=e.length;const a=new Float64Array(r*2);for(let i=0;i<r;i++){let r=e[i];a[2*i]=t(r);a[2*i+1]=n(r)}return new Delaunator(a)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!=="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(n*3);this._halfedges=new Int32Array(n*3);this._hashSize=Math.ceil(Math.sqrt(t));this._hullPrev=new Uint32Array(t);this._hullNext=new Uint32Array(t);this._hullTri=new Uint32Array(t);this._hullHash=new Int32Array(this._hashSize);this._ids=new Uint32Array(t);this._dists=new Float64Array(t);this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:a}=this;const i=e.length>>1;let o=Infinity;let s=Infinity;let l=-Infinity;let d=-Infinity;for(let t=0;t<i;t++){let n=e[2*t],r=e[2*t+1];n<o&&(o=n);r<s&&(s=r);n>l&&(l=n);r>d&&(d=r);this._ids[t]=t}const c=(o+l)/2;const h=(s+d)/2;let u,p,_;for(let t=0,n=Infinity;t<i;t++){let r=Fb(c,h,e[2*t],e[2*t+1]);if(r<n){u=t;n=r}}const f=e[2*u];const m=e[2*u+1];for(let t=0,n=Infinity;t<i;t++){if(t===u)continue;let r=Fb(f,m,e[2*t],e[2*t+1]);if(r<n&&r>0){p=t;n=r}}let g=e[2*p];let y=e[2*p+1];let x=Infinity;for(let t=0;t<i;t++){if(t===u||t===p)continue;let n=Hb(f,m,g,y,e[2*t],e[2*t+1]);if(n<x){_=t;x=n}}let b=e[2*_];let v=e[2*_+1];if(x===Infinity){for(let t=0;t<i;t++){this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1]}zb(this._ids,this._dists,0,i-1);let t=new Uint32Array(i),n=0;for(let e=0,r=-Infinity;e<i;e++){let a=this._ids[e],i=this._dists[a];if(i>r){t[n++]=a;r=i}}this.hull=t.subarray(0,n);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0);return}if(Ib(f,m,g,y,b,v)<0){let e=p,t=g,n=y;p=_;g=b;y=v;_=e;b=t;v=n}const k=Wb(f,m,g,y,b,v);this._cx=k.x;this._cy=k.y;for(let t=0;t<i;t++){this._dists[t]=Fb(e[2*t],e[2*t+1],k.x,k.y)}zb(this._ids,this._dists,0,i-1);this._hullStart=u;let w=3;n[u]=t[_]=p;n[p]=t[u]=_;n[_]=t[p]=u;r[u]=0;r[p]=1;r[_]=2;a.fill(-1);a[this._hashKey(f,m)]=u;a[this._hashKey(g,y)]=p;a[this._hashKey(b,v)]=_;this.trianglesLen=0;this._addTriangle(u,p,_,-1,-1,-1);for(let i=0,o,s;i<this._ids.length;i++){let l=this._ids[i],d=e[2*l],c=e[2*l+1];if(i>0&&Math.abs(d-o)<=Rb&&Math.abs(c-s)<=Rb)continue;o=d;s=c;if(l===u||l===p||l===_)continue;let h=0;for(let e=0,t=this._hashKey(d,c);e<this._hashSize;e++){h=a[(t+e)%this._hashSize];if(h!==-1&&h!==n[h])break}h=t[h];let f=h,m;while(m=n[f],Ib(d,c,e[2*f],e[2*f+1],e[2*m],e[2*m+1])>=0){f=m;if(f===h){f=-1;break}}if(f===-1)continue;let g=this._addTriangle(f,l,n[f],-1,-1,r[f]);r[l]=this._legalize(g+2);r[f]=g;w++;let y=n[f];while(m=n[y],Ib(d,c,e[2*y],e[2*y+1],e[2*m],e[2*m+1])<0){g=this._addTriangle(y,l,m,r[l],-1,r[y]);r[l]=this._legalize(g+2);n[y]=y;w--;y=m}if(f===h){while(m=t[f],Ib(d,c,e[2*m],e[2*m+1],e[2*f],e[2*f+1])<0){g=this._addTriangle(m,l,f,-1,r[f],r[m]);this._legalize(g+2);r[m]=g;n[f]=f;w--;f=m}}this._hullStart=t[l]=f;n[f]=t[y]=l;n[l]=y;a[this._hashKey(d,c)]=l;a[this._hashKey(e[2*f],e[2*f+1])]=f}this.hull=new Uint32Array(w);for(let e=0,t=this._hullStart;e<w;e++){this.hull[e]=t;t=n[t]}this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(Ob(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let a=0;let i=0;while(!0){let o=n[e],s=e-e%3;i=s+(e+2)%3;if(o===-1){if(a===0)break;e=Bb[--a];continue}let l=o-o%3,d=s+(e+1)%3,c=l+(o+2)%3,h=t[i],u=t[e],p=t[d],_=t[c],f=jb(r[2*h],r[2*h+1],r[2*u],r[2*u+1],r[2*p],r[2*p+1],r[2*_],r[2*_+1]);if(f){t[e]=_;t[o]=h;let r=n[c];if(r===-1){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r);this._link(o,n[i]);this._link(i,c);let s=l+(o+1)%3;a<Bb.length&&(Bb[a++]=s)}else{if(a===0)break;e=Bb[--a]}}return i}_link(e,t){this._halfedges[e]=t;t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,a,i){const o=this.trianglesLen;this._triangles[o]=e;this._triangles[o+1]=t;this._triangles[o+2]=n;this._link(o,r);this._link(o+1,a);this._link(o+2,i);this.trianglesLen+=3;return o}}function Ob(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Fb(e,t,n,r){const a=e-n;const i=t-r;return a*a+i*i}function jb(e,t,n,r,a,i,o,s){const l=e-o;const d=t-s;const c=n-o;const h=r-s;const u=a-o;const p=i-s;const _=l*l+d*d;const f=c*c+h*h;const m=u*u+p*p;return l*(h*m-f*p)-d*(c*m-f*u)+_*(c*p-h*u)<0}function Hb(e,t,n,r,a,i){const o=n-e;const s=r-t;const l=a-e;const d=i-t;const c=o*o+s*s;const h=l*l+d*d;const u=.5/(o*d-s*l);const p=(d*c-s*h)*u;const _=(o*h-l*c)*u;return p*p+_*_}function Wb(e,t,n,r,a,i){const o=n-e;const s=r-t;const l=a-e;const d=i-t;const c=o*o+s*s;const h=l*l+d*d;const u=.5/(o*d-s*l);const p=e+(d*c-s*h)*u;const _=t+(o*h-l*c)*u;return{x:p,y:_}}function zb(e,t,n,r){if(r-n<=20){for(let a=n+1;a<=r;a++){let r=e[a],i=t[r],o=a-1;while(o>=n&&t[e[o]]>i)e[o+1]=e[o--];e[o+1]=r}}else{let a=n+r>>1,i=n+1,o=r;$b(e,a,i);t[e[n]]>t[e[r]]&&$b(e,n,r);t[e[i]]>t[e[r]]&&$b(e,i,r);t[e[n]]>t[e[i]]&&$b(e,n,i);let s=e[i],l=t[s];while(!0){do{i++}while(t[e[i]]<l);do{o--}while(t[e[o]]>l);if(o<i)break;$b(e,i,o)}e[n+1]=e[o];e[o]=s;if(r-i+1>=o-n){zb(e,t,i,r);zb(e,t,n,o-1)}else{zb(e,t,n,o-1);zb(e,t,i,r)}}}function $b(e,t,n){const r=e[t];e[t]=e[n];e[n]=r}function Ub(e){return e[0]}function qb(e){return e[1]}const Gb=1E-06;class Path_path{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){e=+e,t=+t,n=+n;const r=e+n;const a=t;if(n<0)throw new Error("negative radius");if(this._x1===null)this._+=`M${r},${a}`;else(Math.abs(this._x1-r)>Gb||Math.abs(this._y1-a)>Gb)&&(this._+="L"+r+","+a);if(!n)return;this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=a}`}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Polygon{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Voronoi{constructor(e,[t,n,r,a]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((a=+a)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e;this._circumcenters=new Float64Array(e.points.length*2);this.vectors=new Float64Array(e.points.length*2);this.xmax=r,this.xmin=t;this.ymax=a,this.ymin=n;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:a}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let a=0,l=0,d=r.length,c,h;a<d;a+=3,l+=2){let d=r[a]*2,u=r[a+1]*2,p=r[a+2]*2,_=t[d],f=t[d+1],m=t[u],g=t[u+1],y=t[p],x=t[p+1],b=m-_,v=g-f,k=y-_,w=x-f,S=(b*w-v*k)*2;if(Math.abs(S)<1E-09){if(i===e){i=o=0;for(const e of n)i+=t[e*2],o+=t[e*2+1];i/=n.length,o/=n.length}let r=1e9*Math.sign((i-_)*w-(o-f)*k);c=(_+y)/2-r*w;h=(f+x)/2+r*k}else{let e=1/S,t=b*b+v*v,n=k*k+w*w;c=_+(w*t-v*n)*e;h=f+(b*n-k*t)*e}s[l]=c;s[l+1]=h}let l=n[n.length-1];let d,c=l*4;let h,u=t[2*l];let p,_=t[2*l+1];a.fill(0);for(let e=0;e<n.length;++e){l=n[e];d=c,h=u,p=_;c=l*4,u=t[2*l],_=t[2*l+1];a[d+2]=a[c]=p-_;a[d+3]=a[c+1]=u-h}}render(t){const n=t==null?t=new Path_path:e;const{delaunay:{halfedges:r,inedges:a,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let e=0,n=r.length;e<n;++e){let n=r[e];if(n<e)continue;let a=Math.floor(e/3)*2,i=Math.floor(n/3)*2,s=o[a],l=o[a+1],d=o[i],c=o[i+1];this._renderSegment(s,l,d,c,t)}let l,d=i[i.length-1];for(let e=0;e<i.length;++e){l=d,d=i[e];let n=Math.floor(a[d]/3)*2,r=o[n],c=o[n+1],h=l*4,u=this._project(r,c,s[h+2],s[h+3]);u&&this._renderSegment(r,c,u[0],u[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Path_path:e;t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return n&&n.value()}renderCell(t,n){const r=n==null?n=new Path_path:e;const a=this._clip(t);if(a===null||!a.length)return;n.moveTo(a[0],a[1]);let i=a.length;while(a[0]===a[i-2]&&a[1]===a[i-1]&&i>1)i-=2;for(let e=2;e<i;e+=2){(a[e]!==a[e-2]||a[e+1]!==a[e-1])&&n.lineTo(a[e],a[e+1])}n.closePath();return r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){let e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new Polygon;this.renderCell(e,t);return t.value()}_renderSegment(e,t,n,r,a){let i;const o=this._regioncode(e,t);const s=this._regioncode(n,r);if(o===0&&s===0){a.moveTo(e,t);a.lineTo(n,r)}else if(i=this._clipSegment(e,t,n,r,o,s)){a.moveTo(i[0],i[1]);a.lineTo(i[2],i[3])}}contains(e,t,n){if((t=+t,t!==t)||(n=+n,n!==n))return!1;return this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){let e=this._clip(n);if(e)e:for(let r=0,a=t.length;r<a;r+=2){for(let i=0,o=e.length;i<o;i+=2){if(t[r]===e[i]&&t[r+1]===e[i+1]&&t[(r+2)%a]===e[(i+o-2)%o]&&t[(r+3)%a]===e[(i+o-1)%o]){yield n;break e}}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:a}}=this;const i=n[e];if(i===-1)return null;const o=[];let s=i;do{let n=Math.floor(s/3);o.push(t[n*2],t[n*2+1]);s=s%3===2?s-2:s+1;if(a[s]!==e)break;s=r[s]}while(s!==i&&s!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1){return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin]}const t=this._cell(e);if(t===null)return null;const{vectors:n}=this;const r=e*4;return this._simplify(n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let r=null;let a,i,o=t[n-2],s=t[n-1];let l,d=this._regioncode(o,s);let c,h=0;for(let u=0;u<n;u+=2){a=o,i=s,o=t[u],s=t[u+1];l=d,d=this._regioncode(o,s);if(l===0&&d===0){c=h,h=0;if(r)r.push(o,s);else r=[o,s]}else{let t,n,u,p,_;if(l===0){if((t=this._clipSegment(a,i,o,s,l,d))===null)continue;[n,u,p,_]=t}else{if((t=this._clipSegment(o,s,a,i,d,l))===null)continue;[p,_,n,u]=t;c=h,h=this._edgecode(n,u);c&&h&&this._edge(e,c,h,r,r.length);if(r)r.push(n,u);else r=[n,u]}c=h,h=this._edgecode(p,_);c&&h&&this._edge(e,c,h,r,r.length);if(r)r.push(p,_);else r=[p,_]}}if(r){c=h,h=this._edgecode(r[0],r[1]);c&&h&&this._edge(e,c,h,r,r.length)}else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)){return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin]}return r}_clipSegment(e,t,n,r,a,i){const o=a<i;o&&([e,t,n,r,a,i]=[n,r,e,t,i,a]);while(!0){if(a===0&&i===0)return o?[n,r,e,t]:[e,t,n,r];if(a&i)return null;let s,l,d=a||i;if(d&8)s=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax;else if(d&4)s=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin;else if(d&2)l=t+(r-t)*(this.xmax-e)/(n-e),s=this.xmax;else l=t+(r-t)*(this.xmin-e)/(n-e),s=this.xmin;if(a)e=s,t=l,a=this._regioncode(e,t);else n=s,r=l,i=this._regioncode(n,r)}}_clipInfinite(e,t,n,r,a,i){let o=Array.from(t),s;(s=this._project(o[0],o[1],n,r))&&o.unshift(s[0],s[1]);(s=this._project(o[o.length-2],o[o.length-1],a,i))&&o.push(s[0],s[1]);if(o=this._clipFinite(e,o)){for(let t=0,n=o.length,r,a=this._edgecode(o[n-2],o[n-1]);t<n;t+=2){r=a,a=this._edgecode(o[t],o[t+1]);r&&a&&(t=this._edge(e,r,a,o,t),n=o.length)}}else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,n,r,a){while(t!==n){let n,i;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,i=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,i=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,i=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,i=this.ymin;break}(r[a]!==n||r[a+1]!==i)&&this.contains(e,n,i)&&(r.splice(a,0,n,i),a+=2)}return a}_project(e,t,n,r){let a=Infinity,i,o,s;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<a&&(s=this.ymin,o=e+(a=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<a&&(s=this.ymax,o=e+(a=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<a&&(o=this.xmax,s=t+(a=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<a&&(o=this.xmin,s=t+(a=i)*r)}return[o,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){let n=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[r]||e[t+1]===e[n+1]&&e[n+1]===e[r+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const Yb=2*Math.PI,Vb=Math.pow;function Xb(e){return e[0]}function Kb(e){return e[1]}function Qb(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){let r=2*t[e],a=2*t[e+1],i=2*t[e+2],o=(n[i]-n[r])*(n[a+1]-n[r+1])-(n[a]-n[r])*(n[i+1]-n[r+1]);if(o>1E-10)return!1}return!0}function Zb(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Delaunay{static from(e,t=Xb,n=Kb,r){return new Delaunay("length"in e?Jb(e,t,n,r):Float64Array.from(ev(e,t,n,r)))}constructor(e){this._delaunator=new Delaunator(e);this.inedges=new Int32Array(e.length/2);this._hullIndex=new Int32Array(e.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&Qb(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);let e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],a=1E-08*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){let n=Zb(t[2*e],t[2*e+1],a);t[2*e]=n[0];t[2*e+1]=n[1]}this._delaunator=new Delaunator(t)}else{delete this.collinear}const n=this.halfedges=this._delaunator.halfedges;const r=this.hull=this._delaunator.hull;const a=this.triangles=this._delaunator.triangles;const i=this.inedges.fill(-1);const o=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){let t=a[e%3===2?e-2:e+1];(n[e]===-1||i[t]===-1)&&(i[t]=e)}for(let e=0,t=r.length;e<t;++e){o[r[e]]=e}if(r.length<=2&&r.length>0){this.triangles=new Int32Array(3).fill(-1);this.halfedges=new Int32Array(3).fill(-1);this.triangles[0]=r[0];i[r[0]]=1;if(r.length===2){i[r[1]]=0;this.triangles[1]=r[1];this.triangles[2]=r[1]}}}voronoi(e){return new Voronoi(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:a,triangles:i,collinear:o}=this;if(o){let t=o.indexOf(e);if(t>0)yield o[t-1];if(t<o.length-1)yield o[t+1];return}const s=t[e];if(s===-1)return;let l=s,d=-1;do{yield d=i[l];l=l%3===2?l-2:l+1;if(i[l]!==e)return;l=a[l];if(l===-1){let t=n[(r[e]+1)%n.length];if(t!==d)yield t;return}}while(l!==s)}find(e,t,n=0){if((e=+e,e!==e)||(t=+t,t!==t))return-1;const r=n;let a;while((a=this._step(n,e,t))>=0&&a!==n&&a!==r)n=a;return a}_step(e,t,n){const{inedges:r,hull:a,_hullIndex:i,halfedges:o,triangles:s,points:l}=this;if(r[e]===-1||!l.length)return(e+1)%(l.length>>1);let d=e;let c=Vb(t-l[e*2],2)+Vb(n-l[e*2+1],2);const h=r[e];let u=h;do{let r=s[u],h=Vb(t-l[r*2],2)+Vb(n-l[r*2+1],2);h<c&&(c=h,d=r);u=u%3===2?u-2:u+1;if(s[u]!==e)break;u=o[u];if(u===-1){u=a[(i[e]+1)%a.length];if(u!==r){if(Vb(t-l[u*2],2)+Vb(n-l[u*2+1],2)<c)return u}break}}while(u!==h);return d}render(t){const n=t==null?t=new Path_path:e;const{points:r,halfedges:a,triangles:i}=this;for(let e=0,n=a.length;e<n;++e){let n=a[e];if(n<e)continue;let o=i[e]*2,s=i[n]*2;t.moveTo(r[o],r[o+1]);t.lineTo(r[s],r[s+1])}this.renderHull(t);return n&&n.value()}renderPoints(t,n){n===e&&(!t||typeof t.moveTo!=="function")&&(n=t,t=null);n=n==e?2:+n;const r=t==null?t=new Path_path:e;const{points:a}=this;for(let e=0,r=a.length;e<r;e+=2){let r=a[e],i=a[e+1];t.moveTo(r+n,i);t.arc(r,i,n,0,Yb)}return r&&r.value()}renderHull(t){const n=t==null?t=new Path_path:e;const{hull:r,points:a}=this
const i=r[0]*2,o=r.length;t.moveTo(a[i],a[i+1]);for(let e=1;e<o;++e){let n=2*r[e];t.lineTo(a[n],a[n+1])}t.closePath();return n&&n.value()}hullPolygon(){const e=new Polygon;this.renderHull(e);return e.value()}renderTriangle(t,n){const r=n==null?n=new Path_path:e;const{points:a,triangles:i}=this;const o=i[t*=3]*2;const s=i[t+1]*2;const l=i[t+2]*2;n.moveTo(a[o],a[o+1]);n.lineTo(a[s],a[s+1]);n.lineTo(a[l],a[l+1]);n.closePath();return r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t){yield this.trianglePolygon(t)}}trianglePolygon(e){const t=new Polygon;this.renderTriangle(e,t);return t.value()}}function Jb(e,t,n,r){const a=e.length;const i=new Float64Array(a*2);for(let o=0;o<a;++o){let a=e[o];i[o*2]=t.call(r,a,o,e);i[o*2+1]=n.call(r,a,o,e)}return i}function*ev(e,t,n,r){let a=0;for(const i of e){yield t.call(r,i,a,e);yield n.call(r,i,a,e);++a}}var tv={},nv={},rv=34,av=10,iv=13;function ov(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function sv(e,t){var n=ov(e);return function(r,a){return t(n(r),a,e)}}function lv(e){var t=Object.create(null),n=[];e.forEach(function(e){for(var r in e){r in t||n.push(t[r]=r)}});return n}function dv(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function cv(e){return e<0?"-"+dv(-e,6):e>9999?"+"+dv(e,6):dv(e,4)}function hv(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":cv(e.getUTCFullYear(),4)+"-"+dv(e.getUTCMonth()+1,2)+"-"+dv(e.getUTCDate(),2)+(a?"T"+dv(t,2)+":"+dv(n,2)+":"+dv(r,2)+"."+dv(a,3)+"Z":r?"T"+dv(t,2)+":"+dv(n,2)+":"+dv(r,2)+"Z":n||t?"T"+dv(t,2)+":"+dv(n,2)+"Z":"")}function uv(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var n,r,i=a(e,function(e,a){if(n)return n(e,a-1);r=e,n=t?sv(e,t):ov(e)});i.columns=r||[];return i}function a(e,t){var r=[],a=e.length,i=0,o=0,s,l=a<=0,d=!1;e.charCodeAt(a-1)===av&&--a;e.charCodeAt(a-1)===iv&&--a;function c(){if(l)return nv;if(d)return d=!1,tv;var t,r=i,o;if(e.charCodeAt(r)===rv){while(i++<a&&e.charCodeAt(i)!==rv||e.charCodeAt(++i)===rv);if((t=i)>=a)l=!0;else if((o=e.charCodeAt(i++))===av)d=!0;else if(o===iv){d=!0;e.charCodeAt(i)===av&&++i}return e.slice(r+1,t-1).replace(/""/g,'"')}while(i<a){if((o=e.charCodeAt(t=i++))===av)d=!0;else if(o===iv){d=!0;e.charCodeAt(i)===av&&++i}else if(o!==n)continue;return e.slice(r,t)}return l=!0,e.slice(r,a)}while((s=c())!==nv){var h=[];while(s!==tv&&s!==nv)h.push(s),s=c();if(t&&(h=t(h,o++))==null)continue;r.push(h)}return r}function i(t,n){return t.map(function(t){return n.map(function(e){return c(t[e])}).join(e)})}function o(t,n){n==null&&(n=lv(t));return[n.map(c).join(e)].concat(i(t,n)).join("\n")}function s(e,t){t==null&&(t=lv(e));return i(e,t).join("\n")}function l(e){return e.map(d).join("\n")}function d(t){return t.map(c).join(e)}function c(e){return e==null?"":e instanceof Date?hv(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:r,parseRows:a,format:o,formatBody:s,formatRows:l,formatRow:d,formatValue:c}}var pv=uv(",");var _v=pv.parse;pv.parseRows;pv.format;pv.formatBody;pv.formatRows;pv.formatRow;pv.formatValue;var fv=uv("\t");var mv=fv.parse;fv.parseRows;fv.format;fv.formatBody;fv.formatRows;fv.formatRow;fv.formatValue;new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function gv(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function yv(e,t){return fetch(e,t).then(gv)}function xv(t){return function(n,r,a){arguments.length===2&&typeof r==="function"&&(a=r,r=e);return yv(n,r).then(function(e){return t(e,a)})}}xv(_v);xv(mv);function bv(e){return(t,n)=>yv(t,n).then(t=>(new DOMParser).parseFromString(t,e))}bv("application/xml");bv("text/html");bv("image/svg+xml");function vv(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return kv(this.cover(t,n),t,n,e)}function kv(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i=e._root,o={data:r},s=e._x0,l=e._y0,d=e._x1,c=e._y1,h,u,p,_,f,m,g,y;if(!i)return e._root=o,e;while(i.length){if(f=t>=(h=(s+d)/2))s=h;else d=h;if(m=n>=(u=(l+c)/2))l=u;else c=u;if(a=i,!(i=i[g=m<<1|f]))return a[g]=o,e}p=+e._x.call(null,i.data);_=+e._y.call(null,i.data);if(t===p&&n===_)return o.next=i,a?a[g]=o:e._root=o,e;do{a=a?a[g]=new Array(4):e._root=new Array(4);if(f=t>=(h=(s+d)/2))s=h;else d=h;if(m=n>=(u=(l+c)/2))l=u;else c=u}while((g=m<<1|f)===(y=(_>=u)<<1|p>=h));return a[y]=i,a[g]=o,e}function wv(e){var t,n,r=e.length,a,i,o=new Array(r),s=new Array(r),l=Infinity,d=Infinity,c=-Infinity,h=-Infinity;for(n=0;n<r;++n){if(isNaN(a=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t)))continue;o[n]=a;s[n]=i;a<l&&(l=a);a>c&&(c=a);i<d&&(d=i);i>h&&(h=i)}if(l>c||d>h)return this;this.cover(l,d).cover(c,h);for(n=0;n<r;++n){kv(this,o[n],s[n],e[n])}return this}function Sv(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n)){a=(n=Math.floor(e))+1;i=(r=Math.floor(t))+1}else{var o=a-n||1,s=this._root,l,d;while(n>e||e>=a||r>t||t>=i){d=(t<r)<<1|e<n;l=new Array(4),l[d]=s,s=l,o*=2;switch(d){case 0:a=n+o,i=r+o;break;case 1:n=a-o,i=r+o;break;case 2:a=n+o,r=i-o;break;case 3:n=a-o,r=i-o;break}}this._root&&this._root.length&&(this._root=s)}this._x0=n;this._y0=r;this._x1=a;this._y1=i;return this}function Cv(){var e=[];this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)});return e}function Tv(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?e:[[this._x0,this._y0],[this._x1,this._y1]]}function Ev(e,t,n,r,a){this.node=e;this.x0=t;this.y0=n;this.x1=r;this.y1=a}function Av(e,t,n){var r,a=this._x0,i=this._y0,o,s,l,d,c=this._x1,h=this._y1,u=[],p=this._root,_,f;p&&u.push(new Ev(p,a,i,c,h));if(n==null)n=Infinity;else{a=e-n,i=t-n;c=e+n,h=t+n;n*=n}while(_=u.pop()){if(!(p=_.node)||(o=_.x0)>c||(s=_.y0)>h||(l=_.x1)<a||(d=_.y1)<i)continue;if(p.length){var m=(o+l)/2,g=(s+d)/2;u.push(new Ev(p[3],m,g,l,d),new Ev(p[2],o,g,m,d),new Ev(p[1],m,s,l,g),new Ev(p[0],o,s,m,g));if(f=(t>=g)<<1|e>=m){_=u[u.length-1];u[u.length-1]=u[u.length-1-f];u[u.length-1-f]=_}}else{var y=e-+this._x.call(null,p.data),x=t-+this._y.call(null,p.data),b=y*y+x*x;if(b<n){var v=Math.sqrt(n=b);a=e-v,i=t-v;c=e+v,h=t+v;r=p.data}}}return r}function Nv(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,l=this._x1,d=this._y1,c,h,u,p,_,f,m,g;if(!n)return this;if(n.length)while(!0){if(_=c>=(u=(o+l)/2))o=u;else l=u;if(f=h>=(p=(s+d)/2))s=p;else d=p;if(!(t=n,n=n[m=f<<1|_]))return this;if(!n.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(r=t,g=m)}while(n.data!==e)if(!(a=n,n=n.next))return this;(i=n.next)&&delete n.next;if(a)return i?a.next=i:delete a.next,this;if(!t)return this._root=i,this;i?t[m]=i:delete t[m];if((n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length){if(r)r[g]=n;else this._root=n}return this}function Pv(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Lv(){return this._root}function Mv(){var e=0;this.visit(function(t){if(!t.length)do{++e}while(t=t.next)});return e}function Dv(e){var t=[],n,r=this._root,a,i,o,s,l;r&&t.push(new Ev(r,this._x0,this._y0,this._x1,this._y1));while(n=t.pop()){if(!e(r=n.node,i=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var d=(i+s)/2,c=(o+l)/2;(a=r[3])&&t.push(new Ev(a,d,c,s,l));(a=r[2])&&t.push(new Ev(a,i,c,d,l));(a=r[1])&&t.push(new Ev(a,d,o,s,c));(a=r[0])&&t.push(new Ev(a,i,o,d,c))}}return this}function Iv(e){var t=[],n=[],r;this._root&&t.push(new Ev(this._root,this._x0,this._y0,this._x1,this._y1));while(r=t.pop()){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,l=r.x1,d=r.y1,c=(o+l)/2,h=(s+d)/2;(i=a[0])&&t.push(new Ev(i,o,s,c,h));(i=a[1])&&t.push(new Ev(i,c,s,l,h));(i=a[2])&&t.push(new Ev(i,o,h,c,d));(i=a[3])&&t.push(new Ev(i,c,h,l,d))}n.push(r)}while(r=n.pop()){e(r.node,r.x0,r.y0,r.x1,r.y1)}return this}function Rv(e){return e[0]}function Bv(e){return arguments.length?(this._x=e,this):this._x}function Ov(e){return e[1]}function Fv(e){return arguments.length?(this._y=e,this):this._y}function jv(e,t,n){var r=new Hv(t==null?Rv:t,n==null?Ov:n,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Hv(t,n,r,a,i,o){this._x=t;this._y=n;this._x0=r;this._y0=a;this._x1=i;this._y1=o;this._root=e}function Wv(e){var t={data:e.data},n=t;while(e=e.next)n=n.next={data:e.data};return t}var zv=jv.prototype=Hv.prototype;zv.copy=function(){var e=new Hv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Wv(t),e;n=[{source:t,target:e._root=new Array(4)}];while(t=n.pop()){for(var a=0;a<4;++a){if(r=t.source[a]){if(r.length)n.push({source:r,target:t.target[a]=new Array(4)});else t.target[a]=Wv(r)}}}return e};zv.add=vv;zv.addAll=wv;zv.cover=Sv;zv.data=Cv;zv.extent=Tv;zv.find=Av;zv.remove=Nv;zv.removeAll=Pv;zv.root=Lv;zv.size=Mv;zv.visit=Dv;zv.visitAfter=Iv;zv.x=Bv;zv.y=Fv;function $v(e){return Math.abs(e=Math.round(e))>=1E+21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Uv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qv(e){return e=Uv(Math.abs(e)),e?e[1]:NaN}function Gv(e,t){return function(n,r){var a=n.length,i=[],o=0,s=e[0],l=0;while(a>0&&s>0){l+s+1>r&&(s=Math.max(1,r-l));i.push(n.substring(a-=s,a+s));if((l+=s+1)>r)break;s=e[o=(o+1)%e.length]}return i.reverse().join(t)}}function Yv(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var Vv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xv(e){if(!(t=Vv.exec(e)))throw new Error("invalid format: "+e);var t;return new Kv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xv.prototype=Kv.prototype;function Kv(t){this.fill=t.fill===e?" ":t.fill+"";this.align=t.align===e?">":t.align+"";this.sign=t.sign===e?"-":t.sign+"";this.symbol=t.symbol===e?"":t.symbol+"";this.zero=!!t.zero;this.width=t.width===e?e:+t.width;this.comma=!!t.comma;this.precision=t.precision===e?e:+t.precision;this.trim=!!t.trim;this.type=t.type===e?"":t.type+""}Kv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===e?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===e?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qv(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n){switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n);a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}}return r>0?e.slice(0,r)+e.slice(a+1):e}var Zv;function Jv(e,t){var n=Uv(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Zv=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Uv(e,Math.max(0,t+i-1))[0]}function ek(e,t){var n=Uv(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var tk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$v,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ek(e*100,t),r:ek,s:Jv,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nk(e){return e}var rk=Array.prototype.map,ak=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ik(t){var n=t.grouping===e||t.thousands===e?nk:Gv(rk.call(t.grouping,Number),t.thousands+""),r=t.currency===e?"":t.currency[0]+"",a=t.currency===e?"":t.currency[1]+"",i=t.decimal===e?".":t.decimal+"",o=t.numerals===e?nk:Yv(rk.call(t.numerals,String)),s=t.percent===e?"%":t.percent+"",l=t.minus===e?"":t.minus+"",d=t.nan===e?"NaN":t.nan+"";function c(t){t=Xv(t);var c=t.fill,h=t.align,u=t.sign,p=t.symbol,_=t.zero,f=t.width,m=t.comma,g=t.precision,y=t.trim,x=t.type;if(x==="n")m=!0,x="g";else tk[x]||(g===e&&(g=12),y=!0,x="g");(_||c==="0"&&h==="=")&&(_=!0,c="0",h="=");var b=p==="$"?r:p==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v=p==="$"?a:/[%p]/.test(x)?s:"";var k=tk[x],w=/[defgprs%]/.test(x);g=g===e?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function S(e){var t=b,r=v,a,s,p;if(x==="c"){r=k(e)+r;e=""}else{e=+e;var S=e<0||1/e<0;e=isNaN(e)?d:k(Math.abs(e),g);y&&(e=Qv(e));S&&+e===0&&u!=="+"&&(S=!1);t=(S?u==="("?u:l:u==="-"||u==="("?"":u)+t;r=(x==="s"?ak[8+Zv/3]:"")+r+(S&&u==="("?")":"");if(w){a=-1,s=e.length;while(++a<s){if(p=e.charCodeAt(a),48>p||p>57){r=(p===46?i+e.slice(a+1):e.slice(a))+r;e=e.slice(0,a);break}}}}m&&!_&&(e=n(e,Infinity));var C=t.length+e.length+r.length,T=C<f?new Array(f-C+1).join(c):"";m&&_&&(e=n(T+e,T.length?f-r.length:Infinity),T="");switch(h){case"<":e=t+e+r+T;break;case"=":e=t+T+e+r;break;case"^":e=T.slice(0,C=T.length>>1)+t+e+r+T.slice(C);break;default:e=T+t+e+r;break}return o(e)}S.toString=function(){return t+""};return S}function h(e,t){var n=c((e=Xv(e),e.type="f",e)),r=Math.max(-8,Math.min(8,Math.floor(qv(t)/3)))*3,a=Math.pow(10,-r),i=ak[8+r/3];return function(e){return n(a*e)+i}}return{format:c,formatPrefix:h}}var ok;sk({thousands:",",grouping:[3],currency:["$",""]});function sk(e){ok=ik(e);lk=ok.format;dk=ok.formatPrefix;return ok}var lk;var dk;function ck(e){return Math.max(0,-qv(Math.abs(e)))}function hk(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qv(t)/3)))*3-qv(Math.abs(e)))}function uk(e,t){e=Math.abs(e),t=Math.abs(t)-e;return Math.max(0,qv(t)-qv(e))+1}var pk=1E-06;var _k=1E-12;var fk=Math.PI;var mk=fk/2;var gk=fk/4;var yk=fk*2;var xk=180/fk;var bk=fk/180;var vk=Math.abs;var kk=Math.atan;var wk=Math.atan2;var Sk=Math.cos;var Ck=Math.exp;var Tk=Math.hypot;var Ek=Math.log;var Ak=Math.sin;var Nk=Math.sign||function(e){return e>0?1:e<0?-1:0};var Pk=Math.sqrt;var Lk=Math.tan;function Mk(e){return e>1?0:e<-1?fk:Math.acos(e)}function Dk(e){return e>1?mk:e<-1?-mk:Math.asin(e)}function Ik(){}function Rk(e,t){e&&Ok.hasOwnProperty(e.type)&&Ok[e.type](e,t)}var Bk={Feature:function(e,t){Rk(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,a=n.length;while(++r<a)Rk(n[r].geometry,t)}};var Ok={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates;t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,a=n.length;while(++r<a)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Fk(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,a=n.length;while(++r<a)Fk(n[r],t,0)},Polygon:function(e,t){jk(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,a=n.length;while(++r<a)jk(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,a=n.length;while(++r<a)Rk(n[r],t)}};function Fk(e,t,n){var r=-1,a=e.length-n,i;t.lineStart();while(++r<a)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function jk(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)Fk(e[n],t,1);t.polygonEnd()}function Hk(e,t){if(e&&Bk.hasOwnProperty(e.type)){Bk[e.type](e,t)}else{Rk(e,t)}}var Wk=new Adder;var zk=new Adder,$k,Uk,qk,Gk,Yk;var Vk={point:Ik,lineStart:Ik,lineEnd:Ik,polygonStart:function(){Wk=new Adder;Vk.lineStart=Xk;Vk.lineEnd=Kk},polygonEnd:function(){var e=+Wk;zk.add(e<0?yk+e:e);this.lineStart=this.lineEnd=this.point=Ik},sphere:function(){zk.add(yk)}};function Xk(){Vk.point=Qk}function Kk(){Zk($k,Uk)}function Qk(e,t){Vk.point=Zk;$k=e,Uk=t;e*=bk,t*=bk;qk=e,Gk=Sk(t=t/2+gk),Yk=Ak(t)}function Zk(e,t){e*=bk,t*=bk;t=t/2+gk;var n=e-qk,r=n>=0?1:-1,a=r*n,i=Sk(t),o=Ak(t),s=Yk*o,l=Gk*i+s*Sk(a),d=s*r*Ak(a);Wk.add(wk(d,l));qk=e,Gk=i,Yk=o}function Jk(e){return[wk(e[1],e[0]),Dk(e[2])]}function ew(e){var t=e[0],n=e[1],r=Sk(n);return[r*Sk(t),r*Ak(t),Ak(n)]}function tw(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function nw(e){var t=Pk(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var rw,aw,iw,ow,sw,lw,dw,cw,hw,uw,pw;var _w={point:fw,lineStart:gw,lineEnd:yw,polygonStart:function(){_w.point=xw;_w.lineStart=bw;_w.lineEnd=vw;hw=new Adder;Vk.polygonStart()},polygonEnd:function(){Vk.polygonEnd();_w.point=fw;_w.lineStart=gw;_w.lineEnd=yw;if(Wk<0)rw=-(iw=180),aw=-(ow=90);else if(hw>pk)ow=90;else hw<-pk&&(aw=-90);pw[0]=rw,pw[1]=iw},sphere:function(){rw=-(iw=180),aw=-(ow=90)}};function fw(e,t){uw.push(pw=[rw=e,iw=e]);t<aw&&(aw=t);t>ow&&(ow=t)}function mw(e,t){var n=ew([e*bk,t*bk]);if(cw){var r=tw(cw,n),a=[r[1],-r[0],0],i=tw(a,r);nw(i);i=Jk(i);var o=e-sw,s=o>0?1:-1,l=i[0]*xk*s,d,c=vk(o)>180;if(c^(s*sw<l&&l<s*e)){d=i[1]*xk;d>ow&&(ow=d)}else if(l=(l+360)%360-180,c^(s*sw<l&&l<s*e)){d=-i[1]*xk;d<aw&&(aw=d)}else{t<aw&&(aw=t);t>ow&&(ow=t)}if(c){if(e<sw){kw(rw,e)>kw(rw,iw)&&(iw=e)}else{kw(e,iw)>kw(rw,iw)&&(rw=e)}}else{if(iw>=rw){e<rw&&(rw=e);e>iw&&(iw=e)}else{if(e>sw){kw(rw,e)>kw(rw,iw)&&(iw=e)}else{kw(e,iw)>kw(rw,iw)&&(rw=e)}}}}else{uw.push(pw=[rw=e,iw=e])}t<aw&&(aw=t);t>ow&&(ow=t);cw=n,sw=e}function gw(){_w.point=mw}function yw(){pw[0]=rw,pw[1]=iw;_w.point=fw;cw=null}function xw(e,t){if(cw){var n=e-sw;hw.add(vk(n)>180?n+(n>0?360:-360):n)}else{lw=e,dw=t}Vk.point(e,t);mw(e,t)}function bw(){Vk.lineStart()}function vw(){xw(lw,dw);Vk.lineEnd();vk(hw)>pk&&(rw=-(iw=180));pw[0]=rw,pw[1]=iw;cw=null}function kw(e,t){return(t-=e)<0?t+360:t}var ww,Sw,Cw,Tw,Ew,Aw,Nw,Pw,Lw,Mw,Dw,Iw,Rw,Bw,Ow,Fw;var jw={sphere:Ik,point:Hw,lineStart:zw,lineEnd:qw,polygonStart:function(){jw.lineStart=Gw;jw.lineEnd=Yw},polygonEnd:function(){jw.lineStart=zw;jw.lineEnd=qw}};function Hw(e,t){e*=bk,t*=bk;var n=Sk(t);Ww(n*Sk(e),n*Ak(e),Ak(t))}function Ww(e,t,n){++ww;Cw+=(e-Cw)/ww;Tw+=(t-Tw)/ww;Ew+=(n-Ew)/ww}function zw(){jw.point=$w}function $w(e,t){e*=bk,t*=bk;var n=Sk(t);Bw=n*Sk(e);Ow=n*Ak(e);Fw=Ak(t);jw.point=Uw;Ww(Bw,Ow,Fw)}function Uw(e,t){e*=bk,t*=bk;var n=Sk(t),r=n*Sk(e),a=n*Ak(e),i=Ak(t),o=wk(Pk((o=Ow*i-Fw*a)*o+(o=Fw*r-Bw*i)*o+(o=Bw*a-Ow*r)*o),Bw*r+Ow*a+Fw*i);Sw+=o;Aw+=o*(Bw+(Bw=r));Nw+=o*(Ow+(Ow=a));Pw+=o*(Fw+(Fw=i));Ww(Bw,Ow,Fw)}function qw(){jw.point=Hw}function Gw(){jw.point=Vw}function Yw(){Xw(Iw,Rw);jw.point=Hw}function Vw(e,t){Iw=e,Rw=t;e*=bk,t*=bk;jw.point=Xw;var n=Sk(t);Bw=n*Sk(e);Ow=n*Ak(e);Fw=Ak(t);Ww(Bw,Ow,Fw)}function Xw(e,t){e*=bk,t*=bk;var n=Sk(t),r=n*Sk(e),a=n*Ak(e),i=Ak(t),o=Ow*i-Fw*a,s=Fw*r-Bw*i,l=Bw*a-Ow*r,d=Tk(o,s,l),c=Dk(d),h=d&&-c/d;Lw.add(h*o);Mw.add(h*s);Dw.add(h*l);Sw+=c;Aw+=c*(Bw+(Bw=r));Nw+=c*(Ow+(Ow=a));Pw+=c*(Fw+(Fw=i));Ww(Bw,Ow,Fw)}function Kw(e,t){vk(e)>fk&&(e-=Math.round(e/yk)*yk);return[e,t]}Kw.invert=Kw;function Qw(){var e=[],t;return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Ik,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;e=[];t=null;return n}}}function Zw(e,t){return vk(e[0]-t[0])<pk&&vk(e[1]-t[1])<pk}function Jw(e,t,n,r){this.x=e;this.z=t;this.o=n;this.e=r;this.v=!1;this.n=this.p=null}function eS(e,t,n,r,a){var i=[],o=[],s,l;e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],r=e[t],l;if(Zw(n,r)){if(!n[2]&&!r[2]){a.lineStart();for(s=0;s<t;++s)a.point((n=e[s])[0],n[1]);a.lineEnd();return}r[0]+=2*pk}i.push(l=new Jw(n,e,null,!0));o.push(l.o=new Jw(n,null,l,!1));i.push(l=new Jw(r,e,null,!1));o.push(l.o=new Jw(r,null,l,!0))});if(!i.length)return;o.sort(t);tS(i);tS(o);for(s=0,l=o.length;s<l;++s){o[s].e=n=!n}var d=i[0],c,h;while(1){var u=d,p=!0;while(u.v)if((u=u.n)===d)return;c=u.z;a.lineStart();do{u.v=u.o.v=!0;if(u.e){if(p){for(s=0,l=c.length;s<l;++s)a.point((h=c[s])[0],h[1])}else{r(u.x,u.n.x,1,a)}u=u.n}else{if(p){c=u.p.z;for(s=c.length-1;s>=0;--s)a.point((h=c[s])[0],h[1])}else{r(u.x,u.p.x,-1,a)}u=u.p}u=u.o;c=u.z;p=!p}while(!u.v);a.lineEnd()}}function tS(e){if(!(t=e.length))return;var t,n=0,r=e[0],a;while(++n<t){r.n=a=e[n];a.p=r;r=a}r.n=a=e[0];a.p=r}function nS(e){return vk(e[0])<=fk?e[0]:Nk(e[0])*((vk(e[0])+fk)%yk-fk)}function rS(e,t){var n=nS(t),r=t[1],a=Ak(r),i=[Ak(n),-Sk(n),0],o=0,s=0;var l=new Adder;if(a===1)r=mk+pk;else a===-1&&(r=-mk-pk);for(var d=0,c=e.length;d<c;++d){if(!(u=(h=e[d]).length))continue;var h,u,p=h[u-1],_=nS(p),f=p[1]/2+gk,m=Ak(f),g=Sk(f);for(var y=0;y<u;++y,_=b,m=k,g=w,p=x){var x=h[y],b=nS(x),v=x[1]/2+gk,k=Ak(v),w=Sk(v),S=b-_,C=S>=0?1:-1,T=C*S,E=T>fk,A=m*k;l.add(wk(A*C*Ak(T),g*w+A*Sk(T)));o+=E?S+C*yk:S;if(E^_>=n^b>=n){var N=tw(ew(p),ew(x));nw(N);var P=tw(i,N);nw(P);var L=(E^S>=0?-1:1)*Dk(P[2]);(r>L||r===L&&(N[0]||N[1]))&&(s+=E^S>=0?1:-1)}}}return(o<-pk||o<pk&&l<-_k)^s&1}function aS(e,t,n,r){return function(a){var i=t(a),o=Qw(),s=t(o),l=!1,d,c,h;var u={point:p,lineStart:f,lineEnd:m,polygonStart:function(){u.point=g;u.lineStart=y;u.lineEnd=x;c=[];d=[]},polygonEnd:function(){u.point=p;u.lineStart=f;u.lineEnd=m;c=Ep(c);var e=rS(d,r);if(c.length){l||(a.polygonStart(),l=!0);eS(c,oS,e,n,a)}else if(e){l||(a.polygonStart(),l=!0);a.lineStart();n(null,null,1,a);a.lineEnd()}l&&(a.polygonEnd(),l=!1);c=d=null},sphere:function(){a.polygonStart();a.lineStart();n(null,null,1,a);a.lineEnd();a.polygonEnd()}};function p(t,n){e(t,n)&&a.point(t,n)}function _(e,t){i.point(e,t)}function f(){u.point=_;i.lineStart()}function m(){u.point=p;i.lineEnd()}function g(e,t){h.push([e,t]);s.point(e,t)}function y(){s.lineStart();h=[]}function x(){g(h[0][0],h[0][1]);s.lineEnd();var e=s.clean(),t=o.result(),n,r=t.length,i,u,p;h.pop();d.push(h);h=null;if(!r)return;if(e&1){u=t[0];if((i=u.length-1)>0){l||(a.polygonStart(),l=!0);a.lineStart();for(n=0;n<i;++n)a.point((p=u[n])[0],p[1]);a.lineEnd()}return}r>1&&e&2&&t.push(t.pop().concat(t.shift()));c.push(t.filter(iS))}return u}}function iS(e){return e.length>1}function oS(e,t){return((e=e.x)[0]<0?e[1]-mk-pk:mk-e[1])-((t=t.x)[0]<0?t[1]-mk-pk:mk-t[1])}aS(function(){return!0},sS,dS,[-fk,-mk]);function sS(e){var t=NaN,n=NaN,r=NaN,a;return{lineStart:function(){e.lineStart();a=1},point:function(i,o){var s=i>0?fk:-fk,l=vk(i-t);if(vk(l-fk)<pk){e.point(t,n=(n+o)/2>0?mk:-mk);e.point(r,n);e.lineEnd();e.lineStart();e.point(s,n);e.point(i,n);a=0}else if(r!==s&&l>=fk){vk(t-r)<pk&&(t-=r*pk);vk(i-s)<pk&&(i-=s*pk);n=lS(t,n,i,o);e.point(r,n);e.lineEnd();e.lineStart();e.point(s,n);a=0}e.point(t=i,n=o);r=s},lineEnd:function(){e.lineEnd();t=n=NaN},clean:function(){return 2-a}}}function lS(e,t,n,r){var a,i,o=Ak(e-n);return vk(o)>pk?kk((Ak(t)*(i=Sk(r))*Ak(n)-Ak(r)*(a=Sk(t))*Ak(e))/(a*i*o)):(t+r)/2}function dS(e,t,n,r){var a;if(e==null){a=n*mk;r.point(-fk,a);r.point(0,a);r.point(fk,a);r.point(fk,0);r.point(fk,-a);r.point(0,-a);r.point(-fk,-a);r.point(-fk,0);r.point(-fk,a)}else if(vk(e[0]-t[0])>pk){var i=e[0]<t[0]?fk:-fk;a=n*i/2;r.point(-i,a);r.point(0,a);r.point(i,a)}else{r.point(t[0],t[1])}}var cS,hS,uS,pS;var _S={sphere:Ik,point:Ik,lineStart:fS,lineEnd:Ik,polygonStart:Ik,polygonEnd:Ik};function fS(){_S.point=gS;_S.lineEnd=mS}function mS(){_S.point=_S.lineEnd=Ik}function gS(e,t){e*=bk,t*=bk;hS=e,uS=Ak(t),pS=Sk(t);_S.point=yS}function yS(e,t){e*=bk,t*=bk;var n=Ak(t),r=Sk(t),a=vk(e-hS),i=Sk(a),o=Ak(a),s=r*o,l=pS*n-uS*r*i,d=uS*n+pS*r*i;cS.add(wk(Pk(s*s+l*l),d));hS=e,uS=n,pS=r}function xS(e){cS=new Adder;Hk(e,_S);return+cS}var bS=[null,null],vS={type:"LineString",coordinates:bS};function kS(e,t){bS[0]=e;bS[1]=t;return xS(vS)}var wS={Sphere:function(){return!0},Point:function(e,t){return CS(e.coordinates,t)},MultiPoint:function(e,t){var n=e.coordinates,r=-1,a=n.length;while(++r<a)if(CS(n[r],t))return!0;return!1},LineString:function(e,t){return TS(e.coordinates,t)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,a=n.length;while(++r<a)if(TS(n[r],t))return!0;return!1},Polygon:function(e,t){return ES(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,a=n.length;while(++r<a)if(ES(n[r],t))return!0;return!1},GeometryCollection:function(e,t){var n=e.geometries,r=-1,a=n.length;while(++r<a)if(SS(n[r],t))return!0;return!1}};function SS(e,t){return e&&wS.hasOwnProperty(e.type)?wS[e.type](e,t):!1}function CS(e,t){return kS(e,t)===0}function TS(e,t){var n,r,a;for(var i=0,o=e.length;i<o;i++){r=kS(e[i],t);if(r===0)return!0;if(i>0){a=kS(e[i],e[i-1]);if(a>0&&n<=a&&r<=a&&(n+r-a)*(1-Math.pow((n-r)/a,2))<_k*a)return!0}n=r}return!1}function ES(e,t){return!!rS(e.map(AS),NS(t))}function AS(e){return e=e.map(NS),e.pop(),e}function NS(e){return[e[0]*bk,e[1]*bk]}var PS=new Adder,LS=new Adder,MS,DS,IS,RS;var BS={point:Ik,lineStart:Ik,lineEnd:Ik,polygonStart:function(){BS.lineStart=OS;BS.lineEnd=HS},polygonEnd:function(){BS.lineStart=BS.lineEnd=BS.point=Ik;PS.add(vk(LS));LS=new Adder},result:function(){var e=PS/2;PS=new Adder;return e}};function OS(){BS.point=FS}function FS(e,t){BS.point=jS;MS=IS=e,DS=RS=t}function jS(e,t){LS.add(RS*e-IS*t);IS=e,RS=t}function HS(){jS(MS,DS)}var WS=Infinity,zS=WS,$S=-WS,US=$S;var qS=0,GS=0,YS=0,VS=0,XS=0,KS=0,QS=0,ZS=0,JS=0,eC,tC,nC,rC;var aC={point:iC,lineStart:oC,lineEnd:dC,polygonStart:function(){aC.lineStart=cC;aC.lineEnd=hC},polygonEnd:function(){aC.point=iC;aC.lineStart=oC;aC.lineEnd=dC},result:function(){var e=JS?[QS/JS,ZS/JS]:KS?[VS/KS,XS/KS]:YS?[qS/YS,GS/YS]:[NaN,NaN];qS=GS=YS=VS=XS=KS=QS=ZS=JS=0;return e}};function iC(e,t){qS+=e;GS+=t;++YS}function oC(){aC.point=sC}function sC(e,t){aC.point=lC;iC(nC=e,rC=t)}function lC(e,t){var n=e-nC,r=t-rC,a=Pk(n*n+r*r);VS+=a*(nC+e)/2;XS+=a*(rC+t)/2;KS+=a;iC(nC=e,rC=t)}function dC(){aC.point=iC}function cC(){aC.point=uC}function hC(){pC(eC,tC)}function uC(e,t){aC.point=pC;iC(eC=nC=e,tC=rC=t)}function pC(e,t){var n=e-nC,r=t-rC,a=Pk(n*n+r*r);VS+=a*(nC+e)/2;XS+=a*(rC+t)/2;KS+=a;a=rC*e-nC*t;QS+=a*(nC+e);ZS+=a*(rC+t);JS+=a*3;iC(nC=e,rC=t)}function _C(e){this._context=e}_C.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath();this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t);this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t);this._context.arc(e,t,this._radius,0,yk);break}},result:Ik};var fC=new Adder,mC,gC,yC,xC,bC;var vC={point:Ik,lineStart:function(){vC.point=kC},lineEnd:function(){mC&&wC(gC,yC);vC.point=Ik},polygonStart:function(){mC=!0},polygonEnd:function(){mC=null},result:function(){var e=+fC;fC=new Adder;return e}};function kC(e,t){vC.point=wC;gC=xC=e,yC=bC=t}function wC(e,t){xC-=e,bC-=t;fC.add(Pk(xC*xC+bC*bC));xC=e,bC=t}function SC(e){return function(t){var n=new CC;for(var r in e)n[r]=e[r];n.stream=t;return n}}function CC(){}CC.prototype={constructor:CC,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Sk(30*bk);SC({point:function(e,t){this.stream.point(e*bk,t*bk)}});function TC(e){return function(t,n){var r=Sk(t),a=Sk(n),i=e(r*a);if(i===Infinity)return[2,0];return[i*a*Ak(t),i*Ak(n)]}}function EC(e){return function(t,n){var r=Pk(t*t+n*n),a=e(r),i=Ak(a),o=Sk(a);return[wk(t*i,r*o),Dk(r&&n*i/r)]}}var AC=TC(function(e){return Pk(2/(1+e))});AC.invert=EC(function(e){return 2*Dk(e/2)});var NC=TC(function(e){return(e=Mk(e))&&e/Ak(e)});NC.invert=EC(function(e){return e});function PC(e,t){return[e,Ek(Lk((mk+t)/2))]}PC.invert=function(e,t){return[e,2*kk(Ck(t))-mk]};function LC(e,t){return[e,t]}LC.invert=LC;var MC=1.340264,DC=-.081106,IC=.000893,RC=.003796,BC=Pk(3)/2,OC=12;function FC(e,t){var n=Dk(BC*Ak(t)),r=n*n,a=r*r*r;return[e*Sk(n)/(BC*(MC+3*DC*r+a*(7*IC+9*RC*r))),n*(MC+DC*r+a*(IC+RC*r))]}FC.invert=function(e,t){var n=t,r=n*n,a=r*r*r;for(var i=0,o,s,l;i<OC;++i){s=n*(MC+DC*r+a*(IC+RC*r))-t;l=MC+3*DC*r+a*(7*IC+9*RC*r);n-=o=s/l,r=n*n,a=r*r*r;if(vk(o)<_k)break}return[BC*e*(MC+3*DC*r+a*(7*IC+9*RC*r))/Sk(n),Dk(Ak(n)/BC)]};function jC(e,t){var n=Sk(t),r=Sk(e)*n;return[n*Ak(e)/r,Ak(t)/r]}jC.invert=EC(kk);function HC(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}HC.invert=function(e,t){var n=t,r=25,a;do{var i=n*n,o=i*i;n-=a=(n*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-t)/(1.007226+i*(.015085*3+o*(-.044475*7+.028874*9*i-.005916*11*o)))}while(vk(a)>pk&&--r>0);return[e/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function WC(e,t){return[Sk(t)*Ak(e),Ak(t)]}WC.invert=EC(Dk);function zC(e,t){var n=Sk(t),r=1+Sk(e)*n;return[n*Ak(e)/r,Ak(t)/r]}zC.invert=EC(function(e){return 2*kk(e)});function $C(e,t){return[Ek(Lk((mk+t)/2)),-e]}$C.invert=function(e,t){return[-t,2*kk(Ck(e))-mk]};function UC(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else while(--r>=0)t+=n[r].value;e.value=t}function qC(){return this.eachAfter(UC)}function GC(e,t){let n=-1;for(const r of this){e.call(t,r,++n,this)}return this}function YC(e,t){var n=this,r=[n],a,i,o=-1;while(n=r.pop()){e.call(t,n,++o,this);if(a=n.children){for(i=a.length-1;i>=0;--i){r.push(a[i])}}}return this}function VC(e,t){var n=this,r=[n],a=[],i,o,s,l=-1;while(n=r.pop()){a.push(n);if(i=n.children){for(o=0,s=i.length;o<s;++o){r.push(i[o])}}}while(n=a.pop()){e.call(t,n,++l,this)}return this}function XC(e,t){let n=-1;for(const r of this){if(e.call(t,r,++n,this)){return r}}}function KC(e){return this.eachAfter(function(t){var n=+e(t.data)||0,r=t.children,a=r&&r.length;while(--a>=0)n+=r[a].value;t.value=n})}function QC(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function ZC(e){var t=this,n=JC(t,e),r=[t];while(t!==n){t=t.parent;r.push(t)}var a=r.length;while(e!==n){r.splice(a,0,e);e=e.parent}return r}function JC(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;e=n.pop();t=r.pop();while(e===t){a=e;e=n.pop();t=r.pop()}return a}function eT(){var e=this,t=[e];while(e=e.parent){t.push(e)}return t}function tT(){return Array.from(this)}function nT(){var e=[];this.eachBefore(function(t){t.children||e.push(t)});return e}function rT(){var e=this,t=[];e.each(function(n){n!==e&&t.push({source:n.parent,target:n})});return t}function*aT(){var e=this,t,n=[e],r,a,i;do{t=n.reverse(),n=[];while(e=t.pop()){yield e;if(r=e.children){for(a=0,i=r.length;a<i;++a){n.push(r[a])}}}}while(n.length)}function iT(t,n){if(t instanceof Map){t=[e,t];n===e&&(n=lT)}else n===e&&(n=sT);var r=new hT(t),a,i=[r],o,s,l,d;while(a=i.pop()){if((s=n(a.data))&&(d=(s=Array.from(s)).length)){a.children=s;for(l=d-1;l>=0;--l){i.push(o=s[l]=new hT(s[l]));o.parent=a;o.depth=a.depth+1}}}return r.eachBefore(cT)}function oT(){return iT(this).eachBefore(dT)}function sT(e){return e.children}function lT(e){return Array.isArray(e)?e[1]:null}function dT(t){t.data.value!==e&&(t.value=t.data.value);t.data=t.data.data}function cT(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function hT(e){this.data=e;this.depth=this.height=0;this.parent=null}hT.prototype=iT.prototype={constructor:hT,count:qC,each:GC,eachAfter:VC,eachBefore:YC,find:XC,sum:KC,sort:QC,path:ZC,ancestors:eT,descendants:tT,leaves:nT,links:rT,copy:oT,[Symbol.iterator]:aT};function uT(e){if(typeof e!=="function")throw new Error;return e}function pT(){return 0}function _T(e){return function(){return e}}function fT(e){e.x0=Math.round(e.x0);e.y0=Math.round(e.y0);e.x1=Math.round(e.x1);e.y1=Math.round(e.y1)}function mT(e,t,n,r,a){var i=e.children,o,s=-1,l=i.length,d=e.value&&(r-t)/e.value;while(++s<l){o=i[s],o.y0=n,o.y1=a;o.x0=t,o.x1=t+=o.value*d}}function gT(e,t){this._=e;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=t}gT.prototype=Object.create(hT.prototype);function yT(e,t,n,r,a){var i=e.children,o,s=-1,l=i.length,d=e.value&&(a-n)/e.value;while(++s<l){o=i[s],o.x0=t,o.x1=r;o.y0=n,o.y1=n+=o.value*d}}var xT=(1+Math.sqrt(5))/2;function bT(e,t,n,r,a,i){var o=[],s=t.children,l,d,c=0,h=0,u=s.length,p,_,f=t.value,m,g,y,x,b,v,k;while(c<u){p=a-n,_=i-r;do{m=s[h++].value}while(!m&&h<u);g=y=m;v=Math.max(_/p,p/_)/(f*e)
k=m*m*v;b=Math.max(y/k,k/g);for(;h<u;++h){m+=d=s[h].value;d<g&&(g=d);d>y&&(y=d);k=m*m*v;x=Math.max(y/k,k/g);if(x>b){m-=d;break}b=x}o.push(l={value:m,dice:p<_,children:s.slice(c,h)});if(l.dice)mT(l,n,r,a,f?r+=_*m/f:i);else yT(l,n,r,f?n+=p*m/f:a,i);f-=m,c=h}return o}var vT=function e(t){function n(e,n,r,a,i){bT(t,e,n,r,a,i)}n.ratio=function(t){return e((t=+t)>1?t:1)};return n}(xT);function kT(){var e=vT,t=!1,n=1,r=1,a=[0],i=pT,o=pT,s=pT,l=pT,d=pT;function c(e){e.x0=e.y0=0;e.x1=n;e.y1=r;e.eachBefore(h);a=[0];t&&e.eachBefore(fT);return e}function h(t){var n=a[t.depth],r=t.x0+n,c=t.y0+n,h=t.x1-n,u=t.y1-n;h<r&&(r=h=(r+h)/2);u<c&&(c=u=(c+u)/2);t.x0=r;t.y0=c;t.x1=h;t.y1=u;if(t.children){n=a[t.depth+1]=i(t)/2;r+=d(t)-n;c+=o(t)-n;h-=s(t)-n;u-=l(t)-n;h<r&&(r=h=(r+h)/2);u<c&&(c=u=(c+u)/2);e(t,r,c,h,u)}}c.round=function(e){return arguments.length?(t=!!e,c):t};c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]};c.tile=function(t){return arguments.length?(e=uT(t),c):e};c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()};c.paddingInner=function(e){return arguments.length?(i=typeof e==="function"?e:_T(+e),c):i};c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()};c.paddingTop=function(e){return arguments.length?(o=typeof e==="function"?e:_T(+e),c):o};c.paddingRight=function(e){return arguments.length?(s=typeof e==="function"?e:_T(+e),c):s};c.paddingBottom=function(e){return arguments.length?(l=typeof e==="function"?e:_T(+e),c):l};c.paddingLeft=function(e){return arguments.length?(d=typeof e==="function"?e:_T(+e),c):d};return c}(function e(t){function n(e,n,r,a,i){if((o=e._squarify)&&o.ratio===t){var o,s,l,d,c=-1,h,u=o.length,p=e.value;while(++c<u){s=o[c],l=s.children;for(d=s.value=0,h=l.length;d<h;++d)s.value+=l[d].value;if(s.dice)mT(s,n,r,a,p?r+=(i-r)*s.value/p:i);else yT(s,n,r,p?n+=(a-n)*s.value/p:a,i);p-=s.value}}else{e._squarify=o=bT(t,e,n,r,a,i);o.ratio=t}}n.ratio=function(t){return e((t=+t)>1?t:1)};return n})(xT);var wT=Math.random;(function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;if(arguments.length===1)n=e,e=0;else n-=e;return function(){return t()*n+e}}n.source=e;return n})(wT);(function e(t){function n(e,n){arguments.length<2&&(n=e,e=0);e=Math.floor(e);n=Math.floor(n)-e;return function(){return Math.floor(t()*n+e)}}n.source=e;return n})(wT);var ST=function e(t){function n(e,n){var r,a;e=e==null?0:+e;n=n==null?1:+n;return function(){var i;if(r!=null)i=r,r=null;else do{r=t()*2-1;i=t()*2-1;a=r*r+i*i}while(!a||a>1);return e+n*i*Math.sqrt(-2*Math.log(a)/a)}}n.source=e;return n}(wT);(function e(t){var n=ST.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}r.source=e;return r})(wT);var CT=function e(t){function n(e){if((e=+e)<=0)return()=>0;return function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}n.source=e;return n}(wT);(function e(t){var n=CT.source(t);function r(e){if((e=+e)===0)return t;var r=n(e);return function(){return r()/e}}r.source=e;return r})(wT);(function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}n.source=e;return n})(wT);(function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");e=1/-e;return function(){return Math.pow(1-t(),e)}}n.source=e;return n})(wT);(function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}n.source=e;return n})(wT);var TT=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");if(e===0)return()=>Infinity;if(e===1)return()=>1;e=Math.log1p(-e);return function(){return 1+Math.floor(Math.log1p(-t())/e)}}n.source=e;return n}(wT);var ET=function e(t){var n=ST.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(e===0)return()=>0;r=r==null?1:+r;if(e===1)return()=>-Math.log1p(-t())*r;var a=(e<1?e+1:e)-1/3,i=1/(3*Math.sqrt(a)),o=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),s=1+i*e}while(s<=0);s*=s*s;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+a*(1-s+Math.log(s)));return a*s*o()*r}}r.source=e;return r}(wT);var AT=function e(t){var n=ET.source(t);function r(e,t){var r=n(e),a=n(t);return function(){var e=r();return e===0?0:e/(e+a())}}r.source=e;return r}(wT);var NT=function e(t){var n=TT.source(t),r=AT.source(t);function a(e,t){e=+e;if((t=+t)>=1)return()=>e;if(t<=0)return()=>0;return function(){var a=0,i=e,o=t;while(i*o>16&&i*(1-o)>16){var s=Math.floor((i+1)*o),l=r(s,i-s+1)();if(l<=o){a+=s;i-=s;o=(o-l)/(1-l)}else{i=s-1;o/=l}}var d=o<.5,c=d?o:1-o,h=n(c);for(var u=h(),p=0;u<=i;++p)u+=h();return a+(d?p:i-p)}}a.source=e;return a}(wT);(function e(t){function n(e,n,r){var a;if((e=+e)===0){a=(e=>-Math.log(e))}else{e=1/e;a=(t=>Math.pow(t,e))}n=n==null?0:+n;r=r==null?1:+r;return function(){return n+r*a(-Math.log1p(-t()))}}n.source=e;return n})(wT);(function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;return function(){return e+n*Math.tan(Math.PI*t())}}n.source=e;return n})(wT);(function e(t){function n(e,n){e=e==null?0:+e;n=n==null?1:+n;return function(){var r=t();return e+n*Math.log(r/(1-r))}}n.source=e;return n})(wT);(function e(t){var n=ET.source(t),r=NT.source(t);function a(e){return function(){var a=0,i=e;while(i>16){var o=Math.floor(.875*i),s=n(o)();if(s>i)return a+r(o-1,i/s)();a+=o;i-=s}for(var l=-Math.log1p(-t()),d=0;l<=i;++d)l-=Math.log1p(-t());return a+d}}a.source=e;return a})(wT);function PT(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var LT=Symbol("implicit");function MT(){var t=new InternMap,n=[],r=[],a=LT;function i(i){let o=t.get(i);if(o===e){if(a!==LT)return a;t.set(i,o=n.push(i)-1)}return r[o%r.length]}i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new InternMap;for(const r of e){if(t.has(r))continue;t.set(r,n.push(r)-1)}return i};i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()};i.unknown=function(e){return arguments.length?(a=e,i):a};i.copy=function(){return MT(n,r).unknown(a)};PT.apply(i,arguments);return i}function DT(){var t=MT().unknown(e),n=t.domain,r=t.range,a=0,i=1,o,s,l=!1,d=0,c=0,h=.5;delete t.unknown;function u(){var e=n().length,t=i<a,u=t?i:a,p=t?a:i;o=(p-u)/Math.max(1,e-d+c*2);l&&(o=Math.floor(o));u+=(p-u-o*(e-d))*h;s=o*(1-d);l&&(u=Math.round(u),s=Math.round(s));var _=Ap(e).map(function(e){return u+o*e});return r(t?_.reverse():_)}t.domain=function(e){return arguments.length?(n(e),u()):n()};t.range=function(e){return arguments.length?([a,i]=e,a=+a,i=+i,u()):[a,i]};t.rangeRound=function(e){return[a,i]=e,a=+a,i=+i,l=!0,u()};t.bandwidth=function(){return s};t.step=function(){return o};t.round=function(e){return arguments.length?(l=!!e,u()):l};t.padding=function(e){return arguments.length?(d=Math.min(1,c=+e),u()):d};t.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),u()):d};t.paddingOuter=function(e){return arguments.length?(c=+e,u()):c};t.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),u()):h};t.copy=function(){return DT(n(),[a,i]).round(l).paddingInner(d).paddingOuter(c).align(h)};return PT.apply(u(),arguments)}function IT(e){return function(){return e}}function RT(e){return+e}var BT=[0,1];function OT(e){return e}function FT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:IT(isNaN(t)?NaN:.5)}function jT(e,t){var n;e>t&&(n=e,e=t,t=n);return function(n){return Math.max(e,Math.min(t,n))}}function HT(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];if(a<r)r=FT(a,r),i=n(o,i);else r=FT(r,a),i=n(i,o);return function(e){return i(r(e))}}function WT(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;if(e[r]<e[0]){e=e.slice().reverse();t=t.slice().reverse()}while(++o<r){a[o]=FT(e[o],e[o+1]);i[o]=n(t[o],t[o+1])}return function(t){var n=ip(e,t,1,r)-1;return i[n](a[n](t))}}function zT(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $T(){var e=BT,t=BT,n=zg,r,a,i,o=OT,s,l,d;function c(){var n=Math.min(e.length,t.length);o!==OT&&(o=jT(e[0],e[n-1]));s=n>2?WT:HT;l=d=null;return h}function h(a){return a==null||isNaN(a=+a)?i:(l||(l=s(e.map(r),t,n)))(r(o(a)))}h.invert=function(n){return o(a((d||(d=s(t,e.map(r),Rg)))(n)))};h.domain=function(t){return arguments.length?(e=Array.from(t,RT),c()):e.slice()};h.range=function(e){return arguments.length?(t=Array.from(e),c()):t.slice()};h.rangeRound=function(e){return t=Array.from(e),n=$g,c()};h.clamp=function(e){return arguments.length?(o=e?!0:OT,c()):o!==OT};h.interpolate=function(e){return arguments.length?(n=e,c()):n};h.unknown=function(e){return arguments.length?(i=e,h):i};return function(e,t){r=e,a=t;return c()}}function UT(){return $T()(OT,OT)}function qT(e,t,n,r){var a=wp(e,t,n),i;r=Xv(r==null?",f":r);switch(r.type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));r.precision==null&&!isNaN(i=hk(a,o))&&(r.precision=i);return dk(r,o);case"":case"e":case"g":case"p":case"r":r.precision==null&&!isNaN(i=uk(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break;case"f":case"%":r.precision==null&&!isNaN(i=ck(a))&&(r.precision=i-(r.type==="%")*2);break}return lk(r)}function GT(e){var t=e.domain;e.ticks=function(e){var n=t();return vp(n[0],n[n.length-1],e==null?10:e)};e.tickFormat=function(e,n){var r=t();return qT(r[0],r[r.length-1],e==null?10:e,n)};e.nice=function(n){n==null&&(n=10);var r=t();var a=0;var i=r.length-1;var o=r[a];var s=r[i];var l;var d;var c=10;if(s<o){d=o,o=s,s=d;d=a,a=i,i=d}while(c-- >0){d=kp(o,s,n);if(d===l){r[a]=o;r[i]=s;return t(r)}else if(d>0){o=Math.floor(o/d)*d;s=Math.ceil(s/d)*d}else if(d<0){o=Math.ceil(o*d)/d;s=Math.floor(s*d)/d}else{break}l=d}return e};return e}function YT(){var e=UT();e.copy=function(){return zT(e,YT())};PT.apply(e,arguments);return GT(e)}function VT(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;if(i<a){o=n,n=r,r=o;o=a,a=i,i=o}e[n]=t.floor(a);e[r]=t.ceil(i);return e}const XT=new Date,KT=new Date;function QT(e,t,n,r){function a(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}a.floor=(t=>(e(t=new Date(+t)),t));a.ceil=(n=>(e(n=new Date(n-1)),t(n,1),e(n),n));a.round=(e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n});a.offset=((e,n)=>(t(e=new Date(+e),n==null?1:Math.floor(n)),e));a.range=((n,r,i)=>{const o=[];n=a.ceil(n);i=i==null?1:Math.floor(i);if(!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o});a.filter=(n=>QT(t=>{if(t>=t)while(e(t),!n(t))t.setTime(t-1)},(e,r)=>{if(e>=e){if(r<0)while(++r<=0){while(t(e,-1),!n(e)){}}else while(--r>=0){while(t(e,+1),!n(e)){}}}}));if(n){a.count=((t,r)=>{XT.setTime(+t),KT.setTime(+r);e(XT),e(KT);return Math.floor(n(XT,KT))});a.every=(e=>{e=Math.floor(e);return!isFinite(e)||!(e>0)?null:!(e>1)?a:a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0)})}return a}var ZT=QT(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ZT.every=(e=>{e=Math.floor(e);if(!isFinite(e)||!(e>0))return null;if(!(e>1))return ZT;return QT(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e)});ZT.range;var JT=1e3;var eE=JT*60;var tE=eE*60;var nE=tE*24;var rE=nE*7;var aE=nE*30;var iE=nE*365;var oE=QT(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*JT)},(e,t)=>(t-e)/JT,e=>e.getUTCSeconds());oE.range;var sE=QT(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*JT)},(e,t)=>{e.setTime(+e+t*eE)},(e,t)=>(t-e)/eE,e=>e.getMinutes());sE.range;var lE=QT(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*eE)},(e,t)=>(t-e)/eE,e=>e.getUTCMinutes());lE.range;var dE=QT(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*JT-e.getMinutes()*eE)},(e,t)=>{e.setTime(+e+t*tE)},(e,t)=>(t-e)/tE,e=>e.getHours());dE.range;var cE=QT(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tE)},(e,t)=>(t-e)/tE,e=>e.getUTCHours());cE.range;var hE=QT(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eE)/nE,e=>e.getDate()-1);hE.range;var uE=QT(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nE,e=>e.getUTCDate()-1);uE.range;var pE=QT(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nE,e=>Math.floor(e/nE));pE.range;function _E(e){return QT(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7);t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eE)/rE)}var fE=_E(0);var mE=_E(1);var gE=_E(2);var yE=_E(3);var xE=_E(4);var bE=_E(5);var vE=_E(6);fE.range;mE.range;gE.range;yE.range;xE.range;bE.range;vE.range;function kE(e){return QT(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7);t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/rE)}var wE=kE(0);var SE=kE(1);var CE=kE(2);var TE=kE(3);var EE=kE(4);var AE=kE(5);var NE=kE(6);wE.range;SE.range;CE.range;TE.range;EE.range;AE.range;NE.range;var PE=QT(e=>{e.setDate(1);e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());PE.range;var LE=QT(e=>{e.setUTCDate(1);e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());LE.range;var ME=QT(e=>{e.setMonth(0,1);e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ME.every=(e=>!isFinite(e=Math.floor(e))||!(e>0)?null:QT(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e);t.setMonth(0,1);t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}));ME.range;var DE=QT(e=>{e.setUTCMonth(0,1);e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());DE.every=(e=>!isFinite(e=Math.floor(e))||!(e>0)?null:QT(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e);t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}));DE.range;function IE(e,t,n,r,a,i){const o=[[oE,1,JT],[oE,5,5*JT],[oE,15,15*JT],[oE,30,30*JT],[i,1,eE],[i,5,5*eE],[i,15,15*eE],[i,30,30*eE],[a,1,tE],[a,3,3*tE],[a,6,6*tE],[a,12,12*tE],[r,1,nE],[r,2,2*nE],[n,1,rE],[t,1,aE],[t,3,3*aE],[e,1,iE]];function s(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&typeof n.range==="function"?n:l(e,t,n);const i=a?a.range(e,+t+1):[];return r?i.reverse():i}function l(t,n,r){const a=Math.abs(n-t)/r;const i=tp(([,,e])=>e).right(o,a);if(i===o.length)return e.every(wp(t/iE,n/iE,r));if(i===0)return ZT.every(Math.max(wp(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[s,l]}const[RE,BE]=IE(DE,LE,wE,pE,cE,lE);const[OE,FE]=IE(ME,PE,fE,hE,dE,sE);function jE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);t.setFullYear(e.y);return t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));t.setUTCFullYear(e.y);return t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function WE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function zE(t){var n=t.dateTime,r=t.date,a=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,d=t.shortMonths;var c=XE(i),h=KE(i),u=XE(o),p=KE(o),_=XE(s),f=KE(s),m=XE(l),g=KE(l),y=XE(d),x=KE(d);var b={a:I,A:R,b:B,B:O,c:null,d:gA,e:gA,f:kA,g:DA,G:RA,H:yA,I:xA,j:bA,L:vA,m:wA,M:SA,p:F,q:j,Q:aN,s:iN,S:CA,u:TA,U:EA,V:NA,w:PA,W:LA,x:null,X:null,y:MA,Y:IA,Z:BA,"%":rN};var v={a:H,A:W,b:z,B:$,c:null,d:OA,e:OA,f:zA,g:JA,G:tN,H:FA,I:jA,j:HA,L:WA,m:$A,M:UA,p:U,q:q,Q:aN,s:iN,S:qA,u:GA,U:YA,V:XA,w:KA,W:QA,x:null,X:null,y:ZA,Y:eN,Z:nN,"%":rN};var k={a:E,A:A,b:N,B:P,c:L,d:sA,e:sA,f:pA,g:rA,G:nA,H:dA,I:dA,j:lA,L:uA,m:oA,M:cA,p:T,q:iA,Q:fA,s:mA,S:hA,u:ZE,U:JE,V:eA,w:QE,W:tA,x:M,X:D,y:rA,Y:nA,Z:aA,"%":_A};b.x=w(r,b);b.X=w(a,b);b.c=w(n,b);v.x=w(r,v);v.X=w(a,v);v.c=w(n,v);function w(e,t){return function(n){var r=[],a=-1,i=0,o=e.length,s,l,d;n instanceof Date||(n=new Date(+n));while(++a<o){if(e.charCodeAt(a)===37){r.push(e.slice(i,a));if((l=$E[s=e.charAt(++a)])!=null)s=e.charAt(++a);else l=s==="e"?" ":"0";(d=t[s])&&(s=d(n,l));r.push(s);i=a+1}}r.push(e.slice(i,a));return r.join("")}}function S(t,n){return function(r){var a=WE(1900,e,1),i=C(a,t,r+="",0),o,s;if(i!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(a.s*1e3+("L"in a?a.L:0));n&&!("Z"in a)&&(a.Z=0);"p"in a&&(a.H=a.H%12+a.p*12);a.m===e&&(a.m="q"in a?a.q:0);if("V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1);if("Z"in a){o=HE(WE(a.y,0,1)),s=o.getUTCDay();o=s>4||s===0?SE.ceil(o):SE(o);o=uE.offset(o,(a.V-1)*7);a.y=o.getUTCFullYear();a.m=o.getUTCMonth();a.d=o.getUTCDate()+(a.w+6)%7}else{o=jE(WE(a.y,0,1)),s=o.getDay();o=s>4||s===0?mE.ceil(o):mE(o);o=hE.offset(o,(a.V-1)*7);a.y=o.getFullYear();a.m=o.getMonth();a.d=o.getDate()+(a.w+6)%7}}else if("W"in a||"U"in a){"w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0);s="Z"in a?HE(WE(a.y,0,1)).getUTCDay():jE(WE(a.y,0,1)).getDay();a.m=0;a.d="W"in a?(a.w+6)%7+a.W*7-(s+5)%7:a.w+a.U*7-(s+6)%7}if("Z"in a){a.H+=a.Z/100|0;a.M+=a.Z%100;return HE(a)}return jE(a)}}function C(e,t,n,r){var a=0,i=t.length,o=n.length,s,l;while(a<i){if(r>=o)return-1;s=t.charCodeAt(a++);if(s===37){s=t.charAt(a++);l=k[s in $E?t.charAt(a++):s];if(!l||(r=l(e,n,r))<0)return-1}else if(s!=n.charCodeAt(r++)){return-1}}return r}function T(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=h.get(r[0].toLowerCase()),n+r[0].length):-1}function E(e,t,n){var r=_.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1}function A(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function N(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1}function P(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1}function L(e,t,r){return C(e,n,t,r)}function M(e,t,n){return C(e,r,t,n)}function D(e,t,n){return C(e,a,t,n)}function I(e){return s[e.getDay()]}function R(e){return o[e.getDay()]}function B(e){return d[e.getMonth()]}function O(e){return l[e.getMonth()]}function F(e){return i[+(e.getHours()>=12)]}function j(e){return 1+~~(e.getMonth()/3)}function H(e){return s[e.getUTCDay()]}function W(e){return o[e.getUTCDay()]}function z(e){return d[e.getUTCMonth()]}function $(e){return l[e.getUTCMonth()]}function U(e){return i[+(e.getUTCHours()>=12)]}function q(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var t=w(e+="",b);t.toString=function(){return e};return t},parse:function(e){var t=S(e+="",!1);t.toString=function(){return e};return t},utcFormat:function(e){var t=w(e+="",v);t.toString=function(){return e};return t},utcParse:function(e){var t=S(e+="",!0);t.toString=function(){return e};return t}}}var $E={"-":"",_:" ",0:"0"},UE=/^\s*\d+/,qE=/^%/,GE=/[\\^$*+?|[\]().{}]/g;function YE(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function VE(e){return e.replace(GE,"\\$&")}function XE(e){return new RegExp("^(?:"+e.map(VE).join("|")+")","i")}function KE(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function QE(e,t,n){var r=UE.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ZE(e,t,n){var r=UE.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JE(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function nA(e,t,n){var r=UE.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aA(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iA(e,t,n){var r=UE.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function oA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lA(e,t,n){var r=UE.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function hA(e,t,n){var r=UE.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uA(e,t,n){var r=UE.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pA(e,t,n){var r=UE.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _A(e,t,n){var r=qE.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fA(e,t,n){var r=UE.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function mA(e,t,n){var r=UE.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function gA(e,t){return YE(e.getDate(),t,2)}function yA(e,t){return YE(e.getHours(),t,2)}function xA(e,t){return YE(e.getHours()%12||12,t,2)}function bA(e,t){return YE(1+hE.count(ME(e),e),t,3)}function vA(e,t){return YE(e.getMilliseconds(),t,3)}function kA(e,t){return vA(e,t)+"000"}function wA(e,t){return YE(e.getMonth()+1,t,2)}function SA(e,t){return YE(e.getMinutes(),t,2)}function CA(e,t){return YE(e.getSeconds(),t,2)}function TA(e){var t=e.getDay();return t===0?7:t}function EA(e,t){return YE(fE.count(ME(e)-1,e),t,2)}function AA(e){var t=e.getDay();return t>=4||t===0?xE(e):xE.ceil(e)}function NA(e,t){e=AA(e);return YE(xE.count(ME(e),e)+(ME(e).getDay()===4),t,2)}function PA(e){return e.getDay()}function LA(e,t){return YE(mE.count(ME(e)-1,e),t,2)}function MA(e,t){return YE(e.getFullYear()%100,t,2)}function DA(e,t){e=AA(e);return YE(e.getFullYear()%100,t,2)}function IA(e,t){return YE(e.getFullYear()%1e4,t,4)}function RA(e,t){var n=e.getDay();e=n>=4||n===0?xE(e):xE.ceil(e);return YE(e.getFullYear()%1e4,t,4)}function BA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+YE(t/60|0,"0",2)+YE(t%60,"0",2)}function OA(e,t){return YE(e.getUTCDate(),t,2)}function FA(e,t){return YE(e.getUTCHours(),t,2)}function jA(e,t){return YE(e.getUTCHours()%12||12,t,2)}function HA(e,t){return YE(1+uE.count(DE(e),e),t,3)}function WA(e,t){return YE(e.getUTCMilliseconds(),t,3)}function zA(e,t){return WA(e,t)+"000"}function $A(e,t){return YE(e.getUTCMonth()+1,t,2)}function UA(e,t){return YE(e.getUTCMinutes(),t,2)}function qA(e,t){return YE(e.getUTCSeconds(),t,2)}function GA(e){var t=e.getUTCDay();return t===0?7:t}function YA(e,t){return YE(wE.count(DE(e)-1,e),t,2)}function VA(e){var t=e.getUTCDay();return t>=4||t===0?EE(e):EE.ceil(e)}function XA(e,t){e=VA(e);return YE(EE.count(DE(e),e)+(DE(e).getUTCDay()===4),t,2)}function KA(e){return e.getUTCDay()}function QA(e,t){return YE(SE.count(DE(e)-1,e),t,2)}function ZA(e,t){return YE(e.getUTCFullYear()%100,t,2)}function JA(e,t){e=VA(e);return YE(e.getUTCFullYear()%100,t,2)}function eN(e,t){return YE(e.getUTCFullYear()%1e4,t,4)}function tN(e,t){var n=e.getUTCDay();e=n>=4||n===0?EE(e):EE.ceil(e);return YE(e.getUTCFullYear()%1e4,t,4)}function nN(){return"+0000"}function rN(){return"%"}function aN(e){return+e}function iN(e){return Math.floor(+e/1e3)}var oN;sN({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sN(e){oN=zE(e);lN=oN.format;oN.parse;dN=oN.utcFormat;cN=oN.utcParse;return oN}var lN;var dN;var cN;var hN="%Y-%m-%dT%H:%M:%S.%LZ";function uN(e){return e.toISOString()}Date.prototype.toISOString?uN:dN(hN);function pN(e){var t=new Date(e);return isNaN(t)?null:t}+new Date("2000-01-01T00:00:00.000Z")?pN:cN(hN);function _N(e){return new Date(e)}function fN(e){return e instanceof Date?+e:+new Date(+e)}function mN(e,t,n,r,a,i,o,s,l,d){var c=UT(),h=c.invert,u=c.domain;var p=d(".%L"),_=d(":%S"),f=d("%I:%M"),m=d("%I %p"),g=d("%a %d"),y=d("%b %d"),x=d("%B"),b=d("%Y");function v(e){return(l(e)<e?p:s(e)<e?_:o(e)<e?f:i(e)<e?m:r(e)<e?a(e)<e?g:y:n(e)<e?x:b)(e)}c.invert=function(e){return new Date(h(e))};c.domain=function(e){return arguments.length?u(Array.from(e,fN)):u().map(_N)};c.ticks=function(t){var n=u();return e(n[0],n[n.length-1],t==null?10:t)};c.tickFormat=function(e,t){return t==null?v:d(t)};c.nice=function(e){var n=u();(!e||typeof e.range!=="function")&&(e=t(n[0],n[n.length-1],e==null?10:e));return e?u(VT(n,e)):c};c.copy=function(){return zT(c,mN(e,t,n,r,a,i,o,s,l,d))};return c}function gN(){return PT.apply(mN(OE,FE,ME,PE,fE,hE,dE,sE,oE,lN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yN(e){var t=e.length/6|0,n=new Array(t),r=0;while(r<t)n[r]="#"+e.slice(r*6,++r*6);return n}yN("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");yN("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");yN("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");yN("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");yN("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");yN("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");yN("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");yN("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");yN("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");yN("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var xN=yN("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var bN=e=>Pg(e[e.length-1]);var vN=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(yN);bN(vN);var kN=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(yN);bN(kN);var wN=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(yN);bN(wN);var SN=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(yN);bN(SN);var CN=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(yN);bN(CN);var TN=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(yN);bN(TN);var EN=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(yN);bN(EN);var AN=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(yN);bN(AN);var NN=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(yN);bN(NN);var PN=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(yN);bN(PN);var LN=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(yN);bN(LN);var MN=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(yN);bN(MN);var DN=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(yN);bN(DN);var IN=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(yN);bN(IN);var RN=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(yN);bN(RN);var BN=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(yN);bN(BN);var ON=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(yN)
bN(ON);var FN=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(yN);bN(FN);var jN=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(yN);bN(jN);var HN=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(yN);bN(HN);var WN=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(yN);bN(WN);var zN=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(yN);bN(zN);var $N=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(yN);bN($N);var UN=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(yN);bN(UN);var qN=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(yN);bN(qN);var GN=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(yN);bN(GN);var YN=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(yN);bN(YN);sy(gg(300,.5,0),gg(-240,.5,1));sy(gg(-100,.75,.35),gg(80,1.5,.8));sy(gg(260,.75,.35),gg(80,1.5,.8));gg();Tm();function VN(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}VN(yN("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));VN(yN("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));VN(yN("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));VN(yN("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function XN(e){return function t(){return e}}var KN=Math.abs;var QN=Math.atan2;var ZN=Math.cos;var JN=Math.max;var eP=Math.min;var tP=Math.sin;var nP=Math.sqrt;var rP=1E-12;var aP=Math.PI;var iP=aP/2;var oP=2*aP;function sP(e){return e>1?0:e<-1?aP:Math.acos(e)}function lP(e){return e>=1?iP:e<=-1?-iP:Math.asin(e)}function dP(e){let t=3;e.digits=function(n){if(!arguments.length)return t;if(n==null){t=null}else{let e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e};return()=>new Path(t)}function cP(e){return e.innerRadius}function hP(e){return e.outerRadius}function uP(e){return e.startAngle}function pP(e){return e.endAngle}function _P(e){return e&&e.padAngle}function fP(e,t,n,r,a,i,o,s){var l=n-e,d=r-t,c=o-a,h=s-i,u=h*l-c*d;if(u*u<rP)return;u=(c*(t-i)-h*(e-a))/u;return[e+u*l,t+u*d]}function mP(e,t,n,r,a,i,o){var s=e-n,l=t-r,d=(o?i:-i)/nP(s*s+l*l),c=d*l,h=-d*s,u=e+c,p=t+h,_=n+c,f=r+h,m=(u+_)/2,g=(p+f)/2,y=_-u,x=f-p,b=y*y+x*x,v=a-i,k=u*f-_*p,w=(x<0?-1:1)*nP(JN(0,v*v*b-k*k)),S=(k*x-y*w)/b,C=(-k*y-x*w)/b,T=(k*x+y*w)/b,E=(-k*y+x*w)/b,A=S-m,N=C-g,P=T-m,L=E-g;A*A+N*N>P*P+L*L&&(S=T,C=E);return{cx:S,cy:C,x01:-c,y01:-h,x11:S*(a/v-1),y11:C*(a/v-1)}}function gP(){var e=cP,t=hP,n=XN(0),r=null,a=uP,i=pP,o=_P,s=null,l=dP(d);function d(){var d,c,h=+e.apply(this,arguments),u=+t.apply(this,arguments),p=a.apply(this,arguments)-iP,_=i.apply(this,arguments)-iP,f=KN(_-p),m=_>p;s||(s=d=l());u<h&&(c=u,u=h,h=c);if(!(u>rP))s.moveTo(0,0);else if(f>oP-rP){s.moveTo(u*ZN(p),u*tP(p));s.arc(0,0,u,p,_,!m);if(h>rP){s.moveTo(h*ZN(_),h*tP(_));s.arc(0,0,h,_,p,m)}}else{var g=p,y=_,x=p,b=_,v=f,k=f,w=o.apply(this,arguments)/2,S=w>rP&&(r?+r.apply(this,arguments):nP(h*h+u*u)),C=eP(KN(u-h)/2,+n.apply(this,arguments)),T=C,E=C,A,N;if(S>rP){var P=lP(S/h*tP(w)),L=lP(S/u*tP(w));if((v-=P*2)>rP)P*=m?1:-1,x+=P,b-=P;else v=0,x=b=(p+_)/2;if((k-=L*2)>rP)L*=m?1:-1,g+=L,y-=L;else k=0,g=y=(p+_)/2}var M=u*ZN(g),D=u*tP(g),I=h*ZN(b),R=h*tP(b);if(C>rP){var B=u*ZN(y),O=u*tP(y),F=h*ZN(x),j=h*tP(x),H;if(f<aP){if(H=fP(M,D,F,j,B,O,I,R)){var W=M-H[0],z=D-H[1],$=B-H[0],U=O-H[1],q=1/tP(sP((W*$+z*U)/(nP(W*W+z*z)*nP($*$+U*U)))/2),G=nP(H[0]*H[0]+H[1]*H[1]);T=eP(C,(h-G)/(q-1));E=eP(C,(u-G)/(q+1))}else{T=E=0}}}if(!(k>rP))s.moveTo(M,D);else if(E>rP){A=mP(F,j,M,D,u,E,m);N=mP(B,O,I,R,u,E,m);s.moveTo(A.cx+A.x01,A.cy+A.y01);if(E<C)s.arc(A.cx,A.cy,E,QN(A.y01,A.x01),QN(N.y01,N.x01),!m);else{s.arc(A.cx,A.cy,E,QN(A.y01,A.x01),QN(A.y11,A.x11),!m);s.arc(0,0,u,QN(A.cy+A.y11,A.cx+A.x11),QN(N.cy+N.y11,N.cx+N.x11),!m);s.arc(N.cx,N.cy,E,QN(N.y11,N.x11),QN(N.y01,N.x01),!m)}}else s.moveTo(M,D),s.arc(0,0,u,g,y,!m);if(!(h>rP)||!(v>rP))s.lineTo(I,R);else if(T>rP){A=mP(I,R,B,O,h,-T,m);N=mP(M,D,F,j,h,-T,m);s.lineTo(A.cx+A.x01,A.cy+A.y01);if(T<C)s.arc(A.cx,A.cy,T,QN(A.y01,A.x01),QN(N.y01,N.x01),!m);else{s.arc(A.cx,A.cy,T,QN(A.y01,A.x01),QN(A.y11,A.x11),!m);s.arc(0,0,h,QN(A.cy+A.y11,A.cx+A.x11),QN(N.cy+N.y11,N.cx+N.x11),m);s.arc(N.cx,N.cy,T,QN(N.y11,N.x11),QN(N.y01,N.x01),!m)}}else s.arc(0,0,h,b,x,m)}s.closePath();if(d)return s=null,d+""||null}d.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-aP/2;return[ZN(r)*n,tP(r)*n]};d.innerRadius=function(t){return arguments.length?(e=typeof t==="function"?t:XN(+t),d):e};d.outerRadius=function(e){return arguments.length?(t=typeof e==="function"?e:XN(+e),d):t};d.cornerRadius=function(e){return arguments.length?(n=typeof e==="function"?e:XN(+e),d):n};d.padRadius=function(e){return arguments.length?(r=e==null?null:typeof e==="function"?e:XN(+e),d):r};d.startAngle=function(e){return arguments.length?(a=typeof e==="function"?e:XN(+e),d):a};d.endAngle=function(e){return arguments.length?(i=typeof e==="function"?e:XN(+e),d):i};d.padAngle=function(e){return arguments.length?(o=typeof e==="function"?e:XN(+e),d):o};d.context=function(e){return arguments.length?(s=e==null?null:e,d):s};return d}var yP=Array.prototype.slice;function xP(e){return typeof e==="object"&&"length"in e?e:Array.from(e)}function bP(e){this._context=e}bP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vP(e){return new bP(e)}function kP(e){return e[0]}function wP(e){return e[1]}function SP(t,n){var r=XN(!0),a=null,i=vP,o=null,s=dP(l);t=typeof t==="function"?t:t===e?kP:XN(t);n=typeof n==="function"?n:n===e?wP:XN(n);function l(e){var l,d=(e=xP(e)).length,c,h=!1,u;a==null&&(o=i(u=s()));for(l=0;l<=d;++l){if(!(l<d&&r(c=e[l],l,e))===h){if(h=!h)o.lineStart();else o.lineEnd()}h&&o.point(+t(c,l,e),+n(c,l,e))}if(u)return o=null,u+""||null}l.x=function(e){return arguments.length?(t=typeof e==="function"?e:XN(+e),l):t};l.y=function(e){return arguments.length?(n=typeof e==="function"?e:XN(+e),l):n};l.defined=function(e){return arguments.length?(r=typeof e==="function"?e:XN(!!e),l):r};l.curve=function(e){return arguments.length?(i=e,a!=null&&(o=i(a)),l):i};l.context=function(e){return arguments.length?(e==null?a=o=null:o=i(a=e),l):a};return l}function CP(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function TP(e){return e}function EP(){var e=TP,t=CP,n=null,r=XN(0),a=XN(oP),i=XN(0);function o(o){var s,l=(o=xP(o)).length,d,c,h=0,u=new Array(l),p=new Array(l),_=+r.apply(this,arguments),f=Math.min(oP,Math.max(-oP,a.apply(this,arguments)-_)),m,g=Math.min(Math.abs(f)/l,i.apply(this,arguments)),y=g*(f<0?-1:1),x;for(s=0;s<l;++s){(x=p[u[s]=s]=+e(o[s],s,o))>0&&(h+=x)}if(t!=null)u.sort(function(e,n){return t(p[e],p[n])});else n!=null&&u.sort(function(e,t){return n(o[e],o[t])});for(s=0,c=h?(f-l*y)/h:0;s<l;++s,_=m){d=u[s],x=p[d],m=_+(x>0?x*c:0)+y,p[d]={data:o[d],index:s,value:x,startAngle:_,endAngle:m,padAngle:g}}return p}o.value=function(t){return arguments.length?(e=typeof t==="function"?t:XN(+t),o):e};o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t};o.sort=function(e){return arguments.length?(n=e,t=null,o):n};o.startAngle=function(e){return arguments.length?(r=typeof e==="function"?e:XN(+e),o):r};o.endAngle=function(e){return arguments.length?(a=typeof e==="function"?e:XN(+e),o):a};o.padAngle=function(e){return arguments.length?(i=typeof e==="function"?e:XN(+e),o):i};return o}NP(vP);function AP(e){this._curve=e}AP.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function NP(e){function t(t){return new AP(e(t))}t._curve=e;return t}class Bump{constructor(e,t){this._context=e;this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line}point(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;if(this._line)this._context.lineTo(e,t);else this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._x)this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t);else this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}this._x0=e,this._y0=t}}function PP(e){return new Bump(e,!0)}function LP(e){return new Bump(e,!1)}function MP(e){return e.source}function DP(e){return e.target}function IP(e){let t=MP,n=DP,r=kP,a=wP,i=null,o=null,s=dP(l);function l(){let l;const d=yP.call(arguments);const c=t.apply(this,d);const h=n.apply(this,d);i==null&&(o=e(l=s()));o.lineStart();d[0]=c,o.point(+r.apply(this,d),+a.apply(this,d));d[0]=h,o.point(+r.apply(this,d),+a.apply(this,d));o.lineEnd();if(l)return o=null,l+""||null}l.source=function(e){return arguments.length?(t=e,l):t};l.target=function(e){return arguments.length?(n=e,l):n};l.x=function(e){return arguments.length?(r=typeof e==="function"?e:XN(+e),l):r};l.y=function(e){return arguments.length?(a=typeof e==="function"?e:XN(+e),l):a};l.context=function(t){return arguments.length?(t==null?i=o=null:o=e(i=t),l):i};return l}function RP(){return IP(PP)}nP(3);nP(1/3);tP(aP/10),tP(7*aP/10);tP(oP/10);ZN(oP/10);nP(3);nP(3);nP(3);nP(12);function BP(){}function OP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function FP(e){this._context=e}FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:OP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:OP(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};function jP(e){return new FP(e)}function HP(e){this._context=e}HP.prototype={areaStart:BP,areaEnd:BP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2);this.point(this._x3,this._y3);this.point(this._x4,this._y4);break}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x2=e,this._y2=t;break;case 1:this._point=2;this._x3=e,this._y3=t;break;case 2:this._point=3;this._x4=e,this._y4=t;this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:OP(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};function WP(e){return new HP(e)}function zP(e){this._context=e}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:OP(this,e,t);break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t}};function $P(e){return new zP(e)}function UP(e,t){this._basis=new FP(e);this._beta=t}UP.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0){var r=e[0],a=t[0],i=e[n]-r,o=t[n]-a,s=-1,l;while(++s<=n){l=s/n;this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*i),this._beta*t[s]+(1-this._beta)*(a+l*o))}}this._x=this._y=null;this._basis.lineEnd()},point:function(e,t){this._x.push(+e);this._y.push(+t)}};var qP=function e(t){function n(e){return t===1?new FP(e):new UP(e,t)}n.beta=function(t){return e(+t)};return n}(.85);function GP(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function YP(e,t){this._context=e;this._k=(1-t)/6}YP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:GP(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;this._x1=e,this._y1=t;break;case 2:this._point=3;default:GP(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var VP=function e(t){function n(e){return new YP(e,t)}n.tension=function(t){return e(+t)};return n}(0);function XP(e,t){this._context=e;this._k=(1-t)/6}XP.prototype={areaStart:BP,areaEnd:BP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:GP(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var KP=function e(t){function n(e){return new XP(e,t)}n.tension=function(t){return e(+t)};return n}(0);function QP(e,t){this._context=e;this._k=(1-t)/6}QP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:GP(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ZP=function e(t){function n(e){return new QP(e,t)}n.tension=function(t){return e(+t)};return n}(0);function JP(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>rP){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l;a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>rP){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*d+e._x1*e._l23_2a-t*e._l12_2a)/c;o=(o*d+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function eL(e,t){this._context=e;this._alpha=t}eL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:JP(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tL=function e(t){function n(e){return t?new eL(e,t):new YP(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function nL(e,t){this._context=e;this._alpha=t}nL.prototype={areaStart:BP,areaEnd:BP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3);this.point(this._x4,this._y4);this.point(this._x5,this._y5);break}},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=e,this._y3=t;break;case 1:this._point=2;this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3;this._x5=e,this._y5=t;break;default:JP(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rL=function e(t){function n(e){return t?new nL(e,t):new XP(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function aL(e,t){this._context=e;this._alpha=t}aL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath();this._line=1-this._line},point:function(e,t){e=+e,t=+t;if(this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:JP(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=e;this._y0=this._y1,this._y1=this._y2,this._y2=t}};var iL=function e(t){function n(e){return t?new aL(e,t):new QP(e,0)}n.alpha=function(t){return e(+t)};return n}(.5);function oL(e){this._context=e}oL.prototype={areaStart:BP,areaEnd:BP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t;if(this._point)this._context.lineTo(e,t);else this._point=1,this._context.moveTo(e,t)}};function sL(e){return new oL(e)}function lL(e){return e<0?-1:1}function dL(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(lL(i)+lL(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function cL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hL(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function uL(e){this._context=e}uL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hL(this,this._t0,cL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(e,t){var n=NaN;e=+e,t=+t;if(e===this._x1&&t===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;hL(this,cL(this,n=dL(this,e,t)),n);break;default:hL(this,this._t0,n=dL(this,e,t));break}this._x0=this._x1,this._x1=e;this._y0=this._y1,this._y1=t;this._t0=n}};function pL(e){this._context=new _L(e)}(pL.prototype=Object.create(uL.prototype)).point=function(e,t){uL.prototype.point.call(this,t,e)};function _L(e){this._context=e}_L.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function fL(e){return new uL(e)}function mL(e){return new pL(e)}function gL(e){this._context=e}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n){this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]);if(n===2){this._context.lineTo(e[1],t[1])}else{var r=yL(e),a=yL(t);for(var i=0,o=1;o<n;++i,++o){this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o])}}}(this._line||this._line!==0&&n===1)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(e,t){this._x.push(+e);this._y.push(+t)}};function yL(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);a[0]=0,i[0]=2,o[0]=e[0]+2*e[1];for(t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n];for(t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];a[n-1]=o[n-1]/i[n-1];for(t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];i[n-1]=(e[n]+a[n-1])/2;for(t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function xL(e){return new gL(e)}function bL(e,t){this._context=e;this._t=t}bL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y);(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){e=+e,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0){this._context.lineTo(this._x,t);this._context.lineTo(e,t)}else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y);this._context.lineTo(n,t)}break}this._x=e,this._y=t}};function vL(e){return new bL(e,.5)}function kL(e){return new bL(e,0)}function wL(e){
return new bL(e,1)}function SL(e,t,n){this.k=e;this.x=t;this.y=n}SL.prototype={constructor:SL,scale:function(e){return e===1?this:new SL(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new SL(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var CL=new SL(1,0,0);TL.prototype=SL.prototype;function TL(e){while(!e.__zoom)if(!(e=e.parentNode))return CL;return e.__zoom}var EL=typeof window=="object"&&window&&window.Object===Object&&window;var AL=typeof self=="object"&&self&&self.Object===Object&&self;var NL=EL||AL||Function("return this")();var PL=NL.Symbol;var LL=Object.prototype;var ML=LL.hasOwnProperty;var DL=LL.toString;var IL=PL?PL.toStringTag:e;function RL(t){var n=ML.call(t,IL),r=t[IL];try{t[IL]=e;var a=!0}catch(e){}var i=DL.call(t);if(a){if(n){t[IL]=r}else{delete t[IL]}}return i}var BL=Object.prototype;var OL=BL.toString;function FL(e){return OL.call(e)}var jL="[object Null]",HL="[object Undefined]";var WL=PL?PL.toStringTag:e;function zL(t){if(t==null){return t===e?HL:jL}return WL&&WL in Object(t)?RL(t):FL(t)}function $L(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var UL="[object AsyncFunction]",qL="[object Function]",GL="[object GeneratorFunction]",YL="[object Proxy]";function VL(e){if(!$L(e)){return!1}var t=zL(e);return t==qL||t==GL||t==UL||t==YL}var XL=NL["__core-js_shared__"];var KL=function(){var e=/[^.]+$/.exec(XL&&XL.keys&&XL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QL(e){return!!KL&&KL in e}var ZL=Function.prototype;var JL=ZL.toString;function eM(e){if(e!=null){try{return JL.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var tM=/[\\^$.*+?()[\]{}|]/g;var nM=/^\[object .+?Constructor\]$/;var rM=Function.prototype,aM=Object.prototype;var iM=rM.toString;var oM=aM.hasOwnProperty;var sM=RegExp("^"+iM.call(oM).replace(tM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lM(e){if(!$L(e)||QL(e)){return!1}var t=VL(e)?sM:nM;return t.test(eM(e))}function dM(t,n){return t==null?e:t[n]}function cM(t,n){var r=dM(t,n);return lM(r)?r:e}var hM=cM(Object,"create");function uM(){this.__data__=hM?hM(null):{};this.size=0}function pM(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}var _M="__lodash_hash_undefined__";var fM=Object.prototype;var mM=fM.hasOwnProperty;function gM(t){var n=this.__data__;if(hM){var r=n[t];return r===_M?e:r}return mM.call(n,t)?n[t]:e}var yM=Object.prototype;var xM=yM.hasOwnProperty;function bM(t){var n=this.__data__;return hM?n[t]!==e:xM.call(n,t)}var vM="__lodash_hash_undefined__";function kM(t,n){var r=this.__data__;this.size+=this.has(t)?0:1;r[t]=hM&&n===e?vM:n;return this}function wM(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}wM.prototype.clear=uM;wM.prototype["delete"]=pM;wM.prototype.get=gM;wM.prototype.has=bM;wM.prototype.set=kM;function SM(){this.__data__=[];this.size=0}function CM(e,t){return e===t||e!==e&&t!==t}function TM(e,t){var n=e.length;while(n--){if(CM(e[n][0],t)){return n}}return-1}var EM=Array.prototype;var AM=EM.splice;function NM(e){var t=this.__data__,n=TM(t,e);if(n<0){return!1}var r=t.length-1;if(n==r){t.pop()}else{AM.call(t,n,1)}--this.size;return!0}function PM(t){var n=this.__data__,r=TM(n,t);return r<0?e:n[r][1]}function LM(e){return TM(this.__data__,e)>-1}function MM(e,t){var n=this.__data__,r=TM(n,e);if(r<0){++this.size;n.push([e,t])}else{n[r][1]=t}return this}function DM(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}DM.prototype.clear=SM;DM.prototype["delete"]=NM;DM.prototype.get=PM;DM.prototype.has=LM;DM.prototype.set=MM;var IM=cM(NL,"Map");function RM(){this.size=0;this.__data__={hash:new wM,map:new(IM||DM),string:new wM}}function BM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function OM(e,t){var n=e.__data__;return BM(t)?n[typeof t=="string"?"string":"hash"]:n.map}function FM(e){var t=OM(this,e)["delete"](e);this.size-=t?1:0;return t}function jM(e){return OM(this,e).get(e)}function HM(e){return OM(this,e).has(e)}function WM(e,t){var n=OM(this,e),r=n.size;n.set(e,t);this.size+=n.size==r?0:1;return this}function zM(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}zM.prototype.clear=RM;zM.prototype["delete"]=FM;zM.prototype.get=jM;zM.prototype.has=HM;zM.prototype.set=WM;var $M="Expected a function";function UM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new TypeError($M)}var n=function(){var r=t?t.apply(this,arguments):arguments[0],a=n.cache;if(a.has(r)){return a.get(r)}var i=e.apply(this,arguments);n.cache=a.set(r,i)||a;return i};n.cache=new(UM.Cache||zM);return n}UM.Cache=zM;function qM(){this.__data__=new DM;this.size=0}function GM(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}function YM(e){return this.__data__.get(e)}function VM(e){return this.__data__.has(e)}var XM=200;function KM(e,t){var n=this.__data__;if(n instanceof DM){var r=n.__data__;if(!IM||r.length<XM-1){r.push([e,t]);this.size=++n.size;return this}n=this.__data__=new zM(r)}n.set(e,t);this.size=n.size;return this}function QM(e){var t=this.__data__=new DM(e);this.size=t.size}QM.prototype.clear=qM;QM.prototype["delete"]=GM;QM.prototype.get=YM;QM.prototype.has=VM;QM.prototype.set=KM;var ZM=function(){try{var e=cM(Object,"defineProperty");e({},"",{});return e}catch(e){}}();function JM(e,t,n){if(t=="__proto__"&&ZM){ZM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0})}else{e[t]=n}}function eD(t,n,r){(r!==e&&!CM(t[n],r)||r===e&&!(n in t))&&JM(t,n,r)}function tD(e){return function(t,n,r){var a=-1,i=Object(t),o=r(t),s=o.length;while(s--){var l=o[e?s:++a];if(n(i[l],l,i)===!1){break}}return t}}var nD=tD();var rD=function(){var n={};var r={exports:n};var a=typeof n=="object"&&n&&!n.nodeType&&n;var i=a&&typeof r=="object"&&r&&!r.nodeType&&r;var o=i&&i.exports===a;var s=o?NL.Buffer:e,l=s?s.allocUnsafe:e;function d(e,t){if(t){return e.slice()}var n=e.length,r=l?l(n):new e.constructor(n);e.copy(r);return r}n.default=d;return t(r.exports)}.call(window);var aD=NL.Uint8Array;function iD(e){var t=new e.constructor(e.byteLength);new aD(t).set(new aD(e));return t}function oD(e,t){var n=t?iD(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function sD(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r){t[n]=e[n]}return t}var lD=Object.create;var dD=function(){function t(){}return function(n){if(!$L(n)){return{}}if(lD){return lD(n)}t.prototype=n;var r=new t;t.prototype=e;return r}}();function cD(e,t){return function(n){return e(t(n))}}var hD=cD(Object.getPrototypeOf,Object);var uD=Object.prototype;function pD(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||uD;return e===n}function _D(e){return typeof e.constructor=="function"&&!pD(e)?dD(hD(e)):{}}function fD(e){return e!=null&&typeof e=="object"}var mD="[object Arguments]";function gD(e){return fD(e)&&zL(e)==mD}var yD=Object.prototype;var xD=yD.hasOwnProperty;var bD=yD.propertyIsEnumerable;var vD=gD(function(){return arguments}())?gD:function(e){return fD(e)&&xD.call(e,"callee")&&!bD.call(e,"callee")};var kD=Array.isArray;var wD=9007199254740991;function SD(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wD}function CD(e){return e!=null&&SD(e.length)&&!VL(e)}function TD(e){return fD(e)&&CD(e)}function ED(){return!1}var AD=function(){var n={};var r={exports:n};var a=typeof n=="object"&&n&&!n.nodeType&&n;var i=a&&typeof r=="object"&&r&&!r.nodeType&&r;var o=i&&i.exports===a;var s=o?NL.Buffer:e;var l=s?s.isBuffer:e;var d=l||ED;n.default=d;return t(r.exports)}.call(window);var ND="[object Object]";var PD=Function.prototype,LD=Object.prototype;var MD=PD.toString;var DD=LD.hasOwnProperty;var ID=MD.call(Object);function RD(e){if(!fD(e)||zL(e)!=ND){return!1}var t=hD(e);if(t===null){return!0}var n=DD.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&MD.call(n)==ID}var BD="[object Arguments]",OD="[object Array]",FD="[object Boolean]",jD="[object Date]",HD="[object Error]",WD="[object Function]",zD="[object Map]",$D="[object Number]",UD="[object Object]",qD="[object RegExp]",GD="[object Set]",YD="[object String]",VD="[object WeakMap]";var XD="[object ArrayBuffer]",KD="[object DataView]",QD="[object Float32Array]",ZD="[object Float64Array]",JD="[object Int8Array]",eI="[object Int16Array]",tI="[object Int32Array]",nI="[object Uint8Array]",rI="[object Uint8ClampedArray]",aI="[object Uint16Array]",iI="[object Uint32Array]";var oI={};oI[QD]=oI[ZD]=oI[JD]=oI[eI]=oI[tI]=oI[nI]=oI[rI]=oI[aI]=oI[iI]=!0;oI[BD]=oI[OD]=oI[XD]=oI[FD]=oI[KD]=oI[jD]=oI[HD]=oI[WD]=oI[zD]=oI[$D]=oI[UD]=oI[qD]=oI[GD]=oI[YD]=oI[VD]=!1;function sI(e){return fD(e)&&SD(e.length)&&!!oI[zL(e)]}function lI(e){return function(t){return e(t)}}var dI=function(){var e={};var n={exports:e};var r=typeof e=="object"&&e&&!e.nodeType&&e;var a=r&&typeof n=="object"&&n&&!n.nodeType&&n;var i=a&&a.exports===r;var o=i&&EL.process;var s=function(){try{var e=a&&a.require&&a.require("util").types;if(e){return e}return o&&o.binding&&o.binding("util")}catch(e){}}();e.default=s;return t(n.exports)}.call(window);var cI=dI&&dI.isTypedArray;var hI=cI?lI(cI):sI;function uI(e,t){if(t==="constructor"&&typeof e[t]==="function"){return}if(t=="__proto__"){return}return e[t]}var pI=Object.prototype;var _I=pI.hasOwnProperty;function fI(t,n,r){var a=t[n];(!(_I.call(t,n)&&CM(a,r))||r===e&&!(n in t))&&JM(t,n,r)}function mI(t,n,r,a){var i=!r;r||(r={});var o=-1,s=n.length;while(++o<s){var l=n[o],d=a?a(r[l],t[l],l,r,t):e;d===e&&(d=t[l]);if(i){JM(r,l,d)}else{fI(r,l,d)}}return r}function gI(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}var yI=9007199254740991;var xI=/^(?:0|[1-9]\d*)$/;function bI(e,t){var n=typeof e;t=t==null?yI:t;return!!t&&(n=="number"||n!="symbol"&&xI.test(e))&&(e>-1&&e%1==0&&e<t)}var vI=Object.prototype;var kI=vI.hasOwnProperty;function wI(e,t){var n=kD(e),r=!n&&vD(e),a=!n&&!r&&AD(e),i=!n&&!r&&!a&&hI(e),o=n||r||a||i,s=o?gI(e.length,String):[],l=s.length;for(var d in e){(t||kI.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||bI(d,l)))&&s.push(d)}return s}function SI(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}var CI=Object.prototype;var TI=CI.hasOwnProperty;function EI(e){if(!$L(e)){return SI(e)}var t=pD(e),n=[];for(var r in e){r=="constructor"&&(t||!TI.call(e,r))||n.push(r)}return n}function AI(e){return CD(e)?wI(e,!0):EI(e)}function NI(e){return mI(e,AI(e))}function PI(t,n,r,a,i,o,s){var l=uI(t,r),d=uI(n,r),c=s.get(d);if(c){eD(t,r,c);return}var h=o?o(l,d,r+"",t,n,s):e;var u=h===e;if(u){var p=kD(d),_=!p&&AD(d),f=!p&&!_&&hI(d);h=d;if(p||_||f){if(kD(l)){h=l}else if(TD(l)){h=sD(l)}else if(_){u=!1;h=rD(d,!0)}else if(f){u=!1;h=oD(d,!0)}else{h=[]}}else if(RD(d)||vD(d)){h=l;if(vD(l)){h=NI(l)}else(!$L(l)||VL(l))&&(h=_D(d))}else{u=!1}}if(u){s.set(d,h);i(h,d,a,o,s);s["delete"](d)}eD(t,r,h)}function LI(t,n,r,a,i){if(t===n){return}nD(n,function(o,s){i||(i=new QM);if($L(o)){PI(t,n,s,r,LI,a,i)}else{var l=a?a(uI(t,s),o,s+"",t,n,i):e;l===e&&(l=o);eD(t,s,l)}},AI)}function MI(e){return e}function DI(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var II=Math.max;function RI(t,n,r){n=II(n===e?t.length-1:n,0);return function(){var e=-1,a=II(arguments.length-n,0),i=Array(a);while(++e<a){i[e]=arguments[n+e]}e=-1;var o=Array(n+1);while(++e<n){o[e]=arguments[e]}o[n]=r(i);return DI(t,this,o)}}function BI(e){return function(){return e}}var OI=!ZM?MI:function(e,t){return ZM(e,"toString",{configurable:!0,enumerable:!1,value:BI(t),writable:!0})};var FI=800,jI=16;var HI=Date.now;function WI(t){var n=0,r=0;return function(){var a=HI(),i=jI-(a-r);r=a;if(i>0){if(++n>=FI){return arguments[0]}}else{n=0}return t.apply(e,arguments)}}var zI=WI(OI);function $I(e,t){return zI(RI(e,t,MI),e+"")}function UI(e,t,n){if(!$L(n)){return!1}var r=typeof t;if(r=="number"?CD(n)&&bI(t,n.length):r=="string"&&t in n){return CM(n[t],e)}return!1}function qI(t){return $I(function(n,r){var a=-1,i=r.length,o=i>1?r[i-1]:e,s=i>2?r[2]:e;o=t.length>3&&typeof o=="function"?(i--,o):e;if(s&&UI(r[0],r[1],s)){o=i<3?e:o;i=1}n=Object(n);while(++a<i){var l=r[a];l&&t(n,l,a,o)}return n})}var GI=qI(function(e,t,n){LI(e,t,n)});var YI;var VI="";var XI={curveBasis:jP,curveBasisClosed:WP,curveBasisOpen:$P,curveBumpX:PP,curveBumpY:LP,curveBundle:qP,curveCardinalClosed:KP,curveCardinalOpen:ZP,curveCardinal:VP,curveCatmullRomClosed:rL,curveCatmullRomOpen:iL,curveCatmullRom:tL,curveLinear:vP,curveLinearClosed:sL,curveMonotoneX:fL,curveMonotoneY:mL,curveNatural:xL,curveStep:vL,curveStepAfter:wL,curveStepBefore:kL};var KI=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi;var QI=Oo(function(e,t){const n=ZI(e,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){let e=n.map(e=>e.args);gs(e);r=Zo(r,[...e])}else{r=n.args}if(!r){return}let a=Vo(e,t);const i="config";if(r[i]!==void 0){a==="flowchart-v2"&&(a="flowchart");r[a]=r[i];delete r[i]}return r},"detectInit");var ZI=Oo(function(e,t=null){var n,r;try{let a=new RegExp(`[%]{2}(?![{]${KI.source})(?=[}][%]{2}).*\n`,"ig");e=e.trim().replace(a,"").replace(/'/gm,'"');Ho.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i,o=[];while((i=Uo.exec(e))!==null){i.index===Uo.lastIndex&&Uo.lastIndex++;if(i&&!t||t&&((n=i[1])===null||n===void 0?void 0:n.match(t))||t&&((r=i[2])===null||r===void 0?void 0:r.match(t))){let e=i[1]?i[1]:i[2],t=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;o.push({type:e,args:t})}}if(o.length===0){return{type:e,args:null}}return o.length===1?o[0]:o}catch(n){Ho.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`);return{type:void 0,args:null}}},"detectDirective");var JI=Oo(function(e){return e.replace(Uo,"")},"removeDirectives");var eR=Oo(function(e,t){for(const[n,r]of t.entries()){if(r.match(e)){return n}}return-1},"isSubstringInArray");function tR(e,t){var n;if(!e){return t}const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return(n=XI[r])!==null&&n!==void 0?n:t}Oo(tR,"interpolateToCurve");function nR(e,t){const n=e.trim();if(!n){return void 0}if(t.securityLevel!=="loose"){return Zu(n)}return n}Oo(nR,"formatUrl");var rR=Oo((e,...t)=>{const n=e.split(".");const r=n.length-1;const a=n[r];let i=window;for(let t=0;t<r;t++){i=i[n[t]];if(!i){Ho.error(`Function name: ${e} not found in window`);return}}i[a](...t)},"runFunc");function aR(e,t){if(!e||!t){return 0}return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}Oo(aR,"distance");function iR(e){let t;let n=0;e.forEach(e=>{n+=aR(e,t);t=e});const r=n/2;return lR(e,r)}Oo(iR,"traverseEdge");function oR(e){if(e.length===1){return e[0]}return iR(e)}Oo(oR,"calcLabelPosition");var sR=Oo((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber");var lR=Oo((e,t)=>{let n=void 0;let r=t;for(const t of e){if(n){let e=aR(t,n);if(e===0){return n}if(e<r){r-=e}else{let a=r/e;if(a<=0){return n}if(a>=1){return{x:t.x,y:t.y}}if(a>0&&a<1){return{x:sR((1-a)*n.x+a*t.x,5),y:sR((1-a)*n.y+a*t.y,5)}}}}n=t}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint");var dR=Oo((e,t,n)=>{Ho.info(`our points ${JSON.stringify(t)}`);t[0]!==n&&(t=t.reverse());const r=25;const a=lR(t,r);const i=e?10:5;const o=Math.atan2(t[0].y-a.y,t[0].x-a.x);const s={x:0,y:0};s.x=Math.sin(o)*i+(t[0].x+a.x)/2;s.y=-Math.cos(o)*i+(t[0].y+a.y)/2;return s},"calcCardinalityPosition");function cR(e,t,n){const r=structuredClone(n);Ho.info("our points",r);t!=="start_left"&&t!=="start_right"&&r.reverse();const a=25+e;const i=lR(r,a);const o=10+e*.5;const s=Math.atan2(r[0].y-i.y,r[0].x-i.x);const l={x:0,y:0};if(t==="start_left"){l.x=Math.sin(s+Math.PI)*o+(r[0].x+i.x)/2;l.y=-Math.cos(s+Math.PI)*o+(r[0].y+i.y)/2}else if(t==="end_right"){l.x=Math.sin(s-Math.PI)*o+(r[0].x+i.x)/2-5;l.y=-Math.cos(s-Math.PI)*o+(r[0].y+i.y)/2-5}else if(t==="end_left"){l.x=Math.sin(s)*o+(r[0].x+i.x)/2-5;l.y=-Math.cos(s)*o+(r[0].y+i.y)/2-5}else{l.x=Math.sin(s)*o+(r[0].x+i.x)/2;l.y=-Math.cos(s)*o+(r[0].y+i.y)/2}return l}Oo(cR,"calcTerminalLabelPosition");function hR(e){let t="";let n="";for(const r of e){if(r!==void 0){if(r.startsWith("color:")||r.startsWith("text-align:")){n=n+r+";"}else{t=t+r+";"}}}return{style:t,labelStyle:n}}Oo(hR,"getStylesFromArray");var uR=0;var pR=Oo(()=>{uR++;return"id-"+Math.random().toString(36).substr(2,12)+"-"+uR},"generateId");function _R(e){let t="";const n="0123456789abcdef";const r=n.length;for(let a=0;a<e;a++){t+=n.charAt(Math.floor(Math.random()*r))}return t}Oo(_R,"makeRandomHex");var fR=Oo(e=>_R(e.length),"random");var mR=Oo(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj");var gR=Oo(function(e,t){const n=t.text.replace(ul.lineBreakRegex," ");const[,r]=AR(t.fontSize);const a=e.append("text");a.attr("x",t.x);a.attr("y",t.y);a.style("text-anchor",t.anchor);a.style("font-family",t.fontFamily);a.style("font-size",r);a.style("font-weight",t.fontWeight);a.attr("fill",t.fill);t.class!==void 0&&a.attr("class",t.class);const i=a.append("tspan");i.attr("x",t.x+t.textMargin*2);i.attr("fill",t.fill);i.text(n);return a},"drawSimpleText");var yR=UM((e,t,n)=>{if(!e){return e}n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n);if(ul.lineBreakRegex.test(e)){return e}const r=e.split(" ").filter(Boolean);const a=[];let i="";r.forEach((e,o)=>{const s=vR(`${e} `,n);const l=vR(i,n);if(s>t){let{hyphenatedStrings:r,remainingWord:o}=xR(e,t,"-",n);a.push(i,...r);i=o}else if(l+s>=t){a.push(i);i=e}else{i=[i,e].filter(Boolean).join(" ")}const d=o+1;const c=d===r.length;c&&a.push(i)});return a.filter(e=>e!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`);var xR=UM((e,t,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const a=[...e];const i=[];let o="";a.forEach((e,s)=>{const l=`${o}${e}`;const d=vR(l,r);if(d>=t){let e=s+1,t=a.length===e,r=`${l}${n}`;i.push(t?l:r);o=""}else{o=l}});return{hyphenatedStrings:i,remainingWord:o}},(e,t,n="-",r)=>`${e}${t}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function bR(e,t){return kR(e,t).height}Oo(bR,"calculateTextHeight");function vR(e,t){return kR(e,t).width}Oo(vR,"calculateTextWidth");var kR=UM((e,t)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:a=400}=t;if(!e){return{width:0,height:0}}const[,i]=AR(n);const o=["sans-serif",r];const s=e.split(ul.lineBreakRegex);const l=[];const d=Qf("body");if(!d.remove){return{width:0,height:0,lineHeight:0}}const c=d.append("svg");for(const e of o){let t=0,n={width:0,height:0,lineHeight:0};for(const r of s){let o=mR();o.text=r||VI;let s=gR(c,o).style("font-size",i).style("font-weight",a).style("font-family",e),l=(s._groups||s)[0][0].getBBox();if(l.width===0&&l.height===0){throw new Error("svg element not in render tree")}n.width=Math.round(Math.max(n.width,l.width));t=Math.round(l.height);n.height+=t;n.lineHeight=Math.round(Math.max(n.lineHeight,t))}l.push(n)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);var wR=(YI=class{constructor(e=!1,t){this.count=0;this.count=t?t.length:0;this.next=e?()=>this.count++:()=>Date.now()}},n(YI,"InitIDGenerator"),(()=>{Oo(YI,"InitIDGenerator")})(),YI);var SR;var CR=Oo(function(e){SR=SR||document.createElement("div");e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";");SR.innerHTML=e;return unescape(SR.textContent)},"entityDecode");function TR(e){return"str"in e}Oo(TR,"isDetailedError");var ER=Oo((e,t,n,r)=>{var a;if(!r){return}const i=(a=e.node())===null||a===void 0?void 0:a.getBBox();if(!i){return}e.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",t)},"insertTitle");var AR=Oo(e=>{if(typeof e==="number"){return[e,e+"px"]}const t=parseInt(e!==null&&e!==void 0?e:"",10);if(Number.isNaN(t)){return[void 0,void 0]}else if(e===String(t)){return[t,e+"px"]}else{return[t,e]}},"parseFontSize");var NR=AR;function PR(e,t){return GI({},e,t)}Oo(PR,"cleanAndMerge");var LR={assignWithDepth:Zo,wrapLabel:yR,calculateTextHeight:bR,calculateTextWidth:vR,calculateTextDimensions:kR,cleanAndMerge:PR,detectInit:QI,detectDirective:ZI,isSubstringInArray:eR,interpolateToCurve:tR,calcLabelPosition:oR,calcCardinalityPosition:dR,calcTerminalLabelPosition:cR,formatUrl:nR,getStylesFromArray:hR,generateId:pR,random:fR,runFunc:rR,entityDecode:CR,insertTitle:ER,isLabelCoordinateInPath:BR,parseFontSize:AR,InitIDGenerator:wR};var MR=Oo(function(e){let t=e;t=t.replace(/style.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)});t=t.replace(/classDef.*:\S*#.*;/g,function(e){return e.substring(0,e.length-1)});t=t.replace(/#\w+;/g,function(e){const t=e.substring(1,e.length-1);const n=/^\+?\d+$/.test(t);if(n){return""+t+""}else{return""+t+""}});return t},"encodeEntities");var DR=Oo(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities");var IR=Oo((e,t,{counter:n=0,prefix:r,suffix:a},i)=>{if(i){return i}return`${r?`${r}_`:""}${e}_${t}_${n}${a?`_${a}`:""}`},"getEdgeId");function RR(e){return e!==null&&e!==void 0?e:null}Oo(RR,"handleUndefinedAttr");function BR(e,t){const n=Math.round(e.x);const r=Math.round(e.y);const a=t.replace(/(\d+\.\d+)/g,e=>Math.round(parseFloat(e)).toString());return a.includes(n.toString())||a.includes(r.toString())}Oo(BR,"isLabelCoordinateInPath");const OR=Object.freeze({left:0,top:0,width:16,height:16});const FR=Object.freeze({rotate:0,vFlip:!1,hFlip:!1});const jR=Object.freeze({...OR,...FR});const HR=Object.freeze({...jR,body:"",hidden:!1});const WR=Object.freeze({width:null,height:null});const zR=Object.freeze({...WR,...FR});const $R=(e,t,n,r="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3){return null}r=a.shift().slice(1)}if(a.length>3||!a.length){return null}if(a.length>1){let e=a.pop(),n=a.pop(),i={provider:a.length>0?a[0]:r,prefix:n,name:e};return t&&!UR(i)?null:i}const i=a[0];const o=i.split("-");if(o.length>1){let e={provider:r,prefix:o.shift(),name:o.join("-")};return t&&!UR(e)?null:e}if(n&&r===""){let e={provider:r,prefix:"",name:i};return t&&!UR(e,n)?null:e}return null};const UR=(e,t)=>{if(!e){return!1}return!!((t&&e.prefix===""||!!e.prefix)&&!!e.name)};function qR(e,t){const n={};!e.hFlip!==!t.hFlip&&(n.hFlip=!0);!e.vFlip!==!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;r&&(n.rotate=r);return n}function GR(e,t){const n=qR(e,t);for(const r in HR){if(r in FR){r in e&&!(r in n)&&(n[r]=FR[r])}else if(r in t){n[r]=t[r]}else r in e&&(n[r]=e[r])}return n}function YR(e,t){const n=e.icons;const r=e.aliases||Object.create(null);const a=Object.create(null);function i(e){if(n[e]){return a[e]=[]}if(!(e in a)){a[e]=null;let t=r[e]&&r[e].parent,n=t&&i(t);n&&(a[e]=[t].concat(n))}return a[e]}(t||Object.keys(n).concat(Object.keys(r))).forEach(i);return a}function VR(e,t,n){const r=e.icons;const a=e.aliases||Object.create(null);let i={};function o(e){i=GR(r[e]||a[e],i)}o(t);n.forEach(o);return GR(e,i)}function XR(e,t){if(e.icons[t]){return VR(e,t,[])}const n=YR(e,[t])[t];return n?VR(e,t,n):null}Object.keys(OR).concat(["provider"]);const KR=/(-?[0-9.]*[0-9]+[0-9.]*)/g;const QR=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ZR(e,t,n){if(t===1){return e}n=n||100;if(typeof e==="number"){return Math.ceil(e*t*n)/n}if(typeof e!=="string"){return e}const r=e.split(KR);if(r===null||!r.length){return e}const a=[];let i=r.shift();let o=QR.test(i);while(!0){if(o){let e=parseFloat(i);if(isNaN(e)){a.push(i)}else{a.push(Math.ceil(e*t*n)/n)}}else{a.push(i)}i=r.shift();if(i===void 0){return a.join("")}o=!o}}function JR(e,t="defs"){let n="";const r=e.indexOf("<"+t);while(r>=0){let a=e.indexOf(">",r),i=e.indexOf("</"+t);if(a===-1||i===-1){break}let o=e.indexOf(">",i);if(o===-1){break}n+=e.slice(a+1,i).trim();e=e.slice(0,r).trim()+e.slice(o+1)}return{defs:n,content:e}}function eB(e,t){return e?"<defs>"+e+"</defs>"+t:t}function tB(e,t,n){const r=JR(e);return eB(r.defs,t+r.content+n)}const nB=e=>e==="unset"||e==="undefined"||e==="none";function rB(e,t){const n={...jR,...e};const r={...zR,...t};const a={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,r].forEach(e=>{const t=[];const n=e.hFlip;const r=e.vFlip;let o=e.rotate;if(n){if(r){o+=2}else{t.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")");t.push("scale(-1 1)");a.top=a.left=0}}else if(r){t.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")");t.push("scale(1 -1)");a.top=a.left=0}let s;o<0&&(o-=Math.floor(o/4)*4);o=o%4;switch(o){case 1:s=a.height/2+a.top;t.unshift("rotate(90 "+s.toString()+" "+s.toString()+")");break;case 2:t.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:s=a.width/2+a.left;t.unshift("rotate(-90 "+s.toString()+" "+s.toString()+")");break}if(o%2===1){if(a.left!==a.top){s=a.left;a.left=a.top;a.top=s}if(a.width!==a.height){s=a.width;a.width=a.height;a.height=s}}t.length&&(i=tB(i,'<g transform="'+t.join(" ")+'">',"</g>"))});const o=r.width;const s=r.height;const l=a.width;const d=a.height;let c;let h;if(o===null){h=s===null?"1em":s==="auto"?d:s;c=ZR(h,l/d)}else{c=o==="auto"?l:o;h=s===null?ZR(c,d/l):s==="auto"?d:s}const u={};const p=(e,t)=>{nB(t)||(u[e]=t.toString())};p("width",c);p("height",h);const _=[a.left,a.top,l,d];u.viewBox=_.join(" ");return{attributes:u,viewBox:_,body:i}}const aB=/\sid="(\S+)"/g;const iB="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let oB=0;function sB(e,t=iB){const n=[];let r;while(r=aB.exec(e)){n.push(r[1])}if(!n.length){return e}const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);n.forEach(n=>{const r=typeof t==="function"?t(n):t+(oB++).toString();const i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+a+"$3")});e=e.replace(new RegExp(a,"g"),"");return e}function lB(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t){n+=" "+e+'="'+t[e]+'"'}return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}const dB={transparent:{type:"transparent"},none:{type:"none"},currentcolor:{type:"current"}};function cB(e,t){const n="rgb";const r=t[0];const a=t.length;dB[e]={type:n,r:r,g:a>1?t[1]:r,b:a>2?t[2]:r,alpha:a>3?t[3]:1}}cB("silver",[192]);cB("gray",[128]);cB("white",[255]);cB("maroon",[128,0,0]);cB("red",[255,0,0]);cB("purple",[128,0]);cB("fuchsia",[255,0]);cB("green",[0,128]);cB("lime",[0,255]);cB("olive",[128,128,0]);cB("yellow",[255,255,0]);cB("navy",[0,0,128]);cB("blue",[0,0,255]);cB("teal",[0,128,128]);cB("aqua",[0,255,255]);cB("aliceblue",[240,248,255]);cB("antiquewhite",[250,235,215]);cB("aqua",[0,255,255]);cB("aquamarine",[127,255,212]);cB("azure",[240,255,255]);cB("beige",[245,245,220]);cB("bisque",[255,228,196]);cB("black",[0]);cB("blanchedalmond",[255,235,205]);cB("blue",[0,0,255]);cB("blueviolet",[138,43,226]);cB("brown",[165,42,42]);cB("burlywood",[222,184,135]);cB("cadetblue",[95,158,160]);cB("chartreuse",[127,255,0]);cB("chocolate",[210,105,30]);cB("coral",[255,127,80]);cB("cornflowerblue",[100,149,237]);cB("cornsilk",[255,248,220]);cB("crimson",[220,20,60]);cB("cyan",[0,255,255]);cB("darkblue",[0,0,139]);cB("darkcyan",[0,139,139]);cB("darkgoldenrod",[184,134,11]);cB("darkgray",[169]);cB("darkgreen",[0,100]);cB("darkgrey",[169]);cB("darkkhaki",[189,183,107]);cB("darkmagenta",[139,0]);cB("darkolivegreen",[85,107,47]);cB("darkorange",[255,140,0]);cB("darkorchid",[153,50,204]);cB("darkred",[139,0,0]);cB("darksalmon",[233,150,122]);cB("darkseagreen",[143,188]);cB("darkslateblue",[72,61,139]);cB("darkslategray",[47,79,79]);cB("darkslategrey",[47,79,79]);cB("darkturquoise",[0,206,209]);cB("darkviolet",[148,0,211]);cB("deeppink",[255,20,147]);cB("deepskyblue",[0,191,255]);cB("dimgray",[105]);cB("dimgrey",[105]);cB("dodgerblue",[30,144,255]);cB("firebrick",[178,34,34]);cB("floralwhite",[255,250,240]);cB("forestgreen",[34,139]);cB("fuchsia",[255,0]);cB("gainsboro",[220]);cB("ghostwhite",[248,248,255]);cB("gold",[255,215,0]);cB("goldenrod",[218,165,32]);cB("gray",[128]);cB("green",[0,128]);cB("greenyellow",[173,255,47]);cB("grey",[128]);cB("honeydew",[240,255]);cB("hotpink",[255,105,180]);cB("indianred",[205,92,92]);cB("indigo",[75,0,130]);cB("ivory",[255,255,240]);cB("khaki",[240,230,140]);cB("lavender",[230,230,250]);cB("lavenderblush",[255,240,245]);cB("lawngreen",[124,252,0]);cB("lemonchiffon",[255,250,205]);cB("lightblue",[173,216,230]);cB("lightcoral",[240,128,128]);cB("lightcyan",[224,255,255]);cB("lightgoldenrodyellow",[250,250,210]);cB("lightgray",[211]);cB("lightgreen",[144,238]);cB("lightgrey",[211]);cB("lightpink",[255,182,193]);cB("lightsalmon",[255,160,122]);cB("lightseagreen",[32,178,170]);cB("lightskyblue",[135,206,250]);cB("lightslategray",[119,136,153]);cB("lightslategrey",[119,136,153]);cB("lightsteelblue",[176,196,222]);cB("lightyellow",[255,255,224]);cB("lime",[0,255]);cB("limegreen",[50,205]);cB("linen",[250,240,230]);cB("magenta",[255,0]);cB("maroon",[128,0,0]);cB("mediumaquamarine",[102,205,170]);cB("mediumblue",[0,0,205]);cB("mediumorchid",[186,85,211]);cB("mediumpurple",[147,112,219]);cB("mediumseagreen",[60,179,113]);cB("mediumslateblue",[123,104,238]);cB("mediumspringgreen",[0,250,154]);cB("mediumturquoise",[72,209,204]);cB("mediumvioletred",[199,21,133]);cB("midnightblue",[25,25,112]);cB("mintcream",[245,255,250]);cB("mistyrose",[255,228,225]);cB("moccasin",[255,228,181]);cB("navajowhite",[255,222,173]);cB("navy",[0,0,128]);cB("oldlace",[253,245,230]);cB("olive",[128,128,0]);cB("olivedrab",[107,142,35]);cB("orange",[255,165,0]);cB("orangered",[255,69,0]);cB("orchid",[218,112,214]);cB("palegoldenrod",[238,232,170]);cB("palegreen",[152,251]);cB("paleturquoise",[175,238,238]);cB("palevioletred",[219,112,147]);cB("papayawhip",[255,239,213]);cB("peachpuff",[255,218,185]);cB("peru",[205,133,63]);cB("pink",[255,192,203]);cB("plum",[221,160]);cB("powderblue",[176,224,230]);cB("purple",[128,0]);cB("rebeccapurple",[102,51,153]);cB("red",[255,0,0]);cB("rosybrown",[188,143,143]);cB("royalblue",[65,105,225]);cB("saddlebrown",[139,69,19]);cB("salmon",[250,128,114]);cB("sandybrown",[244,164,96]);cB("seagreen",[46,139,87]);cB("seashell",[255,245,238]);cB("sienna",[160,82,45]);cB("silver",[192]);cB("skyblue",[135,206,235]);cB("slateblue",[106,90,205]);cB("slategray",[112,128,144]);cB("slategrey",[112,128,144]);cB("snow",[255,250,250]);cB("springgreen",[0,255,127]);cB("steelblue",[70,130,180]);cB("tan",[210,180,140]);cB("teal",[0,128,128]);cB("thistle",[216,191]);cB("tomato",[255,99,71]);cB("turquoise",[64,224,208]);cB("violet",[238,130]);cB("wheat",[245,222,179]);cB("white",[255]);cB("whitesmoke",[245]);cB("yellow",[255,255,0]);cB("yellowgreen",[154,205,50]);var hB=1e3;var uB=hB*60;var pB=uB*60;var _B=pB*24;var fB=_B*7;var mB=_B*365.25;var gB=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0){return yB(e)}else if(n==="number"&&isFinite(e)){return t.long?bB(e):xB(e)}
throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function yB(t){t=String(t);if(t.length>100){return}var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!n){return}var r=parseFloat(n[1]);var a=(n[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return r*mB;case"weeks":case"week":case"w":return r*fB;case"days":case"day":case"d":return r*_B;case"hours":case"hour":case"hrs":case"hr":case"h":return r*pB;case"minutes":case"minute":case"mins":case"min":case"m":return r*uB;case"seconds":case"second":case"secs":case"sec":case"s":return r*hB;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return e}}function xB(e){var t=Math.abs(e);if(t>=_B){return Math.round(e/_B)+"d"}if(t>=pB){return Math.round(e/pB)+"h"}if(t>=uB){return Math.round(e/uB)+"m"}if(t>=hB){return Math.round(e/hB)+"s"}return e+"ms"}function bB(e){var t=Math.abs(e);if(t>=_B){return vB(e,t,_B,"day")}if(t>=pB){return vB(e,t,pB,"hour")}if(t>=uB){return vB(e,t,uB,"minute")}if(t>=hB){return vB(e,t,hB,"second")}return e+" ms"}function vB(e,t,n,r){var a=t>=n*1.5;return Math.round(e/n)+" "+r+(a?"s":"")}function kB(e){n.debug=n;n.default=n;n.coerce=l;n.disable=o;n.enable=a;n.enabled=s;n.humanize=gB;n.destroy=d;Object.keys(e).forEach(t=>{n[t]=e[t]});n.names=[];n.skips=[];n.formatters={};function t(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return n.colors[Math.abs(t)%n.colors.length]}n.selectColor=t;function n(e){let t;let a=null;let i;let o;function s(...e){if(!s.enabled){return}const r=s;const a=Number(new Date);const i=a-(t||a);r.diff=i;r.prev=t;r.curr=a;t=a;e[0]=n.coerce(e[0]);typeof e[0]!=="string"&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,r)=>{if(t==="%%"){return"%"}o++;const a=n.formatters[r];if(typeof a==="function"){let n=e[o];t=a.call(s,n);e.splice(o,1);o--}return t});n.formatArgs.call(s,e);const l=s.log||n.log;l.apply(s,e)}s.namespace=e;s.useColors=n.useColors();s.color=n.selectColor(e);s.extend=r;s.destroy=n.destroy;Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(a!==null){return a}if(i!==n.namespaces){i=n.namespaces;o=n.enabled(e)}return o},set:e=>{a=e}});typeof n.init==="function"&&n.init(s);return s}function r(e,t){const r=n(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function a(e){n.save(e);n.namespaces=e;n.names=[];n.skips=[];const t=(typeof e==="string"?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of t){if(e[0]==="-"){n.skips.push(e.slice(1))}else{n.names.push(e)}}}function i(e,t){let n=0;let r=0;let a=-1;let i=0;while(n<e.length){if(r<t.length&&(t[r]===e[n]||t[r]==="*")){if(t[r]==="*"){a=r;i=n;r++}else{n++;r++}}else if(a!==-1){r=a+1;i++;n=i}else{return!1}}while(r<t.length&&t[r]==="*"){r++}return r===t.length}function o(){const e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");n.enable("");return e}function s(e){for(const t of n.skips){if(i(e,t)){return!1}}for(const t of n.names){if(i(e,t)){return!0}}return!1}function l(e){if(e instanceof Error){return e.stack||e.message}return e}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}n.enable(n.load());return n}var wB=function(){var n={};var r={exports:n};n.formatArgs=i;n.save=o;n.load=s;n.useColors=a;n.storage=l();n.destroy=(()=>{let e=!1;return()=>{if(!e){e=!0;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return!0}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return!1}let e;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(e){e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff);if(!this.useColors){return}const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0;let a=0;e[0].replace(/%[a-zA-Z%]/g,e=>{if(e==="%%"){return}n++;e==="%c"&&(a=n)});e.splice(a,0,t)}n.log=console.debug||console.log||(()=>{});function o(e){try{if(e){n.storage.setItem("debug",e)}else{n.storage.removeItem("debug")}}catch(e){}}function s(){let t;try{t=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch(e){}!t&&typeof process!=="undefined"&&"env"in process&&(t=e);return t}function l(){try{return localStorage}catch(e){}}r.exports=kB(n);const{formatters:d}=r.exports;d.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};return t(r.exports)}.call(window);wB("@iconify-loader:custom");wB("@iconify-loader:icon");var SB;function CB(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var TB=CB();function EB(e){TB=e}var AB={exec:()=>null};function NB(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(e,t)=>{let a=typeof t=="string"?t:t.source;return a=a.replace(PB.caret,"$1"),n=n.replace(e,a),r},getRegex:()=>new RegExp(n,t)};return r}var PB={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|\$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|\$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|\$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},LB=/^(?:[ \t]*(?:\n|$))+/,MB=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,DB=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,IB=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,RB=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,BB=/(?:[*+-]|\d{1,9}[.)])/,OB=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,FB=NB(OB).replace(/bull/g,BB).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jB=NB(OB).replace(/bull/g,BB).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),HB=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,WB=/^[^\n]+/,zB=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,$B=NB(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",zB).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),UB=NB(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,BB).getRegex(),qB="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",GB=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,YB=NB("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",GB).replace("tag",qB).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),VB=NB(HB).replace("hr",IB).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qB).getRegex(),XB=NB(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",VB).getRegex(),KB={blockquote:XB,code:MB,def:$B,fences:DB,heading:RB,hr:IB,html:YB,lheading:FB,list:UB,newline:LB,paragraph:VB,table:AB,text:WB},QB=NB("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",IB).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qB).getRegex(),ZB={...KB,lheading:jB,table:QB,paragraph:NB(HB).replace("hr",IB).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",QB).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qB).getRegex()},JB={...KB,html:NB(`^ *(?:comment *(?:\\n|\\s*\$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*\$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*\$))`).replace("comment",GB).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:AB,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:NB(HB).replace("hr",IB).replace("heading",` *#{1,6} *[^\n]`).replace("lheading",FB).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},eO=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tO=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,nO=/^( {2,}|\\)\n(?!\s*$)/,rO=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,aO=/[\p{P}\p{S}]/u,iO=/[\s\p{P}\p{S}]/u,oO=/[^\s\p{P}\p{S}]/u,sO=NB(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,iO).getRegex(),lO=/(?!~)[\p{P}\p{S}]/u,dO=/(?!~)[\s\p{P}\p{S}]/u,cO=/(?:[^\s\p{P}\p{S}]|~)/u,hO=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,uO=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,pO=NB(uO,"u").replace(/punct/g,aO).getRegex(),_O=NB(uO,"u").replace(/punct/g,lO).getRegex(),fO="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",mO=NB(fO,"gu").replace(/notPunctSpace/g,oO).replace(/punctSpace/g,iO).replace(/punct/g,aO).getRegex(),gO=NB(fO,"gu").replace(/notPunctSpace/g,cO).replace(/punctSpace/g,dO).replace(/punct/g,lO).getRegex(),yO=NB("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,oO).replace(/punctSpace/g,iO).replace(/punct/g,aO).getRegex(),xO=NB(/\\(punct)/,"gu").replace(/punct/g,aO).getRegex(),bO=NB(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),vO=NB(GB).replace("(?:--\x3e|$)","--\x3e").getRegex(),kO=NB("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",vO).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),wO=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,SO=NB(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",wO).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),CO=NB(/^!?\[(label)\]\[(ref)\]/).replace("label",wO).replace("ref",zB).getRegex(),TO=NB(/^!?\[(ref)\](?:\[\])?/).replace("ref",zB).getRegex(),EO=NB("reflink|nolink(?!\\()","g").replace("reflink",CO).replace("nolink",TO).getRegex(),AO={_backpedal:AB,anyPunctuation:xO,autolink:bO,blockSkip:hO,br:nO,code:tO,del:AB,emStrongLDelim:pO,emStrongRDelimAst:mO,emStrongRDelimUnd:yO,escape:eO,link:SO,nolink:TO,punctuation:sO,reflink:CO,reflinkSearch:EO,tag:kO,text:rO,url:AB},NO={...AO,link:NB(/^!?\[(label)\]\((.*?)\)/).replace("label",wO).getRegex(),reflink:NB(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wO).getRegex()},PO={...AO,emStrongRDelimAst:gO,emStrongLDelim:_O,url:NB(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},LO={...PO,br:NB(nO).replace("{2,}","*").getRegex(),text:NB(PO.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},MO={normal:KB,gfm:ZB,pedantic:JB},DO={normal:AO,gfm:PO,breaks:LO,pedantic:NO};var IO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},RO=e=>IO[e];function BO(e,t){if(t){if(PB.escapeTest.test(e))return e.replace(PB.escapeReplace,RO)}else if(PB.escapeTestNoEncode.test(e))return e.replace(PB.escapeReplaceNoEncode,RO);return e}function OO(e){try{e=encodeURI(e).replace(PB.percentDecode,"%")}catch{return null}return e}function FO(e,t){var n;let r=e.replace(PB.findPipe,(e,t,n)=>{let r=!1,a=t;for(;--a>=0&&n[a]==="\\";)r=!r;return r?"|":" |"}),a=r.split(PB.splitPipe),i=0;if(a[0].trim()||a.shift(),a.length>0&&!((n=a.at(-1))===null||n===void 0?void 0:n.trim())&&a.pop(),t)if(a.length>t)a.splice(t);else for(;a.length<t;)a.push("");for(;i<a.length;i++)a[i]=a[i].trim().replace(PB.slashPipe,"|");return a}function jO(e,t,n){let r=e.length;if(r===0)return"";let a=0;for(;a<r;){let i=e.charAt(r-a-1);if(i===t&&!n)a++;else if(i!==t&&n)a++;else break}return e.slice(0,r-a)}function HO(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function WO(e,t,n,r,a){let i=t.href,o=t.title||null,s=e[1].replace(a.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}function zO(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let a=r[1];return t.split(`\n`).map(e=>{let t=e.match(n.other.beginningSpace);if(t===null)return e;let[r]=t;return r.length>=a.length?e.slice(a.length):e}).join(`\n`)}var $O=class{constructor(e){this.options=e||TB}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:jO(e,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=zO(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=jO(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:jO(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=jO(t[0],`\n`).split(`\n`),n="",r="",a=[];for(;e.length>0;){let t=!1,i=[],o;for(o=0;o<e.length;o++)if(this.rules.other.blockquoteStart.test(e[o]))i.push(e[o]),t=!0;else if(!t)i.push(e[o]);else break;e=e.slice(o);let s=i.join(`\n`),l=s.replace(this.rules.other.blockquoteSetextReplace,`\n    \$1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${l}`:l;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,a,!0),this.lexer.state.top=d,e.length===0)break;let c=a.at(-1);if((c===null||c===void 0?void 0:c.type)==="code")break;if((c===null||c===void 0?void 0:c.type)==="blockquote"){let t=c,i=t.raw+`\n`+e.join(`\n`),o=this.blockquote(i);a[a.length-1]=o,n=n.substring(0,n.length-t.raw.length)+o.raw,r=r.substring(0,r.length-t.text.length)+o.text;break}else if((c===null||c===void 0?void 0:c.type)==="list"){let t=c,i=t.raw+`\n`+e.join(`\n`),o=this.list(i);a[a.length-1]=o,n=n.substring(0,n.length-c.raw.length)+o.raw,r=r.substring(0,r.length-t.raw.length)+o.raw,e=i.substring(a.at(-1).raw.length).split(`\n`);continue}}return{type:"blockquote",raw:n,tokens:a,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,a={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;e;){let n=!1,r="",s="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split(`\n`,1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),d=e.split(`\n`,1)[0],c=!l.trim(),h=0;if(this.options.pedantic?(h=2,s=l.trimStart()):c?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,s=l.slice(h),h+=t[1].length),c&&this.rules.other.blankLine.test(d)&&(r+=d+`\n`,e=e.substring(d.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(h),n=this.rules.other.hrRegex(h),a=this.rules.other.fencesBeginRegex(h),i=this.rules.other.headingBeginRegex(h),o=this.rules.other.htmlBeginRegex(h);for(;e;){let u=e.split(`\n`,1)[0],p;if(d=u,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),p=d):p=d.replace(this.rules.other.tabCharGlobal,"    "),a.test(d)||i.test(d)||o.test(d)||t.test(d)||n.test(d))break;if(p.search(this.rules.other.nonSpaceChar)>=h||!d.trim())s+=`\n`+p.slice(h);else{if(c||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||a.test(l)||i.test(l)||n.test(l))break;s+=`\n`+d}!c&&!d.trim()&&(c=!0),r+=u+`\n`,e=e.substring(u.length+1),l=p.slice(h)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(o=!0));let u=null,p;this.options.gfm&&(u=this.rules.other.listIsTask.exec(s),u&&(p=u[0]!=="[ ] ",s=s.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:r,task:!!u,checked:p,loose:!1,text:s,tokens:[]}),a.raw+=r}let s=a.items.at(-1);if(s)s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let e=0;e<a.items.length;e++)if(this.lexer.state.top=!1,a.items[e].tokens=this.lexer.blockTokens(a.items[e].text,[]),!a.loose){let t=a.items[e].tokens.filter(e=>e.type==="space"),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));a.loose=n}if(a.loose)for(let e=0;e<a.items.length;e++)a.items[e].loose=!0;return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){var t;let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=FO(n[1]),a=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=((t=n[3])===null||t===void 0?void 0:t.trim())?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`\n`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===a.length){for(let e of a)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<r.length;e++)o.header.push({text:r[e],tokens:this.lexer.inline(r[e]),header:!0,align:o.align[e]});for(let e of i)o.rows.push(FO(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=jO(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{let e=HO(t[2],"()");if(e===-2)return;if(e>-1){let n=(t[0].indexOf("!")===0?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n=n.slice(1):n=n.slice(1,-1)),WO(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[e.toLowerCase()];if(!r){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return WO(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let n=[...r[0]].length-1,a,i,o=n,s=0,l=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);(r=l.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(i=[...a].length,r[3]||r[4]){o+=i;continue}else if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+s);let t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+i);if(Math.min(n,i)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let d=l.slice(2,-2);return{type:"strong",raw:l,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return t[2]==="@"?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var t,n;let r;if(r=this.rules.inline.url.exec(e)){let e,a;if(r[2]==="@")e=r[0],a="mailto:"+e;else{let i;do{i=r[0],r[0]=(n=(t=this.rules.inline._backpedal.exec(r[0]))===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:""}while(i!==r[0]);e=r[0],r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:e,href:a,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}};var UO=class l{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||TB,this.options.tokenizer=this.options.tokenizer||new $O,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:PB,block:MO.normal,inline:DO.normal};this.options.pedantic?(t.block=MO.pedantic,t.inline=DO.pedantic):this.options.gfm&&(t.block=MO.gfm,this.options.breaks?t.inline=DO.breaks:t.inline=DO.gfm),this.tokenizer.rules=t}static get rules(){return{block:MO,inline:DO}}static lex(e,t){return new l(t).lex(e)}static lexInline(e,t){return new l(t).inlineTokens(e)}lex(e){e=e.replace(PB.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var r,a,i;for(this.options.pedantic&&(e=e.replace(PB.tabCharGlobal,"    ").replace(PB.spaceLine,""));e;){let o;if((a=(r=this.options.extensions)===null||r===void 0?void 0:r.block)===null||a===void 0?void 0:a.some(n=>(o=n.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let n=t.at(-1);o.raw.length===1&&n!==void 0?n.raw+=`\n`:t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="paragraph"||(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=(n.raw.endsWith(`\n`)?"":`\n`)+o.raw,n.text+=`\n`+o.text,this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="paragraph"||(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=(n.raw.endsWith(`\n`)?"":`\n`)+o.raw,n.text+=`\n`+o.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},t.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}let s=e;if((i=this.options.extensions)===null||i===void 0?void 0:i.startBlock){let t=1/0,n=e.slice(1),r;this.options.extensions.startBlock.forEach(e=>{r=e.call({lexer:this},n),typeof r=="number"&&r>=0&&(t=Math.min(t,r))}),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){let r=t.at(-1);n&&(r===null||r===void 0?void 0:r.type)==="paragraph"?(r.raw+=(r.raw.endsWith(`\n`)?"":`\n`)+o.raw,
r.text+=`\n`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):t.push(o),n=s.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=(n.raw.endsWith(`\n`)?"":`\n`)+o.raw,n.text+=`\n`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(o);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}else throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var n,r,a;let i=e,o=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,l="";for(;e;){s||(l=""),s=!1;let o;if((r=(n=this.options.extensions)===null||n===void 0?void 0:n.inline)===null||r===void 0?void 0:r.some(n=>(o=n.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let n=t.at(-1);o.type==="text"&&(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=o.raw,n.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,i,l)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let d=e;if((a=this.options.extensions)===null||a===void 0?void 0:a.startInline){let t=1/0,n=e.slice(1),r;this.options.extensions.startInline.forEach(e=>{r=e.call({lexer:this},n),typeof r=="number"&&r>=0&&(t=Math.min(t,r))}),t<1/0&&t>=0&&(d=e.substring(0,t+1))}if(o=this.tokenizer.inlineText(d)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(l=o.raw.slice(-1)),s=!0;let n=t.at(-1);(n===null||n===void 0?void 0:n.type)==="text"?(n.raw+=o.raw,n.text+=o.text):t.push(o);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}else throw new Error(t)}}return t}};var qO=class{constructor(e){this.options=e||TB}space(e){return""}code({text:e,lang:t,escaped:n}){var r;let a=(r=(t||"").match(PB.notSpaceStart))===null||r===void 0?void 0:r[0],i=e.replace(PB.endingNewline,"")+`\n`;return a?'<pre><code class="language-'+BO(a)+'">'+(n?i:BO(i,!0))+`</code></pre>\n`:"<pre><code>"+(n?i:BO(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,r="";for(let t=0;t<e.items.length;t++){let n=e.items[t];r+=this.listitem(n)}let a=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+a+i+`>\n`+r+"</"+a+`>\n`}listitem(e){var t;let n="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?((t=e.tokens[0])===null||t===void 0?void 0:t.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+BO(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){let a=e.rows[t];n="";for(let e=0;e<a.length;e++)n+=this.tablecell(a[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+r+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${BO(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),a=OO(e);if(a===null)return r;e=a;let i='<a href="'+e+'"';return t&&(i+=' title="'+BO(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let a=OO(e);if(a===null)return BO(n);e=a;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${BO(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:BO(e.text)}};var GO=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}};var YO=class l{constructor(e){this.options=e||TB,this.options.renderer=this.options.renderer||new qO,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new GO}static parse(e,t){return new l(t).parse(e)}static parseInline(e,t){return new l(t).parseInline(e)}parse(e,t=!0){var n,r;let a="";for(let i=0;i<e.length;i++){let o=e[i];if((r=(n=this.options.extensions)===null||n===void 0?void 0:n.renderers)===null||r===void 0?void 0:r[o.type]){let e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(t!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){a+=t||"";continue}}let s=o;switch(s.type){case"space":{a+=this.renderer.space(s);continue}case"hr":{a+=this.renderer.hr(s);continue}case"heading":{a+=this.renderer.heading(s);continue}case"code":{a+=this.renderer.code(s);continue}case"table":{a+=this.renderer.table(s);continue}case"blockquote":{a+=this.renderer.blockquote(s);continue}case"list":{a+=this.renderer.list(s);continue}case"html":{a+=this.renderer.html(s);continue}case"def":{a+=this.renderer.def(s);continue}case"paragraph":{a+=this.renderer.paragraph(s);continue}case"text":{let n=s,r=this.renderer.text(n);for(;i+1<e.length&&e[i+1].type==="text";)n=e[++i],r+=`\n`+this.renderer.text(n);t?a+=this.renderer.paragraph({type:"paragraph",raw:r,text:r,tokens:[{type:"text",raw:r,text:r,escaped:!0}]}):a+=r;continue}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return a}parseInline(e,t=this.renderer){var n,r;let a="";for(let i=0;i<e.length;i++){let o=e[i];if((r=(n=this.options.extensions)===null||n===void 0?void 0:n.renderers)===null||r===void 0?void 0:r[o.type]){let e=this.options.extensions.renderers[o.type].call({parser:this},o);if(e!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){a+=e||"";continue}}let s=o;switch(s.type){case"escape":{a+=t.text(s);break}case"html":{a+=t.html(s);break}case"link":{a+=t.link(s);break}case"image":{a+=t.image(s);break}case"strong":{a+=t.strong(s);break}case"em":{a+=t.em(s);break}case"codespan":{a+=t.codespan(s);break}case"br":{a+=t.br(s);break}case"del":{a+=t.del(s);break}case"text":{a+=t.text(s);break}default:{let e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return a}};var VO=(SB=class{constructor(e){this.options=e||TB}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?UO.lex:UO.lexInline}provideParser(){return this.block?YO.parse:YO.parseInline}},n(SB,"$"),SB.passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]),SB);var XO=class{constructor(...e){this.defaults=CB();this.options=this.setOptions;this.parse=this.parseMarkdown(!0);this.parseInline=this.parseMarkdown(!1);this.Parser=YO;this.Renderer=qO;this.TextRenderer=GO;this.Lexer=UO;this.Tokenizer=$O;this.Hooks=VO;this.use(...e)}walkTokens(e,t){var n,r;let a=[];for(let i of e)switch(a=a.concat(t.call(this,i)),i.type){case"table":{let e=i;for(let n of e.header)a=a.concat(this.walkTokens(n.tokens,t));for(let n of e.rows)for(let e of n)a=a.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=i;a=a.concat(this.walkTokens(e.items,t));break}default:{let e=i;((r=(n=this.defaults.extensions)===null||n===void 0?void 0:n.childTokens)===null||r===void 0?void 0:r[e.type])?this.defaults.extensions.childTokens[e.type].forEach(n=>{let r=e[n].flat(1/0);a=a.concat(this.walkTokens(r,t))}):e.tokens&&(a=a.concat(this.walkTokens(e.tokens,t)))}}return a}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];n?t.renderers[e.name]=function(...t){let r=e.renderer.apply(this,t);return r===!1&&(r=n.apply(this,t)),r}:t.renderers[e.name]=e.renderer}if("tokenizer"in e){if(!e.level||e.level!=="block"&&e.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&(e.level==="block"?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:e.level==="inline"&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new qO(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let r=n,a=e.renderer[r],i=t[r];t[r]=((...e)=>{let n=a.apply(t,e);return n===!1&&(n=i.apply(t,e)),n||""})}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new $O(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let r=n,a=e.tokenizer[r],i=t[r];t[r]=((...e)=>{let n=a.apply(t,e);return n===!1&&(n=i.apply(t,e)),n})}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new VO;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let r=n,a=e.hooks[r],i=t[r];VO.passThroughHooks.has(n)?t[r]=(e=>{if(this.defaults.async)return Promise.resolve(a.call(t,e)).then(e=>i.call(t,e));let n=a.call(t,e);return i.call(t,n)}):t[r]=((...e)=>{let n=a.apply(t,e);return n===!1&&(n=i.apply(t,e)),n})}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return UO.lex(e,t!==null&&t!==void 0?t:this.defaults)}parser(e,t){return YO.parse(e,t!==null&&t!==void 0?t:this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},a={...this.defaults,...r},i=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);let o=a.hooks?a.hooks.provideLexer():e?UO.lex:UO.lexInline,s=a.hooks?a.hooks.provideParser():e?YO.parse:YO.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(t):t).then(e=>o(e,a)).then(e=>a.hooks?a.hooks.processAllTokens(e):e).then(e=>a.walkTokens?Promise.all(this.walkTokens(e,a.walkTokens)).then(()=>e):e).then(e=>s(e,a)).then(e=>a.hooks?a.hooks.postprocess(e):e).catch(i);try{a.hooks&&(t=a.hooks.preprocess(t));let e=o(t,a);a.hooks&&(e=a.hooks.processAllTokens(e)),a.walkTokens&&this.walkTokens(e,a.walkTokens);let n=s(e,a);return a.hooks&&(n=a.hooks.postprocess(n)),n}catch(e){return i(e)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let e="<p>An error occurred:</p><pre>"+BO(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};var KO=new XO;function QO(e,t){return KO.parse(e,t)}QO.options=QO.setOptions=function(e){return KO.setOptions(e),QO.defaults=KO.defaults,EB(QO.defaults),QO};QO.getDefaults=CB;QO.defaults=TB;QO.use=function(...e){return KO.use(...e),QO.defaults=KO.defaults,EB(QO.defaults),QO};QO.walkTokens=function(e,t){return KO.walkTokens(e,t)};QO.parseInline=KO.parseInline;QO.Parser=YO;QO.parser=YO.parse;QO.Renderer=qO;QO.TextRenderer=GO;QO.Lexer=UO;QO.lexer=UO.lex;QO.Tokenizer=$O;QO.Hooks=VO;QO.parse=QO;QO.options;QO.setOptions;QO.use;QO.walkTokens;QO.parseInline;YO.parse;UO.lex;function ZO(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}var r=Array.from(typeof e==="string"?[e]:e);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var a=r.reduce(function(e,t){var n=t.match(/\n([\t ]+|(?!\s).)/g);if(n){return e.concat(n.map(function(e){var t,n;return(n=(t=e.match(/[\t ]/g))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}))}return e},[]);if(a.length){var i=new RegExp("\n[\t ]{"+Math.min.apply(Math,a)+"}","g");r=r.map(function(e){return e.replace(i,"\n")})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];t.forEach(function(e,t){var n=o.match(/(?:^|\n)( *)$/);var a=n?n[1]:"";var i=e;typeof e==="string"&&e.includes("\n")&&(i=String(e).split("\n").map(function(e,t){return t===0?e:""+a+e}).join("\n"));o+=i+r[t+1]});return o}var JO={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80};var eF=new Map;var tF=new Map;var nF=Oo(e=>{for(const t of e){if(!t.name){throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.')}Ho.debug("Registering icon pack:",t.name);if("loader"in t){tF.set(t.name,t.loader)}else if("icons"in t){eF.set(t.name,t.icons)}else{Ho.error("Invalid icon loader:",t);throw new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}}},"registerIconPacks");var rF=Oo(async(e,t)=>{const n=$R(e,!0,t!==void 0);if(!n){throw new Error(`Invalid icon name: ${e}`)}const r=n.prefix||t;if(!r){throw new Error(`Icon name must contain a prefix: ${e}`)}let a=eF.get(r);if(!a){let e=tF.get(r);if(!e){throw new Error(`Icon set not found: ${n.prefix}`)}try{let t=await e();a={...t,prefix:r};eF.set(r,a)}catch(e){Ho.error(e);throw new Error(`Failed to load icon set: ${n.prefix}`)}}const i=XR(a,n.name);if(!i){throw new Error(`Icon not found: ${e}`)}return i},"getRegisteredIconData");var aF=Oo(async e=>{try{await rF(e);return!0}catch{return!1}},"isIconAvailable");var iF=Oo(async(e,t,n)=>{let r;try{r=await rF(e,t===null||t===void 0?void 0:t.fallbackPrefix)}catch(e){Ho.error(e);r=JO}const a=rB(r,t);const i=lB(sB(a.body),{...a.attributes,...n});return qs(i,Ls())},"getIconSVG");function oF(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,"\n");const r=n.replace(/\n{2,}/g,"\n");const a=ZO(r);if(t===!1){return a.replace(/ /g,"&nbsp;")}return a}Oo(oF,"preprocessMarkdown");function sF(e,t={}){const n=oF(e,t);const r=QO.lexer(n);const a=[[]];let i=0;function o(e,t="normal"){if(e.type==="text"){let n=e.text.split("\n");n.forEach((e,n)=>{if(n!==0){i++;a.push([])}e.split(" ").forEach(e=>{e=e.replace(/&#39;/g,`'`);e&&a[i].push({content:e,type:t})})})}else if(e.type==="strong"||e.type==="em"){e.tokens.forEach(t=>{o(t,e.type)})}else e.type==="html"&&a[i].push({content:e.text,type:"normal"})}Oo(o,"processNode");r.forEach(e=>{var t;if(e.type==="paragraph"){(t=e.tokens)===null||t===void 0?void 0:t.forEach(e=>{o(e)})}else if(e.type==="html"){a[i].push({content:e.text,type:"normal"})}else{a[i].push({content:e.raw,type:"normal"})}});return a}Oo(sF,"markdownToLines");function lF(e,{markdownAutoWrap:t}={}){const n=QO.lexer(e);function r(e){var n,a,i;if(e.type==="text"){if(t===!1){return e.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;")}return e.text.replace(/\n */g,"<br/>")}else if(e.type==="strong"){return`<strong>${(n=e.tokens)===null||n===void 0?void 0:n.map(r).join("")}</strong>`}else if(e.type==="em"){return`<em>${(a=e.tokens)===null||a===void 0?void 0:a.map(r).join("")}</em>`}else if(e.type==="paragraph"){return`<p>${(i=e.tokens)===null||i===void 0?void 0:i.map(r).join("")}</p>`}else if(e.type==="space"){return""}else if(e.type==="html"){return`${e.text}`}else if(e.type==="escape"){return e.text}Ho.warn(`Unsupported markdown: ${e.type}`);return e.raw}Oo(r,"output");return n.map(r).join("")}Oo(lF,"markdownToHTML");function dF(e){if(Intl.Segmenter){return[...(new Intl.Segmenter).segment(e)].map(e=>e.segment)}return[...e]}Oo(dF,"splitTextToChars");function cF(e,t){const n=dF(t.content);return hF(e,[],n,t.type)}Oo(cF,"splitWordToFitWidth");function hF(e,t,n,r){if(n.length===0){return[{content:t.join(""),type:r},{content:"",type:r}]}const[a,...i]=n;const o=[...t,a];if(e([{content:o.join(""),type:r}])){return hF(e,o,i,r)}if(t.length===0&&a){t.push(a);n.shift()}return[{content:t.join(""),type:r},{content:n.join(""),type:r}]}Oo(hF,"splitWordToFitWidthRecursion");function uF(e,t){if(e.some(({content:e})=>e.includes("\n"))){throw new Error("splitLineToFitWidth does not support newlines in the line")}return pF(e,t)}Oo(uF,"splitLineToFitWidth");function pF(e,t,n=[],r=[]){var a;if(e.length===0){r.length>0&&n.push(r);return n.length>0?n:[]}let i="";if(e[0].content===" "){i=" ";e.shift()}const o=(a=e.shift())!==null&&a!==void 0?a:{content:" ",type:"normal"};const s=[...r];i!==""&&s.push({content:i,type:"normal"});s.push(o);if(t(s)){return pF(e,t,n,s)}if(r.length>0){n.push(r);e.unshift(o)}else if(o.content){let[r,a]=cF(t,o);n.push([r]);a.content&&e.unshift(a)}return pF(e,t,n)}Oo(pF,"splitLineToFitWidthRecursion");function _F(e,t){t&&e.attr("style",t)}Oo(_F,"applyStyle");async function fF(e,t,n,r,a=!1,i=Ls()){const o=e.append("foreignObject");o.attr("width",`${10*n}px`);o.attr("height",`${10*n}px`);const s=o.append("xhtml:div");const l=sl(t.label)?await hl(t.label.replace(ul.lineBreakRegex,"\n"),i):qs(t.label,i);const d=t.isNode?"nodeLabel":"edgeLabel";const c=s.append("span");c.html(l);_F(c,t.labelStyle);c.attr("class",`${d} ${r}`);_F(s,t.labelStyle);s.style("display","table-cell");s.style("white-space","nowrap");s.style("line-height","1.5");s.style("max-width",n+"px");s.style("text-align","center");s.attr("xmlns","http://www.w3.org/1999/xhtml");a&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();if(h.width===n){s.style("display","table");s.style("white-space","break-spaces");s.style("width",n+"px");h=s.node().getBoundingClientRect()}return o.node()}Oo(fF,"addHtmlSpan");function mF(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}Oo(mF,"createTspan");function gF(e,t,n){const r=e.append("text");const a=mF(r,1,t);bF(a,n);const i=a.node().getComputedTextLength();r.remove();return i}Oo(gF,"computeWidthOfText");function yF(e,t,n){var r;const a=e.append("text");const i=mF(a,1,t);bF(i,[{content:n,type:"normal"}]);const o=(r=i.node())===null||r===void 0?void 0:r.getBoundingClientRect();o&&a.remove();return o}Oo(yF,"computeDimensionOfText");function xF(e,t,n,r=!1){const a=1.1;const i=t.append("g");const o=i.insert("rect").attr("class","background").attr("style","stroke: none");const s=i.append("text").attr("y","-10.1");let l=0;for(const t of n){let n=Oo(t=>gF(i,a,t)<=e,"checkWidth"),r=n(t)?[t]:uF(t,n);for(const e of r){let t=mF(s,l,a);bF(t,e);l++}}if(r){let e=s.node().getBBox(),t=2;o.attr("x",e.x-t).attr("y",e.y-t).attr("width",e.width+2*t).attr("height",e.height+2*t);return i.node()}else{return s.node()}}Oo(xF,"createFormattedText");function bF(e,t){e.text("");t.forEach((t,n)=>{const r=e.append("tspan").attr("font-style",t.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");if(n===0){r.text(t.content)}else{r.text(" "+t.content)}})}Oo(bF,"updateTextContentAndStyles");async function vF(e,t={}){const n=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(e,r,a)=>{n.push((async()=>{const n=`${r}:${a}`;if(await aF(n)){return await iF(n,void 0,{class:"label-icon"})}else{return`<i class='${qs(e,t).replace(":"," ")}'></i>`}})());return e});const r=await Promise.all(n);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>{var e;return(e=r.shift())!==null&&e!==void 0?e:""})}Oo(vF,"replaceIconSubstring");var kF=Oo(async(e,t="",{style:n="",isTitle:r=!1,classes:a="",useHtmlLabels:i=!0,isNode:o=!0,width:s=200,addSvgBackground:l=!1}={},d)=>{Ho.debug("XYZ createText",t,n,r,a,i,o,"addSvgBackground: ",l);if(i){let r=lF(t,d),i=await vF(DR(r),d),c=t.replace(/\\\\/g,"\\"),h={isNode:o,label:sl(t)?c:i,labelStyle:n.replace("fill:","color:")},u=await fF(e,h,s,a,l,d);return u}else{let r=t.replace(/<br\s*\/?>/g,"<br/>"),a=sF(r.replace("<br>","<br/>"),d),i=xF(s,e,a,t?l:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));let e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qf(i).attr("style",e)}else{let e=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Qf(i).select("rect").attr("style",e.replace(/background:/g,"fill:"));let t=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qf(i).select("text").attr("style",t)}return i}},"createText");function wF(e,t,n){if(e&&e.length){let[r,a]=t,i=Math.PI/180*n,o=Math.cos(i),s=Math.sin(i);for(const t of e){let[e,n]=t;t[0]=(e-r)*o-(n-a)*s+r,t[1]=(e-r)*s+(n-a)*o+a}}}function SF(e,t){return e[0]===t[0]&&e[1]===t[1]}function CF(e,t,n,r=1){const a=Math.max(t,.1),i=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,o=[0,0];if(n)for(const e of i)wF(e,o,n);const s=function(e,t,n){const r=[];for(const t of e){let e=[...t];SF(e[0],e[e.length-1])||e.push([e[0][0],e[0][1]]),e.length>2&&r.push(e)}const a=[];t=Math.max(t,.1);const i=[];for(const e of r)for(let t=0;t<e.length-1;t++){let n=e[t],r=e[t+1];if(n[1]!==r[1]){let e=Math.min(n[1],r[1]);i.push({ymin:e,ymax:Math.max(n[1],r[1]),x:e===n[1]?n[0]:r[0],islope:(r[0]-n[0])/(r[1]-n[1])})}}if(i.sort((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)),!i.length)return a;let o=[],s=i[0].ymin,l=0;for(;o.length||i.length;){if(i.length){let e=-1;for(let t=0;t<i.length&&!(i[t].ymin>s);t++)e=t;i.splice(0,e+1).forEach(e=>{o.push({s:s,edge:e})})}if(o=o.filter(e=>!(e.edge.ymax<=s)),o.sort((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)),(1!==n||l%t==0)&&o.length>1)for(let e=0;e<o.length;e+=2){let t=e+1;if(t>=o.length)break;let n=o[e].edge,r=o[t].edge;a.push([[Math.round(n.x),s],[Math.round(r.x),s]])}s+=n,o.forEach(e=>{e.edge.x=e.edge.x+n*e.edge.islope}),l++}return a}(i,a,r);if(n){for(const e of i)wF(e,o,-n);!function(e,t,n){const r=[];e.forEach(e=>r.push(...e)),wF(r,t,n)}(s,o,-n)}return s}function TF(e,t){var n;const r=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let i=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(i=a),CF(e,a,r,i||1)}class o_rough{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const n=TF(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){const n=[];for(const r of e)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return n}}function EF(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class h_rough extends o_rough{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);const r=TF(e,Object.assign({},t,{hachureGap:n})),a=Math.PI/180*t.hachureAngle,i=[],o=.5*n*Math.cos(a),s=.5*n*Math.sin(a);for(const[e,t]of r)EF([e,t])&&i.push([[e[0]-o,e[1]+s],[...t]],[[e[0]+o,e[1]-s],[...t]]);return{type:"fillSketch",ops:this.renderLines(i,t)}}}class r_rough extends o_rough{fillPolygons(e,t){const n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),a=this._fillPolygons(e,r);return n.ops=n.ops.concat(a.ops),n}}class i_rough{constructor(e){this.helper=e}fillPolygons(e,t){const n=TF(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){const n=[];let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let a=t.fillWeight;a<0&&(a=t.strokeWidth/2);const i=r/4;for(const o of e){let e=EF(o),s=e/r,l=Math.ceil(s)-1,d=e-l*r,c=(o[0][0]+o[1][0])/2-r/4,h=Math.min(o[0][1],o[1][1]);for(let e=0;e<l;e++){let o=h+d+e*r,s=c-i+2*Math.random()*i,l=o-i+2*Math.random()*i,u=this.helper.ellipse(s,l,a,a,t);n.push(...u.ops)}}return{type:"fillSketch",ops:n}}}class c_rough{constructor(e){this.helper=e}fillPolygons(e,t){const n=TF(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){const n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,a=[];return e.forEach(e=>{const i=EF(e),o=Math.floor(i/(n+r)),s=(i+r-o*(n+r))/2;let l=e[0],d=e[1];l[0]>d[0]&&(l=e[1],d=e[0]);const c=Math.atan((d[1]-l[1])/(d[0]-l[0]));for(let e=0;e<o;e++){let i=e*(n+r),o=i+n,d=[l[0]+i*Math.cos(c)+s*Math.cos(c),l[1]+i*Math.sin(c)+s*Math.sin(c)],h=[l[0]+o*Math.cos(c)+s*Math.cos(c),l[1]+o*Math.sin(c)+s*Math.sin(c)];a.push(...this.helper.doubleLineOps(d[0],d[1],h[0],h[1],t))}}),a}}class l_rough{constructor(e){this.helper=e}fillPolygons(e,t){const n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,a=TF(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(a,r,t)}}zigzagLines(e,t,n){const r=[];return e.forEach(e=>{const a=EF(e),i=Math.round(a/(2*t));let o=e[0],s=e[1];o[0]>s[0]&&(o=e[1],s=e[0]);const l=Math.atan((s[1]-o[1])/(s[0]-o[0]));for(let e=0;e<i;e++){let a=2*e*t,i=2*(e+1)*t,s=Math.sqrt(2*Math.pow(t,2)),d=[o[0]+a*Math.cos(l),o[1]+a*Math.sin(l)],c=[o[0]+i*Math.cos(l),o[1]+i*Math.sin(l)],h=[d[0]+s*Math.cos(l+Math.PI/4),d[1]+s*Math.sin(l+Math.PI/4)];r.push(...this.helper.doubleLineOps(d[0],d[1],h[0],h[1],n),...this.helper.doubleLineOps(h[0],h[1],c[0],c[1],n))}}),r}}const AF={};class p_rough{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const NF=0,PF=1,LF=2,MF={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function DF(e,t){return e.type===t}function IF(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:NF,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:PF,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:LF,text:""},t}(e);let r="BOD",a=0,i=n[a];for(;!DF(i,LF);){let e=0,o=[];if("BOD"===r){if("M"!==i.text&&"m"!==i.text)return IF("M0,0"+s);a++,e=MF[i.text],r=i.text}else DF(i,PF)?e=MF[r]:(a++,e=MF[i.text],r=i.text);if(!(a+e<n.length))throw new Error("Path data ended short");for(let t=a;t<a+e;t++){let e=n[t];if(!DF(e,PF))throw new Error("Param not a number: "+r+","+e.text);o[o.length]=+e.text}if("number"!=typeof MF[r])throw new Error("Bad segment: "+r);let s={key:r,data:o};t.push(s),a+=e,i=n[a],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function RF(e){let t=0,n=0,r=0,a=0;const i=[];for(const{key:o,data:s}of e)switch(o){case"M":i.push({key:"M",data:[...s]}),[t,n]=s,[r,a]=s;break;case"m":t+=s[0],n+=s[1],i.push({key:"M",data:[t,n]}),r=t,a=n;break;case"L":i.push({key:"L",data:[...s]}),[t,n]=s;break;case"l":t+=s[0],n+=s[1],i.push({key:"L",data:[t,n]});break;case"C":i.push({key:"C",data:[...s]}),t=s[4],n=s[5];break;case"c":{let e=s.map((e,r)=>r%2?e+n:e+t);i.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":i.push({key:"Q",data:[...s]}),t=s[2],n=s[3];break;case"q":{let e=s.map((e,r)=>r%2?e+n:e+t);i.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":i.push({key:"A",data:[...s]}),t=s[5],n=s[6];break;case"a":t+=s[5],n+=s[6],i.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,n]});break;case"H":i.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],i.push({key:"H",data:[t]});break;case"V":i.push({key:"V",data:[...s]}),n=s[0];break;case"v":n+=s[0],i.push({key:"V",data:[n]});break;case"S":i.push({key:"S",data:[...s]}),t=s[2],n=s[3];break;case"s":{let e=s.map((e,r)=>r%2?e+n:e+t);i.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":i.push({key:"T",data:[...s]}),t=s[0],n=s[1];break;case"t":t+=s[0],n+=s[1],i.push({key:"T",data:[t,n]});break;case"Z":case"z":i.push({key:"Z",data:[]}),t=r,n=a}return i}function BF(e){const t=[];let n=0,r=0;for(const{key:a,data:i}of e){switch(d){case"M":t.push({key:"M",data:[...i]}),[n,r]=i,[a,l]=i;break;case"C":t.push({key:"C",data:[...i]}),n=i[4],r=i[5],T=i[2],E=i[3];break;case"L":t.push({key:"L",data:[...i]}),[n,r]=i;break;case"H":n=i[0],t.push({key:"L",data:[n,r]});break;case"V":r=i[0],t.push({key:"L",data:[n,r]});break;case"S":let e=0,a=0;"C"===f||"S"===f?(e=n+(n-T),a=r+(r-E)):(e=n,a=r),t.push({key:"C",data:[e,a,...i]}),T=i[0],E=i[1],n=i[2],r=i[3];break;case"T":let[o,s]=i,l=0,d=0;"Q"===f||"T"===f?(l=n+(n-T),d=r+(r-E)):(l=n,d=r);let c=n+2*(l-n)/3,h=r+2*(d-r)/3,u=o+2*(l-o)/3,p=s+2*(d-s)/3;t.push({key:"C",data:[c,h,u,p,o,s]}),T=l,E=d,n=o,r=s;break;case"Q":let[_,f,m,g]=i,y=n+2*(_-n)/3,x=r+2*(f-r)/3,b=m+2*(_-m)/3,v=g+2*(f-g)/3;t.push({key:"C",data:[y,x,b,v,m,g]}),T=_,E=f,n=m,r=g;break;case"A":let k=Math.abs(i[0]),w=Math.abs(i[1]),S=i[2],C=i[3],T=i[4],E=i[5],A=i[6];if(0===k||0===w)t.push({key:"C",data:[n,r,E,A,E,A]}),n=E,r=A;else(n!==E||r!==A)&&(FF(n,r,E,A,k,w,S,C,T).forEach(function(e){t.push({key:"C",data:e})}),n=E,r=A);break;case"Z":t.push({key:"Z",data:[]}),n=a,r=l}}return t}function OF(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function FF(e,t,n,r,a,i,o,s,l,d){const c=(h=o,Math.PI*h/180);var h;let u=[],p=0,_=0,f=0,m=0;if(d)[p,_,f,m]=d;else{[e,t]=OF(e,t,-c),[n,r]=OF(n,r,-c);let o=(e-n)/2,d=(t-r)/2,h=o*o/(a*a)+d*d/(i*i);h>1&&(h=Math.sqrt(h),a*=h,i*=h);let u=a*a,g=i*i,y=u*g-u*d*d-g*o*o,x=u*d*d+g*o*o,b=(s===l?-1:1)*Math.sqrt(Math.abs(y/x));f=b*a*d/i+(e+n)/2,m=b*-i*o/a+(t+r)/2,p=Math.asin(parseFloat(((t-m)/i).toFixed(9))),
_=Math.asin(parseFloat(((r-m)/i).toFixed(9))),e<f&&(p=Math.PI-p),n<f&&(_=Math.PI-_),p<0&&(p=2*Math.PI+p),_<0&&(_=2*Math.PI+_),l&&p>_&&(p-=2*Math.PI),!l&&_>p&&(_-=2*Math.PI)}let g=_-p;if(Math.abs(g)>120*Math.PI/180){let e=_,t=n,s=r;_=l&&_>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,u=FF(n=f+a*Math.cos(_),r=m+i*Math.sin(_),t,s,a,i,o,0,l,[_,e,f,m])}g=_-p;const y=Math.cos(p),x=Math.sin(p),b=Math.cos(_),v=Math.sin(_),k=Math.tan(g/4),w=4/3*a*k,S=4/3*i*k,C=[e,t],T=[e+w*x,t-S*y],E=[n+w*v,r-S*b],A=[n,r];if(T[0]=2*C[0]-T[0],T[1]=2*C[1]-T[1],d)return[T,E,A].concat(u);{u=[T,E,A].concat(u);let e=[];for(let t=0;t<u.length;t+=3){let n=OF(u[t][0],u[t][1],c),r=OF(u[t+1][0],u[t+1][1],c),a=OF(u[t+2][0],u[t+2][1],c);e.push([n[0],n[1],r[0],r[1],a[0],a[1]])}return e}}const jF={randOffset:function(e,t){return JF(e,t)},randOffsetWithRange:function(e,t,n){return ZF(e,t,n)},ellipse:function(e,t,n,r,a){const i=UF(n,r,a);return qF(e,t,a,i).opset},doubleLineOps:function(e,t,n,r,a){return ej(e,t,n,r,a,!0)}};function HF(e,t,n,r,a){return{type:"path",ops:ej(e,t,n,r,a)}}function WF(e,t,n){const r=(e||[]).length;if(r>2){let a=[];for(let t=0;t<r-1;t++)a.push(...ej(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&a.push(...ej(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:a}}return 2===r?HF(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function zF(e,t,n,r,a){return function(e,t){return WF(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function $F(e,t){if(e.length){let n="number"==typeof e[0][0]?[e]:e,r=nj(n[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:nj(n[0],1.5*(1+.22*t.roughness),KF(t));for(let e=1;e<n.length;e++){let i=n[e];if(i.length){let e=nj(i,1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:nj(i,1.5*(1+.22*t.roughness),KF(t));for(const t of e)"move"!==t.op&&r.push(t);for(const e of n)"move"!==e.op&&a.push(e)}}return{type:"path",ops:r.concat(a)}}return{type:"path",ops:[]}}function UF(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),i=2*Math.PI/a;let o=Math.abs(e/2),s=Math.abs(t/2);const l=1-n.curveFitting;return o+=JF(o*l,n),s+=JF(s*l,n),{increment:i,rx:o,ry:s}}function qF(e,t,n,r){const[a,i]=aj(r.increment,e,t,r.rx,r.ry,1,r.increment*ZF(.1,ZF(.4,1,n),n),n);let o=rj(a,null,n);if(!n.disableMultiStroke&&0!==n.roughness){let[a]=aj(r.increment,e,t,r.rx,r.ry,1.5,0,n),i=rj(a,null,n);o=o.concat(i)}return{estimatedPoints:i,opset:{type:"path",ops:o}}}function GF(e,t,n,r,a,i,o,s,l){let d=Math.abs(n/2),c=Math.abs(r/2);d+=JF(.01*d,l),c+=JF(.01*c,l);let h=a,u=i;for(;h<0;)h+=2*Math.PI,u+=2*Math.PI;u-h>2*Math.PI&&(h=0,u=2*Math.PI);const p=2*Math.PI/l.curveStepCount,_=Math.min(p/2,(u-h)/2),f=ij(_,e,t,d,c,h,u,1,l);if(!l.disableMultiStroke){let e=ij(_,e,t,d,c,h,u,1.5,l);f.push(...e)}return o&&(s?f.push(...ej(e,t,e+d*Math.cos(h),t+c*Math.sin(h),l),...ej(e,t,e+d*Math.cos(u),t+c*Math.sin(u),l)):f.push({op:"lineTo",data:[e,t]},{op:"lineTo",data:[e+d*Math.cos(h),t+c*Math.sin(h)]})),{type:"path",ops:f}}function YF(e,t){const n=BF(RF(IF(e))),r=[];let a=[0,0];for(const{key:e,data:i}of n)switch(e){case"M":a=[i[0],i[1]],o=[i[0],i[1]];break;case"L":r.push(...ej(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]];break;case"C":let[e,n,o,s,l,d]=i;r.push(...oj(e,n,o,s,l,d,a,t)),a=[l,d];break;case"Z":r.push(...ej(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]]}return{type:"path",ops:r}}function VF(e,t){const n=[];for(const r of e)if(r.length){let e=t.maxRandomnessOffset||0,a=r.length;if(a>2){n.push({op:"move",data:[r[0][0]+JF(e,t),r[0][1]+JF(e,t)]});for(let i=1;i<a;i++)n.push({op:"lineTo",data:[r[i][0]+JF(e,t),r[i][1]+JF(e,t)]})}}return{type:"fillPath",ops:n}}function XF(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!AF[n])switch(n){case"zigzag":AF[n]||(AF[n]=new h_rough(t));break;case"cross-hatch":AF[n]||(AF[n]=new r_rough(t));break;case"dots":AF[n]||(AF[n]=new i_rough(t));break;case"dashed":AF[n]||(AF[n]=new c_rough(t));break;case"zigzag-line":AF[n]||(AF[n]=new l_rough(t));break;default:n="hachure",AF[n]||(AF[n]=new o_rough(t))}return AF[n]}(t,jF).fillPolygons(e,t)}function KF(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function QF(e){return e.randomizer||(e.randomizer=new p_rough(e.seed||0)),e.randomizer.next()}function ZF(e,t,n,r=1){return n.roughness*r*(QF(n)*(t-e)+e)}function JF(e,t,n=1){return ZF(-e,e,t,n)}function ej(e,t,n,r,a,i=!1){const o=i?a.disableMultiStrokeFill:a.disableMultiStroke,s=tj(e,t,n,r,a,!0,!1);if(o)return s;const l=tj(e,t,n,r,a,!0,!0);return s.concat(l)}function tj(e,t,n,r,a,i,o){const s=Math.pow(e-n,2)+Math.pow(t-r,2),l=Math.sqrt(s);let d=1;d=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=a.maxRandomnessOffset||0;c*c*100>s&&(c=l/10);const h=c/2,u=.2+.2*QF(a);let p=a.bowing*a.maxRandomnessOffset*(r-t)/200,_=a.bowing*a.maxRandomnessOffset*(e-n)/200;p=JF(p,a,d),_=JF(_,a,d);const f=[],m=()=>JF(h,a,d),g=()=>JF(c,a,d),y=a.preserveVertices;return i&&(o?f.push({op:"move",data:[e+(y?0:m()),t+(y?0:m())]}):f.push({op:"move",data:[e+(y?0:JF(c,a,d)),t+(y?0:JF(c,a,d))]})),o?f.push({op:"bcurveTo",data:[p+e+(n-e)*u+m(),_+t+(r-t)*u+m(),p+e+2*(n-e)*u+m(),_+t+2*(r-t)*u+m(),n+(y?0:m()),r+(y?0:m())]}):f.push({op:"bcurveTo",data:[p+e+(n-e)*u+g(),_+t+(r-t)*u+g(),p+e+2*(n-e)*u+g(),_+t+2*(r-t)*u+g(),n+(y?0:g()),r+(y?0:g())]}),f}function nj(e,t,n){if(!e.length)return[];const r=[];r.push([e[0][0]+JF(t,n),e[0][1]+JF(t,n)]),r.push([e[0][0]+JF(t,n),e[0][1]+JF(t,n)]);for(let a=1;a<e.length;a++)r.push([e[a][0]+JF(t,n),e[a][1]+JF(t,n)]),a===e.length-1&&r.push([e[a][0]+JF(t,n),e[a][1]+JF(t,n)]);return rj(r,null,n)}function rj(e,t,n){const r=e.length,a=[];if(r>3){let i=[],o=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<r;t++){let n=e[t];i[0]=[n[0],n[1]],i[1]=[n[0]+(o*e[t+1][0]-o*e[t-1][0])/6,n[1]+(o*e[t+1][1]-o*e[t-1][1])/6],i[2]=[e[t+1][0]+(o*e[t][0]-o*e[t+2][0])/6,e[t+1][1]+(o*e[t][1]-o*e[t+2][1])/6],i[3]=[e[t+1][0],e[t+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&2===t.length){let e=n.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+JF(e,n),t[1]+JF(e,n)]})}}else 3===r?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&a.push(...tj(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return a}function aj(e,t,n,r,a,i,o,s){const l=[],d=[];if(0===s.roughness){e/=4,d.push([t+r*Math.cos(-e),n+a*Math.sin(-e)]);for(let i=0;i<=2*Math.PI;i+=e){let e=[t+r*Math.cos(i),n+a*Math.sin(i)];l.push(e),d.push(e)}d.push([t+r*Math.cos(0),n+a*Math.sin(0)]),d.push([t+r*Math.cos(e),n+a*Math.sin(e)])}else{let c=JF(.5,s)-Math.PI/2;d.push([JF(i,s)+t+.9*r*Math.cos(c-e),JF(i,s)+n+.9*a*Math.sin(c-e)]);let h=2*Math.PI+c-.01;for(let o=c;o<h;o+=e){let e=[JF(i,s)+t+r*Math.cos(o),JF(i,s)+n+a*Math.sin(o)];l.push(e),d.push(e)}d.push([JF(i,s)+t+r*Math.cos(c+2*Math.PI+.5*o),JF(i,s)+n+a*Math.sin(c+2*Math.PI+.5*o)]),d.push([JF(i,s)+t+.98*r*Math.cos(c+o),JF(i,s)+n+.98*a*Math.sin(c+o)]),d.push([JF(i,s)+t+.9*r*Math.cos(c+.5*o),JF(i,s)+n+.9*a*Math.sin(c+.5*o)])}return[d,l]}function ij(e,t,n,r,a,i,o,s,l){const d=i+JF(.1,l),c=[];c.push([JF(s,l)+t+.9*r*Math.cos(d-e),JF(s,l)+n+.9*a*Math.sin(d-e)]);for(let i=d;i<=o;i+=e)c.push([JF(s,l)+t+r*Math.cos(i),JF(s,l)+n+a*Math.sin(i)]);return c.push([t+r*Math.cos(o),n+a*Math.sin(o)]),c.push([t+r*Math.cos(o),n+a*Math.sin(o)]),rj(c,null,l)}function oj(e,t,n,r,a,i,o,s){const l=[],d=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let c=[0,0];const h=s.disableMultiStroke?1:2,u=s.preserveVertices;for(let p=0;p<h;p++)0===p?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(u?0:JF(d[0],s)),o[1]+(u?0:JF(d[0],s))]}),c=u?[a,i]:[a+JF(d[p],s),i+JF(d[p],s)],l.push({op:"bcurveTo",data:[e+JF(d[p],s),t+JF(d[p],s),n+JF(d[p],s),r+JF(d[p],s),c[0],c[1]]});return l}function sj(e){return[...e]}function lj(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(3===n)r.push(sj(e[0]),sj(e[1]),sj(e[2]),sj(e[2]));else{let n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);let a=[],i=1-t;r.push(sj(n[0]));for(let e=1;e+2<n.length;e++){let t=n[e];a[0]=[t[0],t[1]],a[1]=[t[0]+(i*n[e+1][0]-i*n[e-1][0])/6,t[1]+(i*n[e+1][1]-i*n[e-1][1])/6],a[2]=[n[e+1][0]+(i*n[e][0]-i*n[e+2][0])/6,n[e+1][1]+(i*n[e][1]-i*n[e+2][1])/6],a[3]=[n[e+1][0],n[e+1][1]],r.push(a[1],a[2],a[3])}}return r}function dj(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function cj(e,t,n){const r=dj(t,n);if(0===r)return dj(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return a=Math.max(0,Math.min(1,a)),dj(e,hj(t,n,a))}function hj(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function uj(e,t,n,r){const a=r||[];if(function(e,t){const n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3];let o=3*r[0]-2*n[0]-i[0];o*=o;let s=3*r[1]-2*n[1]-i[1];s*=s;let l=3*a[0]-2*i[0]-n[0];l*=l;let d=3*a[1]-2*i[1]-n[1];return d*=d,o<l&&(o=l),s<d&&(s=d),o+s}(e,t)<n){let n=e[t+0];if(a.length){(i=a[a.length-1],o=n,Math.sqrt(dj(i,o)))>1&&a.push(n)}else a.push(n);a.push(e[t+3])}else{let r=.5,i=e[t+0],o=e[t+1],s=e[t+2],l=e[t+3],d=hj(i,o,r),c=hj(o,s,r),h=hj(s,l,r),u=hj(d,c,r),p=hj(c,h,r),_=hj(u,p,r);uj([i,d,u,_],0,n,a),uj([_,p,h,l],0,n,a)}var i,o;return a}function pj(e,t){return _j(e,0,e.length,t)}function _j(e,t,n,r,a){const i=a||[],o=e[t],s=e[n-1];let l=0,d=1;for(let r=t+1;r<n-1;++r){let t=cj(e[r],o,s);t>l&&(l=t,d=r)}return Math.sqrt(l)>r?(_j(e,t,d+1,r,i),_j(e,d,n,r,i)):(i.length||i.push(o),i.push(s)),i}function fj(e,t=.15,n){const r=[],a=(e.length-1)/3;for(let n=0;n<a;n++){uj(e,3*n,t,r)}return n&&n>0?_j(r,0,r.length,n):r}const mj="none";class et{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,r,a){const i=this._o(a);return this._d("line",[HF(e,t,n,r,i)],i)}rectangle(e,t,n,r,a){const i=this._o(a),o=[],s=zF(e,t,n,r,i);if(i.fill){let a=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===i.fillStyle?o.push(VF([a],i)):o.push(XF([a],i))}return i.stroke!==mj&&o.push(s),this._d("rectangle",o,i)}ellipse(e,t,n,r,a){const i=this._o(a),o=[],s=UF(n,r,i),l=qF(e,t,i,s);if(i.fill)if("solid"===i.fillStyle){let n=qF(e,t,i,s).opset;n.type="fillPath",o.push(n)}else o.push(XF([l.estimatedPoints],i));return i.stroke!==mj&&o.push(l.opset),this._d("ellipse",o,i)}circle(e,t,n,r){const a=this.ellipse(e,t,n,n,r);return a.shape="circle",a}linearPath(e,t){const n=this._o(t);return this._d("linearPath",[WF(e,!1,n)],n)}arc(e,t,n,r,a,i,o=!1,s){const l=this._o(s),d=[],c=GF(e,t,n,r,a,i,o,!0,l);if(o&&l.fill)if("solid"===l.fillStyle){let o=Object.assign({},l);o.disableMultiStroke=!0;let s=GF(e,t,n,r,a,i,!0,!1,o);s.type="fillPath",d.push(s)}else d.push(function(e,t,n,r,a,i,o){let s=Math.abs(n/2),l=Math.abs(r/2);s+=JF(.01*s,o),l+=JF(.01*l,o);let d=a,c=i;for(;d<0;)d+=2*Math.PI,c+=2*Math.PI;c-d>2*Math.PI&&(d=0,c=2*Math.PI);const h=(c-d)/o.curveStepCount,u=[];for(let e=d;e<=c;e+=h)u.push([e+s*Math.cos(e),t+l*Math.sin(e)]);return u.push([e+s*Math.cos(c),t+l*Math.sin(c)]),u.push([e,t]),XF([u],o)}(e,t,n,r,a,i,l));return l.stroke!==mj&&d.push(c),this._d("arc",d,l)}curve(e,t){const n=this._o(t),r=[],a=$F(e,n);if(n.fill&&n.fill!==mj)if("solid"===n.fillStyle){let t=$F(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else{let t=[],a=e;if(a.length){let e="number"==typeof a[0][0]?[a]:a;for(const r of e)r.length<3?t.push(...r):3===r.length?t.push(...fj(lj([r[0],r[0],r[1],r[2]]),10,(1+n.roughness)/2)):t.push(...fj(lj(r),10,(1+n.roughness)/2))}t.length&&r.push(XF([t],n))}return n.stroke!==mj&&r.push(a),this._d("curve",r,n)}polygon(e,t){const n=this._o(t),r=[],a=WF(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(VF([e],n)):r.push(XF([e],n))),n.stroke!==mj&&r.push(a),this._d("polygon",r,n)}path(e,t){const n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&"transparent"!==n.fill&&n.fill!==mj,i=n.stroke!==mj,o=!!(n.simplification&&n.simplification<1),s=function(e,t,n){const r=BF(RF(IF(e))),a=[];let i=[],o=[0,0],s=[];const l=()=>{s.length>=4&&i.push(...fj(s,t)),s=[]},d=()=>{l(),i.length&&(a.push(i),i=[])};for(const{key:e,data:t}of r)switch(e){case"M":d(),o=[t[0],t[1]],i.push(o);break;case"L":l(),i.push([t[0],t[1]]);break;case"C":if(!s.length){let e=i.length?i[i.length-1]:o;s.push([e[0],e[1]])}s.push([t[0],t[1]]),s.push([t[2],t[3]]),s.push([t[4],t[5]]);break;case"Z":l(),i.push([o[0],o[1]])}if(d(),!n)return a;const c=[];for(const e of a){let t=pj(e,n);t.length&&c.push(t)}return c}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),l=YF(e,n);if(a)if("solid"===n.fillStyle)if(1===s.length){let t=YF(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(t.ops)})}else r.push(VF(s,n));else r.push(XF(s,n));return i&&(o?s.forEach(e=>{r.push(WF(e,!1,n))}):r.push(l)),this._d("path",r,n)}opsToPath(e,t){let n="";for(const r of e.ops){let e="number"==typeof t&&t>=0?r.data.map(e=>+e.toFixed(t)):r.data;switch(r.op){case"move":n+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":n+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":n+=`L${e[0]} ${e[1]} `}}return n.trim()}toPaths(e){const t=e.sets||[],n=e.options||this.defaultOptions,r=[];for(const e of t){let t=null;switch(e.type){case"path":t={d:this.opsToPath(e),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:mj};break;case"fillPath":t={d:this.opsToPath(e),stroke:mj,strokeWidth:0,fill:n.fill||mj};break;case"fillSketch":t=this.fillSketch(e,n)}t&&r.push(t)}return r}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||mj,strokeWidth:n,fill:mj}}_mergedShape(e){return e.filter((e,t)=>0===t||"move"!==e.op)}}class st{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new et(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const i of t)switch(i.type){case"path":r.save(),r.strokeStyle="none"===n.stroke?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,i,a),r.restore();break;case"fillPath":r.save(),r.fillStyle=n.fill||"";let t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(r,i,a,t),r.restore();break;case"fillSketch":this.fillSketch(r,i,n)}}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,n,r="nonzero"){e.beginPath();for(const r of t.ops){let t="number"==typeof n&&n>=0?r.data.map(e=>+e.toFixed(n)):r.data;switch(r.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,n,r,a){const i=this.gen.line(e,t,n,r,a);return this.draw(i),i}rectangle(e,t,n,r,a){const i=this.gen.rectangle(e,t,n,r,a);return this.draw(i),i}ellipse(e,t,n,r,a){const i=this.gen.ellipse(e,t,n,r,a);return this.draw(i),i}circle(e,t,n,r){const a=this.gen.circle(e,t,n,r);return this.draw(a),a}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n),n}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n),n}arc(e,t,n,r,a,i,o=!1,s){const l=this.gen.arc(e,t,n,r,a,i,o,s);return this.draw(l),l}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n),n}path(e,t){const n=this.gen.path(e,t);return this.draw(n),n}}const gj="http://www.w3.org/2000/svg";class ot{constructor(e,t){this.svg=e,this.gen=new et(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,a=r.createElementNS(gj,"g"),i=e.options.fixedDecimalPlaceDigits;for(const o of t){let t=null;switch(o.type){case"path":t=r.createElementNS(gj,"path"),t.setAttribute("d",this.opsToPath(o,i)),t.setAttribute("stroke",n.stroke),t.setAttribute("stroke-width",n.strokeWidth+""),t.setAttribute("fill","none"),n.strokeLineDash&&t.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":t=r.createElementNS(gj,"path"),t.setAttribute("d",this.opsToPath(o,i)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(r,o,n)}t&&a.appendChild(t)}return a}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const a=e.createElementNS(gj,"path");return a.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,r,a){const i=this.gen.line(e,t,n,r,a);return this.draw(i)}rectangle(e,t,n,r,a){const i=this.gen.rectangle(e,t,n,r,a);return this.draw(i)}ellipse(e,t,n,r,a){const i=this.gen.ellipse(e,t,n,r,a);return this.draw(i)}circle(e,t,n,r){const a=this.gen.circle(e,t,n,r);return this.draw(a)}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,r,a,i,o=!1,s){const l=this.gen.arc(e,t,n,r,a,i,o,s);return this.draw(l)}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n)}path(e,t){const n=this.gen.path(e,t);return this.draw(n)}}var yj={canvas:(e,t)=>new st(e,t),svg:(e,t)=>new ot(e,t),generator:e=>new et(e),newSeed:()=>et.newSeed()};var xj=Oo(async(e,t,n)=>{var r,a,i;let o;const s=t.useHtmlLabels||Zs((r=jl())===null||r===void 0?void 0:r.htmlLabels);if(!n){o="node default"}else{o=n}const l=e.insert("g").attr("class",o).attr("id",t.domId||t.id);const d=l.insert("g").attr("class","label").attr("style",RR(t.labelStyle));let c;if(t.label===void 0){c=""}else{c=typeof t.label==="string"?t.label:t.label[0]}const h=await kF(d,qs(DR(c),jl()),{useHtmlLabels:s,width:t.width||((a=jl().flowchart)===null||a===void 0?void 0:a.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let u=h.getBBox();const p=((i=t===null||t===void 0?void 0:t.padding)!==null&&i!==void 0?i:0)/2;if(s){let e=h.children[0],t=Qf(h),n=e.getElementsByTagName("img");if(n){let e=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...n].map(t=>new Promise(n=>{function r(){t.style.display="flex";t.style.flexDirection="column";if(e){let e=jl().fontSize?jl().fontSize:window.getComputedStyle(document.body).fontSize,n=5,[r=_s.fontSize]=NR(e),a=r*n+"px";t.style.minWidth=a;t.style.maxWidth=a}else{t.style.width="100%"}n(t)}Oo(r,"setupImage");setTimeout(()=>{t.complete&&r()});t.addEventListener("error",r);t.addEventListener("load",r)})))}u=e.getBoundingClientRect();t.attr("width",u.width);t.attr("height",u.height)}if(s){d.attr("transform","translate("+-u.width/2+", "+-u.height/2+")")}else{d.attr("transform","translate(0, "+-u.height/2+")")}t.centerLabel&&d.attr("transform","translate("+-u.width/2+", "+-u.height/2+")");d.insert("rect",":first-child");return{shapeSvg:l,bbox:u,halfPadding:p,label:d}},"labelHelper");var bj=Oo(async(e,t,n)=>{var r,a,i,o,s,l;const d=n.useHtmlLabels||Zs((a=(r=jl())===null||r===void 0?void 0:r.flowchart)===null||a===void 0?void 0:a.htmlLabels);const c=e.insert("g").attr("class","label").attr("style",n.labelStyle||"");const h=await kF(c,qs(DR(t),jl()),{useHtmlLabels:d,width:n.width||((o=(i=jl())===null||i===void 0?void 0:i.flowchart)===null||o===void 0?void 0:o.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let u=h.getBBox();const p=n.padding/2;if(Zs((l=(s=jl())===null||s===void 0?void 0:s.flowchart)===null||l===void 0?void 0:l.htmlLabels)){let e=h.children[0],t=Qf(h);u=e.getBoundingClientRect();t.attr("width",u.width);t.attr("height",u.height)}if(d){c.attr("transform","translate("+-u.width/2+", "+-u.height/2+")")}else{c.attr("transform","translate(0, "+-u.height/2+")")}n.centerLabel&&c.attr("transform","translate("+-u.width/2+", "+-u.height/2+")");c.insert("rect",":first-child");return{shapeSvg:e,bbox:u,halfPadding:p,label:c}},"insertLabel");var vj=Oo((e,t)=>{const n=t.node().getBBox();e.width=n.width;e.height=n.height},"updateNodeBounds");var kj=Oo((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function wj(e){const t=e.map((e,t)=>`${t===0?"M":"L"}${e.x},${e.y}`);t.push("Z");return t.join(" ")}Oo(wj,"createPathFromPoints");function Sj(e,t,n,r,a,i){const o=[];const s=50;const l=n-e;const d=r-t;const c=l/i;const h=2*Math.PI/c;const u=t+d/2;for(let t=0;t<=s;t++){let n=t/s,r=e+n*l,i=u+a*Math.sin(h*(r-e));o.push({x:r,y:i})}return o}Oo(Sj,"generateFullSineWavePoints");function Cj(e,t,n,r,a,i){const o=[];const s=a*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(r-1);for(let a=0;a<r;a++){let r=s+a*c,i=e+n*Math.cos(r),l=t+n*Math.sin(r);o.push({x:-i,y:-l})}return o}Oo(Cj,"generateCirclePoints");var Tj=Oo((e,t)=>{var n=e.x;var r=e.y;var a=t.x-n;var i=t.y-r;var o=e.width/2;var s=e.height/2;var l,d;if(Math.abs(i)*o>Math.abs(a)*s){i<0&&(s=-s);l=i===0?0:s*a/i;d=s}else{a<0&&(o=-o);l=o;d=a===0?0:o*i/a}return{x:n+l,y:r+d}},"intersectRect");function Ej(e,t){t&&e.attr("style",t)}Oo(Ej,"applyStyle");async function Aj(e){const t=Qf(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"));const n=t.append("xhtml:div");const r=jl();let a=e.label;e.label&&sl(e.label)&&(a=await hl(e.label.replace(ul.lineBreakRegex,"\n"),r));const i=e.isNode?"nodeLabel":"edgeLabel";const o='<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>";n.html(qs(o,r));Ej(n,e.labelStyle);n.style("display","inline-block");n.style("padding-right","1px");n.style("white-space","nowrap");n.attr("xmlns","http://www.w3.org/1999/xhtml");return t.node()}Oo(Aj,"addHtmlLabel");var Nj=Oo(async(e,t,n,r)=>{let a=e||"";typeof a==="object"&&(a=a[0]);if(Zs(jl().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />");Ho.info("vertexText"+a);let e={isNode:r,label:DR(a).replace(/fa[blrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`),labelStyle:t?t.replace("fill:","color:"):t},n=await Aj(e);return n}else{let e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));let r=[];if(typeof a==="string"){r=a.split(/\\n|\n|<br\s*\/?>/gi)}else if(Array.isArray(a)){r=a}else{r=[]}for(const t of r){let r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");r.setAttribute("dy","1em");r.setAttribute("x","0");if(n){r.setAttribute("class","title-row")}else{r.setAttribute("class","row")}r.textContent=t.trim();e.appendChild(r)}return e}},"createLabel");var Pj=Oo((e,t,n,r,a)=>["M",e+a,t,"H",e+n-a,"A",a,a,0,0,1,e+n,t+a,"V",t+r-a,"A",a,a,0,0,1,e+n-a,t+r,"H",e+a,"A",a,a,0,0,1,e,t+r-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD");var Lj=Oo(async(e,t)=>{Ho.info("Creating subgraph rect for ",t.id,t);const n=jl();const{themeVariables:r,handDrawnSeed:a}=n;const{clusterBkg:i,clusterBorder:o}=r;const{labelStyles:s,nodeStyles:l,borderStyles:d,backgroundStyles:c}=Ou(t);const h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look);const u=Zs(n.flowchart.htmlLabels);const p=h.insert("g").attr("class","cluster-label ");const _=await kF(p,t.label,{style:t.labelStyle,useHtmlLabels:u,isNode:!0});let f=_.getBBox();if(Zs(n.flowchart.htmlLabels)){let e=_.children[0],t=Qf(_);f=e.getBoundingClientRect();t.attr("width",f.width);t.attr("height",f.height)}const m=t.width<=f.width+t.padding?f.width+t.padding:t.width;if(t.width<=f.width+t.padding){t.diff=(m-t.width)/2-t.padding}else{t.diff=-t.padding}const g=t.height;const y=t.x-m/2;const x=t.y-g/2;Ho.trace("Data ",t,JSON.stringify(t));let b;if(t.look==="handDrawn"){let e=yj.svg(h),n=Fu(t,{roughness:.7,fill:i,stroke:o,fillWeight:3,seed:a}),r=e.path(Pj(y,x,m,g,0),n);b=h.insert(()=>{Ho.debug("Rough node insert CXC",r);return r},":first-child");b.select("path:nth-child(2)").attr("style",d.join(";"));b.select("path").attr("style",c.join(";").replace("fill","stroke"))}else{b=h.insert("rect",":first-child");b.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",y).attr("y",x).attr("width",m).attr("height",g)}const{subGraphTitleTopMargin:v}=Mu(n);p.attr("transform",`translate(${t.x-f.width/2}, ${t.y-t.height/2+v})`);if(s){let e=p.select("span");e&&e.attr("style",s)}const k=b.node().getBBox();t.offsetX=0;t.width=k.width;t.height=k.height;t.offsetY=f.height-t.padding/2;t.intersect=function(e){return Tj(t,e)};return{cluster:h,labelBBox:f}},"rect");var Mj=Oo((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id);const r=n.insert("rect",":first-child");const a=0*t.padding;const i=a/2;r.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-i).attr("y",t.y-t.height/2-i).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const o=r.node().getBBox();t.width=o.width;t.height=o.height;t.intersect=function(e){return Tj(t,e)};return{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup");var Dj=Oo(async(e,t)=>{const n=jl();const{themeVariables:r,handDrawnSeed:a}=n;const{altBackground:i,compositeBackground:o,compositeTitleBackground:s,nodeBorder:l}=r;const d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look);const c=d.insert("g",":first-child");const h=d.insert("g").attr("class","cluster-label");let u=d.append("rect");const p=h.node().appendChild(await Nj(t.label,t.labelStyle,void 0,!0));let _=p.getBBox();if(Zs(n.flowchart.htmlLabels)){let e=p.children[0],t=Qf(p);_=e.getBoundingClientRect();t.attr("width",_.width);t.attr("height",_.height)}const f=0*t.padding;const m=f/2;const g=(t.width<=_.width+t.padding?_.width+t.padding:t.width)+f;if(t.width<=_.width+t.padding){t.diff=(g-t.width)/2-t.padding}else{t.diff=-t.padding}const y=t.height+f;const x=t.height+f-_.height-6;const b=t.x-g/2;const v=t.y-y/2;t.width=g;const k=t.y-t.height/2-m+_.height+2;let w;if(t.look==="handDrawn"){let e=t.cssClasses.includes("statediagram-cluster-alt"),n=yj.svg(d),r=t.rx||t.ry?n.path(Pj(b,v,g,y,10),{roughness:.7,fill:s,fillStyle:"solid",stroke:l,seed:a}):n.rectangle(b,v,g,y,{seed:a});w=d.insert(()=>r,":first-child");let c=n.rectangle(b,k,g,x,{fill:e?i:o,fillStyle:e?"hachure":"solid",stroke:l,seed:a});w=d.insert(()=>r,":first-child");u=d.insert(()=>c)}else{w=c.insert("rect",":first-child");let e="outer";w.attr("class",e).attr("x",b).attr("y",v).attr("width",g).attr("height",y).attr("data-look",t.look);u.attr("class","inner").attr("x",b).attr("y",k).attr("width",g).attr("height",x)}h.attr("transform",`translate(${t.x-_.width/2}, ${v+1-(Zs(n.flowchart.htmlLabels)?0:3)})`);const S=w.node().getBBox();t.height=S.height;t.offsetX=0;t.offsetY=_.height-t.padding/2;t.labelBBox=_;t.intersect=function(e){return Tj(t,e)};return{cluster:d,labelBBox:_}},"roundedWithTitle");var Ij=Oo(async(e,t)=>{Ho.info("Creating subgraph rect for ",t.id,t);const n=jl();const{themeVariables:r,handDrawnSeed:a}=n;const{clusterBkg:i,clusterBorder:o}=r;const{labelStyles:s,nodeStyles:l,borderStyles:d,backgroundStyles:c}=Ou(t);const h=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look);const u=Zs(n.flowchart.htmlLabels);const p=h.insert("g").attr("class","cluster-label ");const _=await kF(p,t.label,{style:t.labelStyle,useHtmlLabels:u,isNode:!0,width:t.width});let f=_.getBBox();if(Zs(n.flowchart.htmlLabels)){let e=_.children[0],t=Qf(_);f=e.getBoundingClientRect();t.attr("width",f.width);t.attr("height",f.height)}const m=t.width<=f.width+t.padding?f.width+t.padding:t.width;if(t.width<=f.width+t.padding){t.diff=(m-t.width)/2-t.padding}else{t.diff=-t.padding}const g=t.height;const y=t.x-m/2;const x=t.y-g/2;Ho.trace("Data ",t,JSON.stringify(t));let b;if(t.look==="handDrawn"){let e=yj.svg(h),n=Fu(t,{roughness:.7,fill:i,stroke:o,fillWeight:4,seed:a}),r=e.path(Pj(y,x,m,g,t.rx),n);b=h.insert(()=>{Ho.debug("Rough node insert CXC",r);return r},":first-child");b.select("path:nth-child(2)").attr("style",d.join(";"));b.select("path").attr("style",c.join(";").replace("fill","stroke"))}else{b=h.insert("rect",":first-child");b.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",y).attr("y",x).attr("width",m).attr("height",g)}const{subGraphTitleTopMargin:v}=Mu(n);p.attr("transform",`translate(${t.x-f.width/2}, ${t.y-t.height/2+v})`);if(s){let e=p.select("span");e&&e.attr("style",s)}const k=b.node().getBBox();t.offsetX=0;t.width=k.width;t.height=k.height;t.offsetY=f.height-t.padding/2;t.intersect=function(e){return Tj(t,e)};return{cluster:h,labelBBox:f}},"kanbanSection");var Rj=Oo((e,t)=>{const n=jl();const{themeVariables:r,handDrawnSeed:a}=n;const{nodeBorder:i}=r;const o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look);const s=o.insert("g",":first-child");const l=0*t.padding;const d=t.width+l;t.diff=-t.padding;const c=t.height+l;const h=t.x-d/2;const u=t.y-c/2;t.width=d;let p;if(t.look==="handDrawn"){let e=yj.svg(o),t=e.rectangle(h,u,d,c,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:i,seed:a});p=o.insert(()=>t,":first-child")}else{p=s.insert("rect",":first-child");let e="divider";p.attr("class",e).attr("x",h).attr("y",u).attr("width",d).attr("height",c).attr("data-look",t.look)}const _=p.node().getBBox();t.height=_.height;t.offsetX=0;t.offsetY=0;t.intersect=function(e){return Tj(t,e)};return{cluster:o,labelBBox:{}}},"divider");var Bj={rect:Lj,squareRect:Lj,roundedWithTitle:Dj,noteGroup:Mj,divider:Rj,kanbanSection:Ij};var Oj=new Map;var Fj=Oo(async(e,t)=>{const n=t.shape||"rect";const r=await Bj[n](e,t);Oj.set(t.id,r);return r},"insertCluster");var jj=Oo(()=>{Oj=new Map},"clear");function Hj(e,t){return e.intersect(t)}Oo(Hj,"intersectNode");function Wj(e,t,n,r){var a=e.x;var i=e.y;var o=a-r.x;var s=i-r.y;var l=Math.sqrt(t*t*s*s+n*n*o*o);var d=Math.abs(t*n*o/l);r.x<a&&(d=-d);var c=Math.abs(t*n*s/l);r.y<i&&(c=-c);return{x:a+d,y:i+c}}Oo(Wj,"intersectEllipse");function zj(e,t,n){return Wj(e,t,t,n)}Oo(zj,"intersectCircle");function $j(e,t,n,r){var a,i,o,s,l,d;var c,h,u,p;var _,f,m;var g,y;a=t.y-e.y;o=e.x-t.x;l=t.x*e.y-e.x*t.y;u=a*n.x+o*n.y+l;p=a*r.x+o*r.y+l;if(u!==0&&p!==0&&Uj(u,p)){return}i=r.y-n.y;s=n.x-r.x;d=r.x*n.y-n.x*r.y;c=i*e.x+s*e.y+d;h=i*t.x+s*t.y+d;if(c!==0&&h!==0&&Uj(c,h)){return}_=a*s-i*o;if(_===0){return}f=Math.abs(_/2);m=o*d-s*l;g=m<0?(m-f)/_:(m+f)/_;m=i*l-a*d;y=m<0?(m-f)/_:(m+f)/_;return{x:g,y:y}}Oo($j,"intersectLine");function Uj(e,t){return e*t>0}Oo(Uj,"sameSign");function qj(e,t,n){let r=e.x;let a=e.y
let i=[];let o=Number.POSITIVE_INFINITY;let s=Number.POSITIVE_INFINITY;if(typeof t.forEach==="function"){t.forEach(function(e){o=Math.min(o,e.x);s=Math.min(s,e.y)})}else{o=Math.min(o,t.x);s=Math.min(s,t.y)}let l=r-e.width/2-o;let d=a-e.height/2-s;for(let r=0;r<t.length;r++){let a=t[r],o=t[r<t.length-1?r+1:0],s=$j(e,n,{x:l+a.x,y:d+a.y},{x:l+o.x,y:d+o.y});s&&i.push(s)}if(!i.length){return e}i.length>1&&i.sort(function(e,t){let r=e.x-n.x;let a=e.y-n.y;let i=Math.sqrt(r*r+a*a);let o=t.x-n.x;let s=t.y-n.y;let l=Math.sqrt(o*o+s*s);return i<l?-1:i===l?0:1});return i[0]}Oo(qj,"intersectPolygon");var Gj={node:Hj,circle:zj,ellipse:Wj,polygon:qj,rect:Tj};function Yj(e,t){const{labelStyles:n}=Ou(t);t.labelStyle=n;const r=kj(t);let a=r;r||(a="anchor");const i=e.insert("g").attr("class",a).attr("id",t.domId||t.id);const o=1;const{cssStyles:s}=t;const l=yj.svg(i);const d=Fu(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const c=l.circle(0,0,o*2,d);const h=i.insert(()=>c,":first-child");h.attr("class","anchor").attr("style",RR(s));vj(t,h);t.intersect=function(e){Ho.info("Circle intersect",t,o,e);return Gj.circle(t,o,e)};return i}Oo(Yj,"anchor");function Vj(e,t,n,r,a,i,o){const s=20;const l=(e+n)/2;const d=(t+r)/2;const c=Math.atan2(r-t,n-e);const h=(n-e)/2;const u=(r-t)/2;const p=h/a;const _=u/i;const f=Math.sqrt(p**2+_**2);if(f>1){throw new Error("The given radii are too small to create an arc between the points.")}const m=Math.sqrt(1-f**2);const g=l+m*i*Math.sin(c)*(o?-1:1);const y=d-m*a*Math.cos(c)*(o?-1:1);const x=Math.atan2((t-y)/i,(e-g)/a);const b=Math.atan2((r-y)/i,(n-g)/a);let v=b-x;o&&v<0&&(v+=2*Math.PI);!o&&v>0&&(v-=2*Math.PI);const k=[];for(let e=0;e<s;e++){let t=e/(s-1),n=x+t*v,r=g+a*Math.cos(n),o=y+i*Math.sin(n);k.push({x:r,y:o})}return k}Oo(Vj,"generateArcPoints");async function Xj(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=i.width+t.padding+20;const s=i.height+t.padding;const l=s/2;const d=l/(2.5+s/50);const{cssStyles:c}=t;const h=[{x:o/2,y:-s/2},{x:-o/2,y:-s/2},...Vj(-o/2,-s/2,-o/2,s/2,d,l,!1),{x:o/2,y:s/2},...Vj(o/2,s/2,o/2,-s/2,d,l,!0)];const u=yj.svg(a);const p=Fu(t,{});if(t.look!=="handDrawn"){p.roughness=0;p.fillStyle="solid"}const _=wj(h);const f=u.path(_,p);const m=a.insert(()=>f,":first-child");m.attr("class","basic label-container");c&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",c);r&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",r);m.attr("transform",`translate(${d/2}, 0)`);vj(t,m);t.intersect=function(e){const n=Gj.polygon(t,h,e);return n};return a}Oo(Xj,"bowTieRect");function Kj(e,t,n,r){return e.insert("polygon",":first-child").attr("points",r.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}Oo(Kj,"insertPolygonShape");async function Qj(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=i.height+t.padding;const s=12;const l=i.width+t.padding+s;const d=0;const c=-o;const h=0;const u=[{x:d+s,y:c},{x:l,y:c},{x:l,y:h},{x:d,y:h},{x:d,y:c+s},{x:d+s,y:c}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=yj.svg(a),n=Fu(t,{}),r=wj(u),i=e.path(r,n);p=a.insert(()=>i,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`);_&&p.attr("style",_)}else{p=Kj(a,l,o,u)}r&&p.attr("style",r);vj(t,p);t.intersect=function(e){return Gj.polygon(t,u,e)};return a}Oo(Qj,"card");function Zj(e,t){var n,r;const{nodeStyles:a}=Ou(t);t.label="";const i=e.insert("g").attr("class",kj(t)).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);const{cssStyles:o}=t;const s=Math.max(28,(r=t.width)!==null&&r!==void 0?r:0);const l=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}];const d=yj.svg(i);const c=Fu(t,{});if(t.look!=="handDrawn"){c.roughness=0;c.fillStyle="solid"}const h=wj(l);const u=d.path(h,c);const p=i.insert(()=>u,":first-child");o&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",o);a&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",a);t.width=28;t.height=28;t.intersect=function(e){return Gj.polygon(t,l,e)};return i}Oo(Zj,"choice");async function Jj(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i,halfPadding:o}=await xj(e,t,kj(t));const s=i.width/2+o;let l;const{cssStyles:d}=t;if(t.look==="handDrawn"){let e=yj.svg(a),n=Fu(t,{}),r=e.circle(0,0,s*2,n);l=a.insert(()=>r,":first-child");l.attr("class","basic label-container").attr("style",RR(d))}else{l=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",s).attr("cx",0).attr("cy",0)}vj(t,l);t.intersect=function(e){Ho.info("Circle intersect",t,s,e);return Gj.circle(t,s,e)};return a}Oo(Jj,"circle");function eH(e){const t=Math.cos(Math.PI/4);const n=Math.sin(Math.PI/4);const r=e*2;const a={x:r/2*t,y:r/2*n};const i={x:-(r/2)*t,y:r/2*n};const o={x:-(r/2)*t,y:-(r/2)*n};const s={x:r/2*t,y:-(r/2)*n};return`M ${i.x},${i.y} L ${s.x},${s.y}\n                   M ${a.x},${a.y} L ${o.x},${o.y}`}Oo(eH,"createLine");function tH(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.labelStyle=a;t.label="";const o=e.insert("g").attr("class",kj(t)).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);const s=Math.max(30,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const{cssStyles:l}=t;const d=yj.svg(o);const c=Fu(t,{});if(t.look!=="handDrawn"){c.roughness=0;c.fillStyle="solid"}const h=d.circle(0,0,s*2,c);const u=eH(s);const p=d.path(u,c);const _=o.insert(()=>h,":first-child");_.insert(()=>p);l&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",l);i&&t.look!=="handDrawn"&&_.selectAll("path").attr("style",i);vj(t,_);t.intersect=function(e){Ho.info("crossedCircle intersect",t,{radius:s,point:e});const n=Gj.circle(t,s,e);return n};return o}Oo(tH,"crossedCircle");function nH(e,t,n,r=100,a=0,i=180){const o=[];const s=a*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(r-1);for(let a=0;a<r;a++){let r=s+a*c,i=e+n*Math.cos(r),l=t+n*Math.sin(r);o.push({x:-i,y:-l})}return o}Oo(nH,"generateCirclePoints");async function rH(e,t){var n,r,a,i,o;const{labelStyles:s,nodeStyles:l}=Ou(t);t.labelStyle=s;const{shapeSvg:d,bbox:c,label:h}=await xj(e,t,kj(t));const u=c.width+((n=t.padding)!==null&&n!==void 0?n:0);const p=c.height+((r=t.padding)!==null&&r!==void 0?r:0);const _=Math.max(5,p*.1);const{cssStyles:f}=t;const m=[...nH(u/2,-p/2,_,30,-90,0),{x:-u/2-_,y:_},...nH(u/2+_*2,-_,_,20,-180,-270),...nH(u/2+_*2,_,_,20,-90,-180),{x:-u/2-_,y:-p/2},...nH(u/2,p/2,_,20,0,90)];const g=[{x:u/2,y:-p/2-_},{x:-u/2,y:-p/2-_},...nH(u/2,-p/2,_,20,-90,0),{x:-u/2-_,y:-_},...nH(u/2+u*.1,-_,_,20,-180,-270),...nH(u/2+u*.1,_,_,20,-90,-180),{x:-u/2-_,y:p/2},...nH(u/2,p/2,_,20,0,90),{x:-u/2,y:p/2+_},{x:u/2,y:p/2+_}];const y=yj.svg(d);const x=Fu(t,{fill:"none"});if(t.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const b=wj(m);const v=b.replace("Z","");const k=y.path(v,x);const w=wj(g);const S=y.path(w,{...x});const C=d.insert("g",":first-child");C.insert(()=>S,":first-child").attr("stroke-opacity",0);C.insert(()=>k,":first-child");C.attr("class","text");f&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",f);l&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",l);C.attr("transform",`translate(${_}, 0)`);h.attr("transform",`translate(${-u/2+_-(c.x-((a=c.left)!==null&&a!==void 0?a:0))},${-p/2+((i=t.padding)!==null&&i!==void 0?i:0)/2-(c.y-((o=c.top)!==null&&o!==void 0?o:0))})`);vj(t,C);t.intersect=function(e){const n=Gj.polygon(t,g,e);return n};return d}Oo(rH,"curlyBraceLeft");function aH(e,t,n,r=100,a=0,i=180){const o=[];const s=a*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(r-1);for(let a=0;a<r;a++){let r=s+a*c,i=e+n*Math.cos(r),l=t+n*Math.sin(r);o.push({x:i,y:l})}return o}Oo(aH,"generateCirclePoints");async function iH(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=h.width+((n=t.padding)!==null&&n!==void 0?n:0);const _=h.height+((r=t.padding)!==null&&r!==void 0?r:0);const f=Math.max(5,_*.1);const{cssStyles:m}=t;const g=[...aH(p/2,-_/2,f,20,-90,0),{x:p/2+f,y:-f},...aH(p/2+f*2,-f,f,20,-180,-270),...aH(p/2+f*2,f,f,20,-90,-180),{x:p/2+f,y:_/2},...aH(p/2,_/2,f,20,0,90)];const y=[{x:-p/2,y:-_/2-f},{x:p/2,y:-_/2-f},...aH(p/2,-_/2,f,20,-90,0),{x:p/2+f,y:-f},...aH(p/2+f*2,-f,f,20,-180,-270),...aH(p/2+f*2,f,f,20,-90,-180),{x:p/2+f,y:_/2},...aH(p/2,_/2,f,20,0,90),{x:p/2,y:_/2+f},{x:-p/2,y:_/2+f}];const x=yj.svg(c);const b=Fu(t,{fill:"none"});if(t.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const v=wj(g);const k=v.replace("Z","");const w=x.path(k,b);const S=wj(y);const C=x.path(S,{...b});const T=c.insert("g",":first-child");T.insert(()=>C,":first-child").attr("stroke-opacity",0);T.insert(()=>w,":first-child");T.attr("class","text");m&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",m);d&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",d);T.attr("transform",`translate(${-f}, 0)`);u.attr("transform",`translate(${-p/2+((a=t.padding)!==null&&a!==void 0?a:0)/2-(h.x-((i=h.left)!==null&&i!==void 0?i:0))},${-_/2+((o=t.padding)!==null&&o!==void 0?o:0)/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);vj(t,T);t.intersect=function(e){const n=Gj.polygon(t,y,e);return n};return c}Oo(iH,"curlyBraceRight");function oH(e,t,n,r=100,a=0,i=180){const o=[];const s=a*Math.PI/180;const l=i*Math.PI/180;const d=l-s;const c=d/(r-1);for(let a=0;a<r;a++){let r=s+a*c,i=e+n*Math.cos(r),l=t+n*Math.sin(r);o.push({x:-i,y:-l})}return o}Oo(oH,"generateCirclePoints");async function sH(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=h.width+((n=t.padding)!==null&&n!==void 0?n:0);const _=h.height+((r=t.padding)!==null&&r!==void 0?r:0);const f=Math.max(5,_*.1);const{cssStyles:m}=t;const g=[...oH(p/2,-_/2,f,30,-90,0),{x:-p/2-f,y:f},...oH(p/2+f*2,-f,f,20,-180,-270),...oH(p/2+f*2,f,f,20,-90,-180),{x:-p/2-f,y:-_/2},...oH(p/2,_/2,f,20,0,90)];const y=[...oH(-p/2+f+f/2,-_/2,f,20,-90,-180),{x:p/2-f/2,y:f},...oH(-p/2-f/2,-f,f,20,0,90),...oH(-p/2-f/2,f,f,20,-90,0),{x:p/2-f/2,y:-f},...oH(-p/2+f+f/2,_/2,f,30,-180,-270)];const x=[{x:p/2,y:-_/2-f},{x:-p/2,y:-_/2-f},...oH(p/2,-_/2,f,20,-90,0),{x:-p/2-f,y:-f},...oH(p/2+f*2,-f,f,20,-180,-270),...oH(p/2+f*2,f,f,20,-90,-180),{x:-p/2-f,y:_/2},...oH(p/2,_/2,f,20,0,90),{x:-p/2,y:_/2+f},{x:p/2-f-f/2,y:_/2+f},...oH(-p/2+f+f/2,-_/2,f,20,-90,-180),{x:p/2-f/2,y:f},...oH(-p/2-f/2,-f,f,20,0,90),...oH(-p/2-f/2,f,f,20,-90,0),{x:p/2-f/2,y:-f},...oH(-p/2+f+f/2,_/2,f,30,-180,-270)];const b=yj.svg(c);const v=Fu(t,{fill:"none"});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=wj(g);const w=k.replace("Z","");const S=b.path(w,v);const C=wj(y);const T=C.replace("Z","");const E=b.path(T,v);const A=wj(x);const N=b.path(A,{...v});const P=c.insert("g",":first-child");P.insert(()=>N,":first-child").attr("stroke-opacity",0);P.insert(()=>S,":first-child");P.insert(()=>E,":first-child");P.attr("class","text");m&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",m);d&&t.look!=="handDrawn"&&P.selectAll("path").attr("style",d);P.attr("transform",`translate(${f-f/4}, 0)`);u.attr("transform",`translate(${-p/2+((a=t.padding)!==null&&a!==void 0?a:0)/2-(h.x-((i=h.left)!==null&&i!==void 0?i:0))},${-_/2+((o=t.padding)!==null&&o!==void 0?o:0)/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);vj(t,P);t.intersect=function(e){const n=Gj.polygon(t,x,e);return n};return c}Oo(sH,"curlyBraces");async function lH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=80,h=20;const u=Math.max(c,(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2)*1.25,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const p=Math.max(h,d.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const _=p/2;const{cssStyles:f}=t;const m=yj.svg(l);const g=Fu(t,{});if(t.look!=="handDrawn"){g.roughness=0;g.fillStyle="solid"}const y=u-_;const x=p/4;const b=[{x:y,y:0},{x:x,y:0},{x:0,y:p/2},{x:x,y:p},{x:y,y:p},...Cj(-y,-p/2,_,50,270,90)];const v=wj(b);const k=m.path(v,g);const w=l.insert(()=>k,":first-child");w.attr("class","basic label-container");f&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",f);s&&t.look!=="handDrawn"&&w.selectChildren("path").attr("style",s);w.attr("transform",`translate(${-u/2}, ${-p/2})`);vj(t,w);t.intersect=function(e){const n=Gj.polygon(t,b,e);return n};return l}Oo(lH,"curvedTrapezoid");var dH=Oo((e,t,n,r,a,i)=>[`M${e},${t+i}`,`a${a},${i} 0,0,0 ${n},0`,`a${a},${i} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${i} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD");var cH=Oo((e,t,n,r,a,i)=>[`M${e},${t+i}`,`M${e+n},${t+i}`,`a${a},${i} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${i} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD");var hH=Oo((e,t,n,r,a,i)=>[`M${e-n/2},${-r/2}`,`a${a},${i} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function uH(e,t){var n,r,a,i,o;const{labelStyles:s,nodeStyles:l}=Ou(t);t.labelStyle=s;const{shapeSvg:d,bbox:c,label:h}=await xj(e,t,kj(t));const u=Math.max(c.width+t.padding,(n=t.width)!==null&&n!==void 0?n:0);const p=u/2;const _=p/(2.5+u/50);const f=Math.max(c.height+_+t.padding,(r=t.height)!==null&&r!==void 0?r:0);let m;const{cssStyles:g}=t;if(t.look==="handDrawn"){let e=yj.svg(d),n=cH(0,0,u,f,p,_),r=hH(0,_,u,f,p,_),a=e.path(n,Fu(t,{})),i=e.path(r,Fu(t,{fill:"none"}));m=d.insert(()=>i,":first-child");m=d.insert(()=>a,":first-child");m.attr("class","basic label-container");g&&m.attr("style",g)}else{let e=dH(0,0,u,f,p,_);m=d.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",RR(g)).attr("style",l)}m.attr("label-offset-y",_);m.attr("transform",`translate(${-u/2}, ${-(f/2+_)})`);vj(t,m);h.attr("transform",`translate(${-(c.width/2)-(c.x-((a=c.left)!==null&&a!==void 0?a:0))}, ${-(c.height/2)+((i=t.padding)!==null&&i!==void 0?i:0)/1.5-(c.y-((o=c.top)!==null&&o!==void 0?o:0))})`);t.intersect=function(e){var n,r,a,i,o,s;const l=Gj.rect(t,e);const d=l.x-((n=t.x)!==null&&n!==void 0?n:0);if(p!=0&&(Math.abs(d)<((r=t.width)!==null&&r!==void 0?r:0)/2||Math.abs(d)==((a=t.width)!==null&&a!==void 0?a:0)/2&&Math.abs(l.y-((i=t.y)!==null&&i!==void 0?i:0))>((o=t.height)!==null&&o!==void 0?o:0)/2-_)){let n=_*_*(1-d*d/(p*p));n>0&&(n=Math.sqrt(n));n=_-n;e.y-((s=t.y)!==null&&s!==void 0?s:0)>0&&(n=-n);l.y+=n}return l};return d}Oo(uH,"cylinder");async function pH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d,label:c}=await xj(e,t,kj(t));const h=d.width+t.padding;const u=d.height+t.padding;const p=u*.2;const _=-h/2;const f=-u/2-p/2;const{cssStyles:m}=t;const g=yj.svg(l);const y=Fu(t,{});if(t.look!=="handDrawn"){y.roughness=0;y.fillStyle="solid"}const x=[{x:_,y:f+p},{x:-_,y:f+p},{x:-_,y:-f},{x:_,y:-f},{x:_,y:f},{x:-_,y:f},{x:-_,y:f+p}];const b=g.polygon(x.map(e=>[e.x,e.y]),y);const v=l.insert(()=>b,":first-child");v.attr("class","basic label-container");m&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",m);s&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",s);c.attr("transform",`translate(${_+((n=t.padding)!==null&&n!==void 0?n:0)/2-(d.x-((r=d.left)!==null&&r!==void 0?r:0))}, ${f+p+((a=t.padding)!==null&&a!==void 0?a:0)/2-(d.y-((i=d.top)!==null&&i!==void 0?i:0))})`);vj(t,v);t.intersect=function(e){const n=Gj.rect(t,e);return n};return l}Oo(pH,"dividedRectangle");async function _H(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.labelStyle=a;const{shapeSvg:o,bbox:s,halfPadding:l}=await xj(e,t,kj(t));const d=5;const c=s.width/2+l+d;const h=s.width/2+l;let u;const{cssStyles:p}=t;if(t.look==="handDrawn"){let e=yj.svg(o),a=Fu(t,{roughness:.2,strokeWidth:2.5}),i=Fu(t,{roughness:.2,strokeWidth:1.5}),s=e.circle(0,0,c*2,a),l=e.circle(0,0,h*2,i);u=o.insert("g",":first-child");u.attr("class",RR(t.cssClasses)).attr("style",RR(p));(n=u.node())===null||n===void 0?void 0:n.appendChild(s);(r=u.node())===null||r===void 0?void 0:r.appendChild(l)}else{u=o.insert("g",":first-child");let e=u.insert("circle",":first-child"),t=u.insert("circle");u.attr("class","basic label-container").attr("style",i);e.attr("class","outer-circle").attr("style",i).attr("r",c).attr("cx",0).attr("cy",0);t.attr("class","inner-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0)}vj(t,u);t.intersect=function(e){Ho.info("DoubleCircle intersect",t,c,e);return Gj.circle(t,c,e)};return o}Oo(_H,"doublecircle");function fH(e,t,{config:{themeVariables:n}}){var r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.label="";t.labelStyle=a;const o=e.insert("g").attr("class",kj(t)).attr("id",(r=t.domId)!==null&&r!==void 0?r:t.id);const s=7;const{cssStyles:l}=t;const d=yj.svg(o);const{nodeBorder:c}=n;const h=Fu(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const u=d.circle(0,0,s*2,h);const p=o.insert(()=>u,":first-child");p.selectAll("path").attr("style",`fill: ${c} !important;`);l&&l.length>0&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",l);i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i);vj(t,p);t.intersect=function(e){Ho.info("filledCircle intersect",t,{radius:s,point:e});const n=Gj.circle(t,s,e);return n};return o}Oo(fH,"filledCircle");async function mH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d,label:c}=await xj(e,t,kj(t));const h=d.width+((n=t.padding)!==null&&n!==void 0?n:0);const u=h+d.height;const p=h+d.height;const _=[{x:0,y:-u},{x:p,y:-u},{x:p/2,y:0}];const{cssStyles:f}=t;const m=yj.svg(l);const g=Fu(t,{});if(t.look!=="handDrawn"){g.roughness=0;g.fillStyle="solid"}const y=wj(_);const x=m.path(y,g);const b=l.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);f&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",f);s&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",s);t.width=h;t.height=u;vj(t,b);c.attr("transform",`translate(${-d.width/2-(d.x-((r=d.left)!==null&&r!==void 0?r:0))}, ${-u/2+((a=t.padding)!==null&&a!==void 0?a:0)/2+(d.y-((i=d.top)!==null&&i!==void 0?i:0))})`);t.intersect=function(e){Ho.info("Triangle intersect",t,_,e);return Gj.polygon(t,_,e)};return l}Oo(mH,"flippedTriangle");function gH(e,t,{dir:n,config:{state:r,themeVariables:a}}){var i,o,s,l,d,c;const{nodeStyles:h}=Ou(t);t.label="";const u=e.insert("g").attr("class",kj(t)).attr("id",(i=t.domId)!==null&&i!==void 0?i:t.id);const{cssStyles:p}=t;let _=Math.max(70,(o=t===null||t===void 0?void 0:t.width)!==null&&o!==void 0?o:0);let f=Math.max(10,(s=t===null||t===void 0?void 0:t.height)!==null&&s!==void 0?s:0);if(n==="LR"){_=Math.max(10,(l=t===null||t===void 0?void 0:t.width)!==null&&l!==void 0?l:0);f=Math.max(70,(d=t===null||t===void 0?void 0:t.height)!==null&&d!==void 0?d:0)}const m=-1*_/2;const g=-1*f/2;const y=yj.svg(u);const x=Fu(t,{stroke:a.lineColor,fill:a.lineColor});if(t.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const b=y.rectangle(m,g,_,f,x);const v=u.insert(()=>b,":first-child");p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p);h&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",h);vj(t,v);const k=(c=r===null||r===void 0?void 0:r.padding)!==null&&c!==void 0?c:0;if(t.width&&t.height){t.width+=k/2||0;t.height+=k/2||0}t.intersect=function(e){return Gj.rect(t,e)};return u}Oo(gH,"forkJoin");async function yH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const l=80,d=50;const{shapeSvg:c,bbox:h}=await xj(e,t,kj(t));const u=Math.max(l,h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const p=Math.max(d,h.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const _=p/2;const{cssStyles:f}=t;const m=yj.svg(c);const g=Fu(t,{});if(t.look!=="handDrawn"){g.roughness=0;g.fillStyle="solid"}const y=[{x:-u/2,y:-p/2},{x:u/2-_,y:-p/2},...Cj(-u/2+_,0,_,50,90,270),{x:u/2-_,y:p/2},{x:-u/2,y:p/2}];const x=wj(y);const b=m.path(x,g);const v=c.insert(()=>b,":first-child");v.attr("class","basic label-container");f&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",f);s&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",s);vj(t,v);t.intersect=function(e){Ho.info("Pill intersect",t,{radius:_,point:e});const n=Gj.polygon(t,y,e);return n};return c}Oo(yH,"halfRoundedRectangle");async function xH(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.labelStyle=a;const{shapeSvg:o,bbox:s}=await xj(e,t,kj(t));const l=s.height+((n=t.padding)!==null&&n!==void 0?n:0);const d=s.width+((r=t.padding)!==null&&r!==void 0?r:0)*2.5;const{cssStyles:c}=t;const h=yj.svg(o);const u=Fu(t,{});if(t.look!=="handDrawn"){u.roughness=0;u.fillStyle="solid"}let p=d/2;const _=p/6;p=p+_;const f=l/2;const m=f/2;const g=p-m;const y=[{x:-g,y:-f},{x:0,y:-f},{x:g,y:-f},{x:p,y:0},{x:g,y:f},{x:0,y:f},{x:-g,y:f},{x:-p,y:0}];const x=wj(y);const b=h.path(x,u);const v=o.insert(()=>b,":first-child");v.attr("class","basic label-container");c&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",c);i&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",i);t.width=d;t.height=l;vj(t,v);t.intersect=function(e){return Gj.polygon(t,y,e)};return o}Oo(xH,"hexagon");async function bH(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.label="";t.labelStyle=a;const{shapeSvg:o}=await xj(e,t,kj(t));const s=Math.max(30,(n=t===null||t===void 0?void 0:t.width)!==null&&n!==void 0?n:0);const l=Math.max(30,(r=t===null||t===void 0?void 0:t.height)!==null&&r!==void 0?r:0);const{cssStyles:d}=t;const c=yj.svg(o);const h=Fu(t,{});if(t.look!=="handDrawn"){h.roughness=0;h.fillStyle="solid"}const u=[{x:0,y:0},{x:s,y:0},{x:0,y:l},{x:s,y:l}];const p=wj(u);const _=c.path(p,h);const f=o.insert(()=>_,":first-child");f.attr("class","basic label-container");d&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",d);i&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",i);f.attr("transform",`translate(${-s/2}, ${-l/2})`);vj(t,f);t.intersect=function(e){Ho.info("Pill intersect",t,{points:u});const n=Gj.polygon(t,u,e);return n};return o}Oo(bH,"hourglass");async function vH(e,t,{config:{themeVariables:n,flowchart:r}}){var a,i,o,s;const{labelStyles:l}=Ou(t);t.labelStyle=l;const d=(a=t.assetHeight)!==null&&a!==void 0?a:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=r===null||r===void 0?void 0:r.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,label:f}=await xj(e,t,"icon-shape default");const m=t.pos==="t";const{nodeBorder:g}=n;const{stylesMap:y}=Iu(t);const x=-h/2;const b=-h/2;const v=t.label?8:0;const k=yj.svg(p);const w=Fu(t,{stroke:"none",fill:"none"});if(t.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const S=k.rectangle(x,b,h,h,w);const C=Math.max(h,_.width);const T=h+_.height+v;const E=k.rectangle(-C/2,-T/2,C,T,{...w,fill:"transparent",stroke:"none"});const A=p.insert(()=>S,":first-child");const N=p.insert(()=>E);if(t.icon){let e=p.append("g");e.html(`<g>${await iF(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),r=n.width,a=n.height,i=n.x,s=n.y;e.attr("transform",`translate(${-r/2-i},${m?_.height/2+v/2-a/2-s:-_.height/2-v/2-a/2-s})`);e.attr("style",`color: ${(o=y.get("stroke"))!==null&&o!==void 0?o:g};`)}f.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${m?-T/2:T/2-_.height})`);A.attr("transform",`translate(${0},${m?_.height/2+v/2:-_.height/2-v/2})`);vj(t,N);t.intersect=function(e){var n,r,a;Ho.info("iconSquare intersect",t,e);if(!t.label){return Gj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(r=t.y)!==null&&r!==void 0?r:0;const s=(a=t.height)!==null&&a!==void 0?a:0;let l=[];if(m){l=[{x:i-_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2+_.height+v},{x:i+h/2,y:o-s/2+_.height+v},{x:i+h/2,y:o+s/2},{x:i-h/2,y:o+s/2},{x:i-h/2,y:o-s/2+_.height+v},{x:i-_.width/2,y:o-s/2+_.height+v}]}else{l=[{x:i-h/2,y:o-s/2},{x:i+h/2,y:o-s/2},{x:i+h/2,y:o-s/2+h},{x:i+_.width/2,y:o-s/2+h},{x:i+_.width/2/2,y:o+s/2},{x:i-_.width/2,y:o+s/2},{x:i-_.width/2,y:o-s/2+h},{x:i-h/2,y:o-s/2+h}]}const d=Gj.polygon(t,l,e);return d};return p}Oo(vH,"icon");async function kH(e,t,{config:{themeVariables:n,flowchart:r}}){var a,i,o,s;const{labelStyles:l}=Ou(t);t.labelStyle=l;const d=(a=t.assetHeight)!==null&&a!==void 0?a:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=r===null||r===void 0?void 0:r.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,label:f}=await xj(e,t,"icon-shape default");const m=20;const g=t.label?8:0;const y=t.pos==="t";const{nodeBorder:x,mainBkg:b}=n;const{stylesMap:v}=Iu(t);const k=yj.svg(p);const w=Fu(t,{});if(t.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const S=v.get("fill");w.stroke=S!==null&&S!==void 0?S:b;const C=p.append("g");t.icon&&C.html(`<g>${await iF(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const T=C.node().getBBox();const E=T.width;const A=T.height;const N=T.x;const P=T.y;const L=Math.max(E,A)*Math.SQRT2+m*2;const M=k.circle(0,0,L,w);const D=Math.max(L,_.width);const I=L+_.height+g;const R=k.rectangle(-D/2,-I/2,D,I,{...w,fill:"transparent",stroke:"none"});const B=p.insert(()=>M,":first-child");const O=p.insert(()=>R);C.attr("transform",`translate(${-E/2-N},${y?_.height/2+g/2-A/2-P:-_.height/2-g/2-A/2-P})`);C.attr("style",`color: ${(o=v.get("stroke"))!==null&&o!==void 0?o:x};`);f.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${y?-I/2:I/2-_.height})`);B.attr("transform",`translate(${0},${y?_.height/2+g/2:-_.height/2-g/2})`);vj(t,O);t.intersect=function(e){Ho.info("iconSquare intersect",t,e);const n=Gj.rect(t,e);return n};return p}Oo(kH,"iconCircle");async function wH(e,t,{config:{themeVariables:n,flowchart:r}}){var a,i,o,s;const{labelStyles:l}=Ou(t);t.labelStyle=l;const d=(a=t.assetHeight)!==null&&a!==void 0?a:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=r===null||r===void 0?void 0:r.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,halfPadding:f,label:m}=await xj(e,t,"icon-shape default");const g=t.pos==="t";const y=h+f*2;const x=h+f*2;const{nodeBorder:b,mainBkg:v}=n;const{stylesMap:k}=Iu(t);const w=-x/2;const S=-y/2;const C=t.label?8:0;const T=yj.svg(p);const E=Fu(t,{});if(t.look!=="handDrawn"){E.roughness=0;E.fillStyle="solid"}const A=k.get("fill");E.stroke=A!==null&&A!==void 0?A:v;const N=T.path(Pj(w,S,x,y,5),E);const P=Math.max(x,_.width);const L=y+_.height+C;const M=T.rectangle(-P/2,-L/2,P,L,{...E,fill:"transparent",stroke:"none"});const D=p.insert(()=>N,":first-child").attr("class","icon-shape2");const I=p.insert(()=>M);if(t.icon){let e=p.append("g");e.html(`<g>${await iF(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),r=n.width,a=n.height,i=n.x,s=n.y;e.attr("transform",`translate(${-r/2-i},${g?_.height/2+C/2-a/2-s:-_.height/2-C/2-a/2-s})`);e.attr("style",`color: ${(o=k.get("stroke"))!==null&&o!==void 0?o:b};`)}m.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${g?-L/2:L/2-_.height})`);D.attr("transform",`translate(${0},${g?_.height/2+C/2:-_.height/2-C/2})`);vj(t,I);t.intersect=function(e){var n,r,a;Ho.info("iconSquare intersect",t,e);if(!t.label){return Gj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(r=t.y)!==null&&r!==void 0?r:0;const s=(a=t.height)!==null&&a!==void 0?a:0;let l=[];if(g){l=[{x:i-_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2+_.height+C},{x:i+x/2,y:o-s/2+_.height+C},{x:i+x/2,y:o+s/2},{x:i-x/2,y:o+s/2},{x:i-x/2,y:o-s/2+_.height+C},{x:i-_.width/2,y:o-s/2+_.height+C}]}else{l=[{x:i-x/2,y:o-s/2},{x:i+x/2,y:o-s/2},{x:i+x/2,y:o-s/2+y},{x:i+_.width/2,y:o-s/2+y},{x:i+_.width/2/2,y:o+s/2},{x:i-_.width/2,y:o+s/2},{x:i-_.width/2,y:o-s/2+y},{x:i-x/2,y:o-s/2+y}]}const d=Gj.polygon(t,l,e);return d};return p}Oo(wH,"iconRounded");async function SH(e,t,{config:{themeVariables:n,flowchart:r}}){var a,i,o,s;const{labelStyles:l}=Ou(t);t.labelStyle=l;const d=(a=t.assetHeight)!==null&&a!==void 0?a:48;const c=(i=t.assetWidth)!==null&&i!==void 0?i:48;const h=Math.max(d,c);const u=r===null||r===void 0?void 0:r.wrappingWidth;t.width=Math.max(h,u!==null&&u!==void 0?u:0);const{shapeSvg:p,bbox:_,halfPadding:f,label:m}=await xj(e,t,"icon-shape default");const g=t.pos==="t";const y=h+f*2;const x=h+f*2;const{nodeBorder:b,mainBkg:v}=n;const{stylesMap:k}=Iu(t);const w=-x/2;const S=-y/2;const C=t.label?8:0;const T=yj.svg(p);const E=Fu(t,{});if(t.look!=="handDrawn"){E.roughness=0;E.fillStyle="solid"}const A=k.get("fill");E.stroke=A!==null&&A!==void 0?A:v;const N=T.path(Pj(w,S,x,y,.1),E);const P=Math.max(x,_.width);const L=y+_.height+C;const M=T.rectangle(-P/2,-L/2,P,L,{...E,fill:"transparent",stroke:"none"});const D=p.insert(()=>N,":first-child");const I=p.insert(()=>M);if(t.icon){let e=p.append("g");e.html(`<g>${await iF(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);let n=e.node().getBBox(),r=n.width,a=n.height,i=n.x,s=n.y;e.attr("transform",`translate(${-r/2-i},${g?_.height/2+C/2-a/2-s:-_.height/2-C/2-a/2-s})`);e.attr("style",`color: ${(o=k.get("stroke"))!==null&&o!==void 0?o:b};`)}m.attr("transform",`translate(${-_.width/2-(_.x-((s=_.left)!==null&&s!==void 0?s:0))},${g?-L/2:L/2-_.height})`);D.attr("transform",`translate(${0},${g?_.height/2+C/2:-_.height/2-C/2})`);vj(t,I);t.intersect=function(e){var n,r,a;Ho.info("iconSquare intersect",t,e);if(!t.label){return Gj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(r=t.y)!==null&&r!==void 0?r:0;const s=(a=t.height)!==null&&a!==void 0?a:0;let l=[];if(g){l=[{x:i-_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2},{x:i+_.width/2,y:o-s/2+_.height+C},{x:i+x/2,y:o-s/2+_.height+C},{x:i+x/2,y:o+s/2},{x:i-x/2,y:o+s/2},{x:i-x/2,y:o-s/2+_.height+C},{x:i-_.width/2,y:o-s/2+_.height+C}]}else{l=[{x:i-x/2,y:o-s/2},{x:i+x/2,y:o-s/2},{x:i+x/2,y:o-s/2+y},{x:i+_.width/2,y:o-s/2+y},{x:i+_.width/2/2,y:o+s/2},{x:i-_.width/2,y:o+s/2},{x:i-_.width/2,y:o-s/2+y},{x:i-x/2,y:o-s/2+y}]}const d=Gj.polygon(t,l,e);return d};return p}Oo(SH,"iconSquare");async function CH(e,t,{config:{flowchart:n}}){var r,a,i,o;const s=new Image;s.src=(r=t===null||t===void 0?void 0:t.img)!==null&&r!==void 0?r:"";await s.decode();const l=Number(s.naturalWidth.toString().replace("px",""));const d=Number(s.naturalHeight.toString().replace("px",""));t.imageAspectRatio=l/d;const{labelStyles:c}=Ou(t);t.labelStyle=c;const h=n===null||n===void 0?void 0:n.wrappingWidth;t.defaultWidth=n===null||n===void 0?void 0:n.wrappingWidth;const u=Math.max(t.label?h!==null&&h!==void 0?h:0:0,(a=t===null||t===void 0?void 0:t.assetWidth)!==null&&a!==void 0?a:l);const p=t.constraint==="on"?(t===null||t===void 0?void 0:t.assetHeight)?t.assetHeight*t.imageAspectRatio:u:u;const _=t.constraint==="on"?p/t.imageAspectRatio:(i=t===null||t===void 0?void 0:t.assetHeight)!==null&&i!==void 0?i:d;t.width=Math.max(p,h!==null&&h!==void 0?h:0);const{shapeSvg:f,bbox:m,label:g}=await xj(e,t,"image-shape default");const y=t.pos==="t";const x=-p/2;const b=-_/2;const v=t.label?8:0;const k=yj.svg(f);const w=Fu(t,{});if(t.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const S=k.rectangle(x,b,p,_,w);const C=Math.max(p,m.width);const T=_+m.height+v;const E=k.rectangle(-C/2,-T/2,C,T,{...w,fill:"none",stroke:"none"});const A=f.insert(()=>S,":first-child");const N=f.insert(()=>E);if(t.img){let e=f.append("image");e.attr("href",t.img);e.attr("width",p);e.attr("height",_);e.attr("preserveAspectRatio","none");e.attr("transform",`translate(${-p/2},${y?T/2-_:-T/2})`)}g.attr("transform",`translate(${-m.width/2-(m.x-((o=m.left)!==null&&o!==void 0?o:0))},${y?-_/2-m.height/2-v/2:_/2-m.height/2+v/2})`);A.attr("transform",`translate(${0},${y?m.height/2+v/2:-m.height/2-v/2})`);vj(t,N);t.intersect=function(e){
var n,r,a;Ho.info("iconSquare intersect",t,e);if(!t.label){return Gj.rect(t,e)}const i=(n=t.x)!==null&&n!==void 0?n:0;const o=(r=t.y)!==null&&r!==void 0?r:0;const s=(a=t.height)!==null&&a!==void 0?a:0;let l=[];if(y){l=[{x:i-m.width/2,y:o-s/2},{x:i+m.width/2,y:o-s/2},{x:i+m.width/2,y:o-s/2+m.height+v},{x:i+p/2,y:o-s/2+m.height+v},{x:i+p/2,y:o+s/2},{x:i-p/2,y:o+s/2},{x:i-p/2,y:o-s/2+m.height+v},{x:i-m.width/2,y:o-s/2+m.height+v}]}else{l=[{x:i-p/2,y:o-s/2},{x:i+p/2,y:o-s/2},{x:i+p/2,y:o-s/2+_},{x:i+m.width/2,y:o-s/2+_},{x:i+m.width/2/2,y:o+s/2},{x:i-m.width/2,y:o+s/2},{x:i-m.width/2,y:o-s/2+_},{x:i-p/2,y:o-s/2+_}]}const d=Gj.polygon(t,l,e);return d};return f}Oo(CH,"imageSquare");async function TH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const h=Math.max(d.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=[{x:0,y:0},{x:c,y:0},{x:c+3*h/6,y:-h},{x:-3*h/6,y:-h}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=yj.svg(l),n=Fu(t,{}),r=wj(u),a=e.path(r,n);p=l.insert(()=>a,":first-child").attr("transform",`translate(${-c/2}, ${h/2})`);_&&p.attr("style",_)}else{p=Kj(l,c,h,u)}s&&p.attr("style",s);t.width=c;t.height=h;vj(t,p);t.intersect=function(e){return Gj.polygon(t,u,e)};return l}Oo(TH,"inv_trapezoid");async function EH(e,t,n){const{labelStyles:r,nodeStyles:a}=Ou(t);t.labelStyle=r;const{shapeSvg:i,bbox:o}=await xj(e,t,kj(t));const s=Math.max(o.width+n.labelPaddingX*2,(t===null||t===void 0?void 0:t.width)||0);const l=Math.max(o.height+n.labelPaddingY*2,(t===null||t===void 0?void 0:t.height)||0);const d=-s/2;const c=-l/2;let h;let{rx:u,ry:p}=t;const{cssStyles:_}=t;if((n===null||n===void 0?void 0:n.rx)&&n.ry){u=n.rx;p=n.ry}if(t.look==="handDrawn"){let e=yj.svg(i),n=Fu(t,{}),r=u||p?e.path(Pj(d,c,s,l,u||0),n):e.rectangle(d,c,s,l,n);h=i.insert(()=>r,":first-child");h.attr("class","basic label-container").attr("style",RR(_))}else{h=i.insert("rect",":first-child");h.attr("class","basic label-container").attr("style",a).attr("rx",RR(u)).attr("ry",RR(p)).attr("x",d).attr("y",c).attr("width",s).attr("height",l)}vj(t,h);t.intersect=function(e){return Gj.rect(t,e)};return i}Oo(EH,"drawRect");async function AH(e,t){var n,r;const{shapeSvg:a,bbox:i,label:o}=await xj(e,t,"label");const s=a.insert("rect",":first-child");const l=.1;const d=.1;s.attr("width",l).attr("height",d);a.attr("class","label edgeLabel");o.attr("transform",`translate(${-(i.width/2)-(i.x-((n=i.left)!==null&&n!==void 0?n:0))}, ${-(i.height/2)-(i.y-((r=i.top)!==null&&r!==void 0?r:0))})`);vj(t,s);t.intersect=function(e){return Gj.rect(t,e)};return a}Oo(AH,"labelRect");async function NH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0),(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const h=Math.max(d.height+((a=t.padding)!==null&&a!==void 0?a:0),(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=[{x:0,y:0},{x:c+3*h/6,y:0},{x:c,y:-h},{x:-(3*h)/6,y:-h}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=yj.svg(l),n=Fu(t,{}),r=wj(u),a=e.path(r,n);p=l.insert(()=>a,":first-child").attr("transform",`translate(${-c/2}, ${h/2})`);_&&p.attr("style",_)}else{p=Kj(l,c,h,u)}s&&p.attr("style",s);t.width=c;t.height=h;vj(t,p);t.intersect=function(e){return Gj.polygon(t,u,e)};return l}Oo(NH,"lean_left");async function PH(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0),(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const h=Math.max(d.height+((a=t.padding)!==null&&a!==void 0?a:0),(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=[{x:-3*h/6,y:0},{x:c,y:0},{x:c+3*h/6,y:-h},{x:0,y:-h}];let p;const{cssStyles:_}=t;if(t.look==="handDrawn"){let e=yj.svg(l),n=Fu(t,{}),r=wj(u),a=e.path(r,n);p=l.insert(()=>a,":first-child").attr("transform",`translate(${-c/2}, ${h/2})`);_&&p.attr("style",_)}else{p=Kj(l,c,h,u)}s&&p.attr("style",s);t.width=c;t.height=h;vj(t,p);t.intersect=function(e){return Gj.polygon(t,u,e)};return l}Oo(PH,"lean_right");function LH(e,t){var n,r,a;const{labelStyles:i,nodeStyles:o}=Ou(t);t.label="";t.labelStyle=i;const s=e.insert("g").attr("class",kj(t)).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);const{cssStyles:l}=t;const d=Math.max(35,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const c=Math.max(35,(a=t===null||t===void 0?void 0:t.height)!==null&&a!==void 0?a:0);const h=7;const u=[{x:d,y:0},{x:0,y:c+h/2},{x:d-2*h,y:c+h/2},{x:0,y:2*c},{x:d,y:c-h/2},{x:2*h,y:c-h/2}];const p=yj.svg(s);const _=Fu(t,{});if(t.look!=="handDrawn"){_.roughness=0;_.fillStyle="solid"}const f=wj(u);const m=p.path(f,_);const g=s.insert(()=>m,":first-child");l&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",l);o&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o);g.attr("transform",`translate(-${d/2},${-c})`);vj(t,g);t.intersect=function(e){Ho.info("lightningBolt intersect",t,e);const n=Gj.polygon(t,u,e);return n};return s}Oo(LH,"lightningBolt");var MH=Oo((e,t,n,r,a,i,o)=>[`M${e},${t+i}`,`a${a},${i} 0,0,0 ${n},0`,`a${a},${i} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${i} 0,0,0 ${n},0`,`l0,${-r}`,`M${e},${t+i+o}`,`a${a},${i} 0,0,0 ${n},0`].join(" "),"createCylinderPathD");var DH=Oo((e,t,n,r,a,i,o)=>[`M${e},${t+i}`,`M${e+n},${t+i}`,`a${a},${i} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${i} 0,0,0 ${n},0`,`l0,${-r}`,`M${e},${t+i+o}`,`a${a},${i} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD");var IH=Oo((e,t,n,r,a,i)=>[`M${e-n/2},${-r/2}`,`a${a},${i} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function RH(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0),(r=t.width)!==null&&r!==void 0?r:0);const _=p/2;const f=_/(2.5+p/50);const m=Math.max(h.height+f+((a=t.padding)!==null&&a!==void 0?a:0),(i=t.height)!==null&&i!==void 0?i:0);const g=m*.1;let y;const{cssStyles:x}=t;if(t.look==="handDrawn"){let e=yj.svg(c),n=DH(0,0,p,m,_,f,g),r=IH(0,f,p,m,_,f),a=Fu(t,{}),i=e.path(n,a),o=e.path(r,a),s=c.insert(()=>o,":first-child");s.attr("class","line");y=c.insert(()=>i,":first-child");y.attr("class","basic label-container");x&&y.attr("style",x)}else{let e=MH(0,0,p,m,_,f,g);y=c.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",RR(x)).attr("style",d)}y.attr("label-offset-y",f);y.attr("transform",`translate(${-p/2}, ${-(m/2+f)})`);vj(t,y);u.attr("transform",`translate(${-(h.width/2)-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+f-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);t.intersect=function(e){var n,r,a,i,o,s;const l=Gj.rect(t,e);const d=l.x-((n=t.x)!==null&&n!==void 0?n:0);if(_!=0&&(Math.abs(d)<((r=t.width)!==null&&r!==void 0?r:0)/2||Math.abs(d)==((a=t.width)!==null&&a!==void 0?a:0)/2&&Math.abs(l.y-((i=t.y)!==null&&i!==void 0?i:0))>((o=t.height)!==null&&o!==void 0?o:0)/2-f)){let n=f*f*(1-d*d/(_*_));n>0&&(n=Math.sqrt(n));n=f-n;e.y-((s=t.y)!==null&&s!==void 0?s:0)>0&&(n=-n);l.y+=n}return l};return c}Oo(RH,"linedCylinder");async function BH(e,t){var n,r,a,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=Ou(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await xj(e,t,kj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const m=Math.max(p.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const g=m/4;const y=m+g;const{cssStyles:x}=t;const b=yj.svg(u);const v=Fu(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:-f/2-f/2*.1,y:-y/2},{x:-f/2-f/2*.1,y:y/2},...Sj(-f/2-f/2*.1,y/2,f/2+f/2*.1,y/2,g,.8),{x:f/2+f/2*.1,y:-y/2},{x:-f/2-f/2*.1,y:-y/2},{x:-f/2,y:-y/2},{x:-f/2,y:y/2*1.1},{x:-f/2,y:-y/2}];const w=b.polygon(k.map(e=>[e.x,e.y]),v);const S=u.insert(()=>w,":first-child");S.attr("class","basic label-container");x&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",x);h&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",h);S.attr("transform",`translate(0,${-g/2})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)+f/2*.1/2-(p.x-((s=p.left)!==null&&s!==void 0?s:0))},${-m/2+((l=t.padding)!==null&&l!==void 0?l:0)-g/2-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);vj(t,S);t.intersect=function(e){const n=Gj.polygon(t,k,e);return n};return u}Oo(BH,"linedWaveEdgedRect");async function OH(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const _=Math.max(h.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=5;const m=-p/2;const g=-_/2;const{cssStyles:y}=t;const x=yj.svg(c);const b=Fu(t,{});const v=[{x:m-f,y:g+f},{x:m-f,y:g+_+f},{x:m+p-f,y:g+_+f},{x:m+p-f,y:g+_},{x:m+p,y:g+_},{x:m+p,y:g+_-f},{x:m+p+f,y:g+_-f},{x:m+p+f,y:g-f},{x:m+f,y:g-f},{x:m+f,y:g},{x:m,y:g},{x:m,y:g+f}];const k=[{x:m,y:g+f},{x:m+p-f,y:g+f},{x:m+p-f,y:g+_},{x:m+p,y:g+_},{x:m+p,y:g},{x:m,y:g}];if(t.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const w=wj(v);const S=x.path(w,b);const C=wj(k);const T=x.path(C,{...b,fill:"none"});const E=c.insert(()=>T,":first-child");E.insert(()=>S,":first-child");E.attr("class","basic label-container");y&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",y);d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d);u.attr("transform",`translate(${-(h.width/2)-f-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+f-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);vj(t,E);t.intersect=function(e){const n=Gj.polygon(t,v,e);return n};return c}Oo(OH,"multiRect");async function FH(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const _=Math.max(h.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=_/4;const m=_+f;const g=-p/2;const y=-m/2;const x=5;const{cssStyles:b}=t;const v=Sj(g-x,y+m+x,g+p-x,y+m+x,f,.8);const k=v===null||v===void 0?void 0:v[v.length-1];const w=[{x:g-x,y:y+x},{x:g-x,y:y+m+x},...v,{x:g+p-x,y:k.y-x},{x:g+p,y:k.y-x},{x:g+p,y:k.y-2*x},{x:g+p+x,y:k.y-2*x},{x:g+p+x,y:y-x},{x:g+x,y:y-x},{x:g+x,y:y},{x:g,y:y},{x:g,y:y+x}];const S=[{x:g,y:y+x},{x:g+p-x,y:y+x},{x:g+p-x,y:k.y-x},{x:g+p,y:k.y-x},{x:g+p,y:y},{x:g,y:y}];const C=yj.svg(c);const T=Fu(t,{});if(t.look!=="handDrawn"){T.roughness=0;T.fillStyle="solid"}const E=wj(w);const A=C.path(E,T);const N=wj(S);const P=C.path(N,T);const L=c.insert(()=>A,":first-child");L.insert(()=>P);L.attr("class","basic label-container");b&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",b);d&&t.look!=="handDrawn"&&L.selectAll("path").attr("style",d);L.attr("transform",`translate(0,${-f/2})`);u.attr("transform",`translate(${-(h.width/2)-x-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+x-f/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);vj(t,L);t.intersect=function(e){const n=Gj.polygon(t,w,e);return n};return c}Oo(FH,"multiWaveEdgedRectangle");async function jH(e,t,{config:{themeVariables:n}}){var r,a,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=Ou(t);t.labelStyle=c;const u=t.useHtmlLabels||((r=Ls().flowchart)===null||r===void 0?void 0:r.htmlLabels)!==!1;u||(t.centerLabel=!0);const{shapeSvg:p,bbox:_,label:f}=await xj(e,t,kj(t));const m=Math.max(_.width+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.width)!==null&&i!==void 0?i:0);const g=Math.max(_.height+((o=t.padding)!==null&&o!==void 0?o:0)*2,(s=t===null||t===void 0?void 0:t.height)!==null&&s!==void 0?s:0);const y=-m/2;const x=-g/2;const{cssStyles:b}=t;const v=yj.svg(p);const k=Fu(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});if(t.look!=="handDrawn"){k.roughness=0;k.fillStyle="solid"}const w=v.rectangle(y,x,m,g,k);const S=p.insert(()=>w,":first-child");S.attr("class","basic label-container");b&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",b);h&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",h);f.attr("transform",`translate(${-_.width/2-(_.x-((l=_.left)!==null&&l!==void 0?l:0))}, ${-(_.height/2)-(_.y-((d=_.top)!==null&&d!==void 0?d:0))})`);vj(t,S);t.intersect=function(e){return Gj.rect(t,e)};return p}Oo(jH,"note");var HH=Oo((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function WH(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=i.width+t.padding;const s=i.height+t.padding;const l=o+s;const d=.5;const c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:u}=t;if(t.look==="handDrawn"){let e=yj.svg(a),n=Fu(t,{}),r=HH(0,0,l),i=e.path(r,n);h=a.insert(()=>i,":first-child").attr("transform",`translate(${-l/2+d}, ${l/2})`);u&&h.attr("style",u)}else{h=Kj(a,l,l,c);h.attr("transform",`translate(${-l/2+d}, ${l/2})`)}r&&h.attr("style",r);vj(t,h);t.intersect=function(e){Ho.debug("APA12 Intersect called SPLIT\npoint:",e,"\nnode:\n",t,"\nres:",Gj.polygon(t,c,e));return Gj.polygon(t,c,e)};return a}Oo(WH,"question");async function zH(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0),(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const _=Math.max(h.height+((a=t.padding)!==null&&a!==void 0?a:0),(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=-p/2;const m=-_/2;const g=m/2;const y=[{x:f+g,y:m},{x:f,y:0},{x:f+g,y:-m},{x:-f,y:-m},{x:-f,y:m}];const{cssStyles:x}=t;const b=yj.svg(c);const v=Fu(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=wj(y);const w=b.path(k,v);const S=c.insert(()=>w,":first-child");S.attr("class","basic label-container");x&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",x);d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d);S.attr("transform",`translate(${-g/2},0)`);u.attr("transform",`translate(${-g/2-h.width/2-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);vj(t,S);t.intersect=function(e){return Gj.polygon(t,y,e)};return c}Oo(zH,"rect_left_inv_arrow");async function $H(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.labelStyle=a;let o;if(!t.cssClasses){o="node default"}else{o="node "+t.cssClasses}const s=e.insert("g").attr("class",o).attr("id",t.domId||t.id);const l=s.insert("g");const d=s.insert("g").attr("class","label").attr("style",i);const c=t.description;const h=t.label;const u=d.node().appendChild(await Nj(h,t.labelStyle,!0,!0));let p={width:0,height:0};if(Zs((r=(n=jl())===null||n===void 0?void 0:n.flowchart)===null||r===void 0?void 0:r.htmlLabels)){let e=u.children[0],t=Qf(u);p=e.getBoundingClientRect();t.attr("width",p.width);t.attr("height",p.height)}Ho.info("Text 2",c);const _=c||[];const f=u.getBBox();const m=d.node().appendChild(await Nj(_.join?_.join("<br/>"):_,t.labelStyle,!0,!0));const g=m.children[0];const y=Qf(m);p=g.getBoundingClientRect();y.attr("width",p.width);y.attr("height",p.height);const x=(t.padding||0)/2;Qf(m).attr("transform","translate( "+(p.width>f.width?0:(f.width-p.width)/2)+", "+(f.height+x+5)+")");Qf(u).attr("transform","translate( "+(p.width<f.width?0:-(f.width-p.width)/2)+", 0)");p=d.node().getBBox();d.attr("transform","translate("+-p.width/2+", "+(-p.height/2-x+3)+")");const b=p.width+(t.padding||0);const v=p.height+(t.padding||0);const k=-p.width/2-x;const w=-p.height/2-x;let S;let C;if(t.look==="handDrawn"){let e=yj.svg(s),n=Fu(t,{}),r=e.path(Pj(k,w,b,v,t.rx||0),n),a=e.line(-p.width/2-x,-p.height/2-x+f.height+x,p.width/2+x,-p.height/2-x+f.height+x,n);C=s.insert(()=>{Ho.debug("Rough node insert CXC",r);return a},":first-child");S=s.insert(()=>{Ho.debug("Rough node insert CXC",r);return r},":first-child")}else{S=l.insert("rect",":first-child");C=l.insert("line");S.attr("class","outer title-state").attr("style",i).attr("x",-p.width/2-x).attr("y",-p.height/2-x).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0));C.attr("class","divider").attr("x1",-p.width/2-x).attr("x2",p.width/2+x).attr("y1",-p.height/2-x+f.height+x).attr("y2",-p.height/2-x+f.height+x)}vj(t,S);t.intersect=function(e){return Gj.rect(t,e)};return s}Oo($H,"rectWithTitle");function UH(e,t,n,r,a,i,o){const s=20;const l=(e+n)/2;const d=(t+r)/2;const c=Math.atan2(r-t,n-e);const h=(n-e)/2;const u=(r-t)/2;const p=h/a;const _=u/i;const f=Math.sqrt(p**2+_**2);if(f>1){throw new Error("The given radii are too small to create an arc between the points.")}const m=Math.sqrt(1-f**2);const g=l+m*i*Math.sin(c)*(o?-1:1);const y=d-m*a*Math.cos(c)*(o?-1:1);const x=Math.atan2((t-y)/i,(e-g)/a);const b=Math.atan2((r-y)/i,(n-g)/a);let v=b-x;o&&v<0&&(v+=2*Math.PI);!o&&v>0&&(v-=2*Math.PI);const k=[];for(let e=0;e<s;e++){let t=e/(s-1),n=x+t*v,r=g+a*Math.cos(n),o=y+i*Math.sin(n);k.push({x:r,y:o})}return k}Oo(UH,"generateArcPoints");async function qH(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.labelStyle=a;const{shapeSvg:o,bbox:s}=await xj(e,t,kj(t));const l=(n=t===null||t===void 0?void 0:t.padding)!==null&&n!==void 0?n:0;const d=(r=t===null||t===void 0?void 0:t.padding)!==null&&r!==void 0?r:0;const c=((t===null||t===void 0?void 0:t.width)?t===null||t===void 0?void 0:t.width:s.width)+l*2;const h=((t===null||t===void 0?void 0:t.height)?t===null||t===void 0?void 0:t.height:s.height)+d*2;const u=5;const p=5;const{cssStyles:_}=t;const f=yj.svg(o);const m=Fu(t,{});if(t.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}const g=[{x:-c/2+p,y:-h/2},{x:c/2-p,y:-h/2},...UH(c/2-p,-h/2,c/2,-h/2+p,u,u,!0),{x:c/2,y:-h/2+p},{x:c/2,y:h/2-p},...UH(c/2,h/2-p,c/2-p,h/2,u,u,!0),{x:c/2-p,y:h/2},{x:-c/2+p,y:h/2},...UH(-c/2+p,h/2,-c/2,h/2-p,u,u,!0),{x:-c/2,y:h/2-p},{x:-c/2,y:-h/2+p},...UH(-c/2,-h/2+p,-c/2+p,-h/2,u,u,!0)];const y=wj(g);const x=f.path(y,m);const b=o.insert(()=>x,":first-child");b.attr("class","basic label-container outer-path");_&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",_);i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i);vj(t,b);t.intersect=function(e){const n=Gj.polygon(t,g,e);return n};return o}Oo(qH,"roundedRect");async function GH(e,t){var n,r,a,i,o,s,l,d,c;const{labelStyles:h,nodeStyles:u}=Ou(t);t.labelStyle=h;const{shapeSvg:p,bbox:_,label:f}=await xj(e,t,kj(t));const m=(n=t===null||t===void 0?void 0:t.padding)!==null&&n!==void 0?n:0;const g=Math.max(_.width+((r=t.padding)!==null&&r!==void 0?r:0)*2,(a=t===null||t===void 0?void 0:t.width)!==null&&a!==void 0?a:0);const y=Math.max(_.height+((i=t.padding)!==null&&i!==void 0?i:0)*2,(o=t===null||t===void 0?void 0:t.height)!==null&&o!==void 0?o:0);const x=-_.width/2-m;const b=-_.height/2-m;const{cssStyles:v}=t;const k=yj.svg(p);const w=Fu(t,{});if(t.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const S=[{x:x,y:b},{x:x+g+8,y:b},{x:x+g+8,y:b+y},{x:x-8,y:b+y},{x:x-8,y:b},{x:x,y:b},{x:x,y:b+y}];const C=k.polygon(S.map(e=>[e.x,e.y]),w);const T=p.insert(()=>C,":first-child");T.attr("class","basic label-container").attr("style",RR(v));u&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",u);v&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",u);f.attr("transform",`translate(${-g/2+4+((s=t.padding)!==null&&s!==void 0?s:0)-(_.x-((l=_.left)!==null&&l!==void 0?l:0))},${-y/2+((d=t.padding)!==null&&d!==void 0?d:0)-(_.y-((c=_.top)!==null&&c!==void 0?c:0))})`);vj(t,T);t.intersect=function(e){return Gj.rect(t,e)};return p}Oo(GH,"shadedProcess");async function YH(e,t){var n,r,a,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=Ou(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await xj(e,t,kj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const m=Math.max(p.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const g=-f/2;const y=-m/2;const{cssStyles:x}=t;const b=yj.svg(u);const v=Fu(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:g,y:y},{x:g,y:y+m},{x:g+f,y:y+m},{x:g+f,y:y-m/2}];const w=wj(k);const S=b.path(w,v);const C=u.insert(()=>S,":first-child");C.attr("class","basic label-container");x&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",x);h&&t.look!=="handDrawn"&&C.selectChildren("path").attr("style",h);C.attr("transform",`translate(0, ${m/4})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)-(p.x-((s=p.left)!==null&&s!==void 0?s:0))}, ${-m/4+((l=t.padding)!==null&&l!==void 0?l:0)-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);vj(t,C);t.intersect=function(e){const n=Gj.polygon(t,k,e);return n};return u}Oo(YH,"slopedRect");async function VH(e,t){const n={rx:0,ry:0,classes:"",labelPaddingX:((t===null||t===void 0?void 0:t.padding)||0)*2,labelPaddingY:((t===null||t===void 0?void 0:t.padding)||0)*1};return EH(e,t,n)}Oo(VH,"squareRect");async function XH(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=i.height+t.padding;const s=i.width+o/4+t.padding;const l=o/2;const{cssStyles:d}=t;const c=yj.svg(a);const h=Fu(t,{});if(t.look!=="handDrawn"){h.roughness=0;h.fillStyle="solid"}const u=[{x:-s/2+l,y:-o/2},{x:s/2-l,y:-o/2},...Cj(-s/2+l,0,l,50,90,270),{x:s/2-l,y:o/2},...Cj(s/2-l,0,l,50,270,450)];const p=wj(u);const _=c.path(p,h);const f=a.insert(()=>_,":first-child");f.attr("class","basic label-container outer-path");d&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",d);r&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",r);vj(t,f);t.intersect=function(e){const n=Gj.polygon(t,u,e);return n};return a}Oo(XH,"stadium");async function KH(e,t){const n={rx:5,ry:5,classes:"flowchart-node"};return EH(e,t,n)}Oo(KH,"state");function QH(e,t,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:a}=Ou(t);t.labelStyle=r;const{cssStyles:i}=t;const{lineColor:o,stateBorder:s,nodeBorder:l}=n;const d=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);const c=yj.svg(d);const h=Fu(t,{});if(t.look!=="handDrawn"){h.roughness=0;h.fillStyle="solid"}const u=c.circle(0,0,14,{...h,stroke:o,strokeWidth:2});const p=s!==null&&s!==void 0?s:l;const _=c.circle(0,0,5,{...h,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"});const f=d.insert(()=>u,":first-child");f.insert(()=>_);i&&f.selectAll("path").attr("style",i);a&&f.selectAll("path").attr("style",a);vj(t,f);t.intersect=function(e){return Gj.circle(t,7,e)};return d}Oo(QH,"stateEnd");function ZH(e,t,{config:{themeVariables:n}}){const{lineColor:r}=n;const a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let i;if(t.look==="handDrawn"){let e=yj.svg(a),t=e.circle(0,0,14,Du(r));i=a.insert(()=>t);i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else{i=a.insert("circle",":first-child");i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}vj(t,i);t.intersect=function(e){return Gj.circle(t,7,e)};return a}Oo(ZH,"stateStart");async function JH(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=((t===null||t===void 0?void 0:t.padding)||0)/2;const s=i.width+t.padding;const l=i.height+t.padding;const d=-i.width/2-o;const c=-i.height/2-o;const h=[{x:0,y:0},{x:s,y:0},{x:s,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){let e=yj.svg(a),n=Fu(t,{}),r=e.rectangle(d-8,c,s+16,l,n),i=e.line(d,c,d,c+l,n),o=e.line(d+s,c,d+s,c+l,n);a.insert(()=>i,":first-child");a.insert(()=>o,":first-child");let h=a.insert(()=>r,":first-child"),{cssStyles:u}=t;h.attr("class","basic label-container").attr("style",RR(u));vj(t,h)}else{let e=Kj(a,s,l,h);r&&e.attr("style",r);vj(t,e)}t.intersect=function(e){return Gj.polygon(t,h,e)};return a}Oo(JH,"subroutine");async function eW(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const h=Math.max(d.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const u=-c/2;const p=-h/2;const _=.2*h;const f=.2*h;const{cssStyles:m}=t;const g=yj.svg(l);const y=Fu(t,{});const x=[{x:u-_/2,y:p},{x:u+c+_/2,y:p},{x:u+c+_/2,y:p+h},{x:u-_/2,y:p+h}];const b=[{x:u+c-_/2,y:p+h},{x:u+c+_/2,y:p+h},{x:u+c+_/2,y:p+h-f}];if(t.look!=="handDrawn"){y.roughness=0;y.fillStyle="solid"}const v=wj(x);const k=g.path(v,y);const w=wj(b);const S=g.path(w,{...y,fillStyle:"solid"});const C=l.insert(()=>S,":first-child");C.insert(()=>k,":first-child");C.attr("class","basic label-container");m&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",m);s&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",s);vj(t,C);t.intersect=function(e){const n=Gj.polygon(t,x,e);return n};return l}Oo(eW,"taggedRect");async function tW(e,t){var n,r,a,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=Ou(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await xj(e,t,kj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const m=Math.max(p.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const g=m/4;const y=.2*f;const x=.2*m;const b=m+g;const{cssStyles:v}=t;const k=yj.svg(u);const w=Fu(t,{});if(t.look!=="handDrawn"){w.roughness=0;w.fillStyle="solid"}const S=[{x:-f/2-f/2*.1,y:b/2},...Sj(-f/2-f/2*.1,b/2,f/2+f/2*.1,b/2,g,.8),{x:f/2+f/2*.1,y:-b/2},{x:-f/2-f/2*.1,y:-b/2}];const C=-f/2+f/2*.1;const T=-b/2-x*.4;const E=[{x:C+f-y,y:(T+m)*1.4},{x:C+f,y:T+m-x},{x:C+f,y:(T+m)*.9},...Sj(C+f,(T+m)*1.3,C+f-y,(T+m)*1.5,-m*.03,.5)];const A=wj(S);const N=k.path(A,w);const P=wj(E);const L=k.path(P,{...w,fillStyle:"solid"});const M=u.insert(()=>L,":first-child");M.insert(()=>N,":first-child");M.attr("class","basic label-container");v&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",v);h&&t.look!=="handDrawn"&&M.selectAll("path").attr("style",h);M.attr("transform",`translate(0,${-g/2})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)-(p.x-((s=p.left)!==null&&s!==void 0?s:0))},${-m/2+((l=t.padding)!==null&&l!==void 0?l:0)-g/2-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);vj(t,M);t.intersect=function(e){const n=Gj.polygon(t,S,e);return n};return u}Oo(tW,"taggedWaveEdgedRectangle");async function nW(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=Math.max(i.width+t.padding,(t===null||t===void 0?void 0:t.width)||0);const s=Math.max(i.height+t.padding,(t===null||t===void 0?void 0:t.height)||0);const l=-o/2;const d=-s/2;const c=a.insert("rect",":first-child");c.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",l).attr("y",d).attr("width",o).attr("height",s);vj(t,c);t.intersect=function(e){return Gj.rect(t,e)};return a}Oo(nW,"text");var rW=Oo((e,t,n,r,a,i)=>`M${e},${t}\n    a${a},${i} 0,0,1 ${0},${-r}\n    l${n},${0}\n    a${a},${i} 0,0,1 ${0},${r}\n    M${n},${-r}\n    a${a},${i} 0,0,0 ${0},${r}\n    l${-n},${0}`,"createCylinderPathD");var aW=Oo((e,t,n,r,a,i)=>[`M${e},${t}`,`M${e+n},${t}`,`a${a},${i} 0,0,0 ${0},${-r}`,`l${-n},0`,`a${a},${i} 0,0,0 ${0},${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD");var iW=Oo((e,t,n,r,a,i)=>[`M${e+n/2},${-r/2}`,`a${a},${i} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function oW(e,t){var n,r;const{labelStyles:a,nodeStyles:i}=Ou(t);t.labelStyle=a;const{shapeSvg:o,bbox:s,label:l,halfPadding:d}=await xj(e,t,kj(t));const c=t.look==="neo"?d*2:d;const h=s.height+c;const u=h/2;const p=u/(2.5+h/50);const _=s.width+p+c;const{cssStyles:f}=t;let m;if(t.look==="handDrawn"){let e=yj.svg(o),n=aW(0,0,_,h,p,u),r=iW(0,0,_,h,p,u),a=e.path(n,Fu(t,{})),i=e.path(r,Fu(t,{fill:"none"}));m=o.insert(()=>i,":first-child");m=o.insert(()=>a,":first-child");m.attr("class","basic label-container");f&&m.attr("style",f)}else{let e=rW(0,0,_,h,p,u);m=o.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",RR(f)).attr("style",i);m.attr("class","basic label-container");f&&m.selectAll("path").attr("style",f);i&&m.selectAll("path").attr("style",i)}m.attr("label-offset-x",p);m.attr("transform",`translate(${-_/2}, ${h/2} )`);l.attr("transform",`translate(${-(s.width/2)-p-(s.x-((n=s.left)!==null&&n!==void 0?n:0))}, ${-(s.height/2)-(s.y-((r=s.top)!==null&&r!==void 0?r:0))})`);vj(t,m);t.intersect=function(e){var n,r,a,i,o,s;const l=Gj.rect(t,e);const d=l.y-((n=t.y)!==null&&n!==void 0?n:0);if(u!=0&&(Math.abs(d)<((r=t.height)!==null&&r!==void 0?r:0)/2||Math.abs(d)==((a=t.height)!==null&&a!==void 0?a:0)/2&&Math.abs(l.x-((i=t.x)!==null&&i!==void 0?i:0))>((o=t.width)!==null&&o!==void 0?o:0)/2-p)){let n=p*p*(1-d*d/(u*u));n!=0&&(n=Math.sqrt(Math.abs(n)));n=p-n;e.x-((s=t.x)!==null&&s!==void 0?s:0)>0&&(n=-n);l.x+=n}return l};return o}Oo(oW,"tiltedCylinder");async function sW(e,t){const{labelStyles:n,nodeStyles:r}=Ou(t);t.labelStyle=n;const{shapeSvg:a,bbox:i}=await xj(e,t,kj(t));const o=i.width+t.padding;const s=i.height+t.padding;const l=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}];let d;const{cssStyles:c}=t;if(t.look==="handDrawn"){let e=yj.svg(a),n=Fu(t,{}),r=wj(l),i=e.path(r,n);d=a.insert(()=>i,":first-child").attr("transform",`translate(${-o/2}, ${s/2})`);c&&d.attr("style",c)}else{d=Kj(a,o,s,l)}r&&d.attr("style",r);t.width=o;t.height=s;vj(t,d);t.intersect=function(e){return Gj.polygon(t,l,e)};return a}Oo(sW,"trapezoid");async function lW(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=60,h=20;const u=Math.max(c,d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const p=Math.max(h,d.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const{cssStyles:_}=t;const f=yj.svg(l);const m=Fu(t,{});if(t.look!=="handDrawn"){m.roughness=0;m.fillStyle="solid"}const g=[{x:-u/2*.8,y:-p/2},{x:u/2*.8,y:-p/2},{x:u/2,y:-p/2*.6},{x:u/2,y:p/2},{x:-u/2,y:p/2},{x:-u/2,y:-p/2*.6}];const y=wj(g);const x=f.path(y,m);const b=l.insert(()=>x,":first-child");b.attr("class","basic label-container");_&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",_);s&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",s);vj(t,b);t.intersect=function(e){const n=Gj.polygon(t,g,e);return n};return l}Oo(lW,"trapezoidalPentagon");async function dW(e,t){var n,r,a,i,o;const{labelStyles:s,nodeStyles:l}=Ou(t);t.labelStyle=s;const{shapeSvg:d,bbox:c,label:h}=await xj(e,t,kj(t));const u=Zs((n=jl().flowchart)===null||n===void 0?void 0:n.htmlLabels);const p=c.width+((r=t.padding)!==null&&r!==void 0?r:0);const _=p+c.height;const f=p+c.height;const m=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-_}];const{cssStyles:g}=t;const y=yj.svg(d);const x=Fu(t,{});if(t.look!=="handDrawn"){x.roughness=0;x.fillStyle="solid"}const b=wj(m);const v=y.path(b,x);const k=d.insert(()=>v,":first-child").attr("transform",`translate(${-_/2}, ${_/2})`)
g&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",g);l&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",l);t.width=p;t.height=_;vj(t,k);h.attr("transform",`translate(${-c.width/2-(c.x-((a=c.left)!==null&&a!==void 0?a:0))}, ${_/2-(c.height+((i=t.padding)!==null&&i!==void 0?i:0)/(u?2:1)-(c.y-((o=c.top)!==null&&o!==void 0?o:0)))})`);t.intersect=function(e){Ho.info("Triangle intersect",t,m,e);return Gj.polygon(t,m,e)};return d}Oo(dW,"triangle");async function cW(e,t){var n,r,a,i,o,s,l,d;const{labelStyles:c,nodeStyles:h}=Ou(t);t.labelStyle=c;const{shapeSvg:u,bbox:p,label:_}=await xj(e,t,kj(t));const f=Math.max(p.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const m=Math.max(p.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const g=m/8;const y=m+g;const{cssStyles:x}=t;const b=70;const v=b-f;const k=v>0?v/2:0;const w=yj.svg(u);const S=Fu(t,{});if(t.look!=="handDrawn"){S.roughness=0;S.fillStyle="solid"}const C=[{x:-f/2-k,y:y/2},...Sj(-f/2-k,y/2,f/2+k,y/2,g,.8),{x:f/2+k,y:-y/2},{x:-f/2-k,y:-y/2}];const T=wj(C);const E=w.path(T,S);const A=u.insert(()=>E,":first-child");A.attr("class","basic label-container");x&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",x);h&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",h);A.attr("transform",`translate(0,${-g/2})`);_.attr("transform",`translate(${-f/2+((o=t.padding)!==null&&o!==void 0?o:0)-(p.x-((s=p.left)!==null&&s!==void 0?s:0))},${-m/2+((l=t.padding)!==null&&l!==void 0?l:0)-g-(p.y-((d=p.top)!==null&&d!==void 0?d:0))})`);vj(t,A);t.intersect=function(e){const n=Gj.polygon(t,C,e);return n};return u}Oo(cW,"waveEdgedRectangle");async function hW(e,t){var n,r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o;const{shapeSvg:l,bbox:d}=await xj(e,t,kj(t));const c=100;const h=50;const u=Math.max(d.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const p=Math.max(d.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const _=u/p;let f=u;let m=p;if(f>m*_){m=f/_}else{f=m*_}f=Math.max(f,c);m=Math.max(m,h);const g=Math.min(m*.2,m/4);const y=m+g*2;const{cssStyles:x}=t;const b=yj.svg(l);const v=Fu(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=[{x:-f/2,y:y/2},...Sj(-f/2,y/2,f/2,y/2,g,1),{x:f/2,y:-y/2},...Sj(f/2,-y/2,-f/2,-y/2,g,-1)];const w=wj(k);const S=b.path(w,v);const C=l.insert(()=>S,":first-child");C.attr("class","basic label-container");x&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",x);s&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",s);vj(t,C);t.intersect=function(e){const n=Gj.polygon(t,k,e);return n};return l}Oo(hW,"waveRectangle");async function uW(e,t){var n,r,a,i,o,s;const{labelStyles:l,nodeStyles:d}=Ou(t);t.labelStyle=l;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=Math.max(h.width+((n=t.padding)!==null&&n!==void 0?n:0)*2,(r=t===null||t===void 0?void 0:t.width)!==null&&r!==void 0?r:0);const _=Math.max(h.height+((a=t.padding)!==null&&a!==void 0?a:0)*2,(i=t===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0);const f=5;const m=-p/2;const g=-_/2;const{cssStyles:y}=t;const x=yj.svg(c);const b=Fu(t,{});const v=[{x:m-f,y:g-f},{x:m-f,y:g+_},{x:m+p,y:g+_},{x:m+p,y:g-f}];const k=`M${m-f},${g-f} L${m+p},${g-f} L${m+p},${g+_} L${m-f},${g+_} L${m-f},${g-f}\n                M${m-f},${g} L${m+p},${g}\n                M${m},${g-f} L${m},${g+_}`;if(t.look!=="handDrawn"){b.roughness=0;b.fillStyle="solid"}const w=x.path(k,b);const S=c.insert(()=>w,":first-child");S.attr("transform",`translate(${f/2}, ${f/2})`);S.attr("class","basic label-container");y&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",y);d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d);u.attr("transform",`translate(${-(h.width/2)+f/2-(h.x-((o=h.left)!==null&&o!==void 0?o:0))}, ${-(h.height/2)+f/2-(h.y-((s=h.top)!==null&&s!==void 0?s:0))})`);vj(t,S);t.intersect=function(e){const n=Gj.polygon(t,v,e);return n};return c}Oo(uW,"windowPane");async function pW(e,t){var n,r,a,i,o,s,l;t.alias&&(t.label=t.alias);if(t.look==="handDrawn"){let{themeVariables:n}=Ls(),{background:r}=n,a={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${r}`]};await pW(e,a)}const d=Ls();t.useHtmlLabels=d.htmlLabels;let c=(r=(n=d.er)===null||n===void 0?void 0:n.diagramPadding)!==null&&r!==void 0?r:10;let h=(i=(a=d.er)===null||a===void 0?void 0:a.entityPadding)!==null&&i!==void 0?i:6;const{cssStyles:u}=t;const{labelStyles:p,nodeStyles:_}=Ou(t);if(t.attributes.length===0&&t.label){let n={rx:0,ry:0,labelPaddingX:c,labelPaddingY:c*1.5,classes:""};vR(t.label,d)+n.labelPaddingX*2<d.er.minEntityWidth&&(t.width=d.er.minEntityWidth);let r=await EH(e,t,n);if(!Zs(d.htmlLabels)){let e=r.select("text"),t=(o=e.node())===null||o===void 0?void 0:o.getBBox();e.attr("transform",`translate(${-t.width/2}, 0)`)}return r}if(!d.htmlLabels){c*=1.25;h*=1.25}let f=kj(t);f||(f="node default");const m=e.insert("g").attr("class",f).attr("id",t.domId||t.id);const g=await _W(m,(s=t.label)!==null&&s!==void 0?s:"",d,0,0,["name"],p);g.height+=h;let y=0;const x=[];const b=[];let v=0;let k=0;let w=0;let S=0;let C=!0;let T=!0;for(const e of t.attributes){let t=await _W(m,e.type,d,0,y,["attribute-type"],p);v=Math.max(v,t.width+c);let n=await _W(m,e.name,d,0,y,["attribute-name"],p);k=Math.max(k,n.width+c);let r=await _W(m,e.keys.join(),d,0,y,["attribute-keys"],p);w=Math.max(w,r.width+c);let a=await _W(m,e.comment,d,0,y,["attribute-comment"],p);S=Math.max(S,a.width+c);let i=Math.max(t.height,n.height,r.height,a.height)+h;b.push({yOffset:y,rowHeight:i});y+=i}let E=4;if(w<=c){C=!1;w=0;E--}if(S<=c){T=!1;S=0;E--}const A=m.node().getBBox();if(g.width+c*2-(v+k+w+S)>0){let e=g.width+c*2-(v+k+w+S);v+=e/E;k+=e/E;w>0&&(w+=e/E);S>0&&(S+=e/E)}const N=v+k+w+S;const P=yj.svg(m);const L=Fu(t,{});if(t.look!=="handDrawn"){L.roughness=0;L.fillStyle="solid"}let M=0;b.length>0&&(M=b.reduce((e,t)=>{var n;return e+((n=t===null||t===void 0?void 0:t.rowHeight)!==null&&n!==void 0?n:0)},0));const D=Math.max(A.width+c*2,(t===null||t===void 0?void 0:t.width)||0,N);const I=Math.max((M!==null&&M!==void 0?M:0)+g.height,(t===null||t===void 0?void 0:t.height)||0);const R=-D/2;const B=-I/2;m.selectAll("g:not(:first-child)").each((e,t,n)=>{const r=Qf(n[t]);const a=r.attr("transform");let i=0;let o=0;if(a){let e=RegExp(/translate\(([^,]+),([^)]+)\)/),t=e.exec(a);if(t){i=parseFloat(t[1]);o=parseFloat(t[2]);if(r.attr("class").includes("attribute-name")){i+=v}else if(r.attr("class").includes("attribute-keys")){i+=v+k}else r.attr("class").includes("attribute-comment")&&(i+=v+k+w)}}r.attr("transform",`translate(${R+c/2+i}, ${o+B+g.height+h/2})`)});m.select(".name").attr("transform","translate("+-g.width/2+", "+(B+h/2)+")");const O=P.rectangle(R,B,D,I,L);const F=m.insert(()=>O,":first-child").attr("style",u.join(""));const{themeVariables:j}=Ls();const{rowEven:H,rowOdd:W,nodeBorder:z}=j;x.push(0);for(const[e,t]of b.entries()){let n=e+1,r=n%2===0&&t.yOffset!==0,a=P.rectangle(R,g.height+B+(t===null||t===void 0?void 0:t.yOffset),D,t===null||t===void 0?void 0:t.rowHeight,{...L,fill:r?H:W,stroke:z});m.insert(()=>a,"g.label").attr("style",u.join("")).attr("class",`row-rect-${r?"even":"odd"}`)}let $=P.line(R,g.height+B,D+R,g.height+B,L);m.insert(()=>$).attr("class","divider");$=P.line(v+R,g.height+B,v+R,I+B,L);m.insert(()=>$).attr("class","divider");if(C){$=P.line(v+k+R,g.height+B,v+k+R,I+B,L);m.insert(()=>$).attr("class","divider")}if(T){$=P.line(v+k+w+R,g.height+B,v+k+w+R,I+B,L);m.insert(()=>$).attr("class","divider")}for(const e of x){$=P.line(R,g.height+B+e,D+R,g.height+B+e,L);m.insert(()=>$).attr("class","divider")}vj(t,F);if(_&&t.look!=="handDrawn"){let e=_.split(";"),t=(l=e===null||e===void 0?void 0:e.filter(e=>e.includes("stroke")))===null||l===void 0?void 0:l.map(e=>`${e}`).join("; ");m.selectAll("path").attr("style",t!==null&&t!==void 0?t:"");m.selectAll(".row-rect-even path").attr("style",_)}t.intersect=function(e){return Gj.rect(t,e)};return m}Oo(pW,"erBox");async function _W(e,t,n,r=0,a=0,i=[],o=""){const s=e.insert("g").attr("class",`label ${i.join(" ")}`).attr("transform",`translate(${r}, ${a})`).attr("style",o);if(t!==tl(t)){t=tl(t);t=t.replaceAll("<","&lt;").replaceAll(">","&gt;")}const l=s.node().appendChild(await kF(s,t,{width:vR(t,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let e=l.children[0];e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");while(e.childNodes[0]){e=e.childNodes[0];e.textContent=e.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}}let d=l.getBBox();if(Zs(n.htmlLabels)){let e=l.children[0];e.style.textAlign="start";let t=Qf(l);d=e.getBoundingClientRect();t.attr("width",d.width);t.attr("height",d.height)}return d}Oo(_W,"addText");async function fW(e,t,n,r,a){var i;a===void 0&&(a=(i=n.class.padding)!==null&&i!==void 0?i:12);const o=!r?3:0;const s=e.insert("g").attr("class",kj(t)).attr("id",t.domId||t.id);let l=null;let d=null;let c=null;let h=null;let u=0;let p=0;let _=0;l=s.insert("g").attr("class","annotation-group text");if(t.annotations.length>0){let e=t.annotations[0];await mW(l,{text:`${e}`},0);let n=l.node().getBBox();u=n.height}d=s.insert("g").attr("class","label-group text");await mW(d,t,0,["font-weight: bolder"]);const f=d.node().getBBox();p=f.height;c=s.insert("g").attr("class","members-group text");let m=0;for(const e of t.members){let t=await mW(c,e,m,[e.parseClassifier()]);m+=t+o}_=c.node().getBBox().height;_<=0&&(_=a/2);h=s.insert("g").attr("class","methods-group text");let g=0;for(const e of t.methods){let t=await mW(h,e,g,[e.parseClassifier()]);g+=t+o}let y=s.node().getBBox();if(l!==null){let e=l.node().getBBox();l.attr("transform",`translate(${-e.width/2})`)}d.attr("transform",`translate(${-f.width/2}, ${u})`);y=s.node().getBBox();c.attr("transform",`translate(${0}, ${u+p+a*2})`);y=s.node().getBBox();h.attr("transform",`translate(${0}, ${u+p+(_?_+a*4:a*2)})`);y=s.node().getBBox();return{shapeSvg:s,bbox:y}}Oo(fW,"textHelper");async function mW(e,t,n,r=[]){var a;const i=e.insert("g").attr("class","label").attr("style",r.join("; "));const o=Ls();let s="useHtmlLabels"in t?t.useHtmlLabels:(a=Zs(o.htmlLabels))!==null&&a!==void 0?a:!0;let l="";if("text"in t){l=t.text}else{l=t.label}!s&&l.startsWith("\\")&&(l=l.substring(1));sl(l)&&(s=!0);const d=await kF(i,Hl(DR(l)),{width:vR(l,o)+50,classes:"markdown-node-label",useHtmlLabels:s},o);let c;let h=1;if(!s){r.includes("font-weight: bolder")&&Qf(d).selectAll("tspan").attr("font-weight","");h=d.children.length;let e=d.children[0];if(d.textContent===""||d.textContent.includes("&gt")){e.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();let t=l[1]===" ";t&&(e.textContent=e.textContent[0]+" "+e.textContent.substring(1))}e.textContent==="undefined"&&(e.textContent="");c=d.getBBox()}else{let e=d.children[0],t=Qf(d);h=e.innerHTML.split("<br>").length;e.innerHTML.includes("</math>")&&(h+=e.innerHTML.split("<mrow>").length-1);let n=e.getElementsByTagName("img");if(n){let e=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...n].map(t=>new Promise(n=>{function r(){var r,a;t.style.display="flex";t.style.flexDirection="column";if(e){let e=(a=(r=o.fontSize)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:window.getComputedStyle(document.body).fontSize,n=5,i=parseInt(e,10)*n+"px";t.style.minWidth=i;t.style.maxWidth=i}else{t.style.width="100%"}n(t)}Oo(r,"setupImage");setTimeout(()=>{t.complete&&r()});t.addEventListener("error",r);t.addEventListener("load",r)})))}c=e.getBoundingClientRect();t.attr("width",c.width);t.attr("height",c.height)}i.attr("transform","translate(0,"+(-c.height/(2*h)+n)+")");return c.height}Oo(mW,"addText");async function gW(e,t){var n,r,a,i,o,s,l,d;const c=jl();const h=(n=c.class.padding)!==null&&n!==void 0?n:12;const u=(a=(r=t.useHtmlLabels)!==null&&r!==void 0?r:Zs(c.htmlLabels))!==null&&a!==void 0?a:!0;const p=t;p.annotations=(i=t.annotations)!==null&&i!==void 0?i:[];p.members=(o=t.members)!==null&&o!==void 0?o:[];p.methods=(s=t.methods)!==null&&s!==void 0?s:[];const{shapeSvg:_,bbox:f}=await fW(e,t,c,u,h);const{labelStyles:m,nodeStyles:g}=Ou(t);t.labelStyle=m;t.cssStyles=t.styles||"";const y=((l=t.styles)===null||l===void 0?void 0:l.join(";"))||g||"";t.cssStyles||(t.cssStyles=y.replaceAll("!important","").split(";"));const x=t.members.length===0&&t.methods.length===0&&!((d=c.class)===null||d===void 0?void 0:d.hideEmptyMembersBox);const b=yj.svg(_);const v=Fu(t,{});if(t.look!=="handDrawn"){v.roughness=0;v.fillStyle="solid"}const k=f.width;let w=f.height;if(t.members.length===0&&t.methods.length===0){w+=h}else t.members.length>0&&t.methods.length===0&&(w+=h*2);const S=-k/2;const C=-w/2;const T=b.rectangle(S-h,C-h-(x?h:t.members.length===0&&t.methods.length===0?-h/2:0),k+2*h,w+2*h+(x?h*2:t.members.length===0&&t.methods.length===0?-h:0),v);const E=_.insert(()=>T,":first-child");E.attr("class","basic label-container");const A=E.node().getBBox();_.selectAll(".text").each((e,n,r)=>{var a;const i=Qf(r[n]);const o=i.attr("transform");let s=0;if(o){let e=RegExp(/translate\(([^,]+),([^)]+)\)/),t=e.exec(o);t&&(s=parseFloat(t[2]))}let l=s+C+h-(x?h:t.members.length===0&&t.methods.length===0?-h/2:0);u||(l-=4);let d=S;if(i.attr("class").includes("label-group")||i.attr("class").includes("annotation-group")){d=-((a=i.node())===null||a===void 0?void 0:a.getBBox().width)/2||0;_.selectAll("text").each(function(e,t,n){window.getComputedStyle(n[t]).textAnchor==="middle"&&(d=0)})}i.attr("transform",`translate(${d}, ${l})`)});const N=_.select(".annotation-group").node().getBBox().height-(x?h/2:0)||0;const P=_.select(".label-group").node().getBBox().height-(x?h/2:0)||0;const L=_.select(".members-group").node().getBBox().height-(x?h/2:0)||0;if(t.members.length>0||t.methods.length>0||x){let e=b.line(A.x,N+P+C+h,A.x+A.width,N+P+C+h,v),t=_.insert(()=>e);t.attr("class","divider").attr("style",y)}if(x||t.members.length>0||t.methods.length>0){let e=b.line(A.x,N+P+L+C+h*2+h,A.x+A.width,N+P+L+C+h+h*2,v),t=_.insert(()=>e);t.attr("class","divider").attr("style",y)}t.look!=="handDrawn"&&_.selectAll("path").attr("style",y);E.select(":nth-child(2)").attr("style",y);_.selectAll(".divider").select("path").attr("style",y);if(t.labelStyle){_.selectAll("span").attr("style",t.labelStyle)}else{_.selectAll("span").attr("style",y)}if(!u){let e=RegExp(/color\s*:\s*([^;]*)/),t=e.exec(y);if(t){let e=t[0].replace("color","fill");_.selectAll("tspan").attr("style",e)}else if(m){let t=e.exec(m);if(t){let e=t[0].replace("color","fill");_.selectAll("tspan").attr("style",e)}}}vj(t,E);t.intersect=function(e){return Gj.rect(t,e)};return _}Oo(gW,"classBox");async function yW(e,t){var n,r,a,i,o;const{labelStyles:s,nodeStyles:l}=Ou(t);t.labelStyle=s;const d=20;const c=20;const h="verifyMethod"in t;const u=kj(t);const p=e.insert("g").attr("class",u).attr("id",(n=t.domId)!==null&&n!==void 0?n:t.id);let _;if(h){_=await xW(p,`&lt;&lt;${t.type}&gt;&gt;`,0,t.labelStyle)}else{_=await xW(p,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle)}let f=_;const m=await xW(p,t.name,f,t.labelStyle+"; font-weight: bold;");f+=m+c;if(h){let e=await xW(p,`${t.requirementId?`ID: ${t.requirementId}`:""}`,f,t.labelStyle);f+=e;let n=await xW(p,`${t.text?`Text: ${t.text}`:""}`,f,t.labelStyle);f+=n;let r=await xW(p,`${t.risk?`Risk: ${t.risk}`:""}`,f,t.labelStyle);f+=r;await xW(p,`${t.verifyMethod?`Verification: ${t.verifyMethod}`:""}`,f,t.labelStyle)}else{let e=await xW(p,`${t.type?`Type: ${t.type}`:""}`,f,t.labelStyle);f+=e;await xW(p,`${t.docRef?`Doc Ref: ${t.docRef}`:""}`,f,t.labelStyle)}const g=((a=(r=p.node())===null||r===void 0?void 0:r.getBBox().width)!==null&&a!==void 0?a:200)+d;const y=((o=(i=p.node())===null||i===void 0?void 0:i.getBBox().height)!==null&&o!==void 0?o:200)+d;const x=-g/2;const b=-y/2;const v=yj.svg(p);const k=Fu(t,{});if(t.look!=="handDrawn"){k.roughness=0;k.fillStyle="solid"}const w=v.rectangle(x,b,g,y,k);const S=p.insert(()=>w,":first-child");S.attr("class","basic label-container").attr("style",l);p.selectAll(".label").each((e,t,n)=>{const r=Qf(n[t]);const a=r.attr("transform");let i=0;let o=0;if(a){let e=RegExp(/translate\(([^,]+),([^)]+)\)/),t=e.exec(a);if(t){i=parseFloat(t[1]);o=parseFloat(t[2])}}const s=o-y/2;let l=x+d/2;(t===0||t===1)&&(l=i);r.attr("transform",`translate(${l}, ${s+d})`)});if(f>_+m+c){let e=v.line(x,b+_+m+c,x+g,b+_+m+c,k),t=p.insert(()=>e);t.attr("style",l)}vj(t,S);t.intersect=function(e){return Gj.rect(t,e)};return p}Oo(yW,"requirementBox");async function xW(e,t,n,r=""){var a;if(t===""){return 0}const i=e.insert("g").attr("class","label").attr("style",r);const o=jl();const s=(a=o.htmlLabels)!==null&&a!==void 0?a:!0;const l=await kF(i,Hl(DR(t)),{width:vR(t,o)+50,classes:"markdown-node-label",useHtmlLabels:s,style:r},o);let d;if(!s){let e=l.children[0];for(const t of e.children){t.textContent=t.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<");r&&t.setAttribute("style",r)}d=l.getBBox();d.height+=6}else{let e=l.children[0],t=Qf(l);d=e.getBoundingClientRect();t.attr("width",d.width);t.attr("height",d.height)}i.attr("transform",`translate(${-d.width/2},${-d.height/2+n})`);return d.height}Oo(xW,"addText");var bW=Oo(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function vW(e,t,{config:n}){var r,a,i;const{labelStyles:o,nodeStyles:s}=Ou(t);t.labelStyle=o||"";const l=10;const d=t.width;t.width=((r=t.width)!==null&&r!==void 0?r:200)-10;const{shapeSvg:c,bbox:h,label:u}=await xj(e,t,kj(t));const p=t.padding||10;let _="";let f;if("ticket"in t&&t.ticket&&((a=n===null||n===void 0?void 0:n.kanban)===null||a===void 0?void 0:a.ticketBaseUrl)){_=(i=n===null||n===void 0?void 0:n.kanban)===null||i===void 0?void 0:i.ticketBaseUrl.replace("#TICKET#",t.ticket);f=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",_).attr("target","_blank")}const m={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let g,y;if(f){({label:g,bbox:y}=await bj(f,"ticket"in t&&t.ticket||"",m))}else{({label:g,bbox:y}=await bj(c,"ticket"in t&&t.ticket||"",m))}const{label:x,bbox:b}=await bj(c,"assigned"in t&&t.assigned||"",m);t.width=d;const v=10;const k=(t===null||t===void 0?void 0:t.width)||0;const w=Math.max(y.height,b.height)/2;const S=Math.max(h.height+v*2,(t===null||t===void 0?void 0:t.height)||0)+w;const C=-k/2;const T=-S/2;u.attr("transform","translate("+(p-k/2)+", "+(-w-h.height/2)+")");g.attr("transform","translate("+(p-k/2)+", "+(-w+h.height/2)+")");x.attr("transform","translate("+(p+k/2-b.width-2*l)+", "+(-w+h.height/2)+")");let E;const{rx:A,ry:N}=t;const{cssStyles:P}=t;if(t.look==="handDrawn"){let e=yj.svg(c),n=Fu(t,{}),r=A||N?e.path(Pj(C,T,k,S,A||0),n):e.rectangle(C,T,k,S,n);E=c.insert(()=>r,":first-child");E.attr("class","basic label-container").attr("style",P?P:null)}else{E=c.insert("rect",":first-child");E.attr("class","basic label-container __APA__").attr("style",s).attr("rx",A!==null&&A!==void 0?A:5).attr("ry",N!==null&&N!==void 0?N:5).attr("x",C).attr("y",T).attr("width",k).attr("height",S);let e="priority"in t&&t.priority;if(e){let t=c.append("line"),n=C+2,r=T+Math.floor((A!==null&&A!==void 0?A:0)/2),a=T+S-Math.floor((A!==null&&A!==void 0?A:0)/2);t.attr("x1",n).attr("y1",r).attr("x2",n).attr("y2",a).attr("stroke-width","4").attr("stroke",bW(e))}}vj(t,E);t.height=S;t.intersect=function(e){return Gj.rect(t,e)};return c}Oo(vW,"kanbanItem");var kW=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:VH},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:qH},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:XH},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:JH},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:uH},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Jj},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:WH},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:xH},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:PH},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:NH},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:sW},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:TH},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:_H},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:nW},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Qj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:GH},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:ZH},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:QH},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:gH},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:bH},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:rH},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:iH},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:sH},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:LH},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:cW},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:yH},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:oW},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:RH},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:lH},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:pH},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:dW},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:uW},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:fH},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:lW},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:mH},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:YH},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:FH},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:OH},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Xj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:tH},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:tW},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:eW},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:hW},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:zH},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:BH}];var wW=Oo(()=>{const e={state:KH,choice:Zj,note:jH,rectWithTitle:$H,labelRect:AH,iconSquare:SH,iconCircle:kH,icon:vH,iconRounded:wH,imageSquare:CH,anchor:Yj,kanbanItem:vW,classBox:gW,erBox:pW,requirementBox:yW};const t=[...Object.entries(e),...kW.flatMap(e=>{const t=[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]];return t.map(t=>[t,e.handler])})];return Object.fromEntries(t)},"generateShapeMap");var SW=wW();function CW(e){return e in SW}Oo(CW,"isValidShape");var TW=new Map;async function EW(e,t,n){let r;let a;if(t.shape==="rect"){if(t.rx&&t.ry){t.shape="roundedRect"}else{t.shape="squareRect"}}const i=t.shape?SW[t.shape]:void 0;if(!i){throw new Error(`No such shape: ${t.shape}. Please check your syntax.`)}if(t.link){let o;if(n.config.securityLevel==="sandbox"){o="_top"}else t.linkTarget&&(o=t.linkTarget||"_blank");r=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o!==null&&o!==void 0?o:null);a=await i(r,t,n)}else{a=await i(e,t,n);r=a}t.tooltip&&a.attr("title",t.tooltip);TW.set(t.id,r);t.haveCallback&&r.attr("class",r.attr("class")+" clickable");return r}Oo(EW,"insertNode");var AW=Oo((e,t)=>{TW.set(t.id,e)},"setNodeElem");var NW=Oo(()=>{TW.clear()},"clear");var PW=Oo(e=>{const t=TW.get(e.id);Ho.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8;const r=e.diff||0;if(e.clusterNode){t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-n)+")")}else{t.attr("transform","translate("+e.x+", "+e.y+")")}return r},"positionNode");var LW=Oo((e,t,n,r,a,i)=>{t.arrowTypeStart&&DW(e,"start",t.arrowTypeStart,n,r,a,i);t.arrowTypeEnd&&DW(e,"end",t.arrowTypeEnd,n,r,a,i)},"addEdgeMarkers");var MW={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}};var DW=Oo((e,t,n,r,a,i,o)=>{var s;const l=MW[n];if(!l){Ho.warn(`Unknown arrow type: ${n}`);return}const d=l.type;const c=t==="start"?"Start":"End";const h=`${a}_${i}-${d}${c}`;if(o&&o.trim()!==""){let n=o.replace(/[^\dA-Za-z]/g,"_"),a=`${h}_${n}`;if(!document.getElementById(a)){let e=document.getElementById(h);if(e){let t=e.cloneNode(!0);t.id=a;let n=t.querySelectorAll("path, circle, line");n.forEach(e=>{e.setAttribute("stroke",o);l.fill&&e.setAttribute("fill",o)});(s=e.parentNode)===null||s===void 0?void 0:s.appendChild(t)}}e.attr(`marker-${t}`,`url(${r}#${a})`)}else{e.attr(`marker-${t}`,`url(${r}#${h})`)}},"addEdgeMarker");var IW=new Map;var RW=new Map;var BW=Oo(()=>{IW.clear();RW.clear()},"clear");var OW=Oo(e=>{let t=e?e.reduce((e,t)=>e+";"+t,""):"";return t},"getLabelStyles");var FW=Oo(async(e,t)=>{let n=Zs(jl().flowchart.htmlLabels);const r=await kF(e,t.label,{style:OW(t.labelStyle),useHtmlLabels:n,addSvgBackground:!0,isNode:!1});Ho.info("abc82",t,t.labelType);const a=e.insert("g").attr("class","edgeLabel");const i=a.insert("g").attr("class","label");i.node().appendChild(r);let o=r.getBBox();if(n){let e=r.children[0],t=Qf(r);o=e.getBoundingClientRect();t.attr("width",o.width);t.attr("height",o.height)}i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")");IW.set(t.id,a);t.width=o.width;t.height=o.height;let s;if(t.startLabelLeft){let n=await Nj(t.startLabelLeft,OW(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),a=r.insert("g").attr("class","inner");s=a.node().appendChild(n);let i=n.getBBox();a.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");RW.get(t.id)||RW.set(t.id,{});RW.get(t.id).startLeft=r;jW(s,t.startLabelLeft)}if(t.startLabelRight){let n=await Nj(t.startLabelRight,OW(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),a=r.insert("g").attr("class","inner");s=r.node().appendChild(n);a.node().appendChild(n);let i=n.getBBox();a.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");RW.get(t.id)||RW.set(t.id,{});RW.get(t.id).startRight=r;jW(s,t.startLabelRight)}if(t.endLabelLeft){let n=await Nj(t.endLabelLeft,OW(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),a=r.insert("g").attr("class","inner");s=a.node().appendChild(n);let i=n.getBBox();a.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");r.node().appendChild(n);RW.get(t.id)||RW.set(t.id,{});RW.get(t.id).endLeft=r;jW(s,t.endLabelLeft)}if(t.endLabelRight){let n=await Nj(t.endLabelRight,OW(t.labelStyle)),r=e.insert("g").attr("class","edgeTerminals"),a=r.insert("g").attr("class","inner");s=a.node().appendChild(n);let i=n.getBBox();a.attr("transform","translate("+-i.width/2+", "+-i.height/2+")");r.node().appendChild(n);RW.get(t.id)||RW.set(t.id,{});RW.get(t.id).endRight=r;jW(s,t.endLabelRight)}return r},"insertEdgeLabel");function jW(e,t){if(jl().flowchart.htmlLabels&&e){e.style.width=t.length*9+"px";e.style.height="12px"}}Oo(jW,"setTerminalWidth");var HW=Oo((e,t)=>{
Ho.debug("Moving label abc88 ",e.id,e.label,IW.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const r=jl();const{subGraphTitleTotalMargin:a}=Mu(r);if(e.label){let r=IW.get(e.id),i=e.x,o=e.y;if(n){let r=LR.calcLabelPosition(n);Ho.debug("Moving label "+e.label+" from (",i,",",o,") to (",r.x,",",r.y,") abc88");if(t.updatedPath){i=r.x;o=r.y}}r.attr("transform",`translate(${i}, ${o+a/2})`)}if(e.startLabelLeft){let t=RW.get(e.id).startLeft,r=e.x,a=e.y;if(n){let t=LR.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);r=t.x;a=t.y}t.attr("transform",`translate(${r}, ${a})`)}if(e.startLabelRight){let t=RW.get(e.id).startRight,r=e.x,a=e.y;if(n){let t=LR.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);r=t.x;a=t.y}t.attr("transform",`translate(${r}, ${a})`)}if(e.endLabelLeft){let t=RW.get(e.id).endLeft,r=e.x,a=e.y;if(n){let t=LR.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);r=t.x;a=t.y}t.attr("transform",`translate(${r}, ${a})`)}if(e.endLabelRight){let t=RW.get(e.id).endRight,r=e.x,a=e.y;if(n){let t=LR.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);r=t.x;a=t.y}t.attr("transform",`translate(${r}, ${a})`)}},"positionEdgeLabel");var WW=Oo((e,t)=>{const n=e.x;const r=e.y;const a=Math.abs(t.x-n);const i=Math.abs(t.y-r);const o=e.width/2;const s=e.height/2;return a>=o||i>=s},"outsideNode");var zW=Oo((e,t,n)=>{Ho.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(n)}\n  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const r=e.x;const a=e.y;const i=Math.abs(r-n.x);const o=e.width/2;let s=n.x<t.x?o-i:o+i;const l=e.height/2;const d=Math.abs(t.y-n.y);const c=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*o>Math.abs(r-t.x)*l){let e=n.y<t.y?t.y-l-a:a-l-t.y;s=c*e/d;let r={x:n.x<t.x?n.x+s:n.x-c+s,y:n.y<t.y?n.y+d-e:n.y-d+e};if(s===0){r.x=t.x;r.y=t.y}c===0&&(r.x=t.x);d===0&&(r.y=t.y);Ho.debug(`abc89 top/bottom calc, Q ${d}, q ${e}, R ${c}, r ${s}`,r);return r}else{if(n.x<t.x){s=t.x-o-r}else{s=r-o-t.x}let e=d*s/c,a=n.x<t.x?n.x+c-s:n.x-c+s,i=n.y<t.y?n.y+e:n.y-e;Ho.debug(`sides calc abc89, Q ${d}, q ${e}, R ${c}, r ${s}`,{_x:a,_y:i});if(s===0){a=t.x;i=t.y}c===0&&(a=t.x);d===0&&(i=t.y);return{x:a,y:i}}},"intersection");var $W=Oo((e,t)=>{Ho.warn("abc88 cutPathAtIntersect",e,t);let n=[];let r=e[0];let a=!1;e.forEach(e=>{Ho.info("abc88 checking point",e,t);if(!WW(t,e)&&!a){let i=zW(t,r,e);Ho.debug("abc88 inside",e,r,i);Ho.debug("abc88 intersection",i,t);let o=!1;n.forEach(e=>{o=o||e.x===i.x&&e.y===i.y});if(!n.some(e=>e.x===i.x&&e.y===i.y)){n.push(i)}else{Ho.warn("abc88 no intersect",i,n)}a=!0}else{Ho.warn("abc88 outside",e,r);r=e;a||n.push(e)}});Ho.debug("returning points",n);return n},"cutPathAtIntersect");function UW(e){const t=[];const n=[];for(let r=1;r<e.length-1;r++){let a=e[r-1],i=e[r],o=e[r+1];if(a.x===i.x&&i.y===o.y&&Math.abs(i.x-o.x)>5&&Math.abs(i.y-a.y)>5){t.push(i);n.push(r)}else if(a.y===i.y&&i.x===o.x&&Math.abs(i.x-a.x)>5&&Math.abs(i.y-o.y)>5){t.push(i);n.push(r)}}return{cornerPoints:t,cornerPointPositions:n}}Oo(UW,"extractCornerPoints");var qW=Oo(function(e,t,n){const r=t.x-e.x;const a=t.y-e.y;const i=Math.sqrt(r*r+a*a);const o=n/i;return{x:t.x-o*r,y:t.y-o*a}},"findAdjacentPoint");var GW=Oo(function(e){const{cornerPointPositions:t}=UW(e);const n=[];for(let r=0;r<e.length;r++){if(t.includes(r)){let t=e[r-1],a=e[r+1],i=e[r],o=qW(t,i,5),s=qW(a,i,5),l=s.x-o.x,d=s.y-o.y;n.push(o);let c=Math.sqrt(2)*2,h={x:i.x,y:i.y};if(Math.abs(a.x-t.x)>10&&Math.abs(a.y-t.y)>=10){Ho.debug("Corner point fixing",Math.abs(a.x-t.x),Math.abs(a.y-t.y));let e=5;if(i.x===o.x){h={x:l<0?o.x-e+c:o.x+e-c,y:d<0?o.y-c:o.y+c}}else{h={x:l<0?o.x-c:o.x+c,y:d<0?o.y-e+c:o.y+e-c}}}else{Ho.debug("Corner point skipping fixing",Math.abs(a.x-t.x),Math.abs(a.y-t.y))}n.push(h,s)}else{n.push(e[r])}}return n},"fixCorners");var YW=Oo(function(e,t,n,r,a,i,o){var s;const{handDrawnSeed:l}=jl();let d=t.points;let c=!1;const h=[];for(const e in t.cssCompiledStyles){if(Bu(e)){continue}h.push(t.cssCompiledStyles[e])}if(i.intersect&&a.intersect){d=d.slice(1,t.points.length-1);d.unshift(a.intersect(d[0]));Ho.debug("Last point APA12",t.start,"--\x3e",t.end,d[d.length-1],i,i.intersect(d[d.length-1]));d.push(i.intersect(d[d.length-1]))}if(t.toCluster){Ho.info("to cluster abc88",n.get(t.toCluster));d=$W(t.points,n.get(t.toCluster).node);c=!0}if(t.fromCluster){Ho.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(d,null,2));d=$W(d.reverse(),n.get(t.fromCluster).node).reverse();c=!0}let u=d.filter(e=>!Number.isNaN(e.y));u=GW(u);let p=jP;p=vP;switch(t.curve){case"linear":p=vP;break;case"basis":p=jP;break;case"cardinal":p=VP;break;case"bumpX":p=PP;break;case"bumpY":p=LP;break;case"catmullRom":p=tL;break;case"monotoneX":p=fL;break;case"monotoneY":p=mL;break;case"natural":p=xL;break;case"step":p=vL;break;case"stepAfter":p=wL;break;case"stepBefore":p=kL;break;default:p=jP}const{x:_,y:f}=Lu(t);const m=SP().x(_).y(f).curve(p);let g;switch(t.thickness){case"normal":g="edge-thickness-normal";break;case"thick":g="edge-thickness-thick";break;case"invisible":g="edge-thickness-invisible";break;default:g="edge-thickness-normal"}switch(t.pattern){case"solid":g+=" edge-pattern-solid";break;case"dotted":g+=" edge-pattern-dotted";break;case"dashed":g+=" edge-pattern-dashed";break;default:g+=" edge-pattern-solid"}let y;let x=m(u);const b=Array.isArray(t.style)?t.style:t.style?[t.style]:[];let v=b.find(e=>e===null||e===void 0?void 0:e.startsWith("stroke:"));if(t.look==="handDrawn"){let n=yj.svg(e);Object.assign([],u);let r=n.path(x,{roughness:.3,seed:l});g+=" transition";y=Qf(r).select("path").attr("id",t.id).attr("class"," "+g+(t.classes?" "+t.classes:"")).attr("style",b?b.reduce((e,t)=>e+";"+t,""):"");let a=y.attr("d");y.attr("d",a);e.node().appendChild(y.node())}else{let n=h.join(";"),r=b?b.reduce((e,t)=>e+t+";",""):"",a="";t.animate&&(a=" edge-animation-fast");t.animation&&(a=" edge-animation-"+t.animation);let i=n?n+";"+r+";":r;y=e.append("path").attr("d",x).attr("id",t.id).attr("class"," "+g+(t.classes?" "+t.classes:"")+(a!==null&&a!==void 0?a:"")).attr("style",i);v=(s=i.match(/stroke:([^;]+)/))===null||s===void 0?void 0:s[1]}let k="";(jl().flowchart.arrowMarkerAbsolute||jl().state.arrowMarkerAbsolute)&&(k=Qs(!0));Ho.info("arrowTypeStart",t.arrowTypeStart);Ho.info("arrowTypeEnd",t.arrowTypeEnd);LW(y,t,k,o,r,v);const w=Math.floor(d.length/2);const S=d[w];LR.isLabelCoordinateInPath(S,y.attr("d"))||(c=!0);let C={};c&&(C.updatedPath=d);C.originalPath=t.points;return C},"insertEdge");var VW=Oo((e,t,n,r)=>{t.forEach(t=>{cz[t](e,n,r)})},"insertMarkers");var XW=Oo((e,t,n)=>{Ho.trace("Making markers for ",n);e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension");var KW=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition");var QW=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation");var ZW=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z");e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency");var JW=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6);e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop");var ez=Oo((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point");var tz=Oo((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle");var nz=Oo((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0");e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross");var rz=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb");var az=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18");e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one");var iz=Oo((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6);r.append("path").attr("d","M9,0 L9,18");const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6);a.append("path").attr("d","M21,0 L21,18")},"zero_or_one");var oz=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more");var sz=Oo((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6);r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6);a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more");var lz=Oo((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0\n      L20,10\n      M20,10\n      L0,20`)},"requirement_arrow");var dz=Oo((e,t,n)=>{const r=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none");r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10);r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains");var cz={extension:XW,composition:KW,aggregation:QW,dependency:ZW,lollipop:JW,point:ez,circle:tz,cross:nz,barb:rz,only_one:az,zero_or_one:iz,one_or_more:oz,zero_or_more:sz,requirement_arrow:lz,requirement_contains:dz};var hz=cM(NL,"WeakMap");var uz=cD(Object.keys,Object);var pz=Object.prototype;var _z=pz.hasOwnProperty;function fz(e){if(!pD(e)){return uz(e)}var t=[];for(var n in Object(e)){_z.call(e,n)&&n!="constructor"&&t.push(n)}return t}var mz=cM(NL,"DataView");var gz=cM(NL,"Promise");var yz=cM(NL,"Set");var xz="[object Map]",bz="[object Object]",vz="[object Promise]",kz="[object Set]",wz="[object WeakMap]";var Sz="[object DataView]";var Cz=eM(mz),Tz=eM(IM),Ez=eM(gz),Az=eM(yz),Nz=eM(hz);var Pz=zL;(mz&&Pz(new mz(new ArrayBuffer(1)))!=Sz||IM&&Pz(new IM)!=xz||gz&&Pz(gz.resolve())!=vz||yz&&Pz(new yz)!=kz||hz&&Pz(new hz)!=wz)&&(Pz=function(t){var n=zL(t),r=n==bz?t.constructor:e,a=r?eM(r):"";if(a){switch(a){case Cz:return Sz;case Tz:return xz;case Ez:return vz;case Az:return kz;case Nz:return wz}}return n});var Lz=Pz;var Mz="[object Map]",Dz="[object Set]";var Iz=Object.prototype;var Rz=Iz.hasOwnProperty;function Bz(e){if(e==null){return!0}if(CD(e)&&(kD(e)||typeof e=="string"||typeof e.splice=="function"||AD(e)||hI(e)||vD(e))){return!e.length}var t=Lz(e);if(t==Mz||t==Dz){return!e.size}if(pD(e)){return!fz(e).length}for(var n in e){if(Rz.call(e,n)){return!1}}return!0}var Oz={common:ul,getConfig:Ls,insertCluster:Fj,insertEdge:YW,insertEdgeLabel:FW,insertMarkers:VW,insertNode:EW,interpolateToCurve:tR,labelHelper:xj,log:Ho,positionEdgeLabel:HW};var Fz={};var jz=Oo(e=>{for(const t of e){Fz[t.name]=t}},"registerLayoutLoaders");var Hz=Oo(()=>{jz([{name:"dagre",loader:Oo(async()=>await r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("e.js","d").then(function(){return r("f.js","e")})})}),"loader")}])},"registerDefaultLayoutLoaders");Hz();var Wz=Oo(async(e,t)=>{if(!(e.layoutAlgorithm in Fz)){throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`)}const n=Fz[e.layoutAlgorithm];const r=await n.loader();return r.render(e,t,Oz,{algorithm:n.algorithm})},"render");var zz=Oo((e="",{fallback:t="dagre"}={})=>{if(e in Fz){return e}if(t in Fz){Ho.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`);return t}throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm");var $z={name:"mermaid",version:"11.10.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}};var Uz=Oo(e=>{var t,n;const{securityLevel:r}=jl();let a=Qf("body");if(r==="sandbox"){let r=Qf(`#i${e}`),i=(n=(t=r.node())===null||t===void 0?void 0:t.contentDocument)!==null&&n!==void 0?n:document;a=Qf(i.body)}const i=a.select(`#${e}`);return i},"selectSvgElement");var qz="comm";var Gz="rule";var Yz="decl";var Vz="@import";var Xz="@namespace";var Kz="@keyframes";var Qz="@layer";var Zz=Math.abs;var Jz=String.fromCharCode;function e$(e){return e.trim()}function t$(e,t,n){return e.replace(t,n)}function n$(e,t,n){return e.indexOf(t,n)}function r$(e,t){return e.charCodeAt(t)|0}function a$(e,t,n){return e.slice(t,n)}function i$(e){return e.length}function o$(e){return e.length}function s$(e,t){return t.push(e),e}var l$=1;var d$=1;var c$=0;var h$=0;var u$=0;var p$="";function _$(e,t,n,r,a,i,o,s){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:l$,column:d$,length:o,return:"",siblings:s}}function f$(){return u$}function m$(){u$=h$>0?r$(p$,--h$):0;(d$--,u$===10)&&(d$=1,l$--);return u$}function g$(){u$=h$<c$?r$(p$,h$++):0;(d$++,u$===10)&&(d$=1,l$++);return u$}function y$(){return r$(p$,h$)}function x$(){return h$}function b$(e,t){return a$(p$,e,t)}function v$(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k$(e){return l$=d$=1,c$=i$(p$=e),h$=0,[]}function w$(e){return p$="",e}function S$(e){return e$(b$(h$-1,E$(e===91?e+2:e===40?e+1:e)))}function C$(e){while(u$=y$())if(u$<33)g$();else break;return v$(e)>2||v$(u$)>3?"":" "}function T$(e,t){while(--t&&g$())if(u$<48||u$>102||u$>57&&u$<65||u$>70&&u$<97)break;return b$(e,x$()+(t<6&&y$()==32&&g$()==32))}function E$(e){while(g$())switch(u$){case e:return h$;case 34:case 39:e!==34&&e!==39&&E$(u$);break;case 40:e===41&&E$(e);break;case 92:g$();break}return h$}function A$(e,t){while(g$())if(e+u$===47+10)break;else if(e+u$===42+42&&y$()===47)break;return"/*"+b$(t,h$-1)+"*"+Jz(e===47?e:g$())}function N$(e){while(!v$(y$()))g$();return b$(e,h$)}function P$(e){return w$(L$("",null,null,null,[""],e=k$(e),0,[0],e))}function L$(e,t,n,r,a,i,o,s,l){var d=0;var c=0;var h=o;var u=0;var p=0;var _=0;var f=1;var m=1;var g=1;var y=0;var x="";var b=a;var v=i;var k=r;var w=x;while(m)switch(_=y,y=g$()){case 40:if(_!=108&&r$(w,h-1)==58){n$(w+=t$(S$(y),"&","&\f"),"&\f",Zz(d?s[d-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:w+=S$(y);break;case 9:case 10:case 13:case 32:w+=C$(_);break;case 92:w+=T$(x$()-1,7);continue;case 47:switch(y$()){case 42:case 47:s$(D$(A$(g$(),x$()),t,n,l),l);(v$(_||1)==5||v$(y$()||1)==5)&&i$(w)&&a$(w,-1,void 0)!==" "&&(w+=" ");break;default:w+="/"}break;case 123*f:s[d++]=i$(w)*g;case 125*f:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:g==-1&&(w=t$(w,/\f/g,""));p>0&&(i$(w)-h||f===0&&_===47)&&s$(p>32?I$(w+";",r,n,h-1,l):I$(t$(w," ","")+";",r,n,h-2,l),l);break;case 59:w+=";";default:s$(k=M$(w,t,n,d,c,a,s,x,b=[],v=[],h,i),i);if(y===123)if(c===0)L$(w,t,k,k,b,i,h,s,v);else{switch(u){case 99:if(r$(w,3)===110)break;case 108:if(r$(w,2)===97)break;default:c=0;case 100:case 109:case 115:}if(c)L$(e,k,k,r&&s$(M$(e,k,k,0,0,a,s,x,a,b=[],h,v),v),a,v,h,s,r?b:v);else L$(w,k,k,k,[""],v,0,s,v)}}d=c=p=0,f=g=1,x=w="",h=o;break;case 58:h=1+i$(w),p=_;default:if(f<1)if(y==123)--f;else if(y==125&&f++==0&&m$()==125)continue;switch(w+=Jz(y),y*f){case 38:g=c>0?1:(w+="\f",-1);break;case 44:s[d++]=(i$(w)-1)*g,g=1;break;case 64:y$()===45&&(w+=S$(g$()));u=y$(),c=h=i$(x=w+=N$(x$())),y++;break;case 45:_===45&&i$(w)==2&&(f=0)}}return i}function M$(e,t,n,r,a,i,o,s,l,d,c,h){var u=a-1;var p=a===0?i:[""];var _=o$(p);for(var f=0,m=0,g=0;f<r;++f)for(var y=0,x=a$(e,u+1,u=Zz(m=o[f])),b=e;y<_;++y)(b=e$(m>0?p[y]+" "+x:t$(x,/&\f/g,p[y])))&&(l[g++]=b);return _$(e,t,n,a===0?Gz:s,l,d,c,h)}function D$(e,t,n,r){return _$(e,t,n,qz,Jz(f$()),a$(e,2,-2),0,r)}function I$(e,t,n,r,a){return _$(e,t,n,Yz,a$(e,0,r),a$(e,r+1,-1),r,a)}function R$(e,t){var n="";for(var r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function B$(e,t,n,r){switch(e.type){case Qz:if(e.children.length)break;case Vz:case Xz:case Yz:return e.return=e.return||e.value;case qz:return"";case Kz:return e.return=e.value+"{"+R$(e.children,r)+"}";case Gz:if(!i$(e.value=e.props.join(",")))return""}return i$(n=R$(e.children,r))?e.return=e.value+"{"+n+"}":""}var O$;var F$="c4";var j$=Oo(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector");var H$=Oo(async()=>{const{diagram:e}=await r("g.js","f").then(function(){return r("h.js","g")});return{id:F$,diagram:e}},"loader");var W$={id:F$,detector:j$,loader:H$};var z$="flowchart";var $$=Oo((e,t)=>{var n,r;if(((n=t===null||t===void 0?void 0:t.flowchart)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=t===null||t===void 0?void 0:t.flowchart)===null||r===void 0?void 0:r.defaultRenderer)==="elk"){return!1}return/^\s*graph/.test(e)},"detector");var U$=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("l.js","k")})})});return{id:z$,diagram:e}},"loader");var q$={id:z$,detector:$$,loader:U$};var G$="flowchart-v2";var Y$=Oo((e,t)=>{var n,r,a;if(((n=t===null||t===void 0?void 0:t.flowchart)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-d3"){return!1}((r=t===null||t===void 0?void 0:t.flowchart)===null||r===void 0?void 0:r.defaultRenderer)==="elk"&&(t.layout="elk");if(/^\s*graph/.test(e)&&((a=t===null||t===void 0?void 0:t.flowchart)===null||a===void 0?void 0:a.defaultRenderer)==="dagre-wrapper"){return!0}return/^\s*flowchart/.test(e)},"detector");var V$=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("l.js","k")})})});return{id:G$,diagram:e}},"loader");var X$={id:G$,detector:Y$,loader:V$};var K$="er";var Q$=Oo(e=>/^\s*erDiagram/.test(e),"detector");var Z$=Oo(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("m.js","l")})});return{id:K$,diagram:e}},"loader");var J$={id:K$,detector:Q$,loader:Z$};var eU="gitGraph";var tU=Oo(e=>/^\s*gitGraph/.test(e),"detector");var nU=Oo(async()=>{const{diagram:e}=await r("n.js","m").then(function(){return r("o.js","n").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("x.js","w")})})})})});return{id:eU,diagram:e}},"loader");var rU={id:eU,detector:tU,loader:nU};var aU="gantt";var iU=Oo(e=>/^\s*gantt/.test(e),"detector");var oU=Oo(async()=>{const{diagram:e}=await r("y.js","x");return{id:aU,diagram:e}},"loader");var sU={id:aU,detector:iU,loader:oU};var lU="info";var dU=Oo(e=>/^\s*info/.test(e),"detector");var cU=Oo(async()=>{const{diagram:e}=await r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("z.js","y")})})});return{id:lU,diagram:e}},"loader");var hU={id:lU,detector:dU,loader:cU};var uU="pie";var pU=Oo(e=>/^\s*pie/.test(e),"detector");var _U=Oo(async()=>{const{diagram:e}=await r("n.js","m").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("aa.js","z")})})})});return{id:uU,diagram:e}},"loader");var fU={id:uU,detector:pU,loader:_U};var mU="quadrantChart";var gU=Oo(e=>/^\s*quadrantChart/.test(e),"detector");var yU=Oo(async()=>{const{diagram:e}=await r("ba.js","A");return{id:mU,diagram:e}},"loader");var xU={id:mU,detector:gU,loader:yU};var bU="xychart";var vU=Oo(e=>/^\s*xychart(-beta)?/.test(e),"detector");var kU=Oo(async()=>{const{diagram:e}=await r("ca.js","B");return{id:bU,diagram:e}},"loader");var wU={id:bU,detector:vU,loader:kU};var SU="requirement";var CU=Oo(e=>/^\s*requirement(Diagram)?/.test(e),"detector");var TU=Oo(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("da.js","C")})});return{id:SU,diagram:e}},"loader");var EU={id:SU,detector:CU,loader:TU};var AU="sequence";var NU=Oo(e=>/^\s*sequenceDiagram/.test(e),"detector");var PU=Oo(async()=>{const{diagram:e}=await r("g.js","f").then(function(){return r("o.js","n").then(function(){return r("ea.js","D")})});return{id:AU,diagram:e}},"loader");var LU={id:AU,detector:NU,loader:PU};var MU="class";var DU=Oo((e,t)=>{var n;if(((n=t===null||t===void 0?void 0:t.class)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!1}return/^\s*classDiagram/.test(e)},"detector");var IU=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("fa.js","E").then(function(){return r("ga.js","F")})})})});return{id:MU,diagram:e}},"loader");var RU={id:MU,detector:DU,loader:IU};var BU="classDiagram";var OU=Oo((e,t)=>{var n;if(/^\s*classDiagram/.test(e)&&((n=t===null||t===void 0?void 0:t.class)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!0}return/^\s*classDiagram-v2/.test(e)},"detector");var FU=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("fa.js","E").then(function(){return r("ha.js","G")})})})});return{id:BU,diagram:e}},"loader");var jU={id:BU,detector:OU,loader:FU};var HU="state";var WU=Oo((e,t)=>{var n;if(((n=t===null||t===void 0?void 0:t.state)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){return!1}return/^\s*stateDiagram/.test(e)},"detector");var zU=Oo(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("ia.js","H").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("e.js","d").then(function(){return r("ja.js","I")})})})})})});return{id:HU,diagram:e}},"loader");var $U={id:HU,detector:WU,loader:zU};var UU="stateDiagram";var qU=Oo((e,t)=>{var n;if(/^\s*stateDiagram-v2/.test(e)){return!0}if(/^\s*stateDiagram/.test(e)&&((n=t===null||t===void 0?void 0:t.state)===null||n===void 0?void 0:n.defaultRenderer)==="dagre-wrapper"){
return!0}return!1},"detector");var GU=Oo(async()=>{const{diagram:e}=await r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("ia.js","H").then(function(){return r("ka.js","J")})})});return{id:UU,diagram:e}},"loader");var YU={id:UU,detector:qU,loader:GU};var VU="journey";var XU=Oo(e=>/^\s*journey/.test(e),"detector");var KU=Oo(async()=>{const{diagram:e}=await r("g.js","f").then(function(){return r("i.js","h").then(function(){return r("la.js","K")})});return{id:VU,diagram:e}},"loader");var QU={id:VU,detector:XU,loader:KU};var ZU=Oo((e,t,n)=>{Ho.debug("rendering svg for syntax error\n");const r=Uz(t);const a=r.append("g");r.attr("viewBox","0 0 2412 512");fl(r,100,512,!0);a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z");a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z");a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z");a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z");a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z");a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z");a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text");a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw");var JU={draw:ZU};var eq=JU;var tq={db:{},renderer:JU,parser:{parse:Oo(()=>{return},"parse")}};var nq="flowchart-elk";var rq=Oo((e,t={})=>{var n;if(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((n=t===null||t===void 0?void 0:t.flowchart)===null||n===void 0?void 0:n.defaultRenderer)==="elk"){t.layout="elk";return!0}return!1},"detector");var aq=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("j.js","i").then(function(){return r("k.js","j").then(function(){return r("l.js","k")})})});return{id:nq,diagram:e}},"loader");var iq={id:nq,detector:rq,loader:aq};var oq="timeline";var sq=Oo(e=>/^\s*timeline/.test(e),"detector");var lq=Oo(async()=>{const{diagram:e}=await r("ma.js","L");return{id:oq,diagram:e}},"loader");var dq={id:oq,detector:sq,loader:lq};var cq="mindmap";var hq=Oo(e=>/^\s*mindmap/.test(e),"detector");var uq=Oo(async()=>{const{diagram:e}=await r("oa.js","N").then(function(){return r("na.js","M").then(function(){return r("pa.js","O")})});return{id:cq,diagram:e}},"loader");var pq={id:cq,detector:hq,loader:uq};var _q="kanban";var fq=Oo(e=>/^\s*kanban/.test(e),"detector");var mq=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("qa.js","P")});return{id:_q,diagram:e}},"loader");var gq={id:_q,detector:fq,loader:mq};var yq="sankey";var xq=Oo(e=>/^\s*sankey(-beta)?/.test(e),"detector");var bq=Oo(async()=>{const{diagram:e}=await r("ra.js","Q");return{id:yq,diagram:e}},"loader");var vq={id:yq,detector:xq,loader:bq};var kq="packet";var wq=Oo(e=>/^\s*packet(-beta)?/.test(e),"detector");var Sq=Oo(async()=>{const{diagram:e}=await r("n.js","m").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("sa.js","R")})})})});return{id:kq,diagram:e}},"loader");var Cq={id:kq,detector:wq,loader:Sq};var Tq="radar";var Eq=Oo(e=>/^\s*radar-beta/.test(e),"detector");var Aq=Oo(async()=>{const{diagram:e}=await r("n.js","m").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("ta.js","S")})})})});return{id:Tq,diagram:e}},"loader");var Nq={id:Tq,detector:Eq,loader:Aq};var Pq="block";var Lq=Oo(e=>/^\s*block(-beta)?/.test(e),"detector");var Mq=Oo(async()=>{const{diagram:e}=await r("i.js","h").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("ua.js","T")})})});return{id:Pq,diagram:e}},"loader");var Dq={id:Pq,detector:Lq,loader:Mq};var Iq="architecture";var Rq=Oo(e=>/^\s*architecture/.test(e),"detector");var Bq=Oo(async()=>{const{diagram:e}=await r("oa.js","N").then(function(){return r("n.js","m").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("na.js","M").then(function(){return r("va.js","U")})})})})})});return{id:Iq,diagram:e}},"loader");var Oq={id:Iq,detector:Rq,loader:Bq};var Fq="treemap";var jq=Oo(e=>/^\s*treemap/.test(e),"detector");var Hq=Oo(async()=>{const{diagram:e}=await r("k.js","j").then(function(){return r("n.js","m").then(function(){return r("d.js","c").then(function(){return r("c.js","b").then(function(){return r("p.js","o").then(function(){return r("wa.js","V")})})})})});return{id:Fq,diagram:e}},"loader");var Wq={id:Fq,detector:jq,loader:Hq};var zq=!1;var $q=Oo(()=>{if(zq){return}zq=!0;$l("error",tq,e=>e.toLowerCase().trim()==="error");$l("---",{db:{clear:Oo(()=>{},"clear")},styles:{},renderer:{draw:Oo(()=>{},"draw")},parser:{parse:Oo(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:Oo(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---"));{Xo(iq,pq,Oq)}Xo(W$,gq,jU,RU,J$,sU,hU,fU,EU,LU,X$,q$,dq,rU,YU,$U,QU,xU,vq,Cq,wU,Dq,Nq,Wq)},"addDiagrams");var Uq=Oo(async()=>{Ho.debug(`Loading registered diagrams`);const e=await Promise.allSettled(Object.entries(Yo).map(async([e,{detector:t,loader:n}])=>{if(!n){return}try{Ul(e)}catch{try{const{diagram:r,id:a}=await n();$l(a,r,t)}catch(t){Ho.error(`Failed to load external diagram with key ${e}. Removing from detectors.`);delete Yo[e];throw t}}}));const t=e.filter(e=>e.status==="rejected");if(t.length>0){Ho.error(`Failed to load ${t.length} external diagrams`);for(const e of t){Ho.error(e)}throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams");var qq="graphics-document document";function Gq(e,t){e.attr("role",qq);t!==""&&e.attr("aria-roledescription",t)}Oo(Gq,"setA11yDiagramInfo");function Yq(e,t,n,r){if(e.insert===void 0){return}if(n){let t=`chart-desc-${r}`;e.attr("aria-describedby",t);e.insert("desc",":first-child").attr("id",t).text(n)}if(t){let n=`chart-title-${r}`;e.attr("aria-labelledby",n);e.insert("title",":first-child").attr("id",n).text(t)}}Oo(Yq,"addSVGa11yTitleDescription");var Vq=(O$=class _Diagram{constructor(e,t,n,r,a){this.type=e;this.text=t;this.db=n;this.parser=r;this.renderer=a}static async fromText(e,t={}){var n,r;const a=Ls();const i=Vo(e,a);e=MR(e)+"\n";try{Ul(i)}catch{const e=Qo(i);if(!e){throw new Go(`Diagram ${i} not found.`)}const{id:t,diagram:n}=await e();$l(t,n)}const{db:o,parser:s,renderer:l,init:d}=Ul(i);if(s.parser){s.parser.yy=o}(n=o.clear)===null||n===void 0?void 0:n.call(o);d===null||d===void 0?void 0:d(a);if(t.title){(r=o.setDiagramTitle)===null||r===void 0?void 0:r.call(o,t.title)}await s.parse(e);return new O$(i,e,o,s,l)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},(()=>{Oo(O$,"Diagram")})(),O$);var Xq=[];var Kq=Oo(()=>{Xq.forEach(e=>{e()});Xq=[]},"attachFunctions");var Qq=Oo(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function Zq(e){var t;const n=e.match($o);if(!n){return{text:e,metadata:{}}}let r=(t=Eu(n[1],{schema:Od}))!==null&&t!==void 0?t:{};r=typeof r==="object"&&!Array.isArray(r)?r:{};const a={};r.displayMode&&(a.displayMode=r.displayMode.toString());r.title&&(a.title=r.title.toString());r.config&&(a.config=r.config);return{text:e.slice(n[0].length),metadata:a}}Oo(Zq,"extractFrontMatter");var Jq=Oo(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,n)=>"<"+t+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText");var eG=Oo(e=>{const{text:t,metadata:n}=Zq(e);const{displayMode:r,title:a,config:i={}}=n;if(r){i.gantt||(i.gantt={});i.gantt.displayMode=r}return{title:a,config:i,text:t}},"processFrontmatter");var tG=Oo(e=>{var t;const n=(t=LR.detectInit(e))!==null&&t!==void 0?t:{};const r=LR.detectDirective(e,"wrap");if(Array.isArray(r)){n.wrap=r.some(({type:e})=>e==="wrap")}else(r===null||r===void 0?void 0:r.type)==="wrap"&&(n.wrap=!0);return{text:JI(e),directive:n}},"processDirectives");function nG(e){const t=Jq(e);const n=eG(t);const r=tG(n.text);const a=PR(n.config,r.directive);e=Qq(r.text);return{code:e,title:n.title,config:a}}Oo(nG,"preprocessDiagram");function rG(e){const t=(new TextEncoder).encode(e);const n=Array.from(t,e=>String.fromCodePoint(e)).join("");return btoa(n)}Oo(rG,"toBase64");var aG=5e4;var iG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";var oG="sandbox";var sG="loose";var lG="http://www.w3.org/2000/svg";var dG="http://www.w3.org/1999/xlink";var cG="http://www.w3.org/1999/xhtml";var hG="100%";var uG="100%";var pG="border:0;margin:0;";var _G="margin:0";var fG="allow-top-navigation-by-user-activation allow-popups";var mG='The "iframe" tag is not supported by your browser.';var gG=["foreignobject"];var yG=["dominant-baseline"];function xG(e){var t;const n=nG(e);Is();Ds((t=n.config)!==null&&t!==void 0?t:{});return n}Oo(xG,"processAndSetConfigs");async function bG(e,t){$q();try{let{code:n,config:r}=xG(e),a=await LG(n);return{diagramType:a.type,config:r}}catch(e){if(t===null||t===void 0?void 0:t.suppressErrors){return!1}throw e}}Oo(bG,"parse");var vG=Oo((e,t,n=[])=>`\n.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles");var kG=Oo((e,t=new Map)=>{var n,r;let a="";e.themeCSS!==void 0&&(a+=`\n${e.themeCSS}`);e.fontFamily!==void 0&&(a+=`\n:root { --mermaid-font-family: ${e.fontFamily}}`);e.altFontFamily!==void 0&&(a+=`\n:root { --mermaid-alt-font-family: ${e.altFontFamily}}`);if(t instanceof Map){let i=(n=e.htmlLabels)!==null&&n!==void 0?n:(r=e.flowchart)===null||r===void 0?void 0:r.htmlLabels,o=["> *","span"],s=["rect","polygon","ellipse","circle","path"],l=i?o:s;t.forEach(e=>{Bz(e.styles)||l.forEach(t=>{a+=vG(e.id,t,e.styles)});Bz(e.textStyles)||(a+=vG(e.id,"tspan",((e===null||e===void 0?void 0:e.textStyles)||[]).map(e=>e.replace("color","fill"))))})}return a},"createCssStyles");var wG=Oo((e,t,n,r)=>{const a=kG(e,n);const i=yl(t,a,e.themeVariables);return R$(P$(`${r}{${i}}`),B$)},"createUserStyles");var SG=Oo((e="",t,n)=>{let r=e;!n&&!t&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#'));r=DR(r);r=r.replace(/<br>/g,"<br/>");return r},"cleanUpSvgCode");var CG=Oo((e="",t)=>{var n,r;const a=((r=(n=t===null||t===void 0?void 0:t.viewBox)===null||n===void 0?void 0:n.baseVal)===null||r===void 0?void 0:r.height)?t.viewBox.baseVal.height+"px":uG;const i=rG(`<body style="${_G}">${e}</body>`);return`<iframe style="width:${hG};height:${a};${pG}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${fG}">\n  ${mG}\n</iframe>`},"putIntoIFrame");var TG=Oo((e,t,n,r,a)=>{const i=e.append("div");i.attr("id",n);r&&i.attr("style",r);const o=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",lG);a&&o.attr("xmlns:xlink",a);o.append("g");return e},"appendDivSvgG");function EG(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}Oo(EG,"sandboxedIframe");var AG=Oo((e,t,n,r)=>{var a,i,o;(a=e.getElementById(t))===null||a===void 0?void 0:a.remove();(i=e.getElementById(n))===null||i===void 0?void 0:i.remove();(o=e.getElementById(r))===null||o===void 0?void 0:o.remove()},"removeExistingElements");var NG=Oo(async function(e,t,n){var r,a,i,o,s,l,d;$q();const c=xG(t);t=c.code;const h=Ls();Ho.debug(h);t.length>((r=h===null||h===void 0?void 0:h.maxTextSize)!==null&&r!==void 0?r:aG)&&(t=iG);const u="#"+e;const p="i"+e;const _="#"+p;const f="d"+e;const m="#"+f;const g=Oo(()=>{const e=x?_:m;const t=Qf(e).node();t&&"remove"in t&&t.remove()},"removeTempElements");let y=Qf("body");const x=h.securityLevel===oG;const b=h.securityLevel===sG;const v=h.fontFamily;if(n!==void 0){n&&(n.innerHTML="");if(x){let e=EG(Qf(n),p);y=Qf(e.nodes()[0].contentDocument.body);y.node().style.margin=0}else{y=Qf(n)}TG(y,e,f,`font-family: ${v}`,dG)}else{AG(document,e,f,p);if(x){let e=EG(Qf("body"),p);y=Qf(e.nodes()[0].contentDocument.body);y.node().style.margin=0}else{y=Qf("body")}TG(y,e,f)}let k;let w;try{k=await Vq.fromText(t,{title:c.title})}catch(e){if(h.suppressErrorRendering){g();throw e}k=await Vq.fromText("error");w=e}const S=y.select(m).node();const C=k.type;const T=S.firstChild;const E=T.firstChild;const A=(i=(a=k.renderer).getClasses)===null||i===void 0?void 0:i.call(a,t,k);const N=wG(h,C,A,u);const P=document.createElement("style");P.innerHTML=N;T.insertBefore(P,E);try{await k.renderer.draw(t,e,$z.version,k)}catch(n){if(h.suppressErrorRendering){g()}else{eq.draw(t,e,$z.version)}throw n}const L=y.select(`${m} svg`);const M=(s=(o=k.db).getAccTitle)===null||s===void 0?void 0:s.call(o);const D=(d=(l=k.db).getAccDescription)===null||d===void 0?void 0:d.call(l);MG(C,L,M,D);y.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",cG);let I=y.select(m).node().innerHTML;Ho.debug("config.arrowMarkerAbsolute",h.arrowMarkerAbsolute);I=SG(I,x,Zs(h.arrowMarkerAbsolute));if(x){let e=y.select(m+" svg").node();I=CG(I,e)}else b||(I=Ao.sanitize(I,{ADD_TAGS:gG,ADD_ATTR:yG,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));Kq();if(w){throw w}g();return{diagramType:C,svg:I,bindFunctions:k.db.bindFunctions}},"render");function PG(e={}){var t;const n=Zo({},e);if((n===null||n===void 0?void 0:n.fontFamily)&&!((t=n.themeVariables)===null||t===void 0?void 0:t.fontFamily)){n.themeVariables||(n.themeVariables={});n.themeVariables.fontFamily=n.fontFamily}Ts(n);if((n===null||n===void 0?void 0:n.theme)&&n.theme in us){n.themeVariables=us[n.theme].getThemeVariables(n.themeVariables)}else n&&(n.themeVariables=us.default.getThemeVariables(n.themeVariables));const r=typeof n==="object"?Cs(n):As();Wo(r.logLevel);$q()}Oo(PG,"initialize");var LG=Oo((e,t={})=>{const{code:n}=nG(e);return Vq.fromText(n,t)},"getDiagramFromText");function MG(e,t,n,r){Gq(t,e);Yq(t,n,r,t.attr("id"))}Oo(MG,"addA11yInfo");var DG=Object.freeze({render:NG,parse:bG,getDiagramFromText:LG,initialize:PG,getConfig:Ls,setConfig:Ns,getSiteConfig:As,updateSiteConfig:Es,reset:Oo(()=>{Is()},"reset"),globalReset:Oo(()=>{Is(xs)},"globalReset"),defaultConfig:xs});Wo(Ls().logLevel);Is(Ls());var IG=Oo((e,t,n)=>{Ho.warn(e);if(TR(e)){n&&n(e.str,e.hash);t.push({...e,message:e.str,error:e})}else{n&&n(e);e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e})}},"handleError");var RG=Oo(async function(e={querySelector:".mermaid"}){try{await BG(e)}catch(t){if(TR(t)){Ho.error(t.str)}if(VG.parseError){VG.parseError(t)}if(!e.suppressErrors){Ho.error("Use the suppressErrors option to suppress these errors");throw t}}},"run");var BG=Oo(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const r=DG.getConfig();Ho.debug(`${!e?"No ":""}Callback function found`);let a;if(n){a=n}else if(t){a=document.querySelectorAll(t)}else{throw new Error("Nodes and querySelector are both undefined")}Ho.debug(`Found ${a.length} diagrams`);if((r===null||r===void 0?void 0:r.startOnLoad)!==void 0){Ho.debug("Start On Load: "+(r===null||r===void 0?void 0:r.startOnLoad));DG.updateSiteConfig({startOnLoad:r===null||r===void 0?void 0:r.startOnLoad})}const i=new LR.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const s=[];for(const t of Array.from(a)){Ho.info("Rendering diagram: "+t.id);if(t.getAttribute("data-processed")){continue}t.setAttribute("data-processed","true");let n=`mermaid-${i.next()}`;o=t.innerHTML;o=ZO(LR.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");let r=LR.detectInit(o);r&&Ho.debug("Detected early reinit: ",r);try{let{svg:r,bindFunctions:a}=await GG(n,o,t);t.innerHTML=r;e&&await e(n);a&&a(t)}catch(e){IG(e,s,VG.parseError)}}if(s.length>0){throw s[0]}},"runThrowsErrors");var OG=Oo(function(e){DG.initialize(e)},"initialize");var FG=Oo(async function(e,t,n){Ho.warn("mermaid.init is deprecated. Please use run instead.");e&&OG(e);const r={postRenderCallback:n,querySelector:".mermaid"};if(typeof t==="string"){r.querySelector=t}else if(t){if(t instanceof HTMLElement){r.nodes=[t]}else{r.nodes=t}}await RG(r)},"init");var jG=Oo(async(e,{lazyLoad:t=!0}={})=>{$q();Xo(...e);t===!1&&await Uq()},"registerExternalDiagrams");var HG=Oo(function(){if(VG.startOnLoad){let{startOnLoad:e}=DG.getConfig();e&&VG.run().catch(e=>Ho.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document!=="undefined"&&window.addEventListener("load",HG,!1);var WG=Oo(function(e){VG.parseError=e},"setParseErrorHandler");var zG=[];var $G=!1;var UG=Oo(async()=>{if($G){return}$G=!0;while(zG.length>0){let e=zG.shift();if(e){try{await e()}catch(e){Ho.error("Error executing queue",e)}}}$G=!1},"executeQueue");var qG=Oo(async(e,t)=>new Promise((n,r)=>{const a=Oo(()=>new Promise((a,i)=>{DG.parse(e,t).then(e=>{a(e);n(e)},e=>{var t;Ho.error("Error parsing",e);(t=VG.parseError)===null||t===void 0?void 0:t.call(VG,e);i(e);r(e)})}),"performCall");zG.push(a);UG().catch(r)}),"parse");var GG=Oo((e,t,n)=>new Promise((r,a)=>{const i=Oo(()=>new Promise((i,o)=>{DG.render(e,t,n).then(e=>{i(e);r(e)},e=>{var t;Ho.error("Error parsing",e);(t=VG.parseError)===null||t===void 0?void 0:t.call(VG,e);o(e);a(e)})}),"performCall");zG.push(i);UG().catch(a)}),"render");var YG=Oo(()=>Object.keys(Yo).map(e=>({id:e})),"getRegisteredDiagramsMetadata");var VG={startOnLoad:!0,mermaidAPI:DG,parse:qG,render:GG,init:FG,run:RG,registerExternalDiagrams:jG,registerLayoutLoaders:jz,initialize:OG,parseError:void 0,contentLoaded:HG,setParseErrorHandler:WG,detectType:Vo,registerIconPacks:nF,getRegisteredDiagramsMetadata:YG};var XG=VG;const KG={startOnLoad:!0,securityLevel:"strict",theme:"default",logLevel:5,darkMode:!1,suppressErrorRendering:!0};const QG=new Set;let ZG=0;function JG(){ZG++;QG.forEach(e=>e(e()+1))}function eY(e){if(KG.theme!==e){KG.theme=e;JG()}}const tY=new Map;let nY=0;function rY(t){let n=tY.get(t);if(n){if(n.ci===ZG){n.frame=Zt();return n.result}}else{let r=Zt();n={ci:0,id:0,result:e,frame:r};tY.set(t,n);for(const[e,t]of tY){r-2>t.frame&&tY.delete(e)}}n.frame=Zt();n.ci=ZG;n.id=nY++;n.result=(async()=>{XG.initialize(KG);const e=await XG.render(`mermaid-${n.id}-svg`,t);return e})();return n.result}function aY(e){const t=on(rY(e.children));const n=tY.get(e.children);_r(()=>{var e,r;n.frame=Zt();(e=t.bindFunctions)===null||e===void 0?void 0:e.call(t,Ee((r=re())===null||r===void 0?void 0:r.me))});const r=ir(0);QG.add(r);cr(()=>{QG.delete(r)});return Wn("div",{key:"$mermaid#"+n.id,style:e.style},{tag:"/",children:t.svg})}const iY=["default","base","dark","forest","neutral","null"];Bt(()=>{const e=ir(0);eY(iY[e()]);return Wn($n,null,Wn("h1",null,"Demo page for ",Wn("a",{href:"https://github.com/bobril/mermaid"},"@bobril/mermaid")),Wn("div",null,"Theme:",iY.map((t,n)=>Wn("button",{key:t,onClick:()=>e(n),disabled:e()===n},t))),Wn(sn,{fallback:e=>Wn("div",null,"Error occurred ",e.message)},Wn(an,{fallback:Wn("div",null,"Rendering...")},Wn(aY,null,`--- graph TD;\n                        A--\x3eB;\n                        A--\x3eC;\n                        B--\x3eD;\n                        C--\x3eD;\n                    `))))});__bbb.W=fD;__bbb.X=zL;__bbb.Y=PL;__bbb.Z=kD;__bbb.$=$L;__bbb._=hz;__bbb.aa=MI;__bbb.ba=dD;__bbb.ca=NL;__bbb.da=sD;__bbb.ea=WI;__bbb.ga=zI;__bbb.ha=bI;__bbb.ia=DI;__bbb.ja=CD;__bbb.ka=wI;__bbb.la=fz;__bbb.ma=qI;__bbb.na=pD;__bbb.oa=mI;__bbb.qa=fI;__bbb.ra=AI;__bbb.sa=UM;__bbb.ta=vD;__bbb.va=RI;__bbb.wa=RD;__bbb.xa=$I;__bbb.ya=JM;__bbb.za=UI;__bbb.Aa=hD;__bbb.Ba=iD;__bbb.Ca=oD;__bbb.Da=Lz;__bbb.Ea=dI;__bbb.Fa=lI;__bbb.Ga=AD;__bbb.Ha=rD;__bbb.Ia=_D;__bbb.Ja=QM;__bbb.La=zM;__bbb.Ma=aD;__bbb.Na=CM;__bbb.Pa=hI;__bbb.Qa=SD;__bbb.Ra=nD;__bbb.Ta=LI;__bbb.Ua=TD;__bbb.Va=tD;__bbb.Xa=VL;__bbb.Ya=BI;__bbb.Za=XL;__bbb.$a=ED;__bbb._a=lM;__bbb.bb=gI;__bbb.cb=yz;__bbb.eb=Bz;__bbb.hb=NI;__bbb.ib=GI;__bbb.Lb=Oo;__bbb.Mb=Ho;__bbb.Nb=vj;__bbb.Ob=AW;__bbb.Pb=EW;__bbb.Qb=FW;__bbb.Sb=Mu;__bbb.Tb=PW;__bbb.Ub=Fj;__bbb.Vb=YW;__bbb.Wb=HW;__bbb.Xb=VW;__bbb.Yb=NW;__bbb.Zb=BW;__bbb.$b=jj;__bbb._b=jl;__bbb.ac=js;__bbb.bc=Zu;__bbb.cc=qs;__bbb.dc=Al;__bbb.ec=Pl;__bbb.fc=Il;__bbb.gc=Ml;__bbb.jc=ul;__bbb.kc=Zo;__bbb.lc=yR;__bbb.mc=bR;__bbb.nc=vR;__bbb.oc=Qf;__bbb.pc=fl;__bbb.qc=Bl;__bbb.rc=Fl;__bbb.sc=Eu;__bbb.tc=Od;__bbb.uc=CW;__bbb.vc=IR;__bbb.wc=LR;__bbb.xc=Tl;__bbb.yc=xs;__bbb.Ac=zz;__bbb.Bc=Wz;__bbb.Dc=uo;__bbb.Ec=ho;__bbb.Gc=Ns;__bbb.Hc=Fo;__bbb.ad=PR;__bbb.bd=_s;__bbb.cd=Ls;__bbb.ed=fR;__bbb.hd=ml;__bbb.id=Ki;__bbb.jd=mE;__bbb.kd=gE;__bbb.ld=yE;__bbb.md=xE;__bbb.nd=bE;__bbb.od=vE;__bbb.pd=fE;__bbb.qd=gN;__bbb.rd=Cp;__bbb.sd=Sp;__bbb.td=YT;__bbb.ud=iy;__bbb.vd=Up;__bbb.wd=lN;__bbb.xd=ZT;__bbb.yd=oE;__bbb.zd=sE;__bbb.Ad=dE;__bbb.Bd=hE;__bbb.Cd=PE;__bbb.Dd=$p;__bbb.Ed=$z;__bbb.Fd=Uz;__bbb.Gd=EP;__bbb.Hd=NR;__bbb.Id=gP;__bbb.Jd=MT;__bbb.Kd=ss;__bbb.Ld=yF;__bbb.Md=DT;__bbb.Nd=SP;__bbb.Od=hl;__bbb.Pd=VI;__bbb.Sd=sl;__bbb.Vd=ll;__bbb.Wd=Qs;__bbb.Xd=tl;__bbb.ae=pR;__bbb.ce=jP;__bbb.he=bl;__bbb.ie=ml;__bbb.je=fo;__bbb.ke=go;__bbb.le=yo;__bbb.ne=kF;__bbb.pe=Pp;__bbb.qe=RP;__bbb.re=xN;__bbb.se=Zs;__bbb.te=vF;__bbb.ue=DR;__bbb.ve=Lu;__bbb.we=hR;__bbb.xe=JO;__bbb.ye=iF;__bbb.ze=nF;__bbb.Ae=Bu;__bbb.Be=lk;__bbb.Ce=iT;__bbb.De=kT;__bbb.Ee=Ou}).call(this)